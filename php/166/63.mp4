(window.webpackJsonp=window.webpackJsonp||[]).push([["CommentsPage","PostDraft~RichTextEditor~StructuredStyles","PostDraft~ProfileSnoobuilder"],{"./node_modules/autosize/dist/autosize.js":function(e,t,s){var n,o,r;o=[t,e],void 0===(r="function"==typeof(n=function(e,t){"use strict";var s,n,o="function"==typeof Map?new Map:(s=[],n=[],{has:function(e){return s.indexOf(e)>-1},get:function(e){return n[s.indexOf(e)]},set:function(e,t){-1===s.indexOf(e)&&(s.push(e),n.push(t))},delete:function(e){var t=s.indexOf(e);t>-1&&(s.splice(t,1),n.splice(t,1))}}),r=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(l){r=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function a(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!o.has(e)){var t,s=null,n=e.clientWidth,a=null,i=function(){e.clientWidth!==n&&m()},c=function(t){window.removeEventListener("resize",i,!1),e.removeEventListener("input",m,!1),e.removeEventListener("keyup",m,!1),e.removeEventListener("autosize:destroy",c,!1),e.removeEventListener("autosize:update",m,!1),Object.keys(t).forEach((function(s){e.style[s]=t[s]})),o.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",c,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",m,!1),window.addEventListener("resize",i,!1),e.addEventListener("input",m,!1),e.addEventListener("autosize:update",m,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",o.set(e,{destroy:c,update:m}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),s="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(s)&&(s=0),m()}function d(t){var s=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=s,e.style.overflowY=t}function l(){var t=e.style.height,o=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),r=document.documentElement&&document.documentElement.scrollTop;e.style.height="auto";var a=e.scrollHeight+s;0!==e.scrollHeight?(e.style.height=a+"px",n=e.clientWidth,o.forEach((function(e){e.node.scrollTop=e.scrollTop})),r&&(document.documentElement.scrollTop=r)):e.style.height=t}function m(){l();var t=Math.round(parseFloat(e.style.height)),s=window.getComputedStyle(e,null),n="content-box"===s.boxSizing?Math.round(parseFloat(s.height)):e.offsetHeight;if(n!==t?"hidden"===s.overflowY&&(d("scroll"),l(),n="content-box"===s.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==s.overflowY&&(d("hidden"),l(),n="content-box"===s.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),a!==n){a=n;var o=r("autosize:resized");try{e.dispatchEvent(o)}catch(i){}}}}function i(e){var t=o.get(e);t&&t.destroy()}function c(e){var t=o.get(e);t&&t.update()}var d=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((d=function(e){return e}).destroy=function(e){return e},d.update=function(e){return e}):((d=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return a(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e},d.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],c),e}),t.exports=d})?n.apply(t,o):n)||(e.exports=r)},"./node_modules/computed-style/dist/computedStyle.commonjs.js":function(e,t){e.exports=function(e,t,s){return((s=window.getComputedStyle)?s(e):e.currentStyle)[t.replace(/-(\w)/gi,(function(e,t){return t.toUpperCase()}))]}},"./node_modules/line-height/lib/line-height.js":function(e,t,s){var n=s("./node_modules/computed-style/dist/computedStyle.commonjs.js");e.exports=function(e){var t=n(e,"line-height"),s=parseFloat(t,10);if(t===s+""){var o=e.style.lineHeight;e.style.lineHeight=t+"em",t=n(e,"line-height"),s=parseFloat(t,10),o?e.style.lineHeight=o:delete e.style.lineHeight}if(-1!==t.indexOf("pt")?(s*=4,s/=3):-1!==t.indexOf("mm")?(s*=96,s/=25.4):-1!==t.indexOf("cm")?(s*=96,s/=2.54):-1!==t.indexOf("in")?s*=96:-1!==t.indexOf("pc")&&(s*=16),s=Math.round(s),"normal"===t){var r=e.nodeName,a=document.createElement(r);a.innerHTML="&nbsp;","TEXTAREA"===r.toUpperCase()&&a.setAttribute("rows","1");var i=n(e,"font-size");a.style.fontSize=i,a.style.padding="0px",a.style.border="0px";var c=document.body;c.appendChild(a),s=a.offsetHeight,c.removeChild(a)}return s}},"./node_modules/lodash/_baseDelay.js":function(e,t){var s="Expected a function";e.exports=function(e,t,n){if("function"!=typeof e)throw new TypeError(s);return setTimeout((function(){e.apply(void 0,n)}),t)}},"./node_modules/lodash/compact.js":function(e,t){e.exports=function(e){for(var t=-1,s=null==e?0:e.length,n=0,o=[];++t<s;){var r=e[t];r&&(o[n++]=r)}return o}},"./node_modules/lodash/defer.js":function(e,t,s){var n=s("./node_modules/lodash/_baseDelay.js"),o=s("./node_modules/lodash/_baseRest.js")((function(e,t){return n(e,1,t)}));e.exports=o},"./node_modules/lodash/random.js":function(e,t,s){var n=s("./node_modules/lodash/_baseRandom.js"),o=s("./node_modules/lodash/_isIterateeCall.js"),r=s("./node_modules/lodash/toFinite.js"),a=parseFloat,i=Math.min,c=Math.random;e.exports=function(e,t,s){if(s&&"boolean"!=typeof s&&o(e,t,s)&&(t=s=void 0),void 0===s&&("boolean"==typeof t?(s=t,t=void 0):"boolean"==typeof e&&(s=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=r(e),void 0===t?(t=e,e=0):t=r(t)),e>t){var d=e;e=t,t=d}if(s||e%1||t%1){var l=c();return i(e+l*(t-e+a("1e-"+((l+"").length-1))),t)}return n(e,t)}},"./node_modules/lodash/times.js":function(e,t,s){var n=s("./node_modules/lodash/_baseTimes.js"),o=s("./node_modules/lodash/_castFunction.js"),r=s("./node_modules/lodash/toInteger.js"),a=9007199254740991,i=4294967295,c=Math.min;e.exports=function(e,t){if((e=r(e))<1||e>a)return[];var s=i,d=c(e,i);t=o(t),e-=i;for(var l=n(d,t);++s<e;)t(s);return l}},"./node_modules/lodash/uniqueId.js":function(e,t,s){var n=s("./node_modules/lodash/toString.js"),o=0;e.exports=function(e){var t=++o;return n(e)+t}},"./node_modules/react-autosize-textarea/lib/TextareaAutosize.js":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},a=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}(),i=m(s("./node_modules/react/index.js")),c=m(s("./node_modules/react-autosize-textarea/node_modules/prop-types/index.js")),d=m(s("./node_modules/autosize/dist/autosize.js")),l=m(s("./node_modules/line-height/lib/line-height.js"));function m(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var s={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n]);return s}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=(o=n=function(e){function t(){var e,s,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return s=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.state={lineHeight:null},n.dispatchEvent=function(e){var t=document.createEvent("Event");t.initEvent(e,!0,!1),n.textarea.dispatchEvent(t)},n.getValue=function(e){var t=e.valueLink,s=e.value;return t?t.value:s},n.updateLineHeight=function(){n.setState({lineHeight:(0,l.default)(n.textarea)})},n.onChange=function(e){n.currentValue=e.target.value,n.props.onChange&&n.props.onChange(e)},n.saveDOMNodeRef=function(e){var t=n.props.innerRef;t&&t(e),n.textarea=e},n.getLocals=function(){var e=n,t=e.props,s=(t.onResize,t.maxRows),o=(t.onChange,t.style),a=(t.innerRef,p(t,["onResize","maxRows","onChange","style","innerRef"])),i=e.state.lineHeight,c=e.saveDOMNodeRef,d=s&&i?i*s:null;return r({},a,{saveDOMNodeRef:c,style:d?r({},o,{maxHeight:d}):o,onChange:n.onChange})},u(n,s)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,s=t.onResize;"number"==typeof t.maxRows?(this.updateLineHeight(),setTimeout((function(){return(0,d.default)(e.textarea)}))):(0,d.default)(this.textarea),s&&this.textarea.addEventListener("autosize:resized",this.props.onResize)}},{key:"componentWillUnmount",value:function(){this.props.onResize&&this.textarea.removeEventListener("autosize:resized",this.props.onResize),this.dispatchEvent("autosize:destroy")}},{key:"render",value:function(){var e=this.getLocals(),t=e.children,s=e.saveDOMNodeRef,n=p(e,["children","saveDOMNodeRef"]);return i.default.createElement("textarea",r({},n,{ref:s}),t)}},{key:"componentDidUpdate",value:function(){this.getValue(this.props)!==this.currentValue&&this.dispatchEvent("autosize:update")}}]),t}(i.default.Component),n.defaultProps={rows:1},o);t.default=h,h.propTypes={rows:c.default.number,maxRows:c.default.number,onResize:c.default.func,innerRef:c.default.func}},"./node_modules/react-autosize-textarea/lib/index.js":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=s("./node_modules/react-autosize-textarea/lib/TextareaAutosize.js"),r=(n=o)&&n.__esModule?n:{default:n};t.default=r.default},"./node_modules/react-autosize-textarea/node_modules/prop-types/factoryWithThrowingShims.js":function(e,t,s){"use strict";var n=s("./node_modules/react-autosize-textarea/node_modules/prop-types/lib/ReactPropTypesSecret.js");function o(){}e.exports=function(){function e(e,t,s,o,r,a){if(a!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var s={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return s.checkPropTypes=o,s.PropTypes=s,s}},"./node_modules/react-autosize-textarea/node_modules/prop-types/index.js":function(e,t,s){e.exports=s("./node_modules/react-autosize-textarea/node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/react-autosize-textarea/node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e,t,s){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./src/lib/humanizeDate/index.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var n=s("./src/reddit/i18n/utils.ts");const o=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=(e,t)=>t?e.getUTCDate():e.getDate(),i=(e,t,s)=>{const a=t?e.getUTCMonth():e.getMonth(),i=s?r:o;return Object(n.c)(i[a])},c=(e,t)=>t?e.getUTCFullYear():e.getFullYear();function d(e,t,s,n){const o=new Date(1e3*e),r=i(o,s,n),d=t?a(o,s)+", ":"";return"".concat(r," ").concat(d).concat(c(o,s))}},"./src/lib/humanizeDateTime/index.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));s("./node_modules/core-js/modules/es6.regexp.to-string.js");const n=9999999999;function o(e){return e>n?new Date(e).toString():new Date(1e3*e).toString()}},"./src/lib/humanizeUTCDate/index.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es6.regexp.replace.js");t.a=e=>{return new Date(1e3*e).toUTCString().replace("GMT","UTC")}},"./src/lib/setInterval/index.ts":function(e,t,s){"use strict";t.a=function(e,t){for(var s=arguments.length,n=new Array(s>2?s-2:0),o=2;o<s;o++)n[o-2]=arguments[o];let r,a=!1;const i=async()=>{n&&n.length?await e.call(window,...n):await e.call(window),a||(r=window.setTimeout(i,t))};return r=window.setTimeout(i,t),()=>{a=!0,window.clearTimeout(r)}}},"./src/reddit/actions/bulkActions/index.ts":function(e,t,s){"use strict";s.d(t,"c",(function(){return r})),s.d(t,"b",(function(){return a})),s.d(t,"a",(function(){return i}));var n=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/reddit/actions/bulkActions/constants.ts");const r=Object(n.a)(o.c),a=Object(n.a)(o.b),i=Object(n.a)(o.a)},"./src/reddit/actions/governance/index.ts":function(e,t,s){"use strict";var n=s("./src/app/strings/index.ts"),o=s("./src/lib/makeActionCreator/index.ts"),r=s("./src/lib/prettyPrintNumber/index.ts"),a=s("./src/reddit/actions/modal.ts"),i=s("./src/reddit/actions/post.ts"),c=s("./src/reddit/actions/toaster.ts"),d=s("./src/config.ts"),l=s("./src/reddit/endpoints/governance/requester.ts");var m=s("./src/reddit/endpoints/governance/poll.ts");var p=s("./src/reddit/endpoints/governance/wallet.ts"),u=s("./src/reddit/models/Poll/index.ts"),h=s("./src/reddit/models/Toast/index.ts"),b=s("./src/reddit/models/Vote/index.ts"),g=s("./src/reddit/selectors/gov.ts"),x=s("./src/reddit/actions/governance/constants.ts"),C=s("./src/reddit/actions/governance/errorToast.ts");s.d(t,"a",(function(){return v})),s.d(t,"b",(function(){return O})),s.d(t,"d",(function(){return f})),s.d(t,"e",(function(){return y})),s.d(t,"h",(function(){return T})),s.d(t,"i",(function(){return M})),s.d(t,"f",(function(){return R})),s.d(t,"g",(function(){return B})),s.d(t,"j",(function(){return A})),s.d(t,"c",(function(){return F}));const v=Object(o.a)(x.b),O=Object(o.a)(x.c),E=Object(o.a)(x.d),f=Object(o.a)(x.e),y=(Object(o.a)(x.f),Object(o.a)(x.g),Object(o.a)(x.h)),j=Object(o.a)(x.i),w=Object(o.a)(x.j),I=Object(o.a)(x.k),P=Object(o.a)(x.q),T=Object(o.a)(x.r),k=Object(o.a)(x.s),S=Object(o.a)(x.t),_=Object(o.a)(x.u),N=Object(o.a)(x.v),L=Object(o.a)(x.w),M=Object(o.a)(x.x),R=(e,t)=>async(s,n,o)=>{let{apiContext:r}=o;const a=n().polls.models[e];s(w({pollId:e}));const c=await Object(m.b)(r(),a.subredditId,e,t);if(c.ok){s(I(c.body));const t=n(),o=t.polls.models[e];if(o&&Object(u.d)(o)){const{postId:e}=o,n=t.posts.models[e];n&&n.voteState===b.a.notVoted&&s(Object(i.N)(e))}}else s(j({pollId:e,error:c.error})),Object(C.a)(s,c.error)},B=(e,t)=>async(s,o,i)=>{let{apiContext:m}=i;s(k());const p=o().transfers.communityPoints.contentId||void 0,u=await function(e,t){return Object(l.a)(e,{data:{amount:t.amount,contentId:t.contentId,description:t.message,receiveUserName:t.recipient},endpoint:"".concat(d.a.metaUrl,"/wallets/me/").concat(t.subredditId,"/transfers"),method:"post"})}(m(),Object.assign({},e,{contentId:p}));if(u.ok){const i=o().user.language;s(S(Object.assign({},u.body,{subredditId:e.subredditId}))),s(Object(c.e)({kind:h.b.SuccessCommunity,text:Object(n.a)(i,"gov.transferSuccess",{amount:Object(r.a)(e.amount),recipient:e.recipient,tokenName:Object(g.o)(o(),{subredditId:e.subredditId})})})),t&&s(Object(a.f)())}else s(P({error:u.error})),Object(C.a)(s,u.error)},A=e=>async(t,s,n)=>{let{apiContext:o}=n;t(N());const r=await Object(p.a)(o(),e);r.ok?t(L(r.body)):t(_({error:r.error}))},F=(e,t)=>async(s,o,r)=>{let{apiContext:a}=r;s(E());const i=await function(e,t,s){return Object(l.a)(e,{data:{optOut:t},method:"patch",endpoint:"".concat(d.a.metaUrl,"/wallets/").concat(s,"/me")})}(a(),e,t);if(i.ok){s(L({[t]:i.body}));const r=e?"polls.optOutSuccess":"polls.optInSuccess";s(Object(c.e)({kind:h.b.SuccessCommunity,text:Object(n.a)(o().user.language,r,{tokenName:Object(g.o)(o(),{subredditId:t})})}))}else Object(C.a)(s,i.error)}},"./src/reddit/actions/removalReasons/index.ts":function(e,t,s){"use strict";var n=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/lib/constants/index.ts"),r=s("./src/lib/makeCommentsPageKey/index.ts"),a=s("./src/lib/makeDraftKey/index.ts"),i=s("./src/reddit/helpers/isPost.ts"),c=s("./src/reddit/helpers/routeKey/index.ts"),d=s("./src/reddit/models/PostDraft/index.ts"),l=s("./src/reddit/actions/bulkActions/index.ts"),m=s("./src/reddit/actions/comment/index.ts"),p=s("./src/reddit/actions/modal.ts"),u=s("./src/reddit/actions/post.ts"),h=s("./src/reddit/actions/toaster.ts"),b=s("./src/reddit/constants/modals.ts"),g=s("./src/lib/makeApiRequest/index.ts"),x=s("./src/lib/omitHeaders/index.ts"),C=s("./src/reddit/constants/headers.ts"),v=s("./src/reddit/models/RichTextJson/addRTJParam.ts");const O=(e,t)=>Object(g.b)(Object(x.a)(e,[C.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/modactions/removal_reasons/"),method:o.bb.POST,type:"json",data:{item_ids:t.itemIds,reason_id:t.reasonId,mod_note:t.modNote}}),E=(e,t,s)=>Object(g.b)(Object(x.a)(e,[C.a]),{endpoint:Object(v.a)("".concat(e.apiUrl,"/api/v1/modactions/removal_").concat(s,"_message/")),method:o.bb.POST,type:"json",data:t});var f=s("./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts"),y=s("./src/reddit/i18n/utils.ts"),j=s("./src/reddit/models/ModQueue/index.ts"),w=s("./src/reddit/models/RemovalReason/index.ts"),I=s("./src/reddit/models/Toast/index.ts"),P=s("./src/reddit/selectors/comments.ts"),T=s("./src/reddit/selectors/platform.ts"),k=s("./src/reddit/actions/removalReasons/constants.ts");s.d(t,"e",(function(){return L})),s.d(t,"a",(function(){return A})),s.d(t,"c",(function(){return H})),s.d(t,"b",(function(){return G})),s.d(t,"d",(function(){return J})),s.d(t,"g",(function(){return te})),s.d(t,"f",(function(){return se}));const S=Object(n.a)(k.k),_=Object(n.a)(k.l),N=Object(n.a)(k.j),L=e=>async(t,s,n)=>{let{apiContext:r}=n;const a=s().subreddits.models[e].name;t(S());const i=await((e,t)=>Object(g.b)(Object(x.a)(e,[C.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/removal_reasons.json"),method:o.bb.GET}))(r(),a);i.ok?t(_({subredditId:e,response:i.body})):t(N(i.error))},M=Object(n.a)(k.b),R=Object(n.a)(k.c),B=Object(n.a)(k.a),A=(e,t)=>async(s,n,r)=>{let{apiContext:a}=r;const i=n().subreddits.models[e].name;s(M());const c=await((e,t,s)=>Object(g.b)(Object(x.a)(e,[C.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/removal_reasons"),method:o.bb.POST,data:s}))(a(),i,t);if(c.ok){const{id:n}=c.body,o=Object.assign({},t,{id:n});s(R({subredditId:e,reason:o})),s(Object(h.e)({kind:I.b.SuccessMod,text:Object(y.c)("Removal reason added!")}))}else s(B(c.error))},F=Object(n.a)(k.h),D=Object(n.a)(k.i),W=Object(n.a)(k.g),H=(e,t)=>async(s,n,r)=>{let{apiContext:a}=r;const i=n().subreddits.models[e].name;s(F());const c=await((e,t,s)=>Object(g.b)(Object(x.a)(e,[C.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/removal_reasons/").concat(s.id),method:o.bb.PUT,data:{message:s.message,title:s.title}}))(a(),i,t);c.ok?(s(D({subredditId:e,reason:t})),s(Object(h.e)({kind:I.b.SuccessMod,text:Object(y.c)("Removal reason saved")}))):s(W(c.error))},V=Object(n.a)(k.e),U=Object(n.a)(k.f),K=Object(n.a)(k.d),G=(e,t)=>async(s,n,r)=>{let{apiContext:a}=r;const i=n().subreddits.models[e].name;s(V());const c=await((e,t,s)=>Object(g.b)(Object(x.a)(e,[C.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/removal_reasons/").concat(s),method:o.bb.DELETE}))(a(),i,t);c.ok?(s(U({subredditId:e,reasonId:t})),s(Object(h.e)({kind:I.b.SuccessMod,text:Object(y.c)("Removal reason deleted")}))):s(K(c.error))},z=Object(n.a)(k.t),J=(e,t)=>async(s,n,o)=>{let{apiContext:r}=o;const a=n();a.removalReasons.reasonOrder[e]&&a.removalReasons.reasonOrder[e].length>0||s(L(e)),s(z({subredditId:e,itemIds:t})),s(Object(p.i)(b.a.ADD_REMOVAL_REASON))},q=Object(n.a)(k.r),Y=Object(n.a)(k.s),Q=Object(n.a)(k.q),Z=Object(n.a)(k.n),X=Object(n.a)(k.o),$=Object(n.a)(k.p),ee=Object(n.a)(k.m),te=(e,t,s,n,l)=>async(p,h,b)=>{let{apiContext:g}=b;const x=h(),C=x.user.account&&x.user.account.displayText,v=e[0],y=Object(i.a)(v)?w.e.Post:w.e.Comment,j=y===w.e.Post?x.posts.models[v]:x.comments.models[v],I=y===w.e.Post?u.E:m.R;if(!j||!C)return;p(q()),p(I({[v]:{modNote:l,modRemovalReason:t&&t.title,modReasonBy:C}}));const k={itemIds:e,modNote:l,reasonId:t?t.id:null},S=await O(g(),k);if(S.ok){if(p(Y()),t){p(Z());const i={itemId:e,message:s,title:t.title,type:n},l=await E(g(),Object(w.h)(i,y),y);if(l.ok)if(n===w.f.Public){if(p($()),l.body){const e=Object(f.a)(l.body,C),t={comment:e,parentId:v},s=Object(T.g)(x),n=x.platform.currentPage&&x.platform.currentPage.routeMatch;let i=s&&n&&Object(c.a)(n,x,x.posts.models[e.postId]);if(i||(i=Object(r.a)(e.postId,null,{sort:o.r,hasSortParam:!0})),y===w.e.Post){const s=Object(a.a)(d.c.replyToPost,v);p(Object(m.mb)(Object.assign({},t,{headCommentId:Object(P.x)(x,{commentsPageKey:i}),commentsPageKey:i,draftKey:s})));const n=x.postStickiedComments.data[v];p(Object(m.ib)({id:e.id,postId:e.postId,commentsPageKey:i})),n&&n!==e.id&&p(Object(m.R)({[n]:{isStickied:!1}}))}else if(y===w.e.Comment){const e=Object(a.a)(d.c.replyToComment,j.id),s=Object(P.j)(x,{commentId:v,commentsPageKey:i});p(Object(m.kb)(Object.assign({},t,{parentCommentId:v,commentsPageKey:i,draftKey:e,depth:s+1})))}}}else p(X());else p(ee(l.error))}}else p(Q(S.error)),p(I({[v]:{modNote:j.modNote,modRemovalReason:j.modRemovalReason,modReasonBy:j.modReasonBy}}))},se=(e,t,s,n,o)=>async(r,a,i)=>{let{apiContext:c}=i;const d=a(),m=d.user.account&&d.user.account.displayText;if(!m)return;r(q());const p=Object(h.e)({kind:I.b.SuccessMod,text:Object(y.c)("Added removal reason for ".concat(Object(y.b)("number",e.length)," posts/comments"))}),u={itemIds:e,modNote:o,reasonId:t?t.id:null},b=await O(c(),u);if(b.ok){const a={ids:e,operation:j.a.RemovalReason,username:m,options:{modNote:o,removalReason:t&&t.title}};if(r(Object(l.b)(a)),t){const o={itemId:e,message:s,title:t.title,type:n},a=await E(c(),Object(w.h)(o,w.e.Bulk),w.e.Bulk);a.ok?(r(X()),r(p)):r(ee(a.error))}else r(p)}else r(Q(b.error))}},"./src/reddit/actions/subreddit/inlineEditing.ts":function(e,t,s){"use strict";s.d(t,"b",(function(){return C})),s.d(t,"a",(function(){return v}));var n=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/reddit/actions/structuredStyles/index.ts"),r=s("./src/reddit/actions/subreddit/constants.ts"),a=s("./src/reddit/actions/toaster.ts"),i=s("./src/reddit/constants/blade.ts"),c=s("./src/reddit/helpers/trackers/inlineSubredditEditing.ts"),d=s("./src/reddit/i18n/utils.ts"),l=s("./src/reddit/models/Image/index.tsx"),m=s("./src/reddit/models/Toast/index.ts"),p=s("./src/reddit/selectors/structuredStyles.ts"),u=s("./src/reddit/selectors/subreddit.ts"),h=s("./src/telemetry/index.ts");const b=Object(n.a)(r.p),g=Object(n.a)(r.q),x=Object(n.a)(r.o),C=(e,t,s)=>async(n,o,r)=>{const a=Object(u.B)(o(),{subredditName:e});if(a)return v(a,t,s)(n,o,r)},v=(e,t,s)=>async(n,r,u)=>{const C=await Object(l.e)(t);n(b());const v=r();try{await Object(o.g)("communityIcon",C,e.id)(n,r,u)}catch(E){return Object(h.a)(Object(c.c)(v,"something went wrong with the uploading the image")),n(Object(a.e)({kind:m.b.Error,text:Object(d.c)("Error uploading image, please try again later")})),void n(x())}const O=Object(p.d)(r(),{name:"communityIcon"});if(!O)return Object(h.a)(Object(c.c)(v,"image is null")),n(Object(a.e)({kind:m.b.Error,text:Object(d.c)("Error uploading image, please try again later")})),void n(x());await Object(o.k)(e.id,{communityIcon:O},i.b.idCard,s)(n,r,u),n(Object(a.e)({kind:m.b.SuccessCommunity,text:Object(d.c)("Successfully updated Community Icon!")})),n(g())}},"./src/reddit/components/AdLinkWrapper/index.m.less":function(e,t,s){e.exports={AdLinkWrapper:"LniF5nGHFXZ6i7_mQiEaT",adLinkWrapper:"LniF5nGHFXZ6i7_mQiEaT"}},"./src/reddit/components/AdLinkWrapper/index.tsx":function(e,t,s){"use strict";var n=s("./src/reddit/components/AdLinkWrapper/index.m.less"),o=s.n(n);const r=s("./src/lib/lessComponent.tsx").a.div("AdLinkWrapper",o.a);t.a=r},"./src/reddit/components/AddAwardHoverButton/index.m.less":function(e,t,s){e.exports={AddAwardHoverButton:"_1oW4MfEm5eJEVbpLz6k6y8",addAwardHoverButton:"_1oW4MfEm5eJEVbpLz6k6y8",Icon:"uknhgp8KiNzfoIB1P0bzy",icon:"uknhgp8KiNzfoIB1P0bzy"}},"./src/reddit/components/AuthorLink/index.m.less":function(e,t,s){e.exports={authorLinkStyles:"_23wugcdiaj44hdfugIAlnX",isUnstyled:"oQctV4n0yUb0uiHDdGnmE",isOp:"_1uBAPhkb8ZOA-9p_B6inAR",isAdmin:"_1-wk-QXxJ0S4snrasETuaA",isAdminEmeritus:"sKTYSQHxlRLbA-0pCpguU",isMod:"_1VChcviPF84MLFsL2xfBCP",isStrong:"_2YPMtQeUrWhVZuFXPpgmXz",isLivestreaming:"_3otDgT22VIln-JT-1XwFbr",deletedAuthorLink:"lizQBHVukyun2S2babj-l"}},"./src/reddit/components/AuthorLink/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/config.ts"),i=s("./src/reddit/controls/InternalLink/index.tsx"),c=s("./src/reddit/components/AuthorLink/index.m.less"),d=s.n(c);t.a=e=>{const t=Object(r.a)(e.className,d.a.authorLinkStyles,{[d.a.isAdmin]:e.isAdmin,[d.a.isAdminEmeritus]:e.isAdminEmeritus,[d.a.isLivestreaming]:e.isLivestreaming,[d.a.isMod]:e.isMod,[d.a.isOp]:e.isOp,[d.a.isStrong]:e.isStrong,[d.a.isUnstyled]:e.isUnstyled});return e.isExternal||e.isLivestreaming?o.a.createElement("a",{className:t,href:"".concat(a.a.redditUrl,"/user/").concat(e.author),rel:"nofollow",target:"_blank"},e.children):e.isAuthorDeleted?o.a.createElement("span",{className:Object(r.a)(d.a.deletedAuthorLink,e.className)},e.children):o.a.createElement(i.a,{className:t,style:e.style,to:"/user/".concat(e.author,"/")},e.children)}},"./src/reddit/components/AwardBadges/index.m.less":function(e,t,s){e.exports={awardBadges:"_2LeW9tc_6Fs1n7Ou8uD-70",awardIcon:"_3u6g9UTYlEOr-yfM5hyq3p",awardItem:"_2y3bja4n4-unxyUrMEFH8C",animate:"_1PxSePitTwBoI0g9Zc4E3g",awardBounce:"_1w7WAKB-wuX5TZqe_TStJx",showAllButton:"_10Q0ZYgDml-1g2q2eQ5ky_",awarders:"_3618Xifw_RaDU8D22bhmPZ",badgeButton:"_3mcXKZUh7FvUMLSv0AHyXs",visibilityEffect:"Rk_HDo1zkk5qmw1fIBUBR",icon:"_2J9jlNokb9X4gvrrZR3BX2"}},"./src/reddit/components/AwardBadges/index.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/web.dom.iterable.js");var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/reddit/actions/gold/modals.ts"),d=s("./src/reddit/actions/tooltip.ts"),l=s("./src/reddit/i18n/utils.ts");const m=(e,t)=>{const s=Object(l.a)("awards",["Award","Awards"],t);return 1===e.length?Object(l.c)("".concat(s," from ").concat(Object(l.b)("awarder-0",e[0]))):2===e.length?Object(l.c)("".concat(s," from ").concat(Object(l.b)("awarder-0",e[0])," and ").concat(Object(l.b)("awarder-1",e[1]))):3===e.length?Object(l.c)("".concat(s," from ").concat(Object(l.b)("awarder-0",e[0]),", ").concat(Object(l.b)("awarder-1",e[1]),", and ").concat(Object(l.b)("awarder-2",e[2]))):e.length>3?Object(l.c)("".concat(s," from ").concat(Object(l.b)("awarder-0",e[0]),", ").concat(Object(l.b)("awarder-1",e[1]),", ").concat(Object(l.b)("awarder-2",e[2]),", and more")):void 0};var p=s("./src/reddit/helpers/isPost.ts"),u=s("./src/reddit/i18n/components.tsx"),h=s("./src/reddit/icons/fonts/helpers.tsx");var b=e=>o.a.createElement("i",{className:Object(i.a)(Object(h.b)("addGild"),e.className)});var g=e=>o.a.createElement("i",{className:Object(i.a)(Object(h.b)("addGildDashed"),e.className)}),x=s("./src/reddit/components/AddAwardHoverButton/index.m.less"),C=s.n(x);class v extends o.a.PureComponent{constructor(){super(...arguments),this.state={isHovered:!1},this.handleMouseEnter=()=>{this.setState({isHovered:!0})},this.handleMouseLeave=()=>{this.setState({isHovered:!1})}}render(){const{className:e,onClick:t}=this.props,s=this.state.isHovered?b:g;return o.a.createElement("button",{className:Object(i.a)(e,C.a.AddAwardHoverButton),onClick:t,onBlur:this.handleMouseLeave,onFocus:this.handleMouseEnter,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},o.a.createElement(s,{className:C.a.Icon}),o.a.createElement(u.c,null,"Add"))}}var O=v,E=s("./src/reddit/components/InfoTextTooltip/index.tsx"),f=s("./src/reddit/components/TrackingHelper/index.tsx"),y=s("./src/reddit/models/Gold/Award.ts"),j=s("./src/reddit/selectors/communityAwards.ts"),w=s("./src/reddit/selectors/user.ts"),I=s("./src/reddit/helpers/awards/getAwardItemId.ts"),P=s("./src/higherOrderComponents/makeAsync.tsx"),T=s("./src/lib/loadWithRetries/index.ts");var k=Object(P.a)({getComponent:()=>Object(T.a)(()=>s.e("AwardTooltip").then(s.bind(null,"./src/reddit/components/AwardTooltip/index.tsx"))).then(e=>e.default),ErrorComponent:()=>null,LoadingComponent:()=>null}),S=s("./src/reddit/components/AwardBadges/index.m.less"),_=s.n(S);class N extends o.a.PureComponent{constructor(e){super(e),this.imageRef=o.a.createRef(),this.handleAwardAddedEvent=()=>{this.setState({animate:!0}),setTimeout(()=>this.setState({animate:!1}),1e3)},this.onShowTooltip=()=>{const{onShowTooltip:e,tooltipId:t}=this.props;return e(t)},this.state={animate:!1}}componentDidMount(){const e=this.imageRef?this.imageRef.current:null;e&&e.addEventListener("awardAdded",this.handleAwardAddedEvent)}componentWillUnmount(){const e=this.imageRef?this.imageRef.current:null;e&&e.removeEventListener("awardAdded",this.handleAwardAddedEvent)}renderModAwardName(){const{award:e,count:t}=this.props;return o.a.createElement(o.a.Fragment,null,t>1&&" • ",o.a.createElement(u.c,null,o.a.createElement(u.b,{name:"award-name"},e.name)," Award"))}render(){const{award:e,className:t,count:s,iconClassName:n,onHideTooltip:r,postOrComment:a,tooltipId:c,tooltipLocation:d}=this.props;if(s<=0)return;const l=e.icon32?e.icon32.url:e.icon.url,m=e.awardType===y.c.Moderator,p=Object(I.a)(e.id,a.id),u=s>1||m,h="container"===d;return o.a.createElement("span",{className:Object(i.a)(_.a.awardItem,t),id:h?c:"",onMouseEnter:this.onShowTooltip,onMouseLeave:r},o.a.createElement("span",{id:h?"":c},o.a.createElement("img",{alt:e.name,className:Object(i.a)(_.a.awardIcon,{[_.a.animate]:this.state.animate},n),id:p,ref:this.imageRef,src:l})),o.a.createElement("span",{className:u?_.a.itemText:""},s>1&&s,m&&this.renderModAwardName()),o.a.createElement(k,{award:e,postOrComment:a,tooltipId:c}))}}class L extends o.a.PureComponent{constructor(){super(...arguments),this.state={isHovered:!1},this.handleMouseEnter=()=>{this.setState({isHovered:!0})},this.handleMouseLeave=()=>{this.setState({isHovered:!1})}}render(){const{className:e,onClick:t}=this.props,s=this.state.isHovered?b:g;return o.a.createElement("button",{className:Object(i.a)(e,_.a.badgeButton,_.a.visibilityEffect),onClick:t,onBlur:this.handleMouseLeave,onFocus:this.handleMouseEnter,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},o.a.createElement(s,{className:_.a.icon}))}}var M=L;const R=(e,t)=>{const s=Object(p.a)(e)?"Post":"Comment";let n="".concat(s,"AwardBadges--").concat(e);return t&&(n="".concat(n,"--").concat(t)),n},B=Object(a.c)({isLoggedIn:w.J,sortedAwards:(e,t)=>{let{thing:s}=t;return s.awardCountsById?Object(y.l)(Object(j.b)(e,Object.keys(s.awardCountsById))||[]):[]}}),A=Object(r.b)(B,(e,t)=>{let{isOverlay:s,thing:n}=t;return{onAddAward:()=>{const t=Object(p.a)(n.id)?n.postId:n.id;return e(Object(c.d)(t,s))},onHideTooltip:()=>e(Object(d.h)()),onShowTooltip:t=>e(Object(d.f)({tooltipId:t}))}}),F=5,D=4,W=2,H=1;class V extends o.a.Component{constructor(e){super(e),this.handleAddAward=async()=>{const{onAddAward:e,sendEvent:t,thing:n}=this.props;e();const{clickAddAward:o}=await Promise.resolve().then(s.bind(null,"./src/reddit/helpers/trackers/gild.ts"));t(o(n.id))},this.handleShowAllAwards=e=>{const{onShowAllClick:t}=this.props;t?t(e):this.setState({showAllAwards:!0})},this.getAwardsByWeight=()=>{const{sortedAwards:e}=this.props;let t=0;const s=[],n=[...e];for(;t<D&&n.length>0;){const e=n.shift();if(e){const n=e.awardType===y.c.Moderator?W:H;s.push(e),t+=n}}return s},this.state={showAllAwards:!1}}renderAwardings(){const{showAllAwards:e}=this.state,{sortedAwards:t,forceShowAllAwards:s,itemClassName:n,onHideTooltip:r,onShowTooltip:a,showAllClassName:c,tooltipType:d,thing:l}=this.props,m=R(l.id,d),p="".concat(m,"-view-all");let h=[];h=s||e?t:t.length>F?t.slice(0,F-1):t;const b=t.length>h.length?t.slice(h.length).reduce((e,t)=>e+(l.awardCountsById&&l.awardCountsById[t.id]||0),0):0,g=o.a.createElement(u.c,null,"& ",o.a.createElement(u.b,{name:"hidden-award-cound"},b)," More");return o.a.createElement(o.a.Fragment,null,h.map(e=>{const t=l.awardCountsById?l.awardCountsById[e.id]:0;return o.a.createElement(N,{award:e,className:n,count:t,key:e.id,onHideTooltip:r,onShowTooltip:a,postOrComment:l,tooltipId:"".concat(m,"-").concat(e.id),tooltipLocation:"icon"})}),b>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{"data-click-id":"awards",id:p,className:Object(i.a)(_.a.showAllButton,c),onClick:this.handleShowAllAwards,onMouseEnter:()=>a(p),onMouseLeave:r},g),o.a.createElement(E.c,{tooltipId:p,text:"View all Awards"})))}renderAwarders(){const{sortedAwards:e,thing:t}=this.props,{awarders:s}=t;if(!s||0===s.length)return null;const n=e.reduce((e,s)=>{return e+(t.awardCountsById&&t.awardCountsById[s.id]||0)},0),r=m(s,n);return o.a.createElement("span",{className:_.a.awarders},r)}render(){const{children:e,className:t,isLoggedIn:s,hideCta:n,showAwarders:r,sortedAwards:a,thing:c}=this.props,d=!!a.length,l=!n&&s&&c.isGildable&&d&&!r,m=!n&&s&&c.isGildable&&d&&!Object(p.a)(c.id)&&r;return o.a.createElement("div",{className:Object(i.a)(t,_.a.awardBadges)},e,this.renderAwardings(),l&&o.a.createElement(M,{onClick:this.handleAddAward}),r&&this.renderAwarders(),m&&o.a.createElement(O,{onClick:this.handleAddAward}))}}t.a=A(Object(f.b)(V))},"./src/reddit/components/BackToTop/index.m.less":function(e,t,s){e.exports={container:"_365FiUZ11efXHV7l7fNp6K",button:"_1m03hmspTHlre1O1CXbY9Y"}},"./src/reddit/components/Badges/UserDisplay/index.m.less":function(e,t,s){e.exports={addCustom:"LalRrQILNjt65y-p-QlWH",addCustomLink:"_3J2-xIxxxP9ISzeLWCOUVc",badgeHovercard:"FyLpt0kIWG1bTDWZ8HIL1",image:"_2ntJEAiwKXBGvxrJiqxx_2",wrapper:"_1SqBC7PQ5dMOdF0MhPIkA8"}},"./src/reddit/components/Badges/UserDisplay/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/config.ts"),c=s("./src/lib/classNames/index.ts"),d=s("./src/reddit/actions/economics/subredditPremium/actionCreators.ts"),l=s("./src/reddit/actions/tooltip.ts"),m=s("./src/higherOrderComponents/makeAsync.tsx");var p=Object(m.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>Promise.all([s.e("EconomicsSubredditPremiumSidebarCards~SubredditPremiumBadgeHovercardTooltip"),s.e("SubredditPremiumBadgeHovercardTooltip")]).then(s.bind(null,"./src/reddit/components/Economics/SubredditPremium/Badges/HoverCard/tooltip.tsx")).then(e=>e.default)}),u=s("./src/reddit/components/InfoTextTooltip/index.tsx"),h=s("./src/reddit/featureFlags/index.ts"),b=s("./src/reddit/helpers/economics/sortBadges.ts"),g=s("./src/reddit/icons/svgs/AddSquare/index.tsx"),x=s("./src/reddit/models/Badge/index.ts");var C=Object(m.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>s.e("CustomBadgeHovercardTooltip").then(s.bind(null,"./src/reddit/components/Badges/UserDisplay/AddCustomTooltip/tooltip.tsx")).then(e=>e.default)}),v=s("./src/reddit/components/Badges/UserDisplay/index.m.less"),O=s.n(v);s.d(t,"b",(function(){return j})),s.d(t,"c",(function(){return T})),s.d(t,"a",(function(){return k}));const E="add-custom-badge-tooltip",f=100,y=2*f;class j extends o.a.Component{constructor(){super(...arguments),this.mouseOverTooltip=void 0,this.enterTimeout=void 0,this.exitTimeout=void 0,this.handleMouseEnter=e=>{this.mouseOverTooltip&&this.mouseOverTooltip!==e?this.props.onShowTooltip(e):(clearTimeout(this.enterTimeout),this.enterTimeout=window.setTimeout(()=>{this.mouseOverTooltip===e&&this.props.onShowTooltip(e)},f)),this.mouseOverTooltip=e},this.handleMouseLeave=()=>{clearTimeout(this.exitTimeout),clearTimeout(this.enterTimeout),this.mouseOverTooltip=void 0,this.exitTimeout=window.setTimeout(()=>{this.mouseOverTooltip||(clearTimeout(this.enterTimeout),this.props.onHideTooltip())},y)}}render(){if(this.props.usePlaceholder&&!this.props.badges.length)return o.a.createElement("img",{className:Object(c.a)(O.a.image,this.props.className),src:"".concat(i.a.assetPath,"/img/badges/placeholder.png")});const e="".concat(E,"-").concat(this.props.uniqueIdentifier);return o.a.createElement(n.Fragment,null,this.props.showAddCustom&&o.a.createElement("div",{className:O.a.wrapper,id:e,onMouseEnter:()=>this.handleMouseEnter(e),onMouseLeave:()=>this.handleMouseLeave()},o.a.createElement("button",{className:O.a.addCustomLink,onClick:this.props.onOpenUploadDialog},o.a.createElement(g.a,{className:O.a.addCustom})),o.a.createElement(C,{className:O.a.badgeHovercard,subredditId:this.props.subredditId,targetPosition:["left","bottom"],tooltipId:e,tooltipPosition:["left","top"],onHideTooltip:()=>this.props.onHideTooltip()})),Object(b.a)(this.props.badges).map(e=>{const t=Object(x.b)(24,24,e),s="badges-display-".concat(e.id,"-").concat(this.props.uniqueIdentifier);return o.a.createElement(n.Fragment,{key:"badges-fragement-".concat(e.id)},o.a.createElement("div",{className:Object(c.a)(O.a.wrapper,this.props.className),key:"wrapper-".concat(e.id),onMouseEnter:()=>this.handleMouseEnter(s),onMouseLeave:()=>this.handleMouseLeave()},o.a.createElement("img",{className:O.a.image,id:s,key:e.id,src:t.url2x,srcSet:"".concat(t.url,", ").concat(t.url2x," 2x")}),this.props.useHovercard?o.a.createElement(p,{badge:e,correlationId:this.props.correlationId,className:O.a.badgeHovercard,key:"tooltip-".concat(e.id),subredditId:this.props.subredditId,targetPosition:["left","bottom"],tooltipId:s,tooltipPosition:["left","top"],userId:"userId"in this.props?this.props.userId:void 0}):o.a.createElement(u.c,{caretOnTop:!0,key:"tooltip-".concat(e.id),tooltipId:s,text:e.title})))}))}}const w=Object(a.c)({badges:(e,t)=>{let{subredditId:s,userId:n}=t;return((e.users.appliedBadges[n]||{})[s]||[]).map(t=>e.badges.models[t]).filter(Boolean)},useHovercard:h.d.spPremium}),I=Object(a.c)({badges:(e,t)=>{let{subredditId:s}=t;const n=e.user.account;if(n){return((e.users.appliedBadges[n.id]||{})[s]||[]).map(t=>e.badges.models[t]).filter(Boolean)}return[]},useHovercard:h.d.spPremium}),P=e=>({onShowTooltip:t=>e(Object(l.f)({tooltipId:t})),onHideTooltip:()=>e(Object(l.h)()),onOpenUploadDialog:()=>e(Object(d.k)())}),T=Object(r.b)(w,P)(j),k=Object(r.b)(I,P)(j)},"./src/reddit/components/BannerAd/index.m.less":function(e,t,s){e.exports={Container:"_1rmObrmUCfC5t42SbwkzYC",container:"_1rmObrmUCfC5t42SbwkzYC",LoadingHitbox:"_1n3f5S4VH-64I6tr3YDSy2",loadingHitbox:"_1n3f5S4VH-64I6tr3YDSy2"}},"./src/reddit/components/BannerAd/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/addQueryParams/index.ts"),c=s("./src/lib/constants/index.ts"),d=s("./src/lib/doubleclickForPublishers/index.ts"),l=s("./src/lib/intersectionObserver/index.ts"),m=s("./src/lib/objectSelector/index.ts"),p=s("./src/reddit/helpers/createBannerProperties/index.ts"),u=s("./src/reddit/selectors/subreddit.ts"),h=s("./src/reddit/components/TrackingHelper/index.tsx"),b=s("./src/reddit/helpers/trackers/ads.ts"),g=s("./src/reddit/components/BannerAd/index.m.less"),x=s.n(g),C=s("./src/lib/lessComponent.tsx");const v=C.a.div("Container",x.a),O=C.a.div("LoadingHitbox",x.a),E=e=>setTimeout(()=>{throw e},0);class f extends o.a.Component{constructor(){super(...arguments),this.frame=null,this.loader=null,this.refreshedAt=1/0,this.isWithinLoadingDistance=!1}componentDidCatch(e){E(e)}defineSlot(){const{id:e,slot:t,properties:s,sizes:n=[]}=this.props;try{return this.frame&&d.a(this.frame,{id:e,slot:t,properties:s,sizes:n})}catch(o){E(o)}}destroySlot(){try{this.frame&&d.b(this.frame)}catch(e){E(e)}}async componentDidMount(){this.props.sendEvent(Object(b.a)());try{await this.defineSlot()}catch(e){E(e)}this.loader&&l.a(this.loader,e=>{this.frame&&d.e(this.frame,{viewable:e.intersectionRatio>.5}),this.isWithinLoadingDistance=!0,this.refresh(this.props),this.loader&&l.b(this.loader)})}componentWillUnmount(){this.loader&&l.b(this.loader),this.destroySlot()}refresh(e){this.isWithinLoadingDistance&&(this.refreshedAt=Date.now(),this.frame&&d.d(this.frame,{id:e.id,slot:e.slot,properties:e.properties,sizes:e.sizes}))}componentWillReceiveProps(e){this.props.refreshKey!==e.refreshKey&&Date.now()-this.refreshedAt>6e3&&this.refresh(e)}render(){const{id:e,slot:t,className:s}=this.props;return t?o.a.createElement(v,{"data-slot":t},o.a.createElement(O,{key:"".concat(e,"-loadinghitbox"),innerRef:e=>{this.loader=e}}),o.a.createElement("div",{"data-before-content":this.props.dataBeforeContent,key:"".concat(e,"-div"),className:s,ref:e=>{this.frame=e},id:e})):o.a.createElement("div",{className:s})}}f.defaultProps={sizes:[c.e]};t.a=Object(r.b)(()=>Object(a.c)({properties:Object(m.a)((e,t)=>{const s=e.platform.currentPage;if(!s)return{};const n="".concat(e.meta.protocol,"://").concat(e.meta.domain);return Object(p.b)(t.placement,e.user,Object(i.a)("".concat(n).concat(s.url),s.queryParams),Object(u.B)(e,{subredditName:t.listingName}),t.position)}),slot:(e,t)=>{const s=e.platform.currentPage;return s&&s.meta?d.c(t.listingName,s.meta.name):""}}))(Object(h.b)(f))},"./src/reddit/components/CallToActionButton/index.m.less":function(e,t,s){e.exports={CallToActionButton:"_2pjSQOdNtYd1I2W0Z1Im8I",callToActionButton:"_2pjSQOdNtYd1I2W0Z1Im8I",mNotCardView:"_33VrFkg3gJpkL8AlPfcHUE"}},"./src/reddit/components/CallToActionButton/index.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/controls/OutboundLink/styled.tsx"),i=s("./src/reddit/components/CallToActionButton/index.m.less"),c=s.n(i);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var l=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};t.a=e=>{var{className:t}=e,s=l(e,["className"]);return o.a.createElement(a.a,d({className:Object(r.a)(t,c.a.CallToActionButton,{[c.a.mNotCardView]:s.isNotCardView})},s))}},"./src/reddit/components/CharacterCountdown/index.m.less":function(e,t,s){e.exports={container:"s5ap8yh1b4ZfwxvHizW3f",mOverflow:"_19JhaP1slDQqu2XgT3vVS0"}},"./src/reddit/components/CharacterCountdown/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/components/StructuredStyles/StyledComponents/forms.ts"),i=s("./src/reddit/i18n/utils.ts"),c=s("./src/reddit/components/CharacterCountdown/index.m.less"),d=s.n(c);t.a=e=>o.a.createElement(a.b,{className:Object(r.a)(e.className,d.a.container,e.text.length>e.maxChars?d.a.mOverflow:null)},"".concat(e.maxChars-e.text.length," ").concat(Object(i.c)("Characters")))},"./src/reddit/components/ClassicPost/Placeholder.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return E}));var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/reddit/components/PostLeftRail/index.tsx"),d=s("./src/reddit/components/VerticalVotes/votes.tsx"),l=s("./src/reddit/contexts/PageLayer/index.tsx"),m=s("./src/reddit/helpers/styles/mixins/loading.ts"),p=s("./src/reddit/models/Vote/index.ts"),u=s("./src/reddit/helpers/styles/mixins/index.m.less"),h=s.n(u),b=s("./src/reddit/components/ClassicPost/placeholder.m.less"),g=s.n(b);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const C=Object(l.t)(),v=Object(a.c)({isFakeSubreddit:l.y}),O=Object(r.b)(v),E=e=>{const t={interactive:!1,voteState:p.a.notVoted};return o.a.createElement("div",{className:Object(i.a)(e.className,g.a.emptyVerticalVotes)},o.a.createElement(d.d,x({key:"u"},t)),e.children,o.a.createElement(d.c,x({key:"d"},t)))},f=()=>o.a.createElement(E,null,o.a.createElement("div",{className:g.a.emptyScore,key:"s"}));t.b=C(O(e=>o.a.createElement("div",{className:Object(i.a)(e.className,h.a.classicPostStyles,h.a.classicAndCompactPlaceholderStyles)},o.a.createElement(c.b,null,o.a.createElement(f,null)),o.a.createElement("div",{className:g.a.mainBody},o.a.createElement("div",{className:g.a.thumbnailContainer},o.a.createElement("div",{className:Object(i.a)(g.a.thumbnail,Object(m.b)(e))})),o.a.createElement("div",{className:g.a.content},o.a.createElement("div",{key:"a"},o.a.createElement("div",{key:"aa",className:Object(i.a)(g.a.title,Object(m.b)(e))}),o.a.createElement("div",{key:"ab",className:Object(i.a)(g.a.meta,Object(m.b)(e))})),o.a.createElement("div",{key:"f",className:g.a.flatlist},o.a.createElement("div",{key:"fa",className:Object(i.a)(g.a.flatlistExpando,Object(m.b)(e))}),o.a.createElement("div",{key:"fb",className:g.a.flatlistSeparator}),o.a.createElement("div",{key:"fc",className:Object(i.a)(g.a.flatListItemOne,Object(m.b)(e))}),o.a.createElement("div",{key:"fd",className:Object(i.a)(g.a.flatListItemTwo,Object(m.b)(e))})))))))},"./src/reddit/components/ClassicPost/index.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es6.regexp.replace.js");var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/config.ts"),a=s("./src/lib/classNames/index.ts"),i=s("./src/lib/CSSVariableProvider/withTheme.tsx"),c=s("./src/lib/getShortenedLink.ts"),d=s("./src/reddit/components/AdLinkWrapper/index.tsx"),l=s("./src/reddit/components/CallToActionButton/index.tsx"),m=s("./src/reddit/components/CompactPost/HorizontalVotes/index.tsx"),p=s("./src/reddit/components/EventPost/EventMetaHeader/index.tsx"),u=s("./src/reddit/components/ExpandoButton/index.tsx"),h=s("./src/reddit/components/Flatlist/index.tsx"),b=s("./src/reddit/components/JSAPIContainers/index.tsx"),g=s("./src/reddit/components/LargePost/index.tsx"),x=s("./src/reddit/components/ModModeReports/index.tsx"),C=s("./src/reddit/components/ModModeReports/helpers.ts"),v=s("./src/reddit/components/PostBackgroundWrapper/index.tsx"),O=s("./src/reddit/components/PostContainer/index.tsx"),E=s("./src/reddit/components/PostMedia/index.tsx"),f=s("./src/reddit/components/PostMeta/index.tsx"),y=s("./src/reddit/components/PostOverflowMenu/index.tsx"),j=s("./src/reddit/components/PostTitle/index.tsx"),w=s("./src/reddit/components/PostTopMeta/index.tsx"),I=s("./src/reddit/controls/OutboundLink/styled.tsx"),P=s("./src/reddit/models/Media/index.ts"),T=s("./src/reddit/components/ClassicPost/Thumbnail.tsx"),k=s("./node_modules/react-redux/es/index.js"),S=s("./node_modules/reselect/es/index.js"),_=s("./src/reddit/actions/post.ts"),N=s("./src/reddit/actions/tooltip.ts"),L=s("./src/reddit/models/Vote/index.ts"),M=s("./src/reddit/contexts/InsideOverlay.tsx"),R=s("./src/reddit/contexts/PageLayer/index.tsx"),B=s("./src/reddit/selectors/activeModalId.ts"),A=s("./src/reddit/selectors/experiments/chatPost.ts"),F=s("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),D=s("./src/reddit/selectors/moderatorPermissions.ts"),W=s("./src/reddit/selectors/monthsToMinutes.ts"),H=s("./src/reddit/selectors/postFlair.ts"),V=s("./src/reddit/selectors/posts.ts"),U=s("./src/reddit/selectors/user.ts");const K={autoplayPref:U.b,activeModalId:B.a,crosspost:V.c,currentUser:U.i,isActive:V.g,isChatPostExperiment:A.d,isCurrentUserProfilePost:V.h,isExpanded:V.j,isFrontpageHome:W.g,isM2MHomeRedirectEnabled:F.c,isMeta:(e,t)=>{let{postId:s}=t;return Object(V.o)(e,s)},language:U.S,moderatorPermissions:D.i,modModeEnabled:R.O,post:V.J,poll:(e,t)=>{const s=e.posts.metaMap[t.postId];return s?e.polls.models[s]:null},showEditFlair:H.a,showMedia:R.r,subredditOrProfile:V.U,userIsOp:U.jb,flairStyleTemplate:R.Q},G=(e,t)=>{let{listingKey:s,listingName:n,postId:o}=t;return{handleVote:t=>{const s=t===L.a.upvoted?Object(_.N)(o):Object(_.o)(o);e(s)},onIgnoreReports:()=>e(Object(_.L)(o)),onOpenReportsDropdown:t=>e(Object(N.g)({tooltipId:t}))}},z=Object(k.b)(()=>Object(S.c)(K),G,(e,t,s)=>Object.assign({},e,t,s,{formatTitle:e=>e.title}));s("./node_modules/core-js/modules/es6.regexp.split.js"),s("./node_modules/core-js/modules/es6.regexp.constructor.js");var J=s("./src/lib/LRUCache/index.ts");const q=Object(R.t)({searchQuery:R.U}),Y=new J.a(250),Q=e=>{const t=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return e=>{const s="".concat(e.id,"-").concat(t);let n=Y.get(s);if(void 0===n){const r=new RegExp("(\\b".concat(t,"\\b)"),"gi"),a=e.title.split(r);for(let e=1;e<a.length;e+=2)a[e]=o.a.createElement("em",{style:{fontWeight:700}},a[e]);n=o.a.createElement("span",{style:{fontWeight:"normal"}},o.a.Children.toArray(a)),Y.set(s,n)}return n}},Z=Object(k.b)(()=>Object(S.c)(K),G,(e,t,s)=>Object.assign({},e,t,s,{formatTitle:Q(s.searchQuery||"")}));var X=s("./src/reddit/helpers/hasModFlairPermissions/index.ts"),$=s("./src/reddit/helpers/hasModPostPermissions/index.ts"),ee=s("./src/reddit/helpers/styles/mixins/index.tsx"),te=s("./src/reddit/helpers/styles/mixins/index.m.less"),se=s.n(te),ne=s("./src/reddit/components/ClassicPost/index.m.less"),oe=s.n(ne);function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}s.d(t,"a",(function(){return me}));const ae=16;class ie extends o.a.Component{componentDidUpdate(e){this.props.onSizeChanged&&e.isExpanded!==this.props.isExpanded&&this.props.onSizeChanged(this.props.post.id)}render(){const{className:e,currentUser:t,handleVote:s,isExpanded:n,isMeta:i,inSubredditOrProfile:E,eventFactory:k,first:S,flairStyleTemplate:_,formatTitle:N,isCheckboxSelected:L,isCurrentUserProfilePost:M,isFrontpage:R,isFrontpageHome:B,isM2MHomeRedirectEnabled:A,isOverlay:F,language:D,moderatorPermissions:W,modModeEnabled:H,onClickPost:V,onIgnoreReports:U,onOpenReportsDropdown:K,poll:G,post:z,redditStyle:J,scrollerItemRef:q,showBulkActionCheckbox:Y,showEditFlair:Q,showMedia:Z,subredditOrProfile:te,toggleCheckbox:ne,userIsOp:ie}=this.props,de=J?void 0:_,le=this.props.crosspost||void 0,me=Object($.a)(W),pe=Object(X.a)(W),ue=H&&$.a,he=!!z.media&&z.media.type===P.n.RTJSON,be=ie&&he,ge=E&&!Z,xe={flairStyleTemplate:de,post:z,inSubredditOrProfile:E,isCurrentUserProfilePost:M,isOverlay:F,shouldShowSubscribeButton:!(R&&B),subredditOrProfile:te,language:D},Ce=o.a.createElement(O.a,{className:Object(a.a)(se.a.classicPostStyles,oe.a.postContainer,Object(ee.a)(this.props),S?oe.a.mFirst:void 0,e),isOverlay:F,style:Object.assign({},Object(ee.d)(this.props),Object(ee.b)(this.props.flairStyleTemplate)),post:z,onClick:V,eventFactory:k},Object(g.b)(z,s,Y,L,ne,de,J),o.a.createElement(v.a,{"data-click-id":"background",flairStyleTemplate:de},o.a.createElement(p.a,{className:oe.a.eventMeta,post:z,language:D}),o.a.createElement("div",{className:oe.a.mainBody},o.a.createElement("div",{className:ge?oe.a.expandoContainer:oe.a.thumbnailContainer},!ge&&o.a.createElement(T.a,{className:oe.a.classicThumbnail,crosspost:le&&z,isMeta:i,post:le||z,redditStyle:J,templatePlaceholderImage:de&&de.postPlaceholderImage}),o.a.createElement(u.a,{crosspost:le,className:oe.a.rightExpando,isExpanded:!!n,post:z,useMediaIcons:!1})),o.a.createElement("div",{className:oe.a.content,"data-click-id":"body",style:{paddingBottom:"".concat(ae,"px")}},o.a.createElement(j.c,{className:G?oe.a.titleWithPoll:void 0,format:N,poll:G,post:z,redditStyle:J,size:j.b.Medium,titleColor:de&&de.postTitleColor,isM2MHomeRedirectEnabled:A,isOverlay:F},z.source&&!le&&o.a.createElement(I.a,{href:z.source.url,isSponsored:z.isSponsored,source:z.source},Object(c.a)(z))),o.a.createElement(f.a,re({key:"PostMeta"},xe)),H&&me&&Object(C.c)(z)&&o.a.createElement(x.a,{language:D,onIgnoreReports:U,reportable:z}),o.a.createElement("div",{className:oe.a.spacer}),z.source&&z.source.url&&z.isSponsored&&o.a.createElement(d.a,{className:oe.a.adLinkWrapper},o.a.createElement(I.a,{href:z.source.url.replace(r.a.redditUrl,""),isSponsored:z.isSponsored,source:z.source},z.source.displayText),z.callToAction&&o.a.createElement(l.a,{href:z.source.url.replace(r.a.redditUrl,""),isSponsored:z.isSponsored,source:z.source},z.callToAction)),o.a.createElement("div",{className:oe.a.flatlistContainer},o.a.createElement(u.a,{className:oe.a.leftExpando,crosspost:le,isExpanded:!!n,post:z,useMediaIcons:!1}),o.a.createElement(m.a,{className:oe.a.horizontalVotes,compact:!1,flairStyleTemplate:de,model:z,onVoteClick:s}),o.a.createElement(h.a,{className:oe.a.flatlistSeparator}),o.a.createElement(h.c,{className:oe.a.flatlist,currentUser:t,hasModFlairPerms:pe,hasModPostPerms:me,isOverlay:!!F,language:D,modModeEnabled:H,onIgnoreReports:U,onOpenReportsDropdown:K,post:z,showEditPost:be,showEditFlair:Q,tooltipType:F?w.c.Lightbox:void 0,useFlatlistBreakpoints:Object(y.h)({editPost:!ue,save:!ue,hide:!ue,report:!ue})})),o.a.createElement(b.d,{postId:z.id}))),ce(z,q,n)));return o.a.createElement(o.a.Fragment,null,Ce)}}const ce=(e,t,s)=>s?e.crosspostRootId?o.a.createElement("div",{className:oe.a.crosspostMediaWrapper},de(e,t)):de(e,t):null,de=(e,t)=>o.a.createElement(E.a,{isExpando:!0,isListing:!0,isNotCardView:!0,scrollerItemRef:t,shouldLoad:!0,shouldPause:!1,showFull:!0,showCentered:!0,post:e}),le=Object(i.a)(ie),me=(e=>q(Z(e)))(le);t.b=(e=>z(Object(M.b)(e)))(le)},"./src/reddit/components/ClassicPost/placeholder.m.less":function(e,t,s){e.exports={thumbnailContainer:"_3cwq18vPueuAxRSrd1foNB",mainBody:"_1jxw1P65tWXN5u8kVHlX-n",content:"_2KR7fLQx_7rIv8QaoeXKZw",emptyScore:"_6w7aNMh3t6UMe07Q6oWFE",emptyVerticalVotes:"_1Xs9oeessHWcuF0VTVxRnl",thumbnail:"_2XOZ5bYpLdswvBAYUNa-ly",title:"n3AVRrP7HOfc0gAtGFpfv",meta:"_1BoNlCqTsaeLXkuZbADxyl",flatlist:"_1IgQuZI8L6A0NcShWmf08y",flatlistExpando:"_2AMaFX8Gwojg29X4_nOnaL",flatlistSeparator:"oljBm1Q059l3l84VHO9VM",flatListItemOne:"_2xeK0Acj_38O5kqiHgp7VC",flatListItemTwo:"_3WphuhFsMSKk2tQyD3fZeI"}},"./src/reddit/components/Collection/PostAndPostEventMeta/index.m.less":function(e,t,s){e.exports={postEventMeta:"UORiCb6Mik-agLw97Owil",Metadata:"YxCA1Mpgi_ThsEnFr_EFv",metadata:"YxCA1Mpgi_ThsEnFr_EFv"}},"./src/reddit/components/Collection/PostAndPostEventMeta/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return p})),s.d(t,"b",(function(){return u}));var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/prettyPrintNumber/index.ts"),a=s("./src/app/strings/index.ts"),i=s("./src/lib/lessComponent.tsx"),c=s("./src/reddit/components/EventPost/PostEventMeta/index.tsx"),d=s("./src/reddit/helpers/postEvent.ts"),l=s("./src/reddit/components/Collection/PostAndPostEventMeta/index.m.less"),m=s.n(l);const p=i.a.wrapped(e=>o.a.createElement("span",{className:e.className},e.children),"Metadata",m.a),u=e=>{let{post:t,language:s}=e;return Object(d.a)(t)?o.a.createElement(c.a,{className:m.a.postEventMeta,language:s,post:t}):o.a.createElement(o.a.Fragment,null,!t.isScoreHidden&&o.a.createElement(o.a.Fragment,null,o.a.createElement(p,{"data-click-id":"score"},Object(a.c)(s,"posts.points.noun",t.score,{count:Object(r.b)(t.score)})),o.a.createElement(p,null,"·")),o.a.createElement(p,{"data-click-id":"comments"},Object(a.c)(s,"posts.comments.noun",t.numComments,{count:Object(r.b)(t.numComments)})))}},"./src/reddit/components/Collection/PostItem/index.m.less":function(e,t,s){e.exports={postTitle:"_1bvyZ0jB0C8Lx6TlraZXE3",postContent:"_3giZKNlG6qJzee7UY1xsIJ",active:"_12zSt_pMIevRkRY1y7z0ZD",isProfilePage:"_3yF2XCFhSO-O3pN8ebYN1G",postBody:"_2L4qX-0aH7jj8yNe2FGxg-",bottomline:"NlMXOVW9HTmozMDSBJduL",postContainer:"rF1mJN5TPvOeX-Rs9PA04",postBodyWrapper:"_3LxyuVXMtCzPGToR6G4aUP",galleryPostContainer:"LbSOjrpQSZxNlzkqgp8IK",galleryPostOverlay:"_32s7Ik6Mvi_xJ6Q7PXN7cS",galleryPostImage:"_71EQniEmTXC8cbuXDlo2y",gallerySelectedBorder:"_3TY5O5VX0o1EJLeXO2CBIz",isNightmodeOn:"_3ToKa6hKRy0knGHXUZW0tI",isSelectedPost:"dKiTp-99N-ixy1MUgoxzt",galleryBottomLine:"_3juAZ5nip3xhlLYoa0eJHl",isScoreHidden:"_1gE7DLti39Ow23AU39DRyi",gallerySeparator:"_1REIFRRcgS4gb1OzCUiDdF",scrollToContainer:"R4W5__5pno6HuOR6cXIcW",blurBackground:"_1EmOtGLOIj5jVny00MsYDq",timelineThumbnail:"N7ZDF05PM85cnjxy8A9Kj",timelineThumbnailOverride:"_2qHZln2Y6YL5GXxpgP4Qf4",galleryThumbnailPlaceholder:"_3HsMbUHP3qlXSnSNv10i__",thumbnailContainerClassName:"_22Rd8vdnxySvffllxDpbGs",galleryPostPlaceholderThumbnailOverride:"_2XLoayiHEZSUCfwO0UAbso",commonThumbnailOverride:"_2tS9NgDPCzFiHnYMa3o1SV"}},"./src/reddit/components/Collection/index.m.less":function(e,t,s){e.exports={collectionTitleWrapper:"_10IcBRrmressbhblq2bqiU",isProfilePage:"_40cmCHyGWf1SgOpyoChQS",collectionTitle:"tFfYP5FF1o5CEXQ15uH7d",collectionMetaData:"_1-c9t8ecl06D08Su9pk4ni",collectionBy:"_17sTscKExP8XIU91kNOF2U",collectionTitleOptions:"_1IA_VhTzcdVBgjp_pZllHj",postListWrapper:"_2T_gfh-4AolUQ4rcgj8LV3",collectionDescription:"_1qekGnwXQb9ZXUYpC2vI3o",collectionList:"_3DA4B_0rR_osY0zjBQbJ8d",author:"_3fYAYBseZm3AMr8S-Q5ZoJ",overflowMenu:"_3LbMCmvXBCx5DLWUsYvKdV",postCount:"_1LY03RHQAwDBI6w3IOLqwg",galleryContainer:"_3sH08_Dk83Y6-vyvIc9ttc"}},"./src/reddit/components/CommentCreation/Loader.m.less":function(e,t,s){e.exports={spacer:"_25blA2uobENRg70NGewwpP",isTopLevelComment:"_1chAIcRfDnelKBQkWMIXfl",byline:"_1KZHWcRRAqnSYcyX8FzWOK"}},"./src/reddit/components/CommentCreation/LoggedOutCommentForm/index.m.less":function(e,t,s){e.exports={Wrapper:"_2GTMVdV2t3ka_zfkVHHo95",wrapper:"_2GTMVdV2t3ka_zfkVHHo95",LiveStreamingWrapper:"_2PreAn-l2nVweCX4t-mfuy",liveStreamingWrapper:"_2PreAn-l2nVweCX4t-mfuy",Copy:"_3xhJYY30L68x0pxk-8uTYD",copy:"_3xhJYY30L68x0pxk-8uTYD",LiveStreamingCopy:"_11HjWCkxXrGJ_6388VQT0L",liveStreamingCopy:"_11HjWCkxXrGJ_6388VQT0L",SignupLink:"_1k97Y32qzGNtuVGyt73TpR",signupLink:"_1k97Y32qzGNtuVGyt73TpR",LiveStreamingSignupLink:"_2aWoCIxf0NRE4nRAy6aFDQ",liveStreamingSignupLink:"_2aWoCIxf0NRE4nRAy6aFDQ",LoginLink:"_3fM1M9rFBqKwfG-KJLnxPY",loginLink:"_3fM1M9rFBqKwfG-KJLnxPY"}},"./src/reddit/components/CommentCreation/LoggedOutCommentForm/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/lib/isSimpleClick/index.ts"),i=s("./src/lib/lessComponent.tsx"),c=s("./src/lib/loginHref/index.ts"),d=s("./src/reddit/components/TrackingHelper/index.tsx"),l=s("./src/reddit/controls/Button/index.tsx"),m=s("./src/reddit/helpers/trackers/authControls.ts"),p=s("./src/reddit/i18n/components.tsx"),u=s("./src/reddit/components/CommentCreation/LoggedOutCommentForm/index.m.less"),h=s.n(u);const{fbt:b}=s("./node_modules/fbt/lib/FbtPublic.js"),g=i.a.div("Wrapper",h.a),x=i.a.span("Copy",h.a),C=i.a.wrapped(l.g,"SignupLink",h.a),v=i.a.wrapped(l.j,"LoginLink",h.a);t.a=Object(d.b)(e=>{let{className:t,isLiveStreaming:s,location:n,openLoginModal:i,openRegisterModal:d,origin:l,sendEvent:u}=e;return o.a.createElement(g,{className:Object(r.a)(t,{[h.a.LiveStreamingWrapper]:s})},o.a.createElement(x,{className:Object(r.a)({[h.a.LiveStreamingCopy]:s})},b._("Log in or sign up to leave a comment",null,{hk:"1KD7Eh"})),o.a.createElement(v,{href:Object(c.a)(n,l,"/login"),onClick:e=>{Object(a.a)(e)&&(e.preventDefault(),e.stopPropagation(),i(),u(Object(m.a)("user_convert")))},"data-redditstyle":!0},o.a.createElement(p.c,null,"log in")),o.a.createElement(C,{className:Object(r.a)({[h.a.LiveStreamingSignupLink]:s}),href:Object(c.a)(n,l,"/register"),onClick:e=>{Object(a.a)(e)&&(e.preventDefault(),e.stopPropagation(),d(),u(Object(m.c)("user_convert")))},"data-redditstyle":!0},o.a.createElement(p.c,null,"sign up")))})},"./src/reddit/components/CommentModModeDropdown/index.m.less":function(e,t,s){e.exports={StyledDropdown:"_1PC9CIsUh5fq8cQdx3iMRr",styledDropdown:"_1PC9CIsUh5fq8cQdx3iMRr",Show:"BmpGQCO3oZBeUMzSaC5yX",show:"BmpGQCO3oZBeUMzSaC5yX"}},"./src/reddit/components/CommentModModeDropdown/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/reddit/actions/comment/index.ts"),c=s("./src/reddit/components/OverlayAwareTooltip/index.tsx"),d=s("./src/reddit/components/TrackingHelper/index.tsx"),l=s("./src/reddit/controls/Dropdown/index.tsx"),m=s("./src/reddit/helpers/trackers/modTools.ts"),p=s("./src/reddit/selectors/tooltip.ts"),u=s("./src/app/strings/index.ts"),h=s("./src/lib/lessComponent.tsx"),b=s("./src/reddit/components/PostModModeDropdown/DropdownHelpers.tsx"),g=s("./src/reddit/icons/svgs/Show/index.tsx"),x=s("./src/reddit/components/CommentModModeDropdown/index.m.less"),C=s.n(x);const v=h.a.wrapped(g.a,"Show",C.a);var O=e=>o.a.createElement(b.d,null,!e.comment.isApproved&&o.a.createElement(b.c,{displayText:e.comment.approvedBy?Object(u.a)(e.language,"modTools.approved"):Object(u.a)(e.language,"modTools.approve"),onClick:e.onApproveComment},o.a.createElement(b.a,null)),!e.comment.bannedBy&&o.a.createElement(o.a.Fragment,null,o.a.createElement(b.c,{displayText:e.comment.isRemoved?Object(u.a)(e.language,"modTools.removed"):Object(u.a)(e.language,"modTools.remove"),onClick:e.onRemoveComment},o.a.createElement(b.f,null)),o.a.createElement(b.c,{displayText:e.comment.isSpam?Object(u.a)(e.language,"modTools.removedAsSpam"):Object(u.a)(e.language,"modTools.removeAsSpam"),onClick:e.onSpamComment},o.a.createElement(b.g,null)),o.a.createElement(b.c,{displayText:e.comment.isLocked?Object(u.a)(e.language,"modTools.unlockComment"):Object(u.a)(e.language,"modTools.lockComment"),onClick:e.onLockComment},o.a.createElement(b.e,null))),e.comment.collapsedBecauseCrowdControl&&o.a.createElement(b.c,{displayText:Object(u.a)(e.language,"modTools.showComment"),onClick:e.onShowComment},o.a.createElement(v,null)));const E=h.a.wrapped(l.a,"StyledDropdown",C.a),f=Object(a.c)({isDropdownOpen:(e,t)=>{let{tooltipId:s}=t;return Object(p.b)(s)(e)}}),y=Object(r.b)(f,(e,t)=>{let{comment:s}=t;return{onApproveComment:()=>e(Object(i.H)(s.id)),onLockComment:()=>e(Object(i.X)(s.id)),onRemoveComment:()=>e(Object(i.cb)(s.id,!1)),onSpamComment:()=>e(Object(i.cb)(s.id,!0)),onShowComment:()=>e(Object(i.Y)(s.id))}}),j=Object(c.a)(E),w=y(Object(d.b)(e=>{const{comment:t,isDropdownOpen:s,language:n,onApproveComment:r,onLockComment:a,onRemoveComment:i,onSpamComment:c,onShowComment:d,sendEvent:l,tooltipId:p}=e;return o.a.createElement(j,{isOpen:s,tooltipId:p},o.a.createElement(O,{language:n,onApproveComment:()=>{r(),l(Object(m.d)("approve",t.id))},onRemoveComment:()=>{i(),l(Object(m.d)("remove",t.id))},onSpamComment:()=>{c(),l(Object(m.d)("spam",t.id))},onLockComment:()=>{a(),l(Object(m.d)(t.isLocked?"unlock":"lock",t.id))},onShowComment:()=>{d(),l(Object(m.d)("showComment",t.id))},comment:t}))}));t.a=w},"./src/reddit/components/CommentSort/CommentSort.m.less":function(e,t,s){e.exports={container:"_2ulKn_zs7Y3LWsOqoFLHPo",mHasOtherDiscussions:"_3iO3U_i4YUx-2qahK_BTu1",SortPicker:"_1nMYOibX9neGRqvcaCrPDz",sortPicker:"_1nMYOibX9neGRqvcaCrPDz",Row:"zW82EsY6Pakxpq4WWvsUG",row:"zW82EsY6Pakxpq4WWvsUG",HighlightPicker:"_1n6gZPmNQU56UBglU718cx",highlightPicker:"_1n6gZPmNQU56UBglU718cx",ContestMode:"_3dAMO_XZMVp2K1JSO53ohA",contestMode:"_3dAMO_XZMVp2K1JSO53ohA",ToggleSwitch:"JVPG0c9TNru5TLSq9sdUG",toggleSwitch:"JVPG0c9TNru5TLSq9sdUG",DropdownTriangle:"_2MGxQvIhmM2I5CzPdSJTtM",dropdownTriangle:"_2MGxQvIhmM2I5CzPdSJTtM",hideCommentSort:"uAIheeoxWlq57lu5ghv43",HighlightWrapper:"_201SpO3todaXvcWUHaLymN",highlightWrapper:"_201SpO3todaXvcWUHaLymN",Info:"_1urK6AxAk9Sl76RgLUHOqh",info:"_1urK6AxAk9Sl76RgLUHOqh",SetSort:"_1Pn7_008tGFVitpaAxNI9b",setSort:"_1Pn7_008tGFVitpaAxNI9b",SingleCommentText:"_2iOrDLLjWlyPdmGh4fQMuE",singleCommentText:"_2iOrDLLjWlyPdmGh4fQMuE",SortLink:"_2C0TYCrsi0B3m8sQW0hmFv",sortLink:"_2C0TYCrsi0B3m8sQW0hmFv",Title:"_1MfL8RlT7Bsr76qYvR-nqM",title:"_1MfL8RlT7Bsr76qYvR-nqM",Tooltip:"_2PA6P-upB6MB4B4I4WgZGA",tooltip:"_2PA6P-upB6MB4B4I4WgZGA",ViewFullLinkContainer:"_2Cjk95J3a3LyPUHsLEhO37",viewFullLinkContainer:"_2Cjk95J3a3LyPUHsLEhO37",ViewFullLinkOrOverlayLink:"_3P3T6fdpdL6GGPyCM7zs9q",viewFullLinkOrOverlayLink:"_3P3T6fdpdL6GGPyCM7zs9q"}},"./src/reddit/components/Comments/Comment/ExpandButton/index.m.less":function(e,t,s){e.exports={Component:"_3XgXkbSTt-EadyaLszfRVf",component:"_3XgXkbSTt-EadyaLszfRVf"}},"./src/reddit/components/Comments/Comment/Flatlist/breakpoints.m.less":function(e,t,s){e.exports={depth10:"_2sxg06qfN6lCskrSU7pyoj",HideIfVWSmaller:"_2hr3tRWszeMRQ0u_Whs7t8",hideIfVwSmaller:"_2hr3tRWszeMRQ0u_Whs7t8",depth0:"_2t8wLytikHzPCUnvXdS_wu",isInOverlay:"FOPddbU-vkQ5LYmQP6Fgc",isModModeEnabled:"_2hXOR2fIcfnUg0p-Env7KQ",LoggedInUserGroup:"_14hLFU5cIJCyxH9DSgsCov",loggedInUserGroup:"_14hLFU5cIJCyxH9DSgsCov",HideIfVWLarger:"_1YnPvd-E5MbmcM3PvRRcX",hideIfVwLarger:"_1YnPvd-E5MbmcM3PvRRcX",depth3:"_2Ik7QEXtA-lbZKj0ssL89G",depth6:"SwOx7KbRrXYrqQCWMYPf0",depth9:"_2EcU45Nj3OvIEdu169RlLK",ModeratorGroup:"_1CUkbmFVuU6wklfYeYwPFk",moderatorGroup:"_1CUkbmFVuU6wklfYeYwPFk"}},"./src/reddit/components/Comments/Comment/Flatlist/index.m.less":function(e,t,s){e.exports={ModActionsMenu:"_3IuprPPEDVWAHB_tWQFgad",modActionsMenu:"_3IuprPPEDVWAHB_tWQFgad",ViewReportsDropdown:"_1JwG70oEVxaFNeRI-8q_bd",viewReportsDropdown:"_1JwG70oEVxaFNeRI-8q_bd",supportButton:"_2YUu8EV4OahSxJwgb9xLbr",Report:"tfULaYlP83dV84XOxX3YE",report:"tfULaYlP83dV84XOxX3YE",IgnoreReport:"_1QhRdH9FgEwuJIYiBlnog8",ignoreReport:"_1QhRdH9FgEwuJIYiBlnog8",OverflowMenuSpacer:"hrV8gUgmt0V7wM2wgZ81l",overflowMenuSpacer:"hrV8gUgmt0V7wM2wgZ81l",DropdownRow:"uoWjzSc1sqcAD_cLV6MWa",dropdownRow:"uoWjzSc1sqcAD_cLV6MWa",iconWrapper:"jap7xdwXZKV3I9Oj8GdgQ",Flatlist:"_1LXnp2ufrzN6ioaTLTjGQ1",flatlist:"_1LXnp2ufrzN6ioaTLTjGQ1",CommentIcon:"_1g4YvNNIFoV_5_EhsVfyRy",commentIcon:"_1g4YvNNIFoV_5_EhsVfyRy",Button:"_374Hkkigy4E4srsI2WktEd",button:"_374Hkkigy4E4srsI2WktEd",ModToolsFlatlist:"_2sGRD7t2kAbCLKrZ6UjoMW",modToolsFlatlist:"_2sGRD7t2kAbCLKrZ6UjoMW",dropdownRowText:"_3my60CXALAaQkY4P4xVmad",overflowMenu:"_1VR6DV38j4rMT5OMeU4gJZ"}},"./src/reddit/components/Comments/Comment/TopMeta/index.m.less":function(e,t,s){e.exports={badgeIconStyle:"_2MlVoXUc3Eo3KGWDukM9xn",modBadgeIconStyle:"_1kqPGnOAdnd9gPUXDU2_AS",DonationAmount:"_3sY3k4LLYR5dbXRxnGkhwG",donationAmount:"_3sY3k4LLYR5dbXRxnGkhwG",RightPositionedAuthorFlair:"_zMIUk6t-WDI7fxfkvD02",rightPositionedAuthorFlair:"_zMIUk6t-WDI7fxfkvD02",EditedText:"uMVXpG5M2xxHNW2g94S8K",editedText:"uMVXpG5M2xxHNW2g94S8K",MetaSeparator:"yJGcpQjpmA13QcuUz2h0B",metaSeparator:"yJGcpQjpmA13QcuUz2h0B",publicPoints:"_2LXcsgibmlCEsBPk8MLy7e",AuthorHoverCard:"_16AAktgl_rVbXAeiWU9CQd",authorHoverCard:"_16AAktgl_rVbXAeiWU9CQd",Component:"_36uQqfCEixcb8d3_aWB5H6",component:"_36uQqfCEixcb8d3_aWB5H6",AdminIcon:"_2IdAWdzNdIq-LUdJv0lpD6",adminIcon:"_2IdAWdzNdIq-LUdJv0lpD6",Approve:"_34mJxMS9sOCTo8dtFMQOLR",approve:"_34mJxMS9sOCTo8dtFMQOLR",Lock:"_3ATarJMtY0XRI9Lgu7e7DC",lock:"_3ATarJMtY0XRI9Lgu7e7DC",AdminEmeritus:"xIZgDbR-AMck1mC6sZI1m",adminEmeritus:"xIZgDbR-AMck1mC6sZI1m",Automoderator:"EytgzUMjj1jcbKtFsodey",automoderator:"EytgzUMjj1jcbKtFsodey",removed:"_2jIbl66ymb_twdJlZslQ-e",CakeIcon:"_1HLCDx7CkNvQgmNroGXenu",cakeIcon:"_1HLCDx7CkNvQgmNroGXenu",Moderator:"_174Mk1p6pYIrr6f1y6b4fn",moderator:"_174Mk1p6pYIrr6f1y6b4fn",Remove:"_1DQWCB93pHPVVJCXOGsblO",remove:"_1DQWCB93pHPVVJCXOGsblO",Report:"_2wYWDvjfG1JR6VNK9ryPFk",report:"_2wYWDvjfG1JR6VNK9ryPFk",Spam:"_3kK86gdpll9ihjOPWJE6f2",spam:"_3kK86gdpll9ihjOPWJE6f2",Op:"_2pZswNTz_uW46hN02djL7j",op:"_2pZswNTz_uW46hN02djL7j",Contractor:"_1hbZy7yehvtj0w4ec-2u3Y",contractor:"_1hbZy7yehvtj0w4ec-2u3Y",redditorIcon:"_2SkK42s487b14gsRa4zinm",MetaLink:"_1sA-1jNHouHDpgCp1fCQ_F",metaLink:"_1sA-1jNHouHDpgCp1fCQ_F",StickiedText:"_1eNQE7Kj1TEqCLAn1BUKJy",stickiedText:"_1eNQE7Kj1TEqCLAn1BUKJy",DeletedText:"_2Wu4MNMVl4bsJ9iVnQz0dF",deletedText:"_2Wu4MNMVl4bsJ9iVnQz0dF",RemovalReason:"Gtgj2P-Js5aSN72H6Mqms",removalReason:"Gtgj2P-Js5aSN72H6Mqms",container:"_3ezOJqKdLbgkHsXcfvS5SA",collapsed:"_2k27lgIDltx9kOzVGXt48i",hasBadges:"_1KMFaeLEhRikeFEOlWE9Ti",liveStreaming:"_1iUed95f0HTc84gBtoOxdc",metaText:"_3_GZIIN1xcMEC5AVuv4kfa",CrowdControlText:"Eoj3NCGwtl7hQcr7Rnc0N",crowdControlText:"Eoj3NCGwtl7hQcr7Rnc0N"}},"./src/reddit/components/Comments/Comment/TopMeta/index.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/app/strings/index.ts"),c=s("./src/reddit/actions/tooltip.ts"),d=s("./src/lib/classNames/index.ts"),l=s("./src/lib/constants/index.ts"),m=s("./src/lib/humanizeDateTime/index.ts"),p=s("./src/lib/lessComponent.tsx"),u=s("./src/lib/timeAgo/index.ts"),h=s("./src/reddit/components/AuthorLink/index.tsx"),b=s("./src/reddit/components/AwardBadges/index.tsx"),g=s("./src/reddit/components/Economics/SubredditPremium/Badges/UserDisplay/index.tsx"),x=s("./src/reddit/components/Economics/SubredditPremium/Badges/UsernameDisplay/index.tsx"),C=s("./src/reddit/components/Economics/Support/DonationAmount/async.tsx"),v=s("./src/reddit/featureFlags/index.ts"),O=s("./src/reddit/selectors/economics.ts"),E=s("./src/reddit/components/Economics/TopTippers/Icon/index.tsx"),f=s("./src/reddit/components/Economics/TopTippers/CommentUsername/index.m.less"),y=s.n(f);const j=e=>{switch(e){case 1:return{color:"#FF2500",fontWeight:700};case 2:return{color:"#FF7300",fontWeight:700};case 3:return{color:"#FFA200",fontWeight:700};default:return{}}};var w=Object(r.b)(()=>Object(a.c)({post:(e,t)=>{let{contentId:s}=t;return e.posts.models[s]},tippers:(e,t)=>{if(v.d.spTopTippers(e))return Object(O.r)(e,t)}}))((function(e){if(e.tippers&&e.tippers.allTippers.has(e.userId)){const t=e.tippers.topTippers.ranking[e.userId]||5,s=o.a.cloneElement(o.a.Children.only(e.children),{style:j(t)});return o.a.createElement("div",{className:y.a.container},o.a.createElement(E.a,{className:y.a.badge,creatorId:e.creatorId||e.post&&e.post.authorId,rank:t,subredditId:e.subredditId}),s)}return e.children})),I=s("./src/reddit/components/Flair/index.tsx"),P=s("./src/reddit/components/Governance/UserPublicPointsDisplay/async.tsx"),T=s("./src/reddit/components/Hovercards/AuthorHovercard/index.tsx"),k=s("./src/reddit/components/InfoTextTooltip/index.tsx"),S=s("./src/reddit/components/JSAPIContainers/index.tsx"),_=s("./src/reddit/components/PostTopMeta/index.tsx"),N=s("./src/reddit/helpers/isRemoved.ts"),L=s("./src/reddit/helpers/modTooltipTemplates/index.ts"),M=s("./src/reddit/helpers/showReportIndicator/index.ts"),R=s("./src/reddit/i18n/utils.ts"),B=s("./src/reddit/actions/comment/index.ts"),A=s("./src/reddit/actions/removalReasons/index.ts"),F=s("./src/reddit/models/Comment/index.ts"),D=s("./src/reddit/models/Flair/index.ts"),W=s("./src/reddit/constants/stewards.ts"),H=s("./src/reddit/icons/fonts/Admin/index.tsx"),V=s("./src/reddit/icons/fonts/Approve/index.tsx"),U=s("./src/reddit/icons/fonts/Lock/index.tsx"),K=s("./src/reddit/icons/fonts/helpers.tsx"),G=s("./src/reddit/icons/fonts/Op/index.m.less"),z=s.n(G);var J=p.a.wrapped(e=>o.a.createElement("i",{className:"".concat(Object(K.b)("op")," ").concat(e.className),id:e.id,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},o.a.createElement(K.a,null,e.desc)),"OpIcon",z.a),q=s("./src/reddit/icons/fonts/Remove/index.tsx"),Y=s("./src/reddit/icons/fonts/Report/index.tsx"),Q=s("./src/reddit/icons/fonts/Spam/index.tsx"),Z=s("./src/reddit/icons/svgs/Automoderator/index.tsx"),X=s("./src/reddit/icons/svgs/Cake/index.tsx"),$=s("./src/reddit/icons/svgs/Moderate/index.tsx"),ee=s("./src/reddit/icons/svgs/Redditor/index.tsx"),te=s("./src/reddit/controls/MetaData/index.tsx"),se=s("./src/reddit/selectors/experiments/publicAwarding.ts"),ne=s("./src/reddit/selectors/subreddit.ts"),oe=s("./src/reddit/selectors/userFlair.ts"),re=s("./src/reddit/components/Comments/Comment/TopMeta/index.m.less"),ae=s.n(re);function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var ce=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const de=p.a.wrapped(I.b,"RightPositionedAuthorFlair",ae.a),le=p.a.wrapped(H.a,"AdminIcon",ae.a),me=p.a.wrapped(V.a,"Approve",ae.a),pe=p.a.wrapped(U.a,"Lock",ae.a),ue=p.a.div("AdminEmeritus",ae.a),he=p.a.wrapped(Z.a,"Automoderator",ae.a),be=p.a.wrapped(X.a,"CakeIcon",ae.a),ge=p.a.wrapped($.a,"Moderator",ae.a),xe=p.a.wrapped(q.a,"Remove",ae.a),Ce=p.a.wrapped(Y.a,"Report",ae.a),ve=p.a.wrapped(Q.a,"Spam",ae.a),Oe=p.a.wrapped(J,"Op",ae.a),Ee=p.a.wrapped(H.a,"Contractor",ae.a),fe=p.a.a("MetaLink",ae.a),ye=p.a.wrapped(te.a,"EditedText",ae.a),je=p.a.wrapped(te.a,"StickiedText",ae.a),we=p.a.span("DeletedText",ae.a),Ie=p.a.wrapped(te.a,"MetaSeparator",ae.a),Pe=p.a.wrapped(te.a,"CrowdControlText",ae.a),Te=p.a.wrapped(T.b,"AuthorHoverCard",ae.a),ke=p.a.a("RemovalReason",ae.a),Se=p.a.wrapped(g.b,"Component",ae.a),_e=Object(i.d)("comment.children"),Ne=Object(i.d)("comment.moreThanChildren"),Le=e=>(t,s)=>{let{comment:n,renderedInOverlay:o}=s;return"".concat(e).concat(n.id).concat(o?"inOverlay":"")},Me=Object(i.e)("comment.tooltips.admin"),Re=Object(i.e)("comment.tooltips.cakeday"),Be=Object(i.e)("comment.tooltips.adminEmeritus"),Ae=Object(i.e)("comment.tooltips.moderator"),Fe=Object(i.e)("comment.tooltips.op"),De=Object(i.e)("comment.tooltips.contractor"),We=Object(r.b)(()=>Object(a.c)({adminTooltipId:Le("CommentTopMeta--Admin--"),cakedayTooltipId:Le("CommentTopMeta--cakeday--"),adminEmeritusTooltipId:Le("CommentTopMeta--AdEm--"),automodTooltipId:Le("CommentTopMeta--Automod--"),approveTooltipId:Le("CommentTopMeta--Approve--"),createdTooltipId:Le("CommentTopMeta--Created--"),contractorTooltipId:Le("CommentTopMeta--Contractor--"),gildedTooltipId:Le("CommentTopMeta--Gold--"),lockedTooltipId:Le("CommentTopMeta--Locked--"),modTooltipId:Le("CommentTopMeta--Mod--"),opTooltipId:Le("CommentTopMeta--OP--"),publicAwardersEnabled:e=>!!Object(se.a)(e),removeTooltipId:Le("CommentTopMeta--Remove--"),reportTooltipId:Le("CommentTopMeta--Report--"),spamTooltipId:Le("CommentTopMeta--Spam--"),stewardTooltipId:Le("CommentTopMeta--Steward--"),hasBadges:(e,t)=>{let{comment:s}=t;return!!Object(O.p)(e,s.subredditId,s.authorId).length},subredditDisplayText:(e,t)=>{const s=Object(ne.J)(e,{commentId:t.comment.id});return s?s.displayText:""},topTippersEnabled:v.d.spTopTippers,flairPosition:(e,t)=>{let{comment:s}=t;return Object(oe.d)(e,{subredditId:s.subredditId})}}),(e,t)=>({onCreatedClick:()=>{window.addEventListener("focus",(function s(){((e,t,s)=>{window.removeEventListener("focus",s),e(Object(B.N)({commentListNodeId:t})),window.setTimeout(()=>e(Object(B.N)({commentListNodeId:t})),5e3)})(e,t.comment.id,s)}))},onHideTooltip:()=>e(Object(c.h)()),onShowTooltip:t=>e(Object(c.f)({tooltipId:t})),openRemovalReasonModal:()=>e(Object(A.d)(t.comment.subredditId,[t.comment.id]))}));t.a=We(e=>{const{adminEmeritusTooltipId:t,adminTooltipId:s,approveTooltipId:n,automodTooltipId:r,cakedayTooltipId:a,children:i,className:c,collapsed:m,collapsedBecauseCrowdControl:p,comment:u,commentsPageKey:h,contractorTooltipId:g,compact:v,flair:O,flairPosition:E,hasBadges:f,isLivestreaming:y,ignoreFlairPosition:j,ignoreLock:w,language:T,lockedTooltipId:k,modTooltipId:N,onHideTooltip:L,onShowTooltip:M,opTooltipId:R,openRemovalReasonModal:B,publicAwardersEnabled:A,removeTooltipId:W,renderContractorBadge:H,renderedInOverlay:V,reportTooltipId:U,spamTooltipId:K,stewardTooltipId:G,subredditDisplayText:z,topTippersEnabled:J}=e;if(u.isDeleted)return o.a.createElement(He,ie({},e,{className:Object(d.a)(c,ae.a.container,{[ae.a.collapsed]:m})}));if(m)return o.a.createElement(Ve,ie({},e,{className:Object(d.a)(c,ae.a.container,{[ae.a.collapsed]:m})}));const q=!j&&E===D.b.Left;return o.a.createElement("div",{className:Object(d.a)(c,ae.a.container,{[ae.a.collapsed]:m,[ae.a.hasBadges]:f,[ae.a.liveStreaming]:y})},O&&q&&o.a.createElement(I.b,{flair:O,forceSmallEmojis:v}),!Object(F.d)(u)&&o.a.createElement(Se,{showAddCustom:!0,subredditId:u.subredditId,userId:u.authorId,uniqueIdentifier:u.id}),o.a.createElement(Te,{postOrComment:u,tooltipType:V?_.c.Lightbox:void 0},o.a.createElement(x.b,{ignore:Object(F.d)(u)||!!u.distinguishType&&u.distinguishType!==l.B.NONE,subredditId:u.subredditId,userId:u.authorId},o.a.createElement(Ke,{comment:u,isLivestreaming:y,isStrong:!!v,isAuthorDeleted:Object(F.d)(u),topTippersEnabled:J},i&&i))),p&&o.a.createElement(Pe,null,"Crowd Control"),p&&o.a.createElement(te.c,{className:ae.a.metaText,key:"crowdControlSeparator"}),O&&!q&&o.a.createElement(de,{flair:O,forceSmallEmojis:v}),!v&&o.a.createElement(P.a,{className:ae.a.publicPoints,contentId:u.id,subredditId:u.subredditId,userId:u.authorId,username:u.author}),o.a.createElement(o.a.Fragment,null,o.a.createElement(S.b,{commentId:u.id}),o.a.createElement(S.a,{commentId:u.id,commentsPageKey:h}),o.a.createElement(Je,{comment:u,compact:v,adminTooltipId:s,adminEmeritusTooltipId:t,cakedayTooltipId:a,contractorTooltipId:g,language:T,modTooltipId:N,onHideTooltip:L,onShowTooltip:M,opTooltipId:R,renderContractorBadge:H,subredditDisplayText:z})),!v&&o.a.createElement(o.a.Fragment,null,!u.isDeleted&&o.a.createElement(te.b,{className:ae.a.metaText,isScoreHidden:u.isScoreHidden,language:T,score:u.score}),o.a.createElement(te.c,{className:ae.a.metaText,key:"scoreCreatedSeparator"}),o.a.createElement(Ge,ie({key:"Created"},e)),u.isStickied&&Ye(T),u.editedAt&&Ue(T,u.editedAt)),o.a.createElement(o.a.Fragment,null,o.a.createElement(qe,{comment:u,approveTooltipId:n,automodTooltipId:r,ignoreLock:w,language:T,lockedTooltipId:k,onHideTooltip:L,onShowTooltip:M,openRemovalReasonModal:B,removeTooltipId:W,reportTooltipId:U,spamTooltipId:K,stewardTooltipId:G}),o.a.createElement(C.a,{className:ae.a.DonationAmount,contentId:u.id,subredditId:u.subredditId})),o.a.createElement(b.a,{showAwarders:A,tooltipType:V?_.c.Lightbox:void 0,thing:u}))});const He=e=>{const{language:t,childrenInfo:s,collapsed:n,className:r,comment:a}=e;return o.a.createElement("div",{className:r},o.a.createElement(we,null,a.deletedBy===F.a.User?Object(i.a)(t,"comment.commentDeletedByAuthor"):Object(i.a)(t,"comment.commentDeletedByMod")),o.a.createElement(Ge,ie({key:"Created"},e)),n&&ze({childrenInfo:s,language:t}))},Ve=e=>{const{comment:t,language:s,className:n,childrenInfo:r}=e;return o.a.createElement("div",{className:n},o.a.createElement("div",null,o.a.createElement(Ke,{comment:t,isAuthorDeleted:Object(F.d)(t),topTippersEnabled:!1})),o.a.createElement(te.b,{className:ae.a.metaText,isScoreHidden:t.isScoreHidden,language:s,score:t.score}),o.a.createElement(te.c,{className:ae.a.metaText,key:"scoreCreatedSeparator"}),o.a.createElement(Ge,ie({key:"Created"},e)),ze({childrenInfo:r,language:s}))},Ue=(e,t)=>o.a.createElement(n.Fragment,null,o.a.createElement(te.c,{className:ae.a.metaText}),o.a.createElement(ye,null,Object(i.a)(e,"comment.edited",{time:Object(u.d)(e,t)}))),Ke=e=>{const t=o.a.createElement(h.a,{author:e.comment.author,isAdmin:e.comment.isAdmin,isAdminEmeritus:e.comment.distinguishType===l.B.ALUMNI_ADMIN,isAuthorDeleted:e.isAuthorDeleted,isLivestreaming:e.isLivestreaming,isMod:e.comment.isMod,isOp:e.comment.isOp,isStrong:e.isStrong,style:e.style},e.children&&e.children,e.comment.author);return e.topTippersEnabled?o.a.createElement(w,{contentId:e.comment.postId,subredditId:e.comment.subredditId,userId:e.comment.authorId},t):t};class Ge extends o.a.PureComponent{constructor(){super(...arguments),this.onShowCreatedTooltip=()=>this.props.onShowTooltip(this.props.createdTooltipId)}render(){const e=this.props,{comment:t,language:s,onCreatedClick:n}=e,r=ce(e,["comment","language","onCreatedClick"]);return o.a.createElement(fe,{href:t.permalink,id:r.createdTooltipId,onClick:n,onMouseEnter:this.onShowCreatedTooltip,onMouseLeave:r.onHideTooltip,rel:"nofollow",target:"_blank"},o.a.createElement("span",null,Object(u.d)(s,t.created)),Qe(r.createdTooltipId,Object(m.a)(t.created)))}}const ze=e=>{const{hasContinueThread:t,numChildren:s}=e.childrenInfo||{hasContinueThread:!1,numChildren:0};return o.a.createElement(Ie,{className:ae.a.metaText},"(",t?Ne(e.language,s,{numChildren:s}):_e(e.language,s,{numChildren:s}),")")};class Je extends o.a.PureComponent{constructor(){super(...arguments),this.onShowCakedayTooltip=()=>this.props.onShowTooltip(this.props.cakedayTooltipId),this.onShowAdminTooltip=()=>this.props.onShowTooltip(this.props.adminTooltipId),this.onShowAdminEmeritusTooltip=()=>this.props.onShowTooltip(this.props.adminEmeritusTooltipId),this.onShowModTooltip=()=>this.props.onShowTooltip(this.props.modTooltipId),this.onShowOpTooltip=()=>this.props.onShowTooltip(this.props.opTooltipId),this.onShowContractorTooltip=()=>this.props.onShowTooltip(this.props.contractorTooltipId)}render(){const e=this.props,{comment:t}=e,s=ce(e,["comment"]);return o.a.createElement(n.Fragment,null,t.isAuthorCakeday&&o.a.createElement(be,{"aria-label":Re(s.language),id:s.cakedayTooltipId,onMouseEnter:this.onShowCakedayTooltip,onMouseLeave:s.onHideTooltip}),t.isAuthorCakeday&&Qe(s.cakedayTooltipId,Re(s.language)),t.isAdmin&&o.a.createElement(le,{desc:Me(s.language),id:s.adminTooltipId,onMouseEnter:this.onShowAdminTooltip,onMouseLeave:s.onHideTooltip}),t.isAdmin&&Qe(s.adminTooltipId,Me(s.language)),t.distinguishType===l.B.ALUMNI_ADMIN&&o.a.createElement(ue,{"aria-label":Be(s.language),children:"Δ",id:s.adminEmeritusTooltipId,onMouseEnter:this.onShowAdminEmeritusTooltip,onMouseLeave:s.onHideTooltip}),t.distinguishType===l.B.ALUMNI_ADMIN&&Qe(s.adminEmeritusTooltipId,Be(s.language)),t.isMod&&o.a.createElement(ge,{desc:Ae(s.language,{displayText:s.subredditDisplayText}),id:s.modTooltipId,onMouseEnter:this.onShowModTooltip,onMouseLeave:s.onHideTooltip}),t.isMod&&Qe(s.modTooltipId,Ae(s.language,{displayText:s.subredditDisplayText})),t.isOp&&o.a.createElement(Oe,{desc:Fe(s.language),id:s.opTooltipId,onMouseEnter:this.onShowOpTooltip,onMouseLeave:s.onHideTooltip}),t.isOp&&Qe(s.opTooltipId,Fe(s.language)),s.renderContractorBadge&&o.a.createElement(Ee,{desc:De(s.language),id:s.contractorTooltipId,onMouseEnter:this.onShowContractorTooltip,onMouseLeave:s.onHideTooltip}),s.renderContractorBadge&&Qe(s.contractorTooltipId,De(s.language)))}}class qe extends o.a.PureComponent{constructor(){super(...arguments),this.onShowApproveTooltip=()=>this.props.onShowTooltip(this.props.approveTooltipId),this.onShowRemoveTooltip=()=>this.props.onShowTooltip(this.props.removeTooltipId),this.onShowSpamTooltip=()=>this.props.onShowTooltip(this.props.spamTooltipId),this.onShowStewardTooltip=()=>this.props.onShowTooltip(this.props.stewardTooltipId),this.onShowAutomodTooltip=()=>this.props.onShowTooltip(this.props.automodTooltipId),this.onShowReportTooltip=()=>this.props.onShowTooltip(this.props.reportTooltipId)}render(){const e=this.props,{comment:t}=e,s=ce(e,["comment"]);return o.a.createElement(n.Fragment,null,(t.approvedBy||t.isApproved)&&o.a.createElement(me,{desc:Object(L.a)(s.language,t),id:s.approveTooltipId,onMouseEnter:this.onShowApproveTooltip,onMouseLeave:s.onHideTooltip}),(t.approvedBy||t.isApproved)&&Qe(s.approveTooltipId,Object(L.a)(s.language,t)),Object(N.a)(t)&&o.a.createElement(xe,{desc:Object(L.c)(s.language,t),id:s.removeTooltipId,onMouseEnter:this.onShowRemoveTooltip,onMouseLeave:s.onHideTooltip}),Object(N.a)(t)&&Qe(s.removeTooltipId,Object(L.c)(s.language,t)),Object(N.a)(t)&&t.isRemoved&&!t.modNote&&!t.modRemovalReason&&o.a.createElement(ke,{onClick:s.openRemovalReasonModal},Object(i.a)(s.language,"modTools.addARemovalReason")),Object(N.a)(t)&&!(t.isRemoved&&!t.modNote&&!t.modRemovalReason)&&o.a.createElement(ke,{onMouseEnter:this.onShowRemoveTooltip,onMouseLeave:s.onHideTooltip},Object(i.a)(s.language,"modTools.removalReason")),t.isLocked&&!s.ignoreLock&&o.a.createElement(pe,{desc:Object(R.c)("Locked"),id:s.lockedTooltipId,onMouseEnter:()=>{s.onShowTooltip(s.lockedTooltipId)},onMouseLeave:s.onHideTooltip}),t.bannedBy&&t.isSpam&&o.a.createElement(ve,{desc:Object(L.e)(s.language,t),id:s.spamTooltipId,onMouseEnter:this.onShowSpamTooltip,onMouseLeave:s.onHideTooltip}),t.bannedBy&&t.isSpam&&Qe(s.spamTooltipId,Object(L.e)(s.language,t)),("AutoModerator"===t.bannedBy||"AutoModerator"===t.approvedBy)&&o.a.createElement(he,{className:Object(d.a)({[ae.a.removed]:!!t.bannedBy}),desc:Object(L.b)(s.language),id:s.automodTooltipId,key:s.automodTooltipId,onMouseEnter:this.onShowAutomodTooltip,onMouseLeave:s.onHideTooltip}),t.bannedBy===W.a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ee.a,{className:ae.a.redditorIcon,id:s.stewardTooltipId,key:s.stewardTooltipId,onMouseEnter:this.onShowStewardTooltip,onMouseLeave:s.onHideTooltip}),Qe(s.stewardTooltipId,Object(R.c)("Auto-removed by ".concat(Object(R.b)("name",t.bannedBy))))),("AutoModerator"===t.bannedBy||"AutoModerator"===t.approvedBy)&&Qe(s.automodTooltipId,Object(L.b)(s.language)),Object(M.a)(t)&&o.a.createElement(Ce,{desc:Object(L.d)(s.language,t.numReports),id:s.reportTooltipId,onMouseEnter:this.onShowReportTooltip,onMouseLeave:s.onHideTooltip}),Object(M.a)(t)&&Qe(s.reportTooltipId,Object(L.d)(s.language,t.numReports)))}}const Ye=e=>o.a.createElement(n.Fragment,null,o.a.createElement(te.c,{className:ae.a.metaText}),o.a.createElement(je,null,Object(i.a)(e,"comment.stickied"))),Qe=(e,t)=>o.a.createElement(k.c,{tooltipId:e,text:t})},"./src/reddit/components/Comments/Comment/index.m.less":function(e,t,s){e.exports={ExpandButton:"_1nGapmdexvR0BuOkfAi6wa",expandButton:"_1nGapmdexvR0BuOkfAi6wa",ErrorText:"_3XArRVBsKuWegVHX9CQjH-",errorText:"_3XArRVBsKuWegVHX9CQjH-",CommentBody:"_3cjCphgls6DH-irkVaA0GM",commentBody:"_3cjCphgls6DH-irkVaA0GM",EditCommentForm:"JchsqHyN3thfSnN8dUM3",editCommentForm:"JchsqHyN3thfSnN8dUM3",VerticalVotes:"kB7GZ7EzNg1Msq-nEnY0z",verticalVotes:"kB7GZ7EzNg1Msq-nEnY0z",voteButton:"_2m5vzALl8kQdr9kwIFUo5t",upDownVote:"_22nWXKAY6OzAfK5GcUqWV2",CommentContentWrapper:"_3tw__eCCe7j-epNCKGXUKk",commentContentWrapper:"_3tw__eCCe7j-epNCKGXUKk",isPendingDeletion:"_2R8NbVFaqNnBbuA7o2osje",isRemoved:"_2zA6eSGIr_oQU7np0uNqoB",isLocked:"t8jgOblBrQTKWHnVy0zGD",isActive:"_1vvFtxiq5874iIdCUYlL-d",isCollapsed:"BjX6VVsz_8JJDN1Ap9_IL",highlightComment:"_2ym9uYDdCxu8P4UFCLNCgE",CommentWrapper:"P8SGAKMtRxNwlmLz1zdJu",commentWrapper:"P8SGAKMtRxNwlmLz1zdJu",focused:"_1Sy9NCNbLA9uJZj-qgUrMG",topLevel:"_1z5rdmX8TDr6mqwNv7A70U",TopMeta:"_1S45SPAIb30fsXtEcKPSdt",topMeta:"_1S45SPAIb30fsXtEcKPSdt",collapsed:"_3c9Go6433BnvYx8_7MkPnt",CommentCreation:"_2jhbZV6mVCM5Ma7Z376DW2",commentCreation:"_2jhbZV6mVCM5Ma7Z376DW2"}},"./src/reddit/components/Comments/CommentListNode/index.m.less":function(e,t,s){e.exports={CommentListNodeWrapper:"_3sf33-9rVAO_v4y0pIW_CH",commentListNodeWrapper:"_3sf33-9rVAO_v4y0pIW_CH",isHidden:"_2csJ1c6CZ_3VQ75SVdUAwt",isAwarded:"_3x1wnLNRJ5UQU9fODNc2V4",isNightmodeOn:"_1XNv4WhzL_uEQ36cwbjMOe"}},"./src/reddit/components/Comments/ContinueThreadLink/index.m.less":function(e,t,s){e.exports={ArrowRight:"egHA5MD_goQfvgLP3zgST",arrowRight:"egHA5MD_goQfvgLP3zgST",HoverSpan:"_2bsN7AuzEexqxXD-vhOkM7",hoverSpan:"_2bsN7AuzEexqxXD-vhOkM7",Wrapper:"_3ndawrYzcvjHPJFYUHijfP",wrapper:"_3ndawrYzcvjHPJFYUHijfP",isActive:"btJMgy_2EOVvOVP-DikGZ",LinkOrOverlayLink:"b57A3J7QBa7TvY8XeupVn",linkOrOverlayLink:"b57A3J7QBa7TvY8XeupVn"}},"./src/reddit/components/Comments/MoreCommentsItem/index.m.less":function(e,t,s){e.exports={MoreCommentsItemWrapper:"_3_mqV5-KnILOxl1TvgYtCk",moreCommentsItemWrapper:"_3_mqV5-KnILOxl1TvgYtCk",MoreComments:"_2HYsucNpMdUpYlGBMviq8M",moreComments:"_2HYsucNpMdUpYlGBMviq8M",MoreCommentsInteractive:"_23013peWUhznY89KuYPZKv",moreCommentsInteractive:"_23013peWUhznY89KuYPZKv",isActive:"l7--vTMsoEqrU8pjG52TF"}},"./src/reddit/components/Comments/States/index.m.less":function(e,t,s){e.exports={CommentsPlaceholderContainer:"_2o0N1VHuLszWHqY5A8iayv",commentsPlaceholderContainer:"_2o0N1VHuLszWHqY5A8iayv",CommentPlaceholder:"_2114DnVtHe_0MtbEW85tnL",commentPlaceholder:"_2114DnVtHe_0MtbEW85tnL",VoteColumn:"_3j7WNOCzFwCp1SXZGJP1-V",voteColumn:"_3j7WNOCzFwCp1SXZGJP1-V",TextColumn:"_3tQxKBNuEJsKH_mPQEy34W",textColumn:"_3tQxKBNuEJsKH_mPQEy34W",StateContainer:"TbMmDiSaSaBQFF9F3FGe8",stateContainer:"TbMmDiSaSaBQFF9F3FGe8",CommentsIcon:"_1-f8S_KoiOmIpA8kGxOgfh",commentsIcon:"_1-f8S_KoiOmIpA8kGxOgfh",SnooFacepalm:"_2AxaYiv6EkZse5msRZqowQ",snooFacepalm:"_2AxaYiv6EkZse5msRZqowQ",EmptyTitle:"_39dVqXnozb8JxasPyFPu6C",emptyTitle:"_39dVqXnozb8JxasPyFPu6C",ErrorTitle:"_2Nj40mHW74FkFefq6oqWkb",errorTitle:"_2Nj40mHW74FkFefq6oqWkb",EmptyText:"_2x3Avx0lbWMcic-5bE_guO",emptyText:"_2x3Avx0lbWMcic-5bE_guO",LoadingFullPage:"_3kZ_esGcijvfnM9KjA27vj",loadingFullPage:"_3kZ_esGcijvfnM9KjA27vj",Upvote:"_1lwmFW6D9PmeT_QA-R5F_0",upvote:"_1lwmFW6D9PmeT_QA-R5F_0",Downvote:"_32W1DnzyRkYXP82ZO96H0V",downvote:"_32W1DnzyRkYXP82ZO96H0V",TopMetaPlaceholder:"_24vSs1yG3YhINbU6QRiFR9",topMetaPlaceholder:"_24vSs1yG3YhINbU6QRiFR9",CommentBodyPlaceholder:"_3S0qviXPTlIEUjYjSKT_Lb",commentBodyPlaceholder:"_3S0qviXPTlIEUjYjSKT_Lb"}},"./src/reddit/components/Comments/States/index.tsx":function(e,t,s){"use strict";s.d(t,"c",(function(){return k})),s.d(t,"b",(function(){return S})),s.d(t,"g",(function(){return _})),s.d(t,"e",(function(){return N})),s.d(t,"d",(function(){return L})),s.d(t,"f",(function(){return M})),s.d(t,"a",(function(){return U}));var n=s("./node_modules/lodash/times.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./node_modules/react-redux/es/index.js"),c=s("./src/app/strings/index.ts"),d=s("./src/lib/classNames/index.ts"),l=s("./src/lib/lessComponent.tsx"),m=s("./src/reddit/actions/page.ts"),p=s("./src/reddit/components/Media/LoadingIcon/index.tsx"),u=s("./src/reddit/controls/Button/index.tsx"),h=s("./src/reddit/helpers/describeApiError/index.ts"),b=s("./src/reddit/helpers/path/index.ts"),g=s("./src/reddit/helpers/styles/mixins/loading.ts"),x=s("./src/reddit/i18n/components.tsx"),C=s("./src/reddit/icons/fonts/Downvote/index.tsx"),v=s("./src/reddit/icons/fonts/Upvote/index.tsx"),O=s("./src/reddit/icons/svgs/Comments/index.tsx"),E=s("./src/reddit/icons/svgs/SnooFacepalm/index.tsx"),f=s("./src/reddit/components/Comments/States/index.m.less"),y=s.n(f);const j=l.a.wrapped(O.a,"CommentsIcon",y.a),w=l.a.wrapped(E.a,"SnooFacepalm",y.a),I=l.a.p("EmptyTitle",y.a),P=l.a.p("ErrorTitle",y.a),T=l.a.p("EmptyText",y.a),k=e=>{let{className:t,isChat:s}=e;return a.a.createElement("div",{className:Object(d.a)(y.a.StateContainer,t)},a.a.createElement(j,null),a.a.createElement(I,null,a.a.createElement(x.c,null,"no ",s?"messages":"comments"," yet")),a.a.createElement(T,null,a.a.createElement(x.c,null,"Be the first to share what you think!")))},S=()=>a.a.createElement("div",{className:y.a.StateContainer},a.a.createElement(j,null),a.a.createElement(I,null,a.a.createElement(x.c,null,"no other discussions yet")),a.a.createElement(T,null,a.a.createElement(x.c,null,"Be the first to post the same link or crosspost in another community!"))),_=e=>{let{link:t}=e;return a.a.createElement("div",{className:y.a.StateContainer},a.a.createElement(j,null),a.a.createElement(I,null,a.a.createElement(x.c,null,"That comment is missing")),a.a.createElement(u.h,{to:Object(b.b)(t)},a.a.createElement(x.c,null,"View all comments")))},N=Object(i.b)(null,(e,t)=>{let{postId:s,commentId:n,sort:o}=t;return{onClick:()=>e(Object(m.r)(s,n,{sort:o},o))}})(e=>{let{apiError:t,language:s,onClick:n}=e;return a.a.createElement("div",{className:y.a.StateContainer},a.a.createElement(w,null),a.a.createElement(P,null,t?Object(h.a)({apiError:t,language:s,isLoggedOut:!1}):Object(c.a)(s,"comment.error")),a.a.createElement(u.f,{onClick:n},a.a.createElement(x.c,null,"retry")))}),L=()=>a.a.createElement("div",null,"500"),M=l.a.wrapped(e=>{let{className:t}=e;return a.a.createElement("div",{className:t},a.a.createElement(p.a,null))},"LoadingFullPage",y.a),R=l.a.div("CommentsPlaceholderContainer",y.a),B=l.a.div("CommentPlaceholder",y.a),A=l.a.div("VoteColumn",y.a),F=l.a.div("TextColumn",y.a),D=l.a.wrapped(v.a,"Upvote",y.a),W=l.a.wrapped(C.a,"Downvote",y.a),H=()=>a.a.createElement("div",{className:Object(d.a)(y.a.TopMetaPlaceholder,Object(g.a)({isLoading:!0}))}),V=()=>a.a.createElement("div",{className:Object(d.a)(y.a.CommentBodyPlaceholder,Object(g.a)({isLoading:!0}))}),U=()=>a.a.createElement(R,null,o()(10,e=>a.a.createElement(B,{key:e},a.a.createElement(A,null,a.a.createElement(D,null),a.a.createElement(W,null)),a.a.createElement(F,null,a.a.createElement(H,null),a.a.createElement(V,null)))))},"./src/reddit/components/Comments/ThreadLines/index.m.less":function(e,t,s){e.exports={Line:"_36AIN2ppxy_z-XSDxTvYj5",line:"_36AIN2ppxy_z-XSDxTvYj5",LineContainer:"_1DooEIX-1Nj5rweIc5cw_E",lineContainer:"_1DooEIX-1Nj5rweIc5cw_E",ShortLineContainer:"_3Wv3am0TXfTcugZJ6niui",shortLineContainer:"_3Wv3am0TXfTcugZJ6niui"}},"./src/reddit/components/Comments/index.m.less":function(e,t,s){e.exports={Scroller:"_1YCqQVO-9r-Up6QPB9H6_4",scroller:"_1YCqQVO-9r-Up6QPB9H6_4"}},"./src/reddit/components/CommentsChat/Comment/AwardComment/index.m.less":function(e,t,s){e.exports={awardComment:"Qkdtf2CTKJDknbazL-AMW",imageContainer:"_1vPp7dOkl_3DKjZYjW06BW",backgroundStar:"_3nk7xeDcgOeGYAfF3Spsbh",spinCW:"_2Puyz3btdtqWX6E5eI2hBB",spinCw:"_2Puyz3btdtqWX6E5eI2hBB",star2:"Nz4rgYpvdRMFuSEznZaNq",awardCommentText:"_1uqs3HOwKgnPYqpbzW9WqV",coinIcon:"_2uSjw9de_n2QHtDV1EiJPd"}},"./src/reddit/components/CommentsChat/Comment/ChatIcon/index.m.less":function(e,t,s){e.exports={icon:"_3SwKz63oDhqTWK_aG-xnXF",Userpic:"_1c_u99Y2cLg7hhjeq50Op6",userpic:"_1c_u99Y2cLg7hhjeq50Op6",TrashIcon:"_2xUH_6ZFDwVzDXthdBMEyN",trashIcon:"_2xUH_6ZFDwVzDXthdBMEyN",ProfileIcon:"_2OVsvDCTt2OzgIct4dAykk",profileIcon:"_2OVsvDCTt2OzgIct4dAykk"}},"./src/reddit/components/CommentsChat/Comment/ChatIcon/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/lessComponent.tsx"),c=(s("./node_modules/core-js/modules/es6.regexp.replace.js"),s("./src/config.ts")),d=s("./node_modules/lodash/memoize.js"),l=s.n(d),m=s("./src/lib/constants/index.ts"),p=["FF4500","0DD3BB","24A0ED","FFB000","FF8717","46D160","25B79F","0079D3","4856A3","C18D42","A06A42","46A508","008985","7193FF","7E53C1","FFD635","DDBD37","D4E815","94E044","FF66AC","DB0064","FF585B","EA0027","A5A4A4","545452"],u=s("./src/reddit/components/CommentsChat/Comment/ChatIcon/index.m.less"),h=s.n(u);const b=i.a.div("Userpic",h.a);var g=l()(e=>{const{userId:t}=e,{processingAvatarImageUrl:s}=c.a,n=(e=>e.replace(m.vb.Account+"_",""))(t),{avatar:r,color:a}=(e=>{const t=p.length,s=parseInt(e,36),n=s%20+1,o=Math.floor(s/20)%t;return{avatar:("0"+n).slice(-2),color:p[o]}})(n),i="".concat(s,"/avatar_default_").concat(r,"_").concat(a,".png");return o.a.createElement(b,{style:{backgroundImage:"url(".concat(i,")"),backgroundColor:"#".concat(a)}})}),x=s("./src/reddit/icons/svgs/Redditor/index.tsx"),C=s("./src/reddit/icons/svgs/Remove/index.tsx");const v=i.a.img("Userpic",h.a),O=Object(a.c)({account:e=>e.user.account}),E=Object(r.b)(O);t.a=i.a.wrapped(E(e=>{let{account:t,className:s,height:n,isLivestreaming:r,trash:a,userId:i,width:c}=e;const d=r?36:20,l={height:n||d,width:c||d,minWidth:c||d};return a?o.a.createElement("div",{className:s,style:l},o.a.createElement(C.a,{className:h.a.TrashIcon})):i?o.a.createElement("div",{className:s,style:l},t&&t.accountIcon&&t.id===i?o.a.createElement(v,{src:t.accountIcon,alt:"user icon"}):o.a.createElement(g,{userId:i})):o.a.createElement("div",{className:s,style:l},t&&t.accountIcon?o.a.createElement(v,{src:t.accountIcon,alt:"user icon"}):o.a.createElement(x.a,{className:h.a.ProfileIcon}))}),"ChatIcon",h.a)},"./src/reddit/components/CommentsChat/Comment/CollapsedComment/index.m.less":function(e,t,s){e.exports={CollapsedComment:"_3atwFTZjTzR7TeUGv2qiiK",collapsedComment:"_3atwFTZjTzR7TeUGv2qiiK"}},"./src/reddit/components/CommentsChat/Comment/Menu/index.m.less":function(e,t,s){e.exports={Menu:"_5my6mpNfA-0tUAWEfSqKg",menu:"_5my6mpNfA-0tUAWEfSqKg",Livestreaming:"_3BiWoByLkhvgOFD5mQKC3P",livestreaming:"_3BiWoByLkhvgOFD5mQKC3P",MenuItem:"_2w0PAV-r7nSn2rWmPNSgkZ",menuItem:"_2w0PAV-r7nSn2rWmPNSgkZ",MenuItemPermalink:"_2aYTbUyyYyWA0n00oUWj1v",menuItemPermalink:"_2aYTbUyyYyWA0n00oUWj1v",ApproveIcon:"_3gt_IOdHja-rh09hVkYpPb",approveIcon:"_3gt_IOdHja-rh09hVkYpPb",EditIcon:"_3PW1UsfpSAMxomcTcf_ikU",editIcon:"_3PW1UsfpSAMxomcTcf_ikU",FlagIcon:"_269qxNSrwp7r6TRmz330pB",flagIcon:"_269qxNSrwp7r6TRmz330pB",RemoveIcon:"_2buZ4_GVymVoT-epE6aVWC",removeIcon:"_2buZ4_GVymVoT-epE6aVWC",SpamIcon:"_2uhO8ps5ygzeaMfBqgte48",spamIcon:"_2uhO8ps5ygzeaMfBqgte48",ReplyIcon:"GOcnt_7O2SheQ1cMVusGY",replyIcon:"GOcnt_7O2SheQ1cMVusGY",TrashIcon:"y5OXD3zhZe6eOjDY_te9N",trashIcon:"y5OXD3zhZe6eOjDY_te9N",HorizontalVotes:"_292WfpEp6iZvLlnRwGwndc",horizontalVotes:"_292WfpEp6iZvLlnRwGwndc"}},"./src/reddit/components/CommentsChat/Comment/Reply/index.m.less":function(e,t,s){e.exports={ChatIcon:"A7lJyo4aA-0ZG543rcU5N",chatIcon:"A7lJyo4aA-0ZG543rcU5N",ReplyAuthor:"_1oqAMLcBteCs1uqiee6hPH",replyAuthor:"_1oqAMLcBteCs1uqiee6hPH",ReplyComment:"_1G2J0kP9hg_lbO0_snqlRa",replyComment:"_1G2J0kP9hg_lbO0_snqlRa",ReplyWrapper:"nJ-zNz-rKWpUAVwBrcicJ",replyWrapper:"nJ-zNz-rKWpUAVwBrcicJ",ReplyLinkBubble:"_2jEkNe2J7P_4gGTPVvYH_n",replyLinkBubble:"_2jEkNe2J7P_4gGTPVvYH_n",delete:"YvyNyAbJVOuICmvKmRvEQ"}},"./src/reddit/components/CommentsChat/Comment/index.m.less":function(e,t,s){e.exports={Menu:"_2qe0ML8CXcWe4YSyvE9LgB",menu:"_2qe0ML8CXcWe4YSyvE9LgB",CommentWrapper:"_1cLn4fCD5gseRsUmt4bMvC",commentWrapper:"_1cLn4fCD5gseRsUmt4bMvC",CommentReadMoreButton:"_1MYiq2Hs6CoOoLuxy6wdz4",commentReadMoreButton:"_1MYiq2Hs6CoOoLuxy6wdz4",LivestreamingCommentWrapper:"_2eTWiuSXGVaOGc5m6zQgeI",livestreamingCommentWrapper:"_2eTWiuSXGVaOGc5m6zQgeI",livestreamingTimeStamp:"_3tm5nGCrgdKGC7teW20lkz",HighlightTarget:"_1xb8KSvW9CPjS0xPMZ7Dwf",highlightTarget:"_1xb8KSvW9CPjS0xPMZ7Dwf",Time:"_3zcUapb9ifA8a4OWCpuUSq",time:"_3zcUapb9ifA8a4OWCpuUSq",ErrorText:"_2juClHvsqBfQddQtKSlF6V",errorText:"_2juClHvsqBfQddQtKSlF6V",RichTextJson:"_1E4TbYahRPkKEc1TNmQX-K",richTextJson:"_1E4TbYahRPkKEc1TNmQX-K",Livestreaming:"_24c_0WdNkjV_cdd2RJ6AmK",livestreaming:"_24c_0WdNkjV_cdd2RJ6AmK",TopMeta:"SJ4qRd99ApBBSiNYdfSoh",topMeta:"SJ4qRd99ApBBSiNYdfSoh",ChatIcon:"_3vCuaD6pLcosMuwzU6nhAB",chatIcon:"_3vCuaD6pLcosMuwzU6nhAB",DeleteText:"_3NYb7Rn0lpswKMy5MQyLQd",deleteText:"_3NYb7Rn0lpswKMy5MQyLQd",Reply:"_3F-9o12RM4UV20egYU2h21",reply:"_3F-9o12RM4UV20egYU2h21",CommentTruncated:"_3PXAOD2xpFqPtI_Lvf2_yc",commentTruncated:"_3PXAOD2xpFqPtI_Lvf2_yc",CommentExpanded:"yvxBkSg0EB3OQJ-wQuj73",commentExpanded:"yvxBkSg0EB3OQJ-wQuj73"}},"./src/reddit/components/CommentsChat/MessageInput/Loader.m.less":function(e,t,s){e.exports={LoaderWrapper:"_3k8JPc9w-DJrYLoer3GicH",loaderWrapper:"_3k8JPc9w-DJrYLoer3GicH",Icon:"_1nrdmuhkCLXh8N_46gKAyn",icon:"_1nrdmuhkCLXh8N_46gKAyn",gradientAnimation:"_3kGJh7EpOUlhrvN051jlhD",Byline:"eI85Q_-1x9VERN15oDr3X",byline:"eI85Q_-1x9VERN15oDr3X"}},"./src/reddit/components/CommentsChat/MessageInput/Loader.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/higherOrderComponents/makeAsync.tsx"),a=s("./src/lib/lessComponent.tsx"),i=s("./src/lib/loadWithRetries/index.ts"),c=s("./src/reddit/components/CommentsChat/MessageInput/Loader.m.less"),d=s.n(c);const l=a.a.div("LoaderWrapper",d.a),m=a.a.div("Icon",d.a),p=a.a.div("Byline",d.a),u=Object(r.a)({ErrorComponent:()=>o.a.createElement(l,null,o.a.createElement(m,null),o.a.createElement(p,null)),getComponent:()=>Object(i.a)(()=>Promise.all([s.e("vendors~ChatMessageInput~FlairEdit~MembershipPaywallPage~PostCreation~RichTextEditor"),s.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~Explore~Frontpage~GovernanceReleaseNot~7e52de2e"),s.e("ChatMessageInput~MembershipPaywallPage~RichTextEditor"),s.e("ChatMessageInput")]).then(s.bind(null,"./src/reddit/components/CommentsChat/MessageInput/index.tsx")).then(e=>e.default)),LoadingComponent:e=>{let{isLivestreaming:t}=e;return t?null:o.a.createElement(l,null,o.a.createElement(m,null),o.a.createElement(p,null))}});t.a=e=>o.a.createElement(u,e)},"./src/reddit/components/CommentsChat/Scroller/index.m.less":function(e,t,s){e.exports={NewComments:"_3GhW7Cq0eM7vr_gXsZP1XK",newComments:"_3GhW7Cq0eM7vr_gXsZP1XK",show:"Tptm_9duqsvpN1p297GT0",ButtonWrapper:"ol-vdNEpF-pHpwSKyGQDF",buttonWrapper:"ol-vdNEpF-pHpwSKyGQDF",ScrollerWrapper:"_2HUS1KWemnPFcYeDdGcB5k",scrollerWrapper:"_2HUS1KWemnPFcYeDdGcB5k",LivestreamingWrapper:"_2kV0SeyyPoyl4Cfm2Fi2UI",livestreamingWrapper:"_2kV0SeyyPoyl4Cfm2Fi2UI",ScrollerSection:"_3nKpelf5u6QAnrZcGbvig_",scrollerSection:"_3nKpelf5u6QAnrZcGbvig_",loading:"_2Nsq1nyEjWMCKSWs72G7lx",gradientAnimation:"_1GHoi4QoUeFfb4IzUIMCoR",ChunkPlaceholder:"_1qabk5TtS1HAm0eXfcUmxv",chunkPlaceholder:"_1qabk5TtS1HAm0eXfcUmxv",top:"ZuYs_5l7Qf6T91OUOD4pG"}},"./src/reddit/components/CommentsChat/index.tsx":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-dom/index.js"),a=s("./node_modules/react-redux/es/index.js"),i=s("./node_modules/reselect/es/index.js"),c=s("./src/lib/constants/index.ts"),d=s("./src/lib/setInterval/index.ts"),l=s("./src/lib/timeAgo/index.ts"),m=s("./src/reddit/actions/blockedRedditors.ts"),p=s("./src/reddit/actions/comment/index.ts"),u=s("./src/reddit/actions/comment/websocket.ts"),h=s("./src/reddit/actions/page.ts"),b=s("./src/reddit/components/Comments/States/index.tsx"),g=s("./node_modules/fbt/lib/FbtPublic.js"),x=s("./node_modules/lodash/defer.js"),C=s.n(x),v=s("./src/lib/classNames/index.ts"),O=s("./src/lib/lessComponent.tsx"),E=s("./src/lib/makeDraftKey/index.ts"),f=s("./src/lib/objectSelector/index.ts"),y=s("./src/reddit/components/Comments/Comment/TopMeta/index.tsx"),j=s("./src/reddit/helpers/getRichTextContent.ts"),w=s("./src/reddit/components/RichTextJson/index.tsx");function I(e){return o.a.createElement("svg",{className:e.className,style:e.style,viewBox:"0 0 93 93",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"m81.4458 35.074-29.1976 11.7753 26.9134 16.3348-28.9722-12.3194 7.4803 30.5811-11.7754-29.1976-16.3347 26.9135 12.3193-28.9723-30.581 7.4803 29.1975-11.7754-26.9134-16.3347 28.9722 12.3193-7.4802-30.581 11.7753 29.1975 16.3348-26.9134-12.3194 28.9722z",clipRule:"evenodd",fill:"inherit",fillRule:"evenodd"}))}function P(e){return o.a.createElement("svg",{className:e.className,style:e.style,viewBox:"0 0 55 55",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{clipRule:"evenodd",d:"m27.3003.299194 2.4798 21.013306 16.6121-13.10519-13.1052 16.61209 21.0133 2.4798-21.0133 2.4798 13.1052 16.6121-16.6121-13.1052-2.4798 21.0133-2.4798-21.0133-16.61209 13.1052 13.10519-16.6121-21.013307-2.4798 21.013307-2.4798-13.10519-16.61209 16.61209 13.10519z",fill:"inherit",fillRule:"evenodd"}))}var T=s("./src/reddit/components/CommentsChat/Comment/AwardComment/index.m.less"),k=s.n(T);const S=Object(f.b)(e=>({renderingObjectInfo:e.comment})),_=e=>{const{award:t,comment:s}=e,n=t.icon64?t.icon64.url:t.icon128?t.icon128.url:t.icon.url;return o.a.createElement("div",{className:k.a.awardComment},o.a.createElement("div",{className:k.a.imageContainer},o.a.createElement(I,{className:k.a.backgroundStar}),o.a.createElement(P,{className:Object(v.a)(k.a.backgroundStar,k.a.star2)}),o.a.createElement("img",{src:n})),o.a.createElement(w.a,{className:k.a.awardCommentText,content:Object(j.a)(s),key:"rich-text-".concat(s.id),rtJsonElementProps:S(e),useExplicitTextColor:!0}))};var N=s("./src/reddit/components/CommentsChat/Comment/ChatIcon/index.tsx"),L=s("./src/reddit/components/CommentsChat/Comment/CollapsedComment/index.m.less"),M=s.n(L);const R=O.a.div("CollapsedComment",M.a);var B=e=>{let{commentCount:t,onClick:s}=e;return o.a.createElement(R,{onClick:s},g.fbt._("collapsed {collapsed message} (may be sensitive)",[g.fbt._param("collapsed message",g.fbt._({"*":"{message count} messages",_1:"message"},[g.fbt._plural(t,"message count")],{hk:"3SYWlH"}))],{hk:"3equVw"}))},A=s("./src/app/strings/index.ts"),F=s("./src/lib/humanizeDateTime/index.ts"),D=s("./src/reddit/actions/postCreation/general.ts"),W=s("./src/reddit/actions/reportFlow.ts"),H=s("./src/reddit/actions/tooltip.ts"),V=s("./src/reddit/components/InfoTextTooltip/index.tsx"),U=s("./src/reddit/constants/tracking.ts"),K=s("./src/reddit/selectors/telemetry.ts"),G=s("./src/telemetry/models/Event.ts");const z=e=>({screen:Object(K.screen)(e),profile:Object(K.profile)(e),subreddit:Object(K.subreddit)(e)}),J=(e,t)=>s=>({action:"load",noun:e,post:Object(K.post)(s,t),source:G.b.ChatView,subreddit:Object(K.subreddit)(s)});var q=s("./src/reddit/i18n/utils.ts"),Y=s("./src/reddit/components/CommentsChat/Comment/Menu/index.m.less"),Q=s.n(Y);function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const X=O.a.button("MenuItem",Q.a),$=O.a.a("MenuItemPermalink",Q.a),ee=e=>{let{children:t,comment:s,onClick:n,onHideTooltip:r,onShowTooltip:a,sendEvent:i,tooltipId:c,tooltipText:d,trackingNoun:l}=e;return o.a.createElement(X,{id:c,onMouseEnter:a.bind(void 0,c),onMouseLeave:r.bind(void 0,c),onClick:e=>{n(e),l&&(i(((e,t)=>s=>Object.assign({source:"comment",action:U.d.CLICK,noun:e,post:Object(K.post)(s,t),comment:Object(K.comment)(s,t)},z(s)))(l,s.id)),i(((e,t)=>s=>Object.assign({source:"comment_overflow_menu",action:U.d.CLICK,noun:e,post:Object(K.post)(s,t),comment:Object(K.comment)(s,t)},z(s)))(l,s.id)))}},t,o.a.createElement(V.c,{tooltipId:c,text:d}))},te=e=>o.a.createElement(ee,Z({onClick:e.onHideTooltip,tooltipId:e.tooltipId,tooltipText:Object(q.c)("Moderate")},e),o.a.createElement($,{href:e.comment.permalink,rel:"nofollow",target:"_blank"},e.children));var se=s("./src/reddit/components/ConfirmUserActionModal/index.tsx"),ne=s("./src/reddit/components/ModModeReports/helpers.ts"),oe=s("./src/reddit/components/ReportFlow/index.tsx"),re=s("./src/reddit/components/TrackingHelper/index.tsx"),ae=s("./src/reddit/icons/svgs/Approve/index.tsx"),ie=s("./src/reddit/icons/svgs/Edit/index.m.less"),ce=s.n(ie);var de=e=>o.a.createElement("svg",{className:Object(v.a)(ce.a.edit,e.className),viewBox:"4 4 12 12"},o.a.createElement("g",{transform:"translate(-68.000000, -207.000000)"},o.a.createElement("path",{d:"M74,221.73128 L76.2632,221.73128 C76.4752,221.73128 76.6784,221.64728 76.8288,221.49688 L83.2968,215.02808 C83.6096,214.71528 83.6096,214.20968 83.2968,213.89688 L81.0344,211.63448 C80.7216,211.32168 80.216,211.32168 79.9032,211.63448 L73.4344,218.10328 C73.284,218.25288 73.2,218.45608 73.2,218.66888 L73.2,220.93128 C73.2,221.37368 73.5584,221.73128 74,221.73128"}))),le=s("./src/reddit/icons/svgs/Flag/index.tsx"),me=s("./src/reddit/icons/svgs/Remove/index.tsx"),pe=s("./src/reddit/icons/svgs/ReplyArrow/index.m.less"),ue=s.n(pe);var he=e=>o.a.createElement("svg",{className:Object(v.a)(ue.a.icon,e.className),viewBox:"0 0 511.63 511.631"},o.a.createElement("path",{d:"M496.5,233.842c-30.841-76.706-114.112-115.06-249.823-115.06h-63.953V45.693c0-4.952-1.809-9.235-5.424-12.85 c-3.617-3.617-7.896-5.426-12.847-5.426c-4.952,0-9.235,1.809-12.85,5.426L5.424,179.021C1.809,182.641,0,186.922,0,191.871 c0,4.948,1.809,9.229,5.424,12.847L151.604,350.9c3.619,3.613,7.902,5.428,12.85,5.428c4.947,0,9.229-1.814,12.847-5.428 c3.616-3.614,5.424-7.898,5.424-12.848v-73.094h63.953c18.649,0,35.349,0.568,50.099,1.708c14.749,1.143,29.413,3.189,43.968,6.143 c14.564,2.95,27.224,6.991,37.979,12.135c10.753,5.144,20.794,11.756,30.122,19.842c9.329,8.094,16.943,17.7,22.847,28.839 c5.896,11.136,10.513,24.311,13.846,39.539c3.326,15.229,4.997,32.456,4.997,51.675c0,10.466-0.479,22.176-1.428,35.118 c0,1.137-0.236,3.375-0.715,6.708c-0.473,3.333-0.712,5.852-0.712,7.562c0,2.851,0.808,5.232,2.423,7.136 c1.622,1.902,3.86,2.851,6.714,2.851c3.046,0,5.708-1.615,7.994-4.853c1.328-1.711,2.561-3.806,3.71-6.283 c1.143-2.471,2.43-5.325,3.854-8.562c1.431-3.237,2.43-5.513,2.998-6.848c24.17-54.238,36.258-97.158,36.258-128.756 C511.63,291.039,506.589,259.344,496.5,233.842z"})),be=s("./src/reddit/models/PostDraft/index.ts"),ge=s("./src/reddit/selectors/activeModalId.ts"),xe=s("./src/reddit/selectors/experiments/chatPost.ts"),Ce=s("./src/reddit/selectors/moderatorPermissions.ts"),ve=s("./src/reddit/selectors/user.ts");function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const Ee=O.a.wrapped(le.a,"FlagIcon",Q.a),fe=O.a.wrapped(de,"EditIcon",Q.a),ye=O.a.wrapped(ae.a,"ApproveIcon",Q.a),je=O.a.wrapped(he,"ReplyIcon",Q.a),we=O.a.wrapped(me.a,"RemoveIcon",Q.a),Ie=O.a.wrapped(e=>o.a.createElement("svg",{className:e.className,id:e.id,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},o.a.createElement("g",null,o.a.createElement("path",{fillRule:"evenodd",d:"M12.3535,14.6465 C12.5485,14.8415 12.5485,15.1585 12.3535,15.3535 C12.2555,15.4515 12.1275,15.5005 11.9995,15.5005 C11.8725,15.5005 11.7445,15.4515 11.6465,15.3535 L9.9995,13.7075 L8.3535,15.3535 C8.2555,15.4515 8.1275,15.5005 7.9995,15.5005 C7.8725,15.5005 7.7445,15.4515 7.6465,15.3535 C7.4515,15.1585 7.4515,14.8415 7.6465,14.6465 L9.2925,13.0005 L7.6465,11.3535 C7.4515,11.1585 7.4515,10.8415 7.6465,10.6465 C7.8415,10.4515 8.1585,10.4515 8.3535,10.6465 L9.9995,12.2925 L11.6465,10.6465 C11.8415,10.4515 12.1585,10.4515 12.3535,10.6465 C12.5485,10.8415 12.5485,11.1585 12.3535,11.3535 L10.7075,13.0005 L12.3535,14.6465 Z M15.9995,8.0005 C17.1045,8.0005 17.9995,8.8955 17.9995,10.0005 L17.9995,16.0005 C17.9995,17.1045 17.1045,18.0005 15.9995,18.0005 L3.9995,18.0005 C2.8955,18.0005 1.9995,17.1045 1.9995,16.0005 L1.9995,10.0005 C1.9995,8.8955 2.8955,8.0005 3.9995,8.0005 L15.9995,8.0005 Z M4,7 C3.229,7 2.532,7.301 2,7.78 L2,7 C2,6.586 2.126,6.201 2.342,5.882 C2.485,5.669 2.669,5.485 2.882,5.342 C3.201,5.126 3.586,5 4,5 L16,5 C16.414,5 16.799,5.126 17.118,5.342 C17.225,5.414 17.324,5.495 17.414,5.586 C17.505,5.676 17.587,5.775 17.658,5.882 C17.874,6.201 18,6.586 18,7 L18,7.78 C17.468,7.301 16.771,7 16,7 L4,7 Z M4,4 C3.229,4 2.532,4.301 2,4.78 L2,4 C2,2.896 2.896,2 4,2 L16,2 C17.104,2 18,2.896 18,4 L18,4.78 C17.468,4.301 16.771,4 16,4 L4,4 Z"}))),"SpamIcon",Q.a),Pe=e=>(t,s)=>{let{comment:n}=s;return"".concat(e).concat(n.id)},Te=e=>"Comment-".concat(e,"--Modal--DeleteComment"),ke=Object(i.c)({currentUser:ve.i,isMod:(e,t)=>{let{comment:s}=t;return!!Object(Ce.i)(e,{postId:s.postId})},isSimpleReply:xe.f,reportFlowIsOpen:(e,t)=>{let{comment:s}=t;return e.reportFlow.postOrCommentId===s.id},approveTooltipId:Pe("CommentChatPost--Approve--"),createTooltipId:Pe("CommentChatPost--Create--"),editTooltipId:Pe("CommentChatPost--Edit--"),replyTooltipId:Pe("CommentChatPost--Reply--"),reportTooltipId:Pe("CommentChatPost--Report--"),spamTooltipId:Pe("CommentChatPost--Spam--"),removeTooltipId:Pe("CommentChatPost--Remove--"),deleteTooltipId:Pe("CommentChatPost--Delete--"),isDeleteModalOpen:(e,t)=>{let{comment:s}=t;return Object(ge.a)(e)===Te(s.id)}});var Se=Object(a.b)(ke,(e,t)=>{let{comment:s,commentsPageKey:n,isLivestreaming:o,language:r}=t;return{onReplyClick:()=>e(Object(p.ob)({parentCommentId:s.id,commentsPageKey:n,singleOpen:!0})),onReportClick:()=>e(Object(W.j)(s.id,void 0,o)),onHideTooltip:()=>e(Object(H.h)()),onShowTooltip:t=>e(Object(H.f)({tooltipId:t})),onEditClick:()=>{const t=s.media&&s.media.rteMode;n&&e(Object(p.V)({commentId:s.id,draftKey:Object(E.a)(be.c.edit,s.id),text:s.bodyMD||"",commentMode:t,commentsPageKey:n}))},onApproveClick:()=>e(Object(p.H)(s.id)),onSpamClick:()=>e(Object(p.cb)(s.id,!0)),onRemoveClick:()=>e(Object(p.cb)(s.id,!1)),deleteComment:()=>n&&e(Object(p.db)(r,s.id,s.postId)),onDeleteClick:()=>e(Object(D.m)(Te(s.id))),toggleDeleteCommentModal:()=>e(Object(D.m)(Te(s.id)))}})(Object(re.b)(e=>{const{comment:t,className:s,createTooltipId:n,currentUser:r,deleteComment:a,deleteTooltipId:i,editTooltipId:d,isDeleteModalOpen:m,isLivestreaming:p,isMod:u,isSimpleReply:h,language:b,onApproveClick:g,onDeleteClick:x,onEditClick:C,onRemoveClick:O,onReplyClick:E,onReportClick:f,onSpamClick:y,reportFlowIsOpen:j,replyTooltipId:w,reportTooltipId:I,approveTooltipId:P,removeTooltipId:T,spamTooltipId:k,toggleDeleteCommentModal:S,timestampUpdateTrigger:_}=e,N=!!r&&r.id===t.authorId,L=Object(ne.b)(t),M=t.isApproved&&L,R=!t.bannedBy||t.bannedBy===c.k;return o.a.createElement("div",{className:s},o.a.createElement("div",{className:Object(v.a)(Q.a.Menu,{[Q.a.Livestreaming]:p})},(t.bannedBy||L)&&u&&!p&&o.a.createElement(ee,Oe({onClick:g,tooltipId:P,tooltipText:M?Object(A.a)(b,"modTools.reapprove"):Object(A.a)(b,"modTools.approve"),trackingNoun:"approve"},e),o.a.createElement(ye,null)),h&&!t.isLocked&&!p&&o.a.createElement(ee,Oe({onClick:E,tooltipId:w,tooltipText:Object(q.c)("Reply"),trackingNoun:"reply"},e),o.a.createElement(je,null)),u&&R&&!p&&o.a.createElement(ee,Oe({onClick:y,tooltipId:k,tooltipText:Object(q.c)("Spam"),trackingNoun:"spam"},e),o.a.createElement(Ie,null)),!N&&o.a.createElement(ee,Oe({onClick:f,tooltipId:I,tooltipText:Object(q.c)("Report"),trackingNoun:"report"},e),o.a.createElement(Ee,null)),j&&o.a.createElement(oe.a,{commentId:t.id,useLiveStreamingFlow:p,overlayCustomStyles:oe.b,postId:t.postId,withOverlay:!0}),N&&!p&&o.a.createElement(ee,Oe({onClick:C,tooltipId:d,tooltipText:Object(q.c)("Edit"),trackingNoun:"edit"},e),o.a.createElement(fe,null)),p?null:u&&R?o.a.createElement(ee,Oe({onClick:O,tooltipId:T,tooltipText:t.bannedBy===c.k?Object(A.a)(b,"modTools.confirmRemoval"):Object(A.a)(b,"modTools.remove"),trackingNoun:t.bannedBy===c.k?"confirm_remove":"remove"},e),o.a.createElement(we,null)):N&&o.a.createElement(ee,Oe({onClick:x,tooltipId:i,tooltipText:Object(q.c)("Delete"),trackingNoun:"delete"},e),o.a.createElement(we,null)),m&&o.a.createElement(se.a,{actionText:Object(q.c)("delete"),cancelActionText:Object(q.c)("keep"),headerText:Object(q.c)("Delete comment"),modalText:Object(q.c)("Are you sure you want to delete your comment?"),onConfirm:a,toggleModal:S,withOverlay:!0})),!p&&o.a.createElement(te,Oe({},e,{tooltipId:n,tooltipText:Object(F.a)(t.created),timestampUpdateTrigger:_}),Object(l.d)(b,t.created)))})),_e=s("./src/reddit/components/RichTextJsonChatReply/index.tsx"),Ne=s("./src/reddit/selectors/comments.ts"),Le=s("./src/reddit/components/CommentsChat/Comment/Reply/index.m.less"),Me=s.n(Le);const Re={},Be=O.a.wrapped(N.a,"ChatIcon",Me.a),Ae=O.a.span("ReplyAuthor",Me.a),Fe=O.a.div("ReplyWrapper",Me.a);var De=Object(a.b)(()=>Object(i.c)({comment:Ne.n}))(e=>{let{comment:t,commentId:s}=e;return t?t.isDeleted?o.a.createElement(Fe,null,o.a.createElement("span",{className:Object(v.a)([Me.a.ReplyLinkBubble,Me.a.delete])},o.a.createElement(nt,null))):o.a.createElement(Fe,null,o.a.createElement("a",{className:Me.a.ReplyLinkBubble,href:t.permalink,rel:"noopener noreferrer",target:"_blank"},o.a.createElement(Be,{userId:t.authorId}),o.a.createElement(Ae,null,t.author),o.a.createElement(_e.a,{className:Me.a.ReplyComment,key:"rich-text-".concat(s),content:Object(j.a)(t),rtJsonElementProps:Re}))):null}),We=s("./src/reddit/components/CommentsChat/MessageInput/Loader.tsx"),He=s("./src/reddit/contexts/PageLayer/index.tsx"),Ve=s("./src/reddit/controls/ErrorText/index.tsx"),Ue=s("./src/reddit/selectors/communityAwards.ts"),Ke=s("./src/reddit/components/CommentsChat/Comment/index.m.less"),Ge=s.n(Ke);const ze=250,Je=10,qe=O.a.wrapped(Ve.b,"ErrorText",Ge.a),Ye=O.a.wrapped(y.a,"TopMeta",Ge.a),Qe=O.a.span("DeleteText",Ge.a),Ze=O.a.wrapped(De,"Reply",Ge.a),Xe=Object(He.t)(),$e=Object(a.b)(()=>Object(i.c)({associatedAward:(e,t)=>{let{commentId:s}=t;const n=Object(Ne.n)(e,{commentId:s});if(!n)return;const{associatedAwardId:o}=n;return o?Object(Ue.a)(e,o):void 0},comment:Ne.n,errorMsgs:Ne.E,flair:Ne.e,isActive:(e,t)=>{let{commentId:s}=t;return Boolean(e.shortcuts.activeCommentId&&s===e.shortcuts.activeCommentId)},isEditing:Ne.z,language:ve.S,subreddit:He.q})),et=Object(f.b)(e=>({renderingObjectInfo:e.comment||void 0}));class tt extends o.a.Component{constructor(e){super(e),this.elemRef=o.a.createRef(),this.toggleBody=()=>{const e=!this.state.isExpanded;this.setState({isExpanded:e})},this.expandCollapsedComment=()=>{const e=!this.state.isCollapsed;this.setState({isCollapsed:e})};const t=Boolean(e.comment&&e.comment.collapsed);this.state={isCollapsed:t,isExpanded:!1,isTruncated:!1}}componentDidMount(){this.elemRef&&this.elemRef.current&&this.elemRef.current.scrollHeight>ze&&this.setState({isTruncated:!0})}componentDidUpdate(e,t){this.limitCommentBodyHeight(t)}limitCommentBodyHeight(e){const{isExpanded:t,isTruncated:s}=this.state,n=t!==e.isExpanded||s!==e.isTruncated;if(this.elemRef&&this.elemRef.current&&n){const e=this.elemRef.current;let s=ze;if(t){s=e.scrollHeight+Je;const t=()=>{e.style.maxHeight=null,e.removeEventListener("transitionend",t)};e.addEventListener("transitionend",t)}this.elemRef.current.style.maxHeight="".concat(s,"px")}}render(){const{associatedAward:e,childrenInfo:t,comment:s,commentsPageKey:n,errorMsgs:r,flair:a,isActive:i,isEditing:c,isLivestreaming:d,language:m,postId:p,renderedInOverlay:u,sendEvent:h,targetComment:b,timestampUpdateTrigger:x}=this.props,{isCollapsed:O,isExpanded:f,isTruncated:y}=this.state;if(!s)return null;i&&C()(()=>this.elemRef.current&&this.elemRef.current.focus());const I=!c&&!s.isDeleted,P=!!e,T=Object(v.a)({[Ge.a.CommentWrapper]:!d,[Ge.a.CommentExpanded]:f,[Ge.a.CommentTruncated]:y,[Ge.a.HighlightTarget]:b,[Ge.a.LivestreamingCommentWrapper]:d});return O?o.a.createElement(B,{commentCount:1,onClick:this.expandCollapsedComment}):o.a.createElement("div",{id:b?"targetComment":void 0,ref:this.elemRef,tabIndex:0,className:T},c&&o.a.createElement(We.a,{key:"chatCommentsForm",isLivestreaming:d,language:m,postId:p,sendEvent:h,draftKey:Object(E.a)(be.c.edit,s.id),commentsPageKey:n,isEditing:c,comment:s}),I&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Ye,{childrenInfo:t,collapsedBecauseCrowdControl:!1,collapsed:!1,comment:s,commentsPageKey:n,compact:!0,flair:a,ignoreFlairPosition:!0,ignoreLock:!0,isLivestreaming:d,language:m,renderedInOverlay:u},o.a.createElement(N.a,{className:Object(v.a)(Ge.a.ChatIcon,{[Ge.a.Livestreaming]:d}),isLivestreaming:d,userId:s.authorId})),s.parentId&&o.a.createElement(Ze,{commentId:s.parentId}),d&&o.a.createElement("span",{className:Ge.a.livestreamingTimeStamp},Object(l.d)(m,s.created)),P&&e&&d?o.a.createElement(_,{award:e,comment:s}):[o.a.createElement(w.a,{className:Object(v.a)(Ge.a.RichTextJson,{[Ge.a.Livestreaming]:d}),content:Object(j.a)(s),key:"rich-text-".concat(s.id),rtJsonElementProps:et(this.props),useExplicitTextColor:d}),o.a.createElement(Se,{key:"Menu",className:Ge.a.Menu,comment:s,commentsPageKey:n,isLivestreaming:d,language:m,timestampUpdateTrigger:x})]),s.isDeleted&&o.a.createElement(nt,null),I&&r&&r.map(e=>o.a.createElement(qe,{language:m},e)),!c&&y&&o.a.createElement("button",{className:Ge.a.CommentReadMoreButton,onClick:this.toggleBody},g.fbt._("Read more",null,{hk:"3s9Bqf"})))}}const st=Xe($e(tt)),nt=e=>{let{isLivestreaming:t}=e;return o.a.createElement(o.a.Fragment,null,o.a.createElement(N.a,{className:Object(v.a)(Ge.a.ChatIcon,{[Ge.a.Livestreaming]:t||!1}),trash:!0}),o.a.createElement(Qe,null,g.fbt._("deleted",null,{hk:"4rQ3ZP"})))};var ot=st,rt=(s("./node_modules/core-js/modules/es6.symbol.js"),s("./node_modules/lodash/first.js")),at=s.n(rt),it=s("./node_modules/lodash/isEqual.js"),ct=s.n(it),dt=s("./node_modules/lodash/last.js"),lt=s.n(dt),mt=s("./src/reddit/controls/Button/index.tsx"),pt=s("./src/reddit/components/CommentsChat/Scroller/index.m.less"),ut=s.n(pt),ht=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const bt=O.a.div("ButtonWrapper",ut.a),gt=e=>{let{top:t}=e;return o.a.createElement("span",{className:Object(v.a)(ut.a.ChunkPlaceholder,{[ut.a.top]:t})},Object(q.c)("Loading..."))},xt=e=>{var{className:t,isLivestreaming:s,isLoading:n,setRef:r}=e,a=ht(e,["className","isLivestreaming","isLoading","setRef"]);return o.a.createElement("div",{ref:r,className:Object(v.a)(t,ut.a.ScrollerWrapper,{[ut.a.loading]:n,[ut.a.LivestreamingWrapper]:s})},!n&&a.isPrevLoading&&!s&&o.a.createElement(gt,{top:!0}),a.children,!n&&a.isNextLoading&&!s&&o.a.createElement(gt,null))};class Ct extends o.a.Component{constructor(e){var t;super(e),t=this,this._ref=o.a.createRef(),this._refBeforeActiveComments=o.a.createRef(),this._refNextActiveComments=o.a.createRef(),this.chunkSize=50,this.loadedMore=!1,this.scrollTop=()=>this.$ref?Math.ceil(this.$ref.scrollTop):0,this.scrollHeight=()=>this.$ref?this.$ref.scrollHeight:0,this.clientHeight=()=>this.$ref?this.$ref.clientHeight:0,this.scrolledPosition=()=>this.scrollHeight()-this.clientHeight()-this.scrollTop(),this.scrolledToTop=()=>0===this.scrollTop(),this.scrolledToBottom=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e>=t.scrolledPosition()},this.scrollToLastBottomChunk=()=>{const e=this.state.chunks.length-1;e!==this.state.activeChunkIndex?this.setState({activeChunkIndex:e},()=>{this.scrollToBottom(),this.hideNewComments(!0)}):(this.scrollToBottom(),this.hideNewComments(!0))},this.addScrollListener=()=>this.$ref&&this.$ref.addEventListener("wheel",this.onScroll),this.removeScrollListener=()=>this.$ref&&this.$ref.removeEventListener("wheel",this.onScroll),this.preventParentScroll=e=>{e.preventDefault();const t=this.$ref&&this.$ref.scrollTop+e.deltaY;this.scrollTo(t||0)},this.shouldLoadMoreData=()=>{this.props.loadMore&&this.scrolledToTop()&&this.props.loadMore(),this.loadedMore=!(!this.scrolledToTop()||!this.props.hasMoreComments)},this.onScroll=e=>{this.preventParentScroll(e),this.setNextTopChunk(),this.setNextBottomChunk(),this.shouldLoadMoreData(),this.hideNewComments()},this.state={initialized:!1,list:this.props.children,chunks:this.splitChunks([...this.props.children]),activeChunkIndex:0,newCommentsCount:0}}get $ref(){return this._ref.current}get $refBeforeActiveComments(){return this._refBeforeActiveComments.current}get $refNextActiveComments(){return this._refNextActiveComments.current}scrollTo(e){this.$ref&&(this.$ref.scrollTo?this.$ref.scrollTo({top:e}):this.$ref.scrollTop=e)}scrollToBottom(){this.$ref&&(this.$ref.scrollTo?this.$ref.scrollTo({top:this.scrollHeight()-this.clientHeight()}):this.$ref.scrollTop=this.scrollHeight())}scrolledToFirstTopChunk(){return!this.props.hasMoreComments&&this.state.activeChunkIndex<=1}scrolledToLastBottomChunk(){const e=this.state.chunks.length-1;return this.state.activeChunkIndex+1>=e}scrollToTargetComment(e){const t=Math.floor(this.clientHeight()/2);if(void 0!==e)return void this.scrollTo(e-t);const{targetCommentIndex:s,children:n}=this.props;if(n&&n.length&&void 0!==s&&n[s]){const e=Math.floor(s/this.chunkSize);this.state.activeChunkIndex!==e&&this.setState({activeChunkIndex:e});const n=document.querySelector("#targetComment").offsetTop;n>t?this.scrollTo(n-t):this.scrollTo(n)}}hideNewComments(e){(this.state.newCommentsCount>0&&this.scrolledToBottom()||e)&&this.setState({newCommentsCount:0})}splitChunks(e){const t=[];for(;e.length;)t.push(e.splice(0,this.chunkSize));return t}setNextBottomScroll(){const e=this.$refNextActiveComments?this.$refNextActiveComments.clientHeight:0;this.scrollTo(this.scrollHeight()-this.clientHeight()-e)}setNextBottomChunk(){if(this.scrolledToBottom()){const e=this.state.activeChunkIndex+1,t=this.state.chunks.length-1,s=e<t?e:t;this.setState({activeChunkIndex:s},this.setNextBottomScroll)}}setNextTopScroll(){this.scrollTo(this.$refBeforeActiveComments&&this.$refBeforeActiveComments.clientHeight||0)}setNextTopChunk(){if(this.scrolledToTop()){const e=this.state.activeChunkIndex-1,t=this.state.chunks.length-1,s=t>e?e:t;e>=0&&this.setState({activeChunkIndex:s},this.setNextTopScroll)}}getChunkIndexOnUpdate(e,t){if(this.props&&this.props.children.length&&this.props.children[0]&&this.props.children.length-e.children.length>1){const e=t.length-this.state.chunks.length,s=this.state.activeChunkIndex+e;if(e>1)return s}}componentDidMount(){this.addScrollListener(),this.scrollToLastBottomChunk(),this.setState({initialized:!0}),this.scrollToTargetComment()}componentWillUnmount(){this.removeScrollListener()}getSnapshotBeforeUpdate(e){const t=e.children.length!==this.props.children.length||!ct()(at()(e.children),at()(this.props.children))||!ct()(lt()(e.children),lt()(this.props.children));return t?{childrenAreNotEqual:t,scrolledBottom:this.scrolledToBottom(30)}:null}componentDidUpdate(e,t,s){if(s&&s.childrenAreNotEqual){const t=this.splitChunks([...this.props.children]),n=this.getChunkIndexOnUpdate(e,t),o=this.props.children.length-e.children.length;this.setState({list:this.props.children,chunks:t,activeChunkIndex:n||this.state.activeChunkIndex,newCommentsCount:this.scrolledToBottom()||1!==o||this.loadedMore?this.state.newCommentsCount:this.state.newCommentsCount+o},()=>{n&&this.setNextTopScroll(),s.scrolledBottom&&this.scrollToLastBottomChunk(),this.loadedMore=!1})}this.scrollToTargetComment()}render(){const{className:e,isLivestreaming:t}=this.props,s=this.state.newCommentsCount>0?Object(v.a)([ut.a.NewComments,ut.a.show]):ut.a.NewComments;return o.a.createElement(o.a.Fragment,null,o.a.createElement(xt,{className:e,key:"chatScroller",chunkSize:this.chunkSize,isLoading:!this.state.initialized||!!this.props.isLoading,isPrevLoading:!this.scrolledToFirstTopChunk(),isLivestreaming:t,isNextLoading:!this.scrolledToLastBottomChunk(),setRef:this._ref},o.a.createElement("div",{key:"beforeActiveCommentsSection",ref:this._refBeforeActiveComments,className:ut.a.ScrollerSection},this.state.chunks[this.state.activeChunkIndex-1]),o.a.createElement("div",{key:"activeCommentsSection",className:ut.a.ScrollerSection},this.state.chunks[this.state.activeChunkIndex]),o.a.createElement("div",{key:"nextActiveCommentsSection",ref:this._refNextActiveComments,className:ut.a.ScrollerSection},this.state.chunks[this.state.activeChunkIndex+1])),o.a.createElement(bt,null,o.a.createElement(mt.f,{className:s,onClick:()=>this.scrollToLastBottomChunk()},this.state.newCommentsCount," ",Object(q.c)("NEW ".concat(Object(q.a)("MESSAGES",["MESSAGE","MESSAGES"],this.state.newCommentsCount))),"↓")))}}var vt=Ct,Ot=s("./src/reddit/selectors/blockedRedditors.ts"),Et=s("./src/reddit/selectors/posts.ts");s.d(t,"COMMENT_TIMESTAMP_UPDATE_INTERVAL",(function(){return ft}));const ft=6e4,yt=(e,t,s)=>{let{authorId:n,id:o}=s;return e.includes(n)&&!t.includes(o)},jt=Object(i.c)({blockedRedditors:Ot.a,blockedRedditorsPending:Ot.b,chatCommentLinks:Ne.g,isPending:Ne.d,liveCommentsWebsocket:Et.G,moreCommentsLink:Ne.D}),wt=Object(a.b)(jt,(e,t)=>({onLiveCommentsSubscribe:(s,n,o)=>e(Object(u.c)(s,n,o,t.subredditId)),offLiveCommentsSubscribe:(t,s)=>e(Object(u.d)(t,s)),loadMoreComments:s=>e(Object(p.Z)(t.commentsPageKey,s)),loadBlockedRedditors:()=>e(Object(m.g)()),loadComments:async()=>await e(Object(h.r)(t.postId,void 0,{sort:c.q.CHAT},c.q.CHAT))}));class It extends o.a.Component{constructor(e){super(e),this._refScroller=o.a.createRef(),this._timestampUpdater=null,this.scrollToBottom=()=>{this._refScroller&&this._refScroller.current&&this._refScroller.current.scrollToLastBottomChunk()},e.loadBlockedRedditors(),this.loadMoreComments=this.loadMoreComments.bind(this),this.state={expandedCommentIds:[],targetCommentIndex:void 0,timestampUpdateTrigger:Date.now()}}isTimestampUpdateNeeded(){const{chatCommentLinks:e}=this.props,t=e[e.length-1],s=t&&t.created;return!!s&&Object(l.c)(s)<2}deferTimestampUpdate(){this._timestampUpdater&&this._timestampUpdater(),this._timestampUpdater=Object(d.a)(()=>{this.isTimestampUpdateNeeded()?this.setState({timestampUpdateTrigger:Date.now()}):this._timestampUpdater&&this._timestampUpdater()},ft)}expandComment(e){this.setState({expandedCommentIds:[...this.state.expandedCommentIds,e]})}componentWillMount(){const{commentId:e,commentsPageKey:t,liveCommentsWebsocket:s,loadComments:n,onLiveCommentsSubscribe:o,postId:r}=this.props;s&&(e&&n(),o(t,s,r),this._subscribedPostId=r,this._subscribedLiveCommentsWebsocket=s)}componentWillUnmount(){const{offLiveCommentsSubscribe:e}=this.props;this._subscribedPostId&&this._subscribedLiveCommentsWebsocket&&(e(this._subscribedLiveCommentsWebsocket,this._subscribedPostId),this._timestampUpdater&&this._timestampUpdater())}shouldComponentUpdate(e,t){const{blockedRedditors:s,blockedRedditorsPending:n,chatCommentLinks:o,commentsPageKey:r,isLoading:a,isPending:i,postId:c,draftKey:d}=this.props,{expandedCommentIds:l,timestampUpdateTrigger:m}=this.state;return e.postId!==c||e.draftKey!==d||e.isLoading!==a||e.isPending!==i||e.blockedRedditorsPending!==n||e.commentsPageKey!==r||e.chatCommentLinks&&e.chatCommentLinks.length!==o.length||e.blockedRedditors.ids&&e.blockedRedditors.ids.length!==s.ids.length||t.expandedCommentIds.length!==l.length||t.timestampUpdateTrigger!==m}componentDidUpdate(e){const{chatCommentLinks:t,commentId:s,commentsPageKey:n,liveCommentsWebsocket:o,offLiveCommentsSubscribe:r,onLiveCommentsSubscribe:a,postId:i}=this.props;if(i!==e.postId&&(this._subscribedPostId&&this._subscribedLiveCommentsWebsocket&&r(this._subscribedLiveCommentsWebsocket,this._subscribedPostId),i&&o&&(a(n,o,i),this._subscribedPostId=i,this._subscribedLiveCommentsWebsocket=o)),this.deferTimestampUpdate(),s){const e=Object(d.a)(()=>{const{targetCommentIndex:n}=this.state;void 0===n?(this.scrollToTargetComment(),e()):s&&t.forEach((e,t)=>e.id===s&&this.setState({targetCommentIndex:t}))},100)}}loadMoreComments(){const{loadMoreComments:e,moreCommentsLink:t,postId:s,sendEvent:n}=this.props;t&&!t.pending&&(e(t.moreCommentId),n(J("history",s)))}scrollToTargetComment(){const{commentId:e}=this.props,t=e&&document.querySelector("#targetComment"),s=e&&Object(r.findDOMNode)(this.refs[e]),n=t||s;n&&this._refScroller&&this._refScroller.current&&this._refScroller.current.scrollToTargetComment(n.offsetTop)}render(){const{blockedRedditors:{ids:e},chatCommentLinks:t,className:s,commentId:n,commentsPageKey:r,emptyStateClassName:a,isLivestreaming:i,isLoading:c,isPending:d,postId:l,renderedInOverlay:m,sendEvent:p}=this.props,{expandedCommentIds:u,targetCommentIndex:h,timestampUpdateTrigger:g}=this.state,x=!(t&&t.length||c||d);return o.a.createElement(o.a.Fragment,null,x?o.a.createElement(b.c,{className:a,isChat:!0}):o.a.createElement(vt,{className:s,ref:this._refScroller,key:"comments-chat-scroller",isLivestreaming:i,isLoading:c||d,loadMore:this.loadMoreComments,hasMoreComments:!!this.props.moreCommentsLink,targetCommentIndex:h},t.map(t=>yt(e,u,t)?o.a.createElement(B,{commentCount:1,key:"scroll-node-".concat(t.id),onClick:()=>this.expandComment(t.id)}):o.a.createElement(ot,{ref:t.id,key:"scroll-node-".concat(t.id),commentId:t.id,commentsPageKey:r,isLivestreaming:i,postId:l,renderedInOverlay:!!m,sendEvent:p,timestampUpdateTrigger:g,targetComment:t.id===n}))),this.props.children&&this.props.children({scrollToBottom:this.scrollToBottom}))}}t.default=wt(Object(re.b)(It))},"./src/reddit/components/CommentsPageAd/index.m.less":function(e,t,s){e.exports={CommentsPageAdContainer:"_1kZq41JJsyWtpgT1oGyVko",commentsPageAdContainer:"_1kZq41JJsyWtpgT1oGyVko",BannerAd:"_3-iuIC1F_FWNnxkCPyySXD",bannerAd:"_3-iuIC1F_FWNnxkCPyySXD"}},"./src/reddit/components/CommentsPageSidebar/index.m.less":function(e,t,s){e.exports={communityTipJar:"_3Rb_UoC2j8wE4ckG7Yqy2K",communityTokens:"LRXVBnaKV0QUa_v8PZe5Q",leaderboard:"_2Bw_-Pd7_PSh46KT8HivGh",inFeedAd:"_2vWBnEHUdKqzj9DabP66L1",outerWrapper:"_31AVRNJbVMh2DUFRrpCQcD"}},"./src/reddit/components/CommentsWrapper/index.m.less":function(e,t,s){e.exports={ContentWrapper:"_1ump7uMrSA43cqok14tPrG",contentWrapper:"_1ump7uMrSA43cqok14tPrG",TruncatedComments:"_1oTUrVtKJk1ue0r3fe31kJ",truncatedComments:"_1oTUrVtKJk1ue0r3fe31kJ",MoreCommentsButton:"j9NixHqtN2j8SKHcdJ0om",moreCommentsButton:"j9NixHqtN2j8SKHcdJ0om"}},"./src/reddit/components/CommunitySettings/helpers.ts":function(e,t,s){"use strict";s.d(t,"c",(function(){return n})),s.d(t,"d",(function(){return o})),s.d(t,"j",(function(){return r})),s.d(t,"e",(function(){return a})),s.d(t,"a",(function(){return i})),s.d(t,"k",(function(){return c})),s.d(t,"l",(function(){return d})),s.d(t,"n",(function(){return l})),s.d(t,"m",(function(){return m})),s.d(t,"g",(function(){return p})),s.d(t,"f",(function(){return u})),s.d(t,"i",(function(){return h})),s.d(t,"b",(function(){return b})),s.d(t,"h",(function(){return g})),s.d(t,"o",(function(){return x}));s("./node_modules/core-js/modules/web.dom.iterable.js");const n=500,o=5e3,r=5e4,a=0,i=1440,c=36600,d=1e9,l={Disabled:"disabled","Mods only":"modonly",Anyone:"anyone"},m=["Wiki is disabled for all users except mods","Only mods, approved wiki contributors, or those on a page's edit list may edit","Anyone who can submit to the community may edit"],p={Any:"any","Links only":"link","Text posts only":"self"},u=["Any post type is allowed","Only links to external sites are allowed","Only text posts are allowed"],h={Low:"low","High (default)":"high",All:"all"},b={"Low (default)":"low",High:"high",All:"all"},g={"none (recommended)":null,best:"confidence",old:"old",top:"top","q&a":"qa","live (beta)":"live",controversial:"controversial",new:"new"},x=(e,t)=>Object.keys(e).find(s=>e[s]===t)},"./src/reddit/components/CompactPost/Placeholder/index.m.less":function(e,t,s){e.exports={emptyScore:"_3RRgbzXvoZ4MUYm45lAqp7",emptyVotes:"_2rSb53hAOWG9j6R_ToxoSJ",wrapper:"_2wuOxz4--LcoxCYSrpCBlx",expandoContainer:"_3CIl2qTD30RwYsMAGO2Y2S",expando:"_2UCpUVZ4aSncQhvkrQW_0i",subredditIconContainer:"_2IJnSguizdehDk_JnTKrdK",topLine:"_1OQE_XsSHzM7AtjVQahjoI",title:"_28eZmJsl2bogBZ2KPmeoFO",meta:"_24dJJDh8muEbehYysONmV1",comments:"_2-iJVRFJK-xC7a7xgBF-T5",ellipsis:"_1IFRAIwzfwChKq85FhLG69",flatList:"_3HxvQvODjYEHa-X5AuQinY"}},"./src/reddit/components/CompactPost/Placeholder/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/reddit/components/SubredditIcon/index.tsx"),d=s("./src/reddit/components/VerticalVotes/votes.tsx"),l=s("./src/reddit/contexts/PageLayer/index.tsx"),m=s("./src/reddit/helpers/styles/mixins/loading.ts"),p=s("./src/reddit/models/Vote/index.ts"),u=s("./src/reddit/helpers/styles/mixins/index.m.less"),h=s.n(u),b=s("./src/reddit/components/CompactPost/Placeholder/index.m.less"),g=s.n(b);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const C=Object(l.t)(),v=Object(a.c)({isFakeSubreddit:l.y}),O=Object(r.b)(v),E=e=>{const t={interactive:!1,voteState:p.a.notVoted};return o.a.createElement("div",{className:g.a.emptyVotes},o.a.createElement(d.d,x({key:"u"},t)),o.a.createElement("div",{key:"s",className:g.a.emptyScore}),o.a.createElement(d.c,x({key:"d"},t)))},f=e=>o.a.createElement(c.a,{className:Object(m.a)(e)}),y=e=>o.a.createElement("div",{className:g.a.flatList},o.a.createElement("div",{className:Object(i.a)(g.a.comments,Object(m.b)(e))}),o.a.createElement("div",{className:Object(i.a)(g.a.ellipsis,Object(m.b)(e))}));t.a=C(O(e=>o.a.createElement("div",{className:Object(i.a)(e.className,h.a.compactPostStyles,h.a.classicAndCompactPlaceholderStyles)},o.a.createElement("div",{className:g.a.wrapper},o.a.createElement(E,x({key:"c"},e)),o.a.createElement("div",{key:"a",className:g.a.expandoContainer},o.a.createElement("div",{className:Object(i.a)(g.a.expando,Object(m.a)(e))})),o.a.createElement("div",{key:"d",className:g.a.subredditIconContainer},o.a.createElement(f,{isLoading:!1})),o.a.createElement("div",{key:"e",className:g.a.topLine},o.a.createElement("div",{key:"ea",className:Object(i.a)(g.a.title,Object(m.b)(e))}),o.a.createElement("div",{key:"eb",className:Object(i.a)(g.a.meta,Object(m.b)(e))})),o.a.createElement(y,x({key:"f"},e))))))},"./src/reddit/components/CompactPost/index.m.less":function(e,t,s){e.exports={hideAboveSmallTablet:"FX_aWE8xMirpzniJDh7I9",verticalVotes:"WAapGmF_gr09J509Af-gC",responsiveExpandoButton:"_3gazhzxd2iBGYb2k67_HTw",mHideAboveSmallTablets:"_2zV_ARVPrYN10xmbbb_4Lu",responsiveMeta:"_1xomvNxK4aHGoGa-YDw1Mc",hideBelowSmallTablet:"z_7pbLL4hZp6ikYkq0prE",horizontalVotes:"_37nbKm3ee5NGx6e-LXErLD",mHideBelowSmallTablets:"_3x_hdVQw5uJh6xeAGoZock",postTopMeta:"_1ghZRP5m5xDLh0up1rFt0e",commentsLink:"Nz0lkWnnj2V_4iBKE0WL7",adLinkWrapper:"_4Dt8djtbHlJ5uCZDX_SeV",content:"_1B7SUGHK0QDoHimxX2a9D0",leftRail:"_2r9FABr2qYEUDyZoenhn6N",bulkActionCheckbox:"_44ehKZ_pl1NGGaaTYouZR",subredditIcon:"_1kWbgdOrvSeXIZZRIw4uBS",topLine:"_2ZjElFi3ORaU3VPrwmdoCp",postBadges:"_126a2ACB41algqMEwA34TF",flatList:"_3jwri54NGT-SRatPIZYiMo",expandedContentWrapper:"_12wy0ZFFaS3a49145uXWXt",crosspostMediaWrapper:"_2fCIreZsKBNS3esgsKKksM",compactWrapper:"YA9IzN0YR-G5_oD5EUydl",compactPostRow:"WnMeTcero48dKo501T-19",donationAmount:"_1TjU-e4dgCSlbuHHatC0G9",leftRailWrapper:"_3YgWdffoKyCp7UaGAEQpoo",proposalMetaData:"_1_B8IWlNlt5jJVg4cKy7nL",isEvent:"_1csviRG5jI9xOrcsmpbfwt",chain:"_1el-fLKTUXg-19pIbGUHgk",modToolsFlatlist:"_20p7Nh6bZU7MOqYuB2uJcy",postContainer:"_2bHVWuR_l_wVivC3FKfLFf",leftBorderWrapper:"_3ZmFVbkR23TIZ-3nboLYXe"}},"./src/reddit/components/CompactPost/index.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es6.regexp.replace.js"),s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=(s("./node_modules/react-router-dom/esm/react-router-dom.js"),s("./node_modules/reselect/es/index.js")),i=s("./src/config.ts"),c=s("./src/lib/classNames/index.ts"),d=s("./src/lib/CSSVariableProvider/withTheme.tsx"),l=s("./src/reddit/components/TrackingHelper/index.tsx"),m=s("./src/reddit/constants/postLayout.ts"),p=s("./src/reddit/helpers/hasModPostPermissions/index.ts"),u=s("./src/reddit/helpers/showReportIndicator/index.ts"),h=s("./src/reddit/helpers/styles/mixins/index.tsx"),b=s("./src/reddit/helpers/trackers/post.ts"),g=s("./src/reddit/models/Media/index.ts"),x=s("./src/reddit/models/User/index.ts"),C=s("./src/reddit/models/Vote/index.ts"),v=s("./src/reddit/actions/post.ts"),O=s("./src/reddit/actions/postFlair.ts"),E=s("./src/reddit/actions/tooltip.ts"),f=s("./src/reddit/selectors/activeModalId.ts"),y=s("./src/reddit/selectors/experiments/adSidebar.ts"),j=s("./src/reddit/selectors/moderatorPermissions.ts"),w=s("./src/reddit/selectors/postFlair.ts"),I=s("./src/reddit/selectors/posts.ts"),P=s("./src/reddit/selectors/user.ts"),T=s("./src/reddit/components/AdLinkWrapper/index.tsx"),k=s("./src/reddit/components/AwardBadges/index.tsx"),S=s("./src/reddit/components/CallToActionButton/index.tsx"),_=s("./src/reddit/components/CommentsChat/LiveIcon/index.tsx"),N=s("./src/reddit/components/CommentsLink/index.tsx"),L=s("./src/reddit/components/CompactPost/HorizontalVotes/index.tsx"),M=s("./src/reddit/components/Economics/Support/DonationAmount/async.tsx"),R=s("./src/reddit/components/EventPost/EventMetaHeader/index.tsx"),B=s("./src/reddit/components/ExpandoButton/index.tsx"),A=s("./src/reddit/components/Flatlist/index.tsx"),F=s("./src/reddit/components/Flatlist/getFlatlistTooltipId.ts"),D=s("./src/reddit/components/JSAPIContainers/index.tsx"),W=s("./src/reddit/components/ModActionsMenu/index.tsx"),H=s("./src/reddit/components/ModModeReports/index.tsx"),V=s("./src/reddit/components/ModModeReports/helpers.ts"),U=s("./src/reddit/components/ModToolsFlatlist/index.tsx"),K=s("./src/reddit/components/PostBackgroundWrapper/index.tsx"),G=s("./src/reddit/components/PostBadges/index.tsx"),z=s("./src/reddit/components/PostContainer/index.tsx"),J=s("./src/reddit/components/PostFlairPicker/index.tsx"),q=s("./src/reddit/components/PostLeftRail/index.tsx"),Y=s("./src/reddit/components/PostMedia/index.tsx"),Q=s("./src/reddit/components/PostModModeDropdown/index.tsx"),Z=s("./src/reddit/components/PostOverflowMenu/index.tsx"),X=s("./src/reddit/components/PostTitle/index.tsx"),$=s("./src/reddit/components/PostTopMeta/index.tsx"),ee=s("./src/reddit/components/RestrictedFlatlistButton/index.tsx"),te=s("./src/reddit/components/SponsoredLabel/index.tsx"),se=(s("./src/reddit/components/SubredditIcon/index.tsx"),s("./src/reddit/components/VerticalVotes/index.tsx")),ne=s("./src/reddit/components/ViewReportsDropdown/index.tsx"),oe=s("./src/reddit/contexts/InsideOverlay.tsx"),re=s("./src/reddit/contexts/PageLayer/index.tsx"),ae=s("./src/reddit/controls/Checkbox/index.tsx"),ie=s("./src/reddit/controls/MetaData/index.tsx"),ce=s("./src/reddit/controls/OutboundLink/styled.tsx"),de=s("./src/reddit/helpers/hasModFlairPermissions/index.ts"),le=s("./src/reddit/helpers/postEvent.ts"),me=s("./src/reddit/icons/fonts/IgnoreReport/index.tsx"),pe=s("./src/reddit/icons/fonts/Report/index.tsx"),ue=s("./src/reddit/helpers/styles/mixins/index.m.less"),he=s.n(ue),be=s("./src/reddit/components/CompactPost/index.m.less"),ge=s.n(be);function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var Ce=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const ve=e=>{var{isCompact:t}=e,s=Ce(e,["isCompact"]);return o.a.createElement(B.a,xe({className:Object(c.a)(ge.a.responsiveExpandoButton,{[ge.a.mHideAboveSmallTablets]:!!t,[ge.a.mHideBelowSmallTablets]:!t})},s))},Oe=Object(r.b)(()=>Object(a.c)({activeModalId:f.a,crosspost:I.c,currentUser:P.i,flairStyleTemplate:re.Q,isActive:I.g,isExpanded:I.j,language:P.S,layout:re.M,moderatorPermissions:j.i,modModeEnabled:re.O,poll:(e,t)=>{const s=e.posts.metaMap[t.postId];if(s)return e.polls.models[s]},post:I.J,showEditFlair:w.a,subredditOrProfile:I.U,userIsOp:P.jb,isInAdLeftSidebarExperiment:y.a}),(e,t)=>{let{listingKey:s,listingName:n,postId:o}=t;return{dispatchFlairChanged:t=>{let{post:s,previewFlair:n,selectedTemplateId:o}=t;return e(Object(O.h)({post:s,previewFlair:n,selectedTemplateId:o}))},handleVote:t=>{const s=t===C.a.upvoted?Object(v.N)(o):Object(v.o)(o);e(s)},onIgnoreReports:()=>e(Object(v.L)(o)),onOpenReportsDropdown:t=>e(Object(E.g)({tooltipId:t}))}},(e,t,s)=>Object.assign({},s,e,t,{onFlairChanged:s=>{let{previewFlair:n,selectedTemplateId:o}=s;return t.dispatchFlairChanged({post:e.post,previewFlair:n,selectedTemplateId:o})}}));class Ee extends o.a.Component{componentDidUpdate(e){this.props.onSizeChanged&&e.isExpanded!==this.props.isExpanded&&this.props.onSizeChanged(this.props.post.id)}render(){const{activeModalId:e,className:t,currentProfileName:s,crosspost:n,currentUser:r,eventFactory:a,flairStyleTemplate:d,handleVote:l,isCheckboxSelected:C=!1,isCommentsPage:v,isCommentPermalink:O,isExpanded:E,isInAdLeftSidebarExperiment:f,isOverlay:y,isProfilePostListing:j,inSubredditOrProfile:w=!1,language:I,layout:P,moderatorPermissions:B,modModeEnabled:Y,onClickPost:te,onFlairChanged:oe,onIgnoreReports:re,poll:ie,post:ue,subredditOrProfile:be,userIsOp:xe,hideModTools:Ce,scrollerItemRef:ve,showBulkActionCheckbox:Oe,showEditFlair:Ee,toggleCheckbox:ye,tooltipType:Ie,sendEvent:Pe}=this.props,Te=!!ue.media&&ue.media.type===g.n.RTJSON,ke=xe&&Te,Se=Object(J.b)(ue.id,y),_e=Object(p.a)(B),Ne=Object(de.a)(B),Le="-mod-actions-menu-".concat(ue.id),Me=!!r&&Object(x.f)(r)===ue.author,Re=Object(V.c)(ue),Be=Object(F.a)("View--Reports",ue.id,Ie),Ae=Object(V.a)(ue),Fe=!(y||v||O),De=e=>Pe(Object(b.d)(ue.id,e)),We=o.a.createElement(z.a,{className:Object(c.a)(he.a.compactPostStyles,ge.a.postContainer,Object(h.a)(this.props),t),isOverlay:y,style:Object.assign({},Object(h.d)(this.props),Object(h.b)(this.props.flairStyleTemplate)),post:ue,onClick:te,eventFactory:a},o.a.createElement("div",{className:ge.a.compactWrapper},o.a.createElement("div",{className:ge.a.leftRailWrapper},o.a.createElement("div",{className:ge.a.leftRail,style:{borderColor:Object(q.c)({isRemoved:!!ue.bannedBy,isReported:Object(u.a)(ue),isSponsored:ue.isSponsored,theme:this.props.theme,isInAdLeftSidebarExperiment:f})}},Oe&&o.a.createElement(ae.a,{className:ge.a.bulkActionCheckbox,isCheckboxSelected:C,toggleCheckbox:ye}),o.a.createElement(se.a,{className:ge.a.verticalVotes,compact:!0,flairStyleTemplate:d,model:ue,onVoteClick:l}),o.a.createElement(L.a,{className:ge.a.horizontalVotes,compact:!1,flairStyleTemplate:d,model:ue,onVoteClick:l}))),o.a.createElement(K.a,{className:Object(c.a)(ge.a.content,{[ge.a.isEvent]:Object(le.a)(ue)}),"data-click-id":"background",flairStyleTemplate:d},o.a.createElement(R.a,{isCompactMode:!0,language:I,post:ue}),o.a.createElement("div",{className:ge.a.compactPostRow},!Ce&&je(ue,n,E,!1),!w&&!ue.isSponsored&&o.a.createElement(D.h,{type:ue.belongsTo.type,id:ue.belongsTo.id}),o.a.createElement("div",{className:ge.a.topLine,"data-click-id":"body"},o.a.createElement(X.c,{post:ue,poll:ie,size:X.b.Small,titleColor:d&&d.postTitleColor,isOverlay:!1}),we(ue,be,I),o.a.createElement($.d,{className:ge.a.postTopMeta,flairStyleTemplate:d,language:I,post:ue,showSub:!!be&&!w&&!ue.isSponsored,subredditOrProfile:be}),o.a.createElement(G.a,{className:ge.a.postBadges,displayText:be?be.displayText:null,inSubredditOrProfile:w,language:I,post:ue}),be&&o.a.createElement(M.a,{className:ge.a.donationAmount,contentId:ue.id,subredditId:be.id}),o.a.createElement(k.a,{isOverlay:y,tooltipType:Ie,thing:ue})),Fe&&o.a.createElement("div",null,o.a.createElement(_.a,{className:ge.a.liveDiscussionIcon,isMod:_e,postId:ue.postId})),o.a.createElement("div",{className:ge.a.flatList},o.a.createElement(N.a,{className:ge.a.commentsLink,hasModPostPerms:_e,isCommentsPage:v,isCommentPermalink:O,isOverlay:y,postId:ue.id,modModeEnabled:Y,numComments:ue.numComments,type:m.g.Compact}),o.a.createElement(U.a,{className:ge.a.modToolsFlatlist,isOverlay:!1,language:I,layout:P,modModeEnabled:Y,post:ue,sendEvent:Pe,showIconsOnly:!0}),_e&&o.a.createElement(W.a,{dropdownId:Le,onClick:()=>De("post_mod_action_menu")},o.a.createElement(A.b,null),o.a.createElement(Q.a,{canEditFlair:Ne&&Ee,hasModPostPerms:_e,isOverlay:!1,isPostAuthor:Me,language:I,modModeEnabled:Y,post:ue,tooltipId:Le})),_e&&Re&&!Y&&o.a.createElement(ee.c,{text:"".concat(Ae),onClick:()=>{this.props.onOpenReportsDropdown(Be),De("post_report_menu")},id:Be},o.a.createElement(ne.a,{model:ue,onIgnoreReports:()=>{re(),De(ue.ignoreReports?"restore_reports":"ignore_reports")},tooltipId:Be}),ue.ignoreReports?o.a.createElement(me.a,null):o.a.createElement(pe.a,null)),o.a.createElement(Z.g,{currentProfileName:s,isCommentsPage:v,isOverlay:!1,isProfilePostListing:j,layout:P,permalink:ue.permalink,postId:ue.postId,sendEvent:Pe,showEditPost:ke,showEditFlair:Ee,dropdownId:"".concat(ue.id,"-overflow-menu"),useFlatlistBreakpoints:Object(Z.h)({share:!1,editPost:!1,save:!1,gild:!1,hide:!1,report:!1})}),!Ce&&je(ue,n,E,!0))),ue.source&&ue.source.url&&ue.isSponsored&&o.a.createElement(T.a,{className:ge.a.adLinkWrapper},o.a.createElement(ce.a,{href:ue.source.url.replace(i.a.redditUrl,""),isSponsored:ue.isSponsored,source:ue.source},ue.source.displayText),ue.callToAction&&o.a.createElement(S.a,{href:ue.source.url.replace(i.a.redditUrl,""),isSponsored:ue.isSponsored,source:ue.source,isNotCardView:!0},ue.callToAction)),Y&&_e&&Re&&o.a.createElement("div",{className:ge.a.compactPostRow},o.a.createElement(H.a,{language:I,onIgnoreReports:re,reportable:ue})),o.a.createElement(D.d,{postId:ue.id}))),E&&o.a.createElement(fe,{post:ue,scrollerItemRef:ve,flairStyleTemplate:d}),e===Se&&o.a.createElement(J.a,{flairs:ue.flair,subredditId:ue.belongsTo.id,modalId:Se,onFlairChanged:oe}));return o.a.createElement(o.a.Fragment,null,We)}}const fe=e=>o.a.createElement(K.a,{className:Object(c.a)(e.className,ge.a.expandedContentWrapper),flairStyleTemplate:e.flairStyleTemplate},e.post.crosspostRootId?o.a.createElement("div",{className:ge.a.crosspostMediaWrapper},ye(e.post,e.scrollerItemRef)):ye(e.post,e.scrollerItemRef)),ye=(e,t)=>o.a.createElement(Y.a,{isExpando:!0,isListing:!0,isNotCardView:!0,scrollerItemRef:t,shouldLoad:!0,shouldPause:!1,showFull:!0,showCentered:!0,post:e}),je=(e,t,s,n)=>o.a.createElement(ve,{crosspost:t,isCompact:n,isExpanded:s,post:e,useMediaIcons:!0}),we=(e,t,s)=>o.a.createElement("div",{className:ge.a.responsiveMeta},o.a.createElement(ie.b,{isScoreHidden:e.scoreHidden,language:s,score:e.score}),o.a.createElement(ie.c,null),Object(ie.d)(e.numComments,s),o.a.createElement(ie.c,null),t&&o.a.createElement("a",{href:t.url},o.a.createElement(ie.a,null,t.displayText)),e.isSponsored&&[o.a.createElement(te.a,{key:"label"}),o.a.createElement(ie.c,{key:"separator"})],!e.isSponsored&&o.a.createElement(ie.a,null," Posted by "),o.a.createElement($.b,{post:e}));t.a=Oe(Object(l.b)(Object(oe.b)(Object(d.a)(Ee))))},"./src/reddit/components/ContributorRequestFlow/ContributorRequestButton.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/reddit/actions/modal.ts"),c=s("./src/reddit/components/IdCard/index.tsx"),d=s("./src/reddit/components/TrackingHelper/index.tsx"),l=s("./src/reddit/constants/modals.ts"),m=s("./src/reddit/controls/Button/index.tsx"),p=s("./src/reddit/helpers/trackers/restrictedCommunity.ts"),u=s("./src/reddit/i18n/utils.ts"),h=s("./src/reddit/models/SubredditRestrictions/index.ts"),b=s("./src/reddit/selectors/subreddit.ts");const g=Object(a.c)({restrictions:b.o});class x extends o.a.Component{constructor(){super(...arguments),this.onRequest=()=>{this.props.sendEvent(Object(p.a)(this.props.eventSource)),this.props.openContributorRequestModal()}}render(){const e=this.props.smallButton?m.f:c.c;return o.a.createElement(e,{className:this.props.className,onClick:this.onRequest},this.props.eventSource===h.b.Comment?Object(u.c)("Request to comment"):Object(u.c)("Request to post"))}}t.a=Object(r.b)(g,e=>({openContributorRequestModal:()=>e(Object(i.i)(l.a.CONTRIBUTOR_REQUEST))}))(Object(d.b)(x))},"./src/reddit/components/CrosspostBox/index.m.less":function(e,t,s){e.exports={mediaContainer:"P8p9Nku0-ZbYCsaCOSE2t",Container:"_2ED-O3JtIcOqp8iIL1G5cg",container:"_2ED-O3JtIcOqp8iIL1G5cg",PostMetaWrapper:"_1u_4ufj_H3WJW2TXEZ6a3n",postMetaWrapper:"_1u_4ufj_H3WJW2TXEZ6a3n",PostTitle:"_2akYJO5RtMK_ptA408seyG",postTitle:"_2akYJO5RtMK_ptA408seyG",FlatList:"_3Dd3XvAr-WcOJyMTx4y35x",flatList:"_3Dd3XvAr-WcOJyMTx4y35x",FlatItem:"_2Pkdj4FrQFtK8COeODi_kK",flatItem:"_2Pkdj4FrQFtK8COeODi_kK",FlatListDotSpacer:"_3w73P89exX_1mpdhQCURo6",flatListDotSpacer:"_3w73P89exX_1mpdhQCURo6",LinkContainer:"CsZ0mP84ULF0bBJJa0PFy",linkContainer:"CsZ0mP84ULF0bBJJa0PFy",Content:"_379A_08LTBsR4c8POTldR_",content:"_379A_08LTBsR4c8POTldR_",ThumbnailContainer:"_7bo--rwqP4Z7K1s_8dGPX",thumbnailContainer:"_7bo--rwqP4Z7K1s_8dGPX"}},"./src/reddit/components/CrosspostBox/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/react-router-dom/esm/react-router-dom.js"),i=s("./node_modules/reselect/es/index.js"),c=s("./src/app/strings/index.ts"),d=s("./src/lib/permalinkToOverlayLocation/index.ts"),l=s("./src/lib/prettyPrintNumber/index.ts"),m=s("./src/reddit/components/Media/index.tsx"),p=s("./src/reddit/components/PostMeta/index.tsx"),u=s("./src/reddit/components/PostTitle/index.tsx"),h=s("./src/reddit/components/SourceLink/index.tsx"),b=s("./src/reddit/components/Thumbnail/index.tsx"),g=s("./src/reddit/selectors/posts.ts"),x=s("./src/reddit/selectors/user.ts"),C=s("./src/reddit/components/CrosspostBox/index.m.less"),v=s.n(C),O=s("./src/lib/lessComponent.tsx");function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const f=O.a.div("Container",v.a),y=O.a.div("PostMetaWrapper",v.a),j=O.a.wrapped(u.c,"PostTitle",v.a),w=O.a.div("FlatList",v.a),I=O.a.div("FlatItem",v.a),P=O.a.span("FlatListDotSpacer",v.a),T=O.a.wrapped(f,"LinkContainer",v.a),k=O.a.div("Content",v.a),S=O.a.div("ThumbnailContainer",v.a),_=Object(i.c)({isCurrentUserProfilePost:g.h,language:x.S,post:g.J,shouldOpenPostInNewTab:x.W,subreddit:g.U}),N=Object(r.b)(_);t.a=N(e=>{const{className:t,isCurrentUserProfilePost:s,mediaProps:n,post:r,subreddit:a,language:i}=e;if(!r)return null;const c={post:r,hideGildCta:!0,inSubredditOrProfile:!1,isCurrentUserProfilePost:s,shouldShowSubscribeButton:!1,subredditOrProfile:a,language:i,tooltipType:"".concat("CrosspostBox","--").concat(n.isListing)},d=t;return r&&!r.media?o.a.createElement(T,{className:d},o.a.createElement(k,null,o.a.createElement(y,null,o.a.createElement(p.a,c)),L(r),r.source&&o.a.createElement(h.a,{post:r}),R(e)),A(e)):o.a.createElement(f,{className:d},o.a.createElement(y,null,o.a.createElement(p.a,c)),L(r),M(e),R(e))});const L=e=>o.a.createElement(j,{isCrosspost:!0,post:e,shouldLinkWrap:!0,size:u.b.Small}),M=e=>{const{mediaProps:t,post:s}=e,n=Object.assign({},t,{post:s,crosspost:t.post});return o.a.createElement("div",null,o.a.createElement(m.a,E({},n,{className:v.a.mediaContainer})))},R=e=>{const{language:t,post:s}=e,{score:n}=s;return o.a.createElement(w,null,o.a.createElement(I,null,Object(c.c)(t,"posts.points.noun",n,{count:Object(l.b)(n)})),o.a.createElement(P,null),o.a.createElement(I,null,B(e)))},B=e=>{const{language:t,post:s,shouldOpenPostInNewTab:n}=e,{numComments:r}=s;return o.a.createElement(a.a,{"data-click-id":"comments",to:Object(d.a)(s.permalink,!0),target:n?"_blank":void 0},Object(c.c)(t,"posts.comments.noun",r,{count:Object(l.b)(r)}))},A=e=>o.a.createElement(S,null,o.a.createElement(b.a,{post:e.post}))},"./src/reddit/components/DiscoveryUnit/InFeedChaining/Loader.tsx":function(e,t,s){"use strict";var n=s("./src/higherOrderComponents/makeAsync.tsx"),o=s("./src/lib/loadWithRetries/index.ts");const r=Object(n.a)({getComponent:()=>Object(o.a)(()=>s.e("InFeedChaining").then(s.bind(null,"./src/reddit/components/DiscoveryUnit/InFeedChaining/index.tsx"))).then(e=>e.default),ErrorComponent:()=>null,LoadingComponent:()=>null});t.a=r},"./src/reddit/components/Economics/CommunityTipJar/async.m.less":function(e,t,s){e.exports={loading:"_3gWqsGamiiRTC2h_yOIcgS"}},"./src/reddit/components/Economics/CommunityTipJar/async.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/higherOrderComponents/makeAsync.tsx"),a=s("./src/lib/classNames/index.ts"),i=s("./src/reddit/featureFlags/component.tsx"),c=s("./src/reddit/components/Economics/CommunityTipJar/async.m.less"),d=s.n(c);const l=Object(r.a)({ErrorComponent:()=>null,LoadingComponent:e=>{let{className:t}=e;return o.a.createElement("div",{className:Object(a.a)(t,d.a.loading)})},getComponent:()=>Promise.all([s.e("vendors~CoinsPurchaseModal~EconomicsCommunityTipJar~EconomicsEntryPointsCommentFlatlistSupportCTA~Ec~61cbc843"),s.e("EconomicsCommunityTipJar~EconomicsEntryPointsCommentFlatlistSupportCTA~EconomicsEntryPointsPostFlatl~ad08f508"),s.e("EconomicsCommunityTipJar~EconomicsEntryPointsCommentFlatlistSupportCTA~EconomicsEntryPointsPostFlatl~c734f0e1"),s.e("EconomicsCommunityTipJar")]).then(s.bind(null,"./src/reddit/components/Economics/CommunityTipJar/index.tsx")).then(e=>e.default)});t.a=Object(i.a)("spCommunityTipJar",l)},"./src/reddit/components/Economics/SubredditPremium/Badges/UserDisplay/index.m.less":function(e,t,s){e.exports={badge:"ekl2maIRbrCrsYFt1OwaE"}},"./src/reddit/components/Economics/SubredditPremium/Badges/UserDisplay/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return b}));var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/reddit/actions/economics/subredditPremium/actionCreators.ts"),d=s("./src/reddit/actions/tooltip.ts"),l=s("./src/reddit/components/Badges/UserDisplay/index.tsx"),m=s("./src/reddit/featureFlags/index.ts"),p=s("./src/reddit/selectors/economics.ts"),u=s("./src/reddit/components/Economics/SubredditPremium/Badges/UserDisplay/index.m.less"),h=s.n(u);function b(e){const{badges:t}=e;return t.length?o.a.createElement(l.b,{useHovercard:!0,badges:t,className:Object(i.a)(e.className,h.a.badge),uniqueIdentifier:e.uniqueIdentifier,showAddCustom:e.customBadgesEnabled&&e.premiumEnabled&&e.showAddCustom&&t.length<2&&e.accountId===e.userId,subredditId:e.subredditId,userId:e.userId,onShowTooltip:e.onShowTooltip,onHideTooltip:e.onHideTooltip,onOpenUploadDialog:e.onOpenUploadDialog}):null}t.b=Object(r.b)(()=>Object(a.c)({accountId:e=>e.user.account?e.user.account.id:void 0,badges:(e,t)=>{let{subredditId:s,userId:n}=t;return Object(p.p)(e,s,n)},customBadgesEnabled:m.d.spCustomBadges,premiumEnabled:e=>m.d.spPremium(e)}),e=>({onShowTooltip:t=>e(Object(d.f)({tooltipId:t})),onHideTooltip:()=>e(Object(d.h)()),onOpenUploadDialog:()=>e(Object(c.k)())}))(b)},"./src/reddit/components/Economics/SubredditPremium/Badges/UsernameDisplay/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/reddit/selectors/economics.ts");function c(e){const{badges:t}=e,s=t[t.length-1];return s&&!e.ignore?o.a.cloneElement(e.children,{style:s.extra&&s.extra.style&&s.extra.style.color?Object.assign({},e.children.props.style||{},{color:s.extra.style.color,fontWeight:700}):e.children.props.style}):e.children}t.b=Object(r.b)(()=>Object(a.c)({badges:(e,t)=>{let{subredditId:s,userId:n}=t;return Object(i.p)(e,s,n)}}))(c)},"./src/reddit/components/Economics/Support/DonationAmount/async.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/higherOrderComponents/makeAsync.tsx"),c=s("./src/reddit/featureFlags/index.ts"),d=s("./src/reddit/selectors/economics.ts"),l=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const m=Object(i.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>s.e("EconomicsSupportDonationAmount").then(s.bind(null,"./src/reddit/components/Economics/Support/DonationAmount/index.tsx")).then(e=>e.default)});const p=Object(a.c)({amountIsNotZero:(e,t)=>{const s=Object(d.j)(e,t);return 0!==parseInt(s)},featureEnabled:c.d.spSupport});t.a=Object(r.b)(p)((function(e){const{amountIsNotZero:t,featureEnabled:s}=e,n=l(e,["amountIsNotZero","featureEnabled"]);return e.featureEnabled&&e.amountIsNotZero?o.a.createElement(m,n):null}))},"./src/reddit/components/Economics/TopTippers/CommentUsername/index.m.less":function(e,t,s){e.exports={badge:"_17rA6EEcc6RUglkZkHnYGO",container:"EorVQyBcpl50FYvpH-VTa"}},"./src/reddit/components/Economics/TopTippers/Icon/index.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/web.dom.iterable.js");var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/config.ts");const a=new Set(["t2_ktrtg"]),i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=arguments.length>1?arguments[1]:void 0;return"".concat(r.a.assetPath,"/img/badges/topTippers/").concat(t,"/rank-").concat(e,".png")};t.a=e=>o.a.createElement("img",{className:e.className,src:i(e.rank,e.creatorId&&a.has(e.creatorId)?e.creatorId:e.subredditId)})},"./src/reddit/components/EventPost/EventMetaHeader/index.m.less":function(e,t,s){e.exports={container:"_2A1Ng1fBxjU-qYqbEJn_sm",EventMetaWrapper:"_55hUWVhbF34AzbWr7SAMi",eventMetaWrapper:"_55hUWVhbF34AzbWr7SAMi",eventFollowButton:"_2XCKBYzBTZpjOAFEWv1tSy",isCompact:"_2gNxoOe_xKaMk0mmYMQCGs"}},"./src/reddit/components/EventPost/EventMetaHeader/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/lib/eventTools/index.ts"),i=s("./src/lib/lessComponent.tsx"),c=s("./src/reddit/components/EventPost/PostEventMeta/index.tsx"),d=s("./src/reddit/components/PostFollow/index.tsx"),l=s("./src/reddit/helpers/postCollection.ts"),m=s("./src/reddit/helpers/postEvent.ts"),p=s("./src/reddit/components/EventPost/EventMetaHeader/index.m.less"),u=s.n(p);const h=i.a.div("EventMetaWrapper",u.a);t.a=e=>{let{className:t,isCompactMode:s,language:n,post:i}=e;if(!Object(m.a)(i))return null;const p=i&&i.eventInfo,b=Object(l.a)(i),g=p&&Object(a.c)(p.eventStart,p.eventEnd);return o.a.createElement("div",{className:Object(r.a)(u.a.container,t,{[u.a.isCompact]:!!s})},o.a.createElement(h,{className:u.a.eventMetaWrapper},o.a.createElement(c.a,{language:n,post:i}),!b&&g&&o.a.createElement(d.a,{className:u.a.eventFollowButton,post:i,isEventFollow:!0})))}},"./src/reddit/components/EventPost/PostEventMeta/index.m.less":function(e,t,s){e.exports={PostEventFutureText:"_3rtq7SfSLd-e5fAEgn373L",postEventFutureText:"_3rtq7SfSLd-e5fAEgn373L",PostEventPastText:"_1j5EnaNrX7PuyCnmpT-8o0",postEventPastText:"_1j5EnaNrX7PuyCnmpT-8o0",PostEventNowText:"BGfronFwr_0rXxOJmxp10",postEventNowText:"BGfronFwr_0rXxOJmxp10",Container:"_3NIcD2Vr2xrSAq08U14kCy",container:"_3NIcD2Vr2xrSAq08U14kCy",CalendarIcon:"LEz3F0HfvMpdo96occzKU",calendarIcon:"LEz3F0HfvMpdo96occzKU",LiveIcon:"_3ArSA7Spw15WyF9ld4p6ZJ",liveIcon:"_3ArSA7Spw15WyF9ld4p6ZJ",LoadingState:"_27_KVVxYHZ7v44CE2vg8bT",loadingState:"_27_KVVxYHZ7v44CE2vg8bT"}},"./src/reddit/components/EventPost/PostEventMeta/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/eventTools/index.ts"),a=(s("./node_modules/core-js/modules/es6.regexp.replace.js"),s("./src/app/strings/index.ts")),i=s("./src/lib/constants/index.ts");function c(e,t){return e.toLocaleDateString(t,{month:"numeric",day:"numeric"})}var d=s("./src/reddit/helpers/styles/mixins/loading.ts"),l=s("./src/reddit/icons/fonts/Calendar/index.tsx"),m=s("./src/reddit/icons/fonts/Live/index.tsx"),p=s("./src/reddit/components/EventPost/PostEventMeta/index.m.less"),u=s.n(p),h=s("./src/lib/lessComponent.tsx");const b=h.a.span("PostEventFutureText",u.a),g=h.a.span("PostEventPastText",u.a),x=h.a.span("PostEventNowText",u.a),C=h.a.span("Container",u.a),v=h.a.wrapped(l.a,"CalendarIcon",u.a),O=h.a.wrapped(m.a,"LiveIcon",u.a),E=h.a.div("LoadingState",u.a);class f extends n.Component{constructor(e){super(e),this.state={mounted:!1}}componentDidMount(){this.setState({mounted:!0})}render(){const{className:e,language:t,post:s}=this.props,{eventInfo:n}=s;if(!n)return null;const{eventEnd:l,eventIsLive:m,eventStart:p}=n,u=Object(r.e)(p,l);let h,f;if(this.state.mounted||u===r.a.Live)h=function(e,t,s,n){const o=Object(r.e)(e,t),d=new Date(e*i.Bb);let l;if(o===r.a.Live||n)return Object(a.a)(s,"posts.event.inProgress");o===r.a.Future?l=Object(r.d)(e)?Object(a.a)(s,"posts.event.today"):Object(r.b)(e)>=5?c(d,s):function(e,t){return e.toLocaleDateString(t,{weekday:"long"})}(d,s):o===r.a.Past&&(l=Object(r.d)(e)?Object(a.a)(s,"posts.event.today"):c(d,s));const m=function(e,t){return e.toLocaleTimeString(t,{hour12:!0,hour:"numeric",minute:"2-digit"}).replace(/ /g,"").toUpperCase()}(d,s);return"".concat(l," @ ").concat(m)}(p,l,t,m);else{const e=Object(d.a)({isLoading:!0});h=o.a.createElement(E,{className:e})}if(m)f=o.a.createElement(x,null,o.a.createElement(O,null),h);else if(u===r.a.Future)f=o.a.createElement(b,null,o.a.createElement(v,null),h);else{if(u!==r.a.Past)return null;f=o.a.createElement(g,null,o.a.createElement(v,null),h)}return o.a.createElement(C,{className:e},f)}}t.a=f},"./src/reddit/components/ExpandoButton/index.m.less":function(e,t,s){e.exports={outer:"RvLtAcdRtbOQbhFB7MD_T",icon:"saNpcHve-34zjaa0cbIxW",hideOnHover:"_25HJpaEPiVNq6Ss3Ad7dp9",showOnHover:"_2S05CzViTnl3I2ekCABqFo",outboundLinkIcon:"_1zB4YvOwHPxdPEXG2CYhKB"}},"./src/reddit/components/ExpandoButton/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/react-router-dom/esm/react-router-dom.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/lib/permalinkToOverlayLocation/index.ts"),d=s("./src/reddit/i18n/utils.ts"),l=s("./src/reddit/actions/post.ts"),m=s("./src/reddit/controls/OutboundLink/index.tsx"),p=s("./src/reddit/helpers/postHasSelfText/index.ts"),u=s("./src/reddit/icons/fonts/Crosspost/index.tsx"),h=s("./src/reddit/icons/fonts/Expandos/Arrows/Collapse/index.tsx"),b=s("./src/reddit/icons/fonts/Expandos/Arrows/Expand/index.tsx"),g=s("./src/reddit/icons/fonts/helpers.tsx"),x=s("./src/reddit/icons/fonts/Expandos/Media/Lightbox/index.m.less"),C=s.n(x);var v=s("./src/lib/lessComponent.tsx").a.wrapped(e=>o.a.createElement("i",{className:"".concat(Object(g.b)("expandoMediaLightbox")," ").concat(e.className),onClick:e.onClick}),"LightboxIcon",C.a),O=s("./src/reddit/icons/fonts/Expandos/Media/Video/index.tsx"),E=s("./src/reddit/icons/fonts/Gif/index.tsx"),f=s("./src/reddit/icons/fonts/Link/index.tsx"),y=s("./src/reddit/icons/fonts/OutboundLink/index.tsx"),j=s("./src/reddit/icons/fonts/Photos/index.tsx"),w=s("./src/reddit/icons/fonts/Text/index.tsx"),I=s("./src/reddit/models/Media/index.ts"),P=s("./src/reddit/components/ExpandoButton/index.m.less"),T=s.n(P);const k=Object(r.b)(null,(e,t)=>({toggle:()=>e(Object(l.p)({postId:t.post.id}))})),S=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=Object(i.a)(T.a.icon,T.a.hideOnHover);if(t)return o.a.createElement(u.a,{className:s});switch(e){case I.n.GIFVIDEO:return o.a.createElement(E.a,{className:s});case I.n.IMAGE:return o.a.createElement(j.a,{className:s});case I.n.TEXT:case I.n.RTJSON:return o.a.createElement(w.a,{className:s});case I.n.VIDEO:return o.a.createElement(O.a,{className:s});case I.n.EMBED:default:return o.a.createElement(f.a,{className:s})}};t.a=k(e=>{const{className:t,crosspost:s,enableCrosspostIcon:n,isExpanded:r,post:l,toggle:u,useMediaIcons:g}=e,x=s||l,C=n&&!!s;return x.media&&!(("rtjson"===x.media.type||"text"===x.media.type)&&!Object(p.a)(x))?o.a.createElement("button",{"aria-expanded":r,"aria-haspopup":!0,"aria-label":Object(d.c)("Expand content"),className:Object(i.a)(t,T.a.outer),"data-click-id":r?"expando_close":"expando_open",onClick:u},r?o.a.createElement(h.a,{className:T.a.icon}):g?o.a.createElement(o.a.Fragment,null,S(x.media&&x.media.type,C),o.a.createElement(b.a,{className:Object(i.a)(T.a.icon,T.a.showOnHover)})):o.a.createElement(b.a,{className:T.a.icon})):x.source&&x.source.url?o.a.createElement(m.a,{"aria-label":Object(d.c)("Open external content"),className:Object(i.a)(t,T.a.outer),"data-click-id":"expando_open",href:x.source.url,isSponsored:l.isSponsored,source:l.source,target:"_blank"},o.a.createElement(y.a,{className:Object(i.a)(T.a.icon,T.a.outboundLinkIcon)})):o.a.createElement(a.a,{"aria-label":Object(d.c)("View content"),className:Object(i.a)(t,T.a.outer),"data-click-id":"expando_open",to:Object(c.a)(x.permalink),rel:"nofollow"},o.a.createElement(v,{className:T.a.icon}))})},"./src/reddit/components/FakeBannerAd/index.m.less":function(e,t,s){e.exports={BannerContainer:"_4ELfhcLRELWhYrOp6R4se",bannerContainer:"_4ELfhcLRELWhYrOp6R4se",FakeBannerAdImage:"_3q7Cs0j3hSEoS6omo8egL_",fakeBannerAdImage:"_3q7Cs0j3hSEoS6omo8egL_"}},"./src/reddit/components/FocusableContent/index.m.less":function(e,t,s){e.exports={FocusableContent:"_3MknXZVbkWU8JL9XGlzASi",focusableContent:"_3MknXZVbkWU8JL9XGlzASi",isFocused:"_3F2J0fSnCI3ZvF_tBSaV0s",noBorder:"_1CpUVAt2tGEwaaBV3nZNJs"}},"./src/reddit/components/FocusableContent/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/lib/lessComponent.tsx"),i=s("./src/reddit/components/FocusableContent/index.m.less"),c=s.n(i);t.a=a.a.wrapped(e=>o.a.createElement("div",{className:Object(r.a)(e.className,{[c.a.isFocused]:e.isFocused,[c.a.noBorder]:e.noBorder})},e.children),"FocusableContent",c.a)},"./src/reddit/components/Governance/CommunityCard/CommunityTokens/BlockchainWalletInfo/index.m.less":function(e,t,s){e.exports={publicAddressSection:"e0Te0bBkUsDG6nuCjsFky",publicAddress:"_3GWjMTgC3OErgLOUT3TdHw",yourWalletAddress:"_2ZVoGra9kSZDSEzU8EoxXp",settingsButton:"g2yJ86Mg6P4M5NIoQA0Ve",settingsIcon:"_1ZIhSQEemVyqYNEOTZVZGv"}},"./src/reddit/components/Governance/CommunityCard/CommunityTokens/Risk/index.m.less":function(e,t,s){e.exports={alertIcon:"_281dcYAIoQvZtLs7iI7QLT",risk:"_1r7M4su-D_hCOMd066XY3J",riskBody:"_12gDkO_ygs4ikCeyu5bcVg",riskTitle:"_3iYb38SYPwjAd1VG859AKs"}},"./src/reddit/components/Governance/CommunityCard/CommunityTokens/index.m.less":function(e,t,s){e.exports={overflowingText:"_3s4m8dsZEYcHZ4ojNFUV0R",cell:"_1-v1Zgj9IOmc-oaS_dfHfI",cellBottomLine:"_1YrPtUZyIgZmt7BoC3IOjC",cellContainer:"_3y3jYnCjkWtjpibBnc9e3l",cellTopLine:"-pS2f0b04dtavABCVdrie",explanation:"_1n5fyOsQxmVlxXd1xuw6fH",title:"_2Q8Se5aIjJDpE5JnGoGI5R",token:"_2tQrDQoIjV3V6CMgrLYXU3",tokenCell:"_2rBuuOwPxb-X6wEPWDBmYH",button:"_1Vg1f_Cp7IF32wBdY1l2Gq"}},"./src/reddit/components/Governance/CommunityCard/LatestProposals/index.m.less":function(e,t,s){e.exports={container:"_3WnHen22bLKwTkOL3W6F_D",link:"_3LjXe6j5_bQ3U8GZLY0HYO",showAll:"eRbX9WCebKIuLXdJIwNjK",title:"_3il8HJMlHzKppQleJjuboQ"}},"./src/reddit/components/Governance/CommunityCard/index.m.less":function(e,t,s){e.exports={loading:"Jfh68QhZqpLgByZUbKyD1",section:"_3o2O8sLNM51xpdzuDH-ocD"}},"./src/reddit/components/Governance/CommunityCard/index.tsx":function(e,t,s){"use strict";var n,o=s("./node_modules/react/index.js"),r=s.n(o),a=s("./node_modules/react-redux/es/index.js"),i=s("./node_modules/reselect/es/index.js"),c=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),d=s("./src/reddit/i18n/utils.ts"),l=s("./src/reddit/selectors/gov.ts"),m=s("./src/app/strings/index.ts"),p=s("./src/lib/constants/index.ts"),u=s("./src/lib/prettyPrintNumber/index.ts"),h=s("./src/reddit/actions/governance/index.ts"),b=s("./src/reddit/actions/login.ts"),g=s("./src/reddit/components/Governance/Token/index.tsx"),x=s("./src/reddit/components/Governance/WalletRegistration/Common/pageReload.ts"),C=s("./src/reddit/contexts/PageLayer/index.tsx"),v=s("./src/reddit/controls/Button/index.tsx"),O=s("./src/reddit/endpoints/governance/crypto.ts"),E=s("./src/reddit/helpers/governance/tokens.ts"),f=s("./src/reddit/i18n/components.tsx");!function(e){e.Initial="initial_distribution",e.Mod="moderator_election"}(n||(n={}));var y=s("./src/reddit/selectors/user.ts"),j=s("./src/higherOrderComponents/asTooltip.tsx"),w=s("./src/lib/copyToClipboard/index.ts"),I=s("./src/reddit/actions/governance/errorToast.ts"),P=s("./src/reddit/actions/toaster.ts"),T=s("./src/reddit/actions/tooltip.ts"),k=s("./src/reddit/contexts/ApiContext.tsx"),S=s("./src/reddit/controls/Dropdown/index.tsx"),_=s("./src/reddit/controls/Dropdown/Row.tsx"),N=s("./src/reddit/helpers/governance/ethereum.ts"),L=s("./src/reddit/icons/svgs/Settings/index.tsx"),M=s("./src/reddit/models/Toast/index.ts"),R=s("./src/reddit/selectors/tooltip.ts"),B=s("./src/reddit/components/Governance/CommunityCard/CommunityTokens/BlockchainWalletInfo/index.m.less"),A=s.n(B);const F=Object(j.a)(S.a),D="BlockchainWalletInfo--SettingsMenu";class W extends r.a.PureComponent{constructor(){super(...arguments),this.onCopyToClipboard=()=>{Object(w.a)(this.props.publicAddress||"")},this.onRemoveMyWallet=async()=>{const e=await Object(O.b)(this.props.apiContext(),this.props.provider,this.props.publicAddress);e.ok?this.props.onWalletRemoved():this.props.onGovernanceError(e.error)}}render(){const{dropdownIsOpen:e,onOpenDropdown:t,provider:s,publicAddress:n,token:o,tokenName:a}=this.props;if(!n)return null;const i=s===O.a.Ethereum||s===O.a.Rinkeby;return r.a.createElement("div",{className:A.a.publicAddressSection},r.a.createElement("div",{className:A.a.publicAddress},n),r.a.createElement("div",{className:A.a.yourWalletAddress},r.a.createElement(f.c,null,"Your Wallet Address"),i&&r.a.createElement("button",{className:A.a.settingsButton,title:Object(d.c)("Wallet address settings"),role:"menu",onClick:t,id:D},r.a.createElement(L.a,{className:A.a.settingsIcon})),i&&r.a.createElement(F,{tooltipId:D,isOpen:e,renderContentsHidden:!0},r.a.createElement(_.b,{displayText:Object(d.c)("Copy My Wallet Address"),onClick:this.onCopyToClipboard}),s&&r.a.createElement(_.b,{displayText:Object(d.c)("Remove My Wallet"),onClick:this.onRemoveMyWallet}),o&&r.a.createElement(_.b,{displayText:Object(d.c)("Track ".concat(Object(d.b)("tokenName",a)," in MetaMask")),onClick:()=>Object(N.i)(o)}))))}}const H=Object(i.c)({dropdownIsOpen:Object(R.b)(D),provider:l.a,token:l.q,tokenName:l.o}),V=Object(a.b)(H,(e,t)=>({onGovernanceError:t=>{Object(I.a)(e,t)},onOpenDropdown:()=>e(Object(T.g)({tooltipId:D})),onWalletRemoved:()=>{e(Object(h.j)({subredditId:t.subredditId})),e(Object(P.e)({kind:M.b.SuccessCommunityGreen,text:Object(d.c)("Wallet removed successfully!")}))}}));var U=Object(k.b)(V(W)),K=s("./src/reddit/icons/svgs/QuarantineWarning/index.tsx"),G=s("./src/reddit/components/Governance/CommunityCard/CommunityTokens/Risk/index.m.less"),z=s.n(G);function J(e){return r.a.createElement("div",{className:z.a.risk},r.a.createElement("div",{className:z.a.riskTitle},r.a.createElement(K.a,{className:z.a.alertIcon}),e.title),r.a.createElement("div",{className:z.a.riskBody},e.body))}var q=s("./src/reddit/components/Governance/CommunityCard/CommunityTokens/index.m.less"),Y=s.n(q);class Q extends r.a.PureComponent{componentDidMount(){const{pageLayer:e,provider:t,wallet:s}=this.props,n=s&&s.publicAddress;Object(x.b)(e)&&t&&!n&&this.props.onOpenRegistrationModal()}render(){const{className:e,distribution:t,isLoggedIn:s,language:o,onOpenLoginModal:a,onOpenRegistrationModal:i,onOpenTransferModal:c,provider:d,subredditId:l,tokenDisplayConversion:h,tokenName:b,useCrypto:x,wallet:C}=this.props,y=C&&C.inactive&&function(e,t,s){const o=e.actionScheduledAt-Date.now(),r=Math.max(1,Math.floor(o/p.w)),a=1!==r?"gov.pointsDecay.inactive.time.plural":"gov.pointsDecay.inactive.time.singular",i=Object(m.a)(t,a,{numDays:r});switch(e.reason){case n.Initial:return{title:Object(m.a)(t,"gov.pointsDecay.inactive.title",{tokenName:s}),body:Object(m.a)(t,"gov.pointsDecay.inactive.body",{time:i,tokenName:s})};case n.Mod:return{title:Object(m.a)(t,"gov.pointsDecay.election.title"),body:Object(m.a)(t,"gov.pointsDecay.election.body",{time:i,tokenName:s})}}}(C.inactive,o,b),j=C&&C.publicAddress,w=d===O.a.Ethereum||d===O.a.Rinkeby;return r.a.createElement("div",{className:e},r.a.createElement("div",{className:Y.a.title},b),r.a.createElement("div",{className:Y.a.cellContainer},C&&Z(r.a.createElement("div",{className:Y.a.tokenCell},r.a.createElement(g.a,{className:Y.a.token,subredditId:l}),Object(u.a)(Object(E.b)(C.amount,h))),Object(m.a)(o,"sidebar.gov.yourTokens",{tokenName:b})),t&&Z(Object(u.a)(Object(E.b)(t.totalAvailable,h)),Object(m.a)(o,"sidebar.gov.tokensIssued"))),y&&r.a.createElement(J,{body:y.body,title:y.title}),r.a.createElement("div",{className:Y.a.explanation},Object(m.a)(o,"sidebar.gov.tokenExplanation",{tokenName:b})),d&&r.a.createElement(U,{publicAddress:j,subredditId:l}),d&&!j&&w&&r.a.createElement(v.f,{className:Y.a.button,onClick:s?i:a},r.a.createElement(f.c,null,"register")),C&&!x&&r.a.createElement(v.i,{className:Y.a.button,onClick:c},r.a.createElement(f.c,null,"send")))}}function Z(e,t){return r.a.createElement("div",{className:Y.a.cell},r.a.createElement("div",{className:Y.a.cellTopLine},e),r.a.createElement("div",{className:Y.a.cellBottomLine},t))}const X=Object(i.c)({isLoggedIn:y.J,provider:l.a,tokenName:l.o,tokenDisplayConversion:l.n,language:e=>e.user.language,useCrypto:l.r});var $=Object(a.b)(X,e=>({onOpenLoginModal:()=>e(Object(b.e)()),onOpenRegistrationModal:()=>e(Object(h.i)()),onOpenTransferModal:()=>e(Object(h.h)())}))(Object(C.t)()(Q)),ee=(s("./node_modules/core-js/modules/web.dom.iterable.js"),s("./node_modules/core-js/modules/es6.array.sort.js"),s("./node_modules/react-router-dom/esm/react-router-dom.js")),te=s("./src/lib/classNames/index.ts"),se=s("./src/lib/permalinkToOverlayLocation/index.ts"),ne=s("./src/reddit/actions/subreddit.ts"),oe=s("./src/reddit/components/Governance/CommunityCard/LatestProposals/index.m.less"),re=s.n(oe);const ae=Object(i.c)({proposals:(e,t)=>Object.keys(e.polls.models).map(t=>e.polls.models[t]).filter(e=>e.subredditId===t.subredditId).sort((e,t)=>e.createdAt>t.createdAt?-1:e.createdAt<t.createdAt?1:0).map(t=>e.posts.models[t.postId]).filter(Boolean).slice(0,5)});var ie=Object(C.t)()(Object(a.b)(ae,(e,t)=>({onFilterProposals:()=>e(Object(ne.p)({subredditId:t.subredditId,forceState:!0}))}))((function(e){return Object(C.F)(e.pageLayer)&&e.proposals.length?r.a.createElement("div",{className:Object(te.a)(e.className,re.a.container)},r.a.createElement("div",{className:re.a.title},r.a.createElement(f.c,null,"Latest Polls")),e.proposals.map(e=>r.a.createElement(ee.a,{className:re.a.link,key:e.permalink,title:e.title,to:Object(se.a)(e.permalink)},e.title)),r.a.createElement("a",{className:re.a.showAll,onClick:e.onFilterProposals},r.a.createElement(f.c,null,"show all"))):null}))),ce=s("./src/reddit/components/Governance/CommunityCard/index.m.less"),de=s.n(ce);const le=Object(i.c)({tokenName:l.o,distribution:(e,t)=>e.subreddits.gov.distributions[t.subredditId],wallet:l.g,subreddit:(e,t)=>e.subreddits.models[t.subredditId]});t.a=Object(a.b)(le)((function(e){return r.a.createElement(c.a,{className:e.className,title:Object(d.c)("Subreddit Points")},e.distribution?r.a.createElement(o.Fragment,null,r.a.createElement($,{className:de.a.section,distribution:e.distribution,subredditId:e.subredditId,wallet:e.wallet}),e.subreddit&&r.a.createElement(ie,{className:de.a.section,subredditId:e.subreddit.id})):r.a.createElement("div",{className:de.a.loading}))}))},"./src/reddit/components/Governance/Proposal/NoProposalError/index.m.less":function(e,t,s){e.exports={container:"_2y2WPgX5vi2SAfi_nz_Q7B"}},"./src/reddit/components/Governance/Proposal/NoProposalError/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/i18n/components.tsx"),i=s("./src/reddit/components/Governance/Proposal/NoProposalError/index.m.less"),c=s.n(i);t.a=function(e){return o.a.createElement("div",{className:Object(r.a)(c.a.container,e.className)},o.a.createElement(a.c,null,"Error: Could not load poll"))}},"./src/reddit/components/Governance/Proposal/ResultsSelector/DecisionThreshold/index.m.less":function(e,t,s){e.exports={emptyPie:"_3FcFVjZN0xHslbheCZ6YtB",fullPie:"_51DvHNRm7RdZvtEr4YB90",checkIcon:"b6nqW0WFO2M4SexVBxfHU",container:"_1QSw_HlkZ06PQ4H_Gl5Qmi",decisionIcon:"tIv0l4mIAasOfzH_1MZzr",decisionThreshold:"vdDwj3MECrKPWOzGvwtX4",pie:"_1kLHoqYVgmdy-N798MqUkD",pieContainer:"_19t_3cFD9b1D_z7gV6r1Lf",pieInvertedMask:"_240PIKFetxH16NIbed3MhP",pieMask:"faQEx7XG3jztMB7Ba0IzB",pieSwap:"sBNylAozOUua3KlWKF9bf",text:"_3kJ7s4NNHNqugbRuUIg9B9"}},"./src/reddit/components/Governance/Proposal/ResultsSelector/Tab/index.m.less":function(e,t,s){e.exports={container:"_1399Kcm0dM3RnJzlAPzZsE",selectable:"_3-DDU6UwhIWiQZZtZLB8nv",selected:"biqV2RX059eee3GcVedKg"}},"./src/reddit/components/Governance/Proposal/ResultsSelector/index.m.less":function(e,t,s){e.exports={container:"_16Gygedl8JROR3rsORhsAq"}},"./src/reddit/components/Governance/Proposal/index.m.less":function(e,t,s){e.exports={container:"_3agF4JIMydb6n5U8QiQ6Tv",govIcon:"Biin4hWHcVT2EfDytVnNn",poll:"_2-Y0QlWKQ9uE8EEq087km1",resultsSelector:"_31DHxzl3U6nsgzY4XJjCSD",votingReward:"_2JVvMYg8RBHtf5C2szMdV7"}},"./src/reddit/components/Governance/Proposal/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/bignumber.js/bignumber.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./node_modules/react-redux/es/index.js"),c=s("./node_modules/reselect/es/index.js"),d=s("./src/lib/classNames/index.ts"),l=s("./src/reddit/components/Governance/Token/index.tsx"),m=s("./src/reddit/components/Governance/VotingReward/index.m.less"),p=s.n(m);function u(e){return a.a.createElement("div",{className:Object(d.a)(p.a.container,e.className)},a.a.createElement("div",{className:p.a.pill},a.a.createElement(l.a,{className:p.a.token,subredditId:e.subredditId}),a.a.createElement("span",{className:p.a.amount},"+",e.amount)))}var h,b=s("./src/reddit/actions/governance/index.ts"),g=s("./src/reddit/models/Poll/index.ts"),x=s("./src/reddit/selectors/gov.ts"),C=s("./src/reddit/components/Poll/MetaData/index.tsx"),v=s("./src/lib/bigNumberUtils/percent.ts"),O=s("./src/lib/prettyPrintNumber/index.ts"),E=s("./src/reddit/helpers/governance/tokens.ts"),f=s("./src/reddit/icons/svgs/CircleCheck/index.tsx"),y=s("./src/reddit/components/Poll/ResultOption/index.m.less"),j=s.n(y);!function(e){e[e.Count=0]="Count",e[e.Percent=1]="Percent"}(h||(h={}));var w=function(e){const t=e.poll.options.filter(t=>t.id===e.optionId)[0],s=e.result.totalVotes,o=e.result.options[e.optionId],r=new n.BigNumber(s).isZero()?0:Object(v.a)(o.votes,s),i=Object(E.c)(o.votes,e.tokenDisplayConversion);return a.a.createElement("div",{className:Object(d.a)(e.className,j.a.container),title:e.displayType===h.Count?o.votes:"".concat(r.toFixed(2),"% (").concat(i," ").concat(e.tokenName,")")},a.a.createElement("div",{className:j.a.bar,style:{opacity:e.isWinningOption?.3:void 0,width:"".concat(r,"%")}}),a.a.createElement("div",{className:Object(d.a)(j.a.count,{[j.a.hide]:e.displayType!==h.Count,[j.a.show]:e.displayType===h.Count})},Object(O.b)(parseInt(o.votes))),a.a.createElement("div",{className:Object(d.a)(j.a.percent,{[j.a.hide]:e.displayType===h.Count,[j.a.show]:e.displayType!==h.Count})},"".concat(r.toFixed(1),"%")),a.a.createElement("div",{className:j.a.text},t.text),o.userSelected&&a.a.createElement(f.a,{className:j.a.check}))},I=s("./src/reddit/components/Poll/ClosedPoll/index.m.less"),P=s.n(I);const T=Object(c.c)({tokenName:x.o,tokenDisplayConversion:x.n,language:e=>e.user.language});var k=Object(i.b)(T)((function(e){let t;return e.poll.options.forEach(s=>{t||(t=s);const o=e.result.options[s.id],r=e.result.options[t.id];new n.BigNumber(r.votes).isLessThan(new n.BigNumber(o.votes))&&(t=s)}),a.a.createElement("div",{className:e.className},e.poll.options.map((s,n)=>a.a.createElement(w,{key:n,className:P.a.option,displayType:e.displayType,isWinningOption:s===t,optionId:s.id,poll:e.poll,result:e.result,tokenName:e.tokenName,tokenDisplayConversion:e.tokenDisplayConversion})),a.a.createElement(C.a,{className:P.a.metaData,language:e.language,poll:e.poll}))})),S=s("./node_modules/lodash/isNil.js"),_=s.n(S),N=s("./src/reddit/constants/elementClassNames.ts"),L=s("./src/reddit/controls/Button/index.tsx"),M=s("./src/reddit/controls/LoadingIcon/index.tsx"),R=s("./src/reddit/i18n/components.tsx"),B=s("./src/reddit/components/Poll/OpenPoll/index.m.less"),A=s.n(B);function F(e){return"INPUT"===e.tagName}class D extends a.a.Component{constructor(){super(...arguments),this.state={optionIsSelected:!1},this.handleOptionSelected=()=>this.setState({optionIsSelected:!0})}render(){return a.a.createElement("form",{className:this.props.className,onSubmit:e=>{e.preventDefault();const t=e.currentTarget,s=function(e){for(const t of e)if(t.checked)return parseInt(t.value)}(Array.from(t.elements).filter(F));_()(s)||this.props.onVoteSelection(this.props.poll.options[s])}},a.a.createElement("div",null,this.props.poll.options.map((e,t)=>a.a.createElement("label",{key:t,className:A.a.option},a.a.createElement("input",{className:A.a.optionRadio,onChange:this.handleOptionSelected,type:"radio",name:"proposal",value:t}),a.a.createElement("div",{className:A.a.optionText},e.text)))),a.a.createElement("div",{className:A.a.controlRow},a.a.createElement("div",{className:A.a.buttonContainer},a.a.createElement(L.i,{className:N.p,disabled:this.props.voteInProgress||!this.props.userIsLoggedIn||!this.state.optionIsSelected,type:"submit"},this.props.voteInProgress?a.a.createElement(M.a,{className:A.a.loadingIcon,sizePx:20}):a.a.createElement(r.Fragment,null,this.props.votingIcon,a.a.createElement(R.c,null,"vote"))),!this.props.userIsLoggedIn&&a.a.createElement("div",{className:A.a.loggedOutTooltip},a.a.createElement(R.c,null,"You must be logged in to vote"))),a.a.createElement(C.a,{className:A.a.metaData,language:this.props.language,poll:this.props.poll})))}}const W=Object(c.c)({language:e=>e.user.language,userIsLoggedIn:e=>!!e.user.account});var H=Object(i.b)(W)(D),V=s("./src/reddit/components/Poll/index.m.less"),U=s.n(V);const K=Object(c.c)({poll:(e,t)=>e.polls.models[t.pollId],result:(e,t)=>e.polls.results[t.resultType][t.pollId],voteInProgress:(e,t)=>!!e.polls.api.voting.pending[t.pollId]});var G=Object(i.b)(K,(e,t)=>({onVoteSelection:s=>e(Object(b.f)(t.pollId,s.id))}))((function(e){const{poll:t,result:s,subredditId:n}=e;return t?a.a.createElement("div",{className:e.className},e.title&&a.a.createElement("div",{className:U.a.title},e.title),s&&Object(g.e)(t,s)?a.a.createElement(k,{displayType:e.displayType,poll:t,result:s,subredditId:n}):a.a.createElement(H,{poll:t,onVoteSelection:e.onVoteSelection,voteInProgress:e.voteInProgress,votingIcon:e.votingIcon})):null})),z=s("./src/reddit/icons/svgs/GovSmall/index.tsx"),J=s("./src/app/strings/index.ts"),q=(s("./node_modules/core-js/modules/es6.regexp.to-string.js"),e=>a.a.createElement("svg",{className:e.className,viewBox:"0 0 20 20"},a.a.createElement("g",null,a.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.7771 0.961401C10.3769 0.466643 9.62244 0.466642 9.22221 0.961401L8.71391 1.58973C8.42377 1.9484 7.92591 2.06204 7.50887 1.86478L6.77829 1.51921C6.20302 1.2471 5.52329 1.57445 5.37735 2.19386L5.19202 2.98051C5.08623 3.42955 4.68698 3.74795 4.22565 3.75117L3.41748 3.75681C2.78112 3.76125 2.31073 4.3511 2.44801 4.97249L2.62234 5.76165C2.72186 6.21213 2.50029 6.67222 2.08605 6.87528L1.36036 7.23101C0.788947 7.51112 0.621066 8.24665 1.01436 8.74695L1.51383 9.38231C1.79895 9.745 1.79895 10.2557 1.51383 10.6184L1.01436 11.2537C0.621067 11.754 0.788947 12.4895 1.36036 12.7697L2.08605 13.1254C2.50029 13.3284 2.72186 13.7885 2.62234 14.239L2.44801 15.0282C2.31073 15.6496 2.78112 16.2394 3.41748 16.2439L4.22565 16.2495C4.68698 16.2527 5.08623 16.5711 5.19202 17.0202L5.37735 17.8068C5.52329 18.4262 6.20302 18.7536 6.77829 18.4815L7.50887 18.1359C7.92591 17.9386 8.42376 18.0523 8.71391 18.4109L9.22221 19.0393C9.62244 19.534 10.3769 19.534 10.7771 19.0393L11.2854 18.4109C11.5756 18.0523 12.0734 17.9386 12.4905 18.1359L13.221 18.4815C13.7963 18.7536 14.476 18.4262 14.622 17.8068L14.8073 17.0202C14.9131 16.5711 15.3124 16.2527 15.7737 16.2495L16.5819 16.2439C17.2182 16.2394 17.6886 15.6496 17.5513 15.0282L17.377 14.239C17.2775 13.7885 17.499 13.3284 17.9133 13.1254L18.639 12.7697C19.2104 12.4895 19.3783 11.754 18.985 11.2537L18.4855 10.6184C18.2004 10.2557 18.2004 9.745 18.4855 9.38231L18.985 8.74695C19.3783 8.24665 19.2104 7.51112 18.639 7.23101L17.9133 6.87528C17.499 6.67222 17.2775 6.21213 17.377 5.76165L17.5513 4.97249C17.6886 4.3511 17.2182 3.76125 16.5819 3.75681L15.7737 3.75117C15.3124 3.74795 14.9131 3.42956 14.8073 2.98051L14.622 2.19386C14.476 1.57445 13.7963 1.2471 13.221 1.51921L12.4905 1.86478C12.0734 2.06204 11.5756 1.94841 11.2854 1.58973L10.7771 0.961401ZM12.5231 7.71779L13.0827 8.27779C13.2391 8.43419 13.2391 8.68699 13.0827 8.84339L9.44271 12.4834C9.36471 12.5614 9.26231 12.6006 9.1599 12.6006C9.0575 12.6006 8.95551 12.5614 8.8771 12.4834L6.9171 10.5234C6.7607 10.3674 6.7607 10.1142 6.9171 9.95779L7.4771 9.39779C7.6335 9.24139 7.8867 9.24139 8.0427 9.39779L9.1599 10.515L11.9575 7.71779C12.0323 7.64259 12.1339 7.60059 12.2403 7.60059C12.3463 7.60059 12.4479 7.64259 12.5231 7.71779Z"})))),Y=s("./src/reddit/selectors/user.ts"),Q=s("./src/reddit/components/Governance/Proposal/ResultsSelector/DecisionThreshold/index.m.less"),Z=s.n(Q);function X(e){return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:Z.a.text},a.a.createElement(R.c,null,"Achieved Decision Threshold")),a.a.createElement("div",{className:Z.a.decisionIcon,title:e.votes},a.a.createElement(q,{className:Z.a.decisionThreshold})))}function $(e){return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:Z.a.text},Object(J.a)(e.language,"polls.decisionThreshold",{amount:Object(O.b)(parseInt(Object(E.b)(e.threshold,e.tokenDisplayConversion)))})),a.a.createElement(ee,{percent:e.percent}))}function ee(e){const t=Math.floor(e.percent/100*360);return a.a.createElement("div",{className:Z.a.pieContainer,title:"".concat(e.percent,"%")},a.a.createElement("div",{className:Z.a.pie}),a.a.createElement("div",{className:Z.a.pieInvertedMask}),a.a.createElement("div",{className:Object(d.a)(Z.a.pieMask,{[Z.a.pieSwap]:e.percent>=50}),style:{transform:e.percent<50?"rotate(".concat(t,"deg)"):"rotate(".concat(t-180,"deg)")}}))}const te=Object(c.c)({language:Y.S,poll:(e,t)=>{let{pollId:s}=t;return e.polls.models[s]},pollResult:(e,t)=>{let{pollId:s}=t;return e.polls.results.byVotingPower[s]},tokenDisplayConversion:x.n});var se=Object(i.b)(te)((function(e){if(!(e.poll&&e.poll.decisionThreshold&&e.pollResult))return null;const t=Object(g.c)(e.poll,e.pollResult),s=new o.a(e.pollResult.options[t.id].votes),n=e.poll.decisionThreshold,r=s.isGreaterThanOrEqualTo(new o.a(n)),i=Object(v.a)(e.pollResult.options[t.id].votes,n);return a.a.createElement("div",{className:Object(d.a)(Z.a.container,e.className)},r?a.a.createElement(X,{language:e.language,votes:s.toString()}):a.a.createElement($,{language:e.language,threshold:n,percent:i,tokenDisplayConversion:e.tokenDisplayConversion}))})),ne=s("./src/reddit/components/Governance/Proposal/ResultsSelector/Tab/index.m.less"),oe=s.n(ne);function re(e){return a.a.createElement("a",{className:Object(d.a)(e.className,oe.a.container,{[oe.a.selectable]:!!e.selectable,[oe.a.selected]:!!e.selectable&&!!e.isSelected}),onClick:e.onSelect,title:e.tooltipText},e.text)}var ae=s("./src/reddit/components/Governance/Proposal/ResultsSelector/index.m.less"),ie=s.n(ae);const ce=Object(c.c)({tokenName:x.o,tokenDisplayConversion:x.n,distribution:(e,t)=>{let{subredditId:s}=t;return e.subreddits.gov.distributions[s]},language:e=>e.user.language,poll:(e,t)=>{let{pollId:s}=t;return e.polls.models[s]},pollIsClosed:(e,t)=>{let{pollId:s,resultsByVoters:n}=t;const o=e.polls.models[s];return!!(o&&n&&Object(g.e)(o,n))},wallet:x.g});var de=Object(i.b)(ce)((function(e){const{distribution:t,poll:s,resultsByVoters:o,resultsByVotingPower:r,tokenDisplayConversion:i,tokenName:c,wallet:l}=e,m=r?r.totalVotes:"0",p=!new n.BigNumber(m).isZero()&&l&&t?Object(v.a)(m,t.totalAvailable):0,u=o?o.totalVotes:"0",h=Object(E.c)(m,i),b=Object(O.b)(parseInt(u));return a.a.createElement("div",{className:Object(d.a)(e.className,ie.a.container)},a.a.createElement("div",null,a.a.createElement(re,{isSelected:e.currentResultType===g.b.ByVotingPower,selectable:e.pollIsClosed,text:"".concat(h," ").concat(c),tooltipText:Object(J.a)(e.language,"polls.votingBreakdown",{tokenName:c,count:Object(E.c)(m,i),percent:p.toFixed(2)}),onSelect:()=>e.onChangeResultType&&e.onChangeResultType(g.b.ByVotingPower)}),a.a.createElement(re,{isSelected:e.currentResultType===g.b.ByVoters,selectable:e.pollIsClosed,text:Object(J.c)(e.language,"polls.numVotes",parseInt(u),{count:b}),onSelect:()=>e.onChangeResultType&&e.onChangeResultType(g.b.ByVoters)})),Object(g.d)(s)&&a.a.createElement(se,{pollId:e.pollId,subredditId:e.subredditId}))})),le=s("./src/reddit/components/Governance/Proposal/index.m.less"),me=s.n(le);class pe extends a.a.Component{constructor(){super(...arguments),this.state={displayReward:!1,resultType:g.b.ByVotingPower},this.handleResultTypeChange=e=>this.setState({resultType:e})}componentDidUpdate(e,t){if(!!this.props.pollReward&&!new n.BigNumber(this.props.pollReward).isZero()){const s=ue(e,t.resultType),n=ue(this.props,this.state.resultType);if(s&&n){const t=!Object(g.e)(e.poll,s),o=Object(g.e)(this.props.poll,n);t&&o&&this.setState({displayReward:!0})}}}render(){return a.a.createElement("div",{className:Object(d.a)(this.props.className,me.a.container)},a.a.createElement(de,{className:me.a.resultsSelector,currentResultType:this.state.resultType,pollId:this.props.pollId,resultsByVoters:this.props.resultsByVoters,resultsByVotingPower:this.props.resultsByVotingPower,subredditId:this.props.subredditId,onChangeResultType:this.handleResultTypeChange}),a.a.createElement(G,{key:this.props.pollId,className:me.a.poll,displayType:this.state.resultType===g.b.ByVoters?h.Count:h.Percent,pollId:this.props.pollId,resultType:this.state.resultType,subredditId:this.props.subredditId,votingIcon:Object(g.d)(this.props.poll)?a.a.createElement(z.a,{className:me.a.govIcon}):void 0}),this.props.pollReward&&this.state.displayReward&&a.a.createElement(u,{amount:this.props.pollReward,className:me.a.votingReward,subredditId:this.props.subredditId}))}}function ue(e,t){return t===g.b.ByVotingPower?e.resultsByVotingPower:e.resultsByVoters}const he=Object(c.c)({language:e=>e.user.language,poll:(e,t)=>e.polls.models[t.pollId],pollReward:(e,t)=>e.polls.rewards[t.pollId],resultsByVoters:(e,t)=>e.polls.results.byVoters[t.pollId],resultsByVotingPower:(e,t)=>e.polls.results.byVotingPower[t.pollId]});t.a=Object(i.b)(he)(pe)},"./src/reddit/components/Governance/Token/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/config.ts"),c=s("./src/reddit/selectors/gov.ts");const d=Object(a.c)({tokenSymbol:c.p});t.a=Object(r.b)(d)((function(e){const t=e.grey?e.tokenSymbol.grey:e.tokenSymbol.filled;return o.a.createElement("img",{className:e.className,src:"".concat(i.a.assetPath,"/").concat(t)})}))},"./src/reddit/components/Governance/UserPublicPointsDisplay/async.tsx":function(e,t,s){"use strict";var n=s("./src/higherOrderComponents/makeAsync.tsx");const o=Object(n.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>s.e("GovernanceUserPublicPointsDisplay").then(s.bind(null,"./src/reddit/components/Governance/UserPublicPointsDisplay/index.tsx")).then(e=>e.default)});t.a=o},"./src/reddit/components/Governance/VotingReward/index.m.less":function(e,t,s){e.exports={amount:"_2uGwXKrmP9OljxIhbSCOjc",container:"dVX1qcOidD13L5NRRKOPb",pill:"_2tKg0JJT2prOVVIOrtS2JP",pillAnim:"_3qV2ZaEJd_k1NSZDxMjK-g",token:"_3dLs5lIwl_kKHq589IyKz5",tokenRotation:"_1C5oqr8CA_wteJsqqSRq0B"}},"./src/reddit/components/Governance/WalletRegistration/Common/pageReload.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return a}));s("./node_modules/core-js/modules/es6.regexp.replace.js");var n=s("./src/lib/addQueryParams/index.ts");const o="metamaskInstalled";function r(){window.location.replace(Object(n.a)(window.location.href,{[o]:"true"}))}function a(e){return!!(e&&e.queryParams&&e.queryParams[o])}},"./src/reddit/components/HeaderImage/index.m.less":function(e,t,s){e.exports={Planet:"xAmHTHwvPxxv5jpbb68XN",planet:"xAmHTHwvPxxv5jpbb68XN",SubredditIcon:"_3rnV85Ep3gNSeNzlSEJ0eC",subredditIcon:"_3rnV85Ep3gNSeNzlSEJ0eC",HeaderText:"_2wzi-W7JiZ7A6U6aFvfvSR",headerText:"_2wzi-W7JiZ7A6U6aFvfvSR",HeaderUrl:"_36MHhLdcmnzdWt0OMdNlwd",headerUrl:"_36MHhLdcmnzdWt0OMdNlwd",Container:"_2L5G9B5yaoqW3IegiYN-FL",container:"_2L5G9B5yaoqW3IegiYN-FL",HeaderContainer:"_2RkQc9Gtsq3cPQNZLYv4zc",headerContainer:"_2RkQc9Gtsq3cPQNZLYv4zc",fullScreenDisabled:"_1yF58T8cn1Lb1f5no79sl8",useOverlay:"_1lDljcXh3IMpCeypDtnDAr",HeaderContent:"_2ejRlONMr5WoDRgyd4GRyM",headerContent:"_2ejRlONMr5WoDRgyd4GRyM",hoverHeaderContent:"wyBqMGsbezX5QI0xVtegK",PositionedImage:"_26j3FxU4jTfjqi8m96HMmI",positionedImage:"_114maV-96nVPek5oReA0kO",hoverPositionedImage:"_2L0wcm3McgWbJBT9_UHWyU"}},"./src/reddit/components/HeaderImage/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-router-dom/esm/react-router-dom.js"),a=s("./src/lib/classNames/index.ts"),i=s("./src/lib/CSSVariableProvider/withTheme.tsx"),c=s("./src/lib/lessComponent.tsx"),d=s("./src/reddit/constants/screenWidths.ts"),l=s("./src/reddit/helpers/getSubredditIcon/index.ts"),m=s("./src/reddit/icons/svgs/CircledPlanet/index.tsx"),p=s("./src/reddit/models/Theme/index.ts"),u=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),h=s("./src/reddit/components/HeaderImage/index.m.less"),b=s.n(h);const g=c.a.wrapped(m.a,"Planet",b.a),x=c.a.div("SubredditIcon",b.a),C=c.a.div("PositionedImage",b.a),v=c.a.div("HeaderContent",b.a),O=c.a.div("HeaderContainer",b.a),E=c.a.span("HeaderText",b.a),f=c.a.wrapped(r.a,"HeaderUrl",b.a),y=c.a.span("Container",b.a),j=Object(i.a)(e=>{const t=Object(p.e)(e.headerText,e.prefixedHeaderText,Object(u.a)(e).banner.communityNameFormat||""),s=Object(l.a)(e),n=Object(u.a)(e).banner.positionedImageAlignment,r=Object(u.a)(e).banner.positionedImage,i=Object(u.a)(e).banner.secondaryBannerPositionedImage;let c;switch(n){case"right":c={right:"-8px"};break;case"centered":c={left:"50%",transform:"translate(-50%, -50%)"};break;default:c={left:"-8px"}}const m=!!r&&!!i&&"left"===n,h=Object(p.g)(Object(u.a)(e).banner.backgroundColor,Object(u.a)(e).banner.backgroundImage,Object(u.a)(e).banner.backgroundImagePosition),j=parseInt(Object(u.a)(e).banner.iconDimensions.customSize,10),w="".concat(4+j,"px");return o.a.createElement(y,{style:{background:h,backgroundPosition:"center top",height:"".concat(Object(u.a)(e).banner.height,"px")}},o.a.createElement(f,{className:e.className,to:e.url},o.a.createElement(O,{className:Object(a.a)({[b.a.fullScreenDisabled]:!e.disableFullscreen,[b.a.useOverlay]:!!Object(u.a)(e).navBar.useOverlay}),style:{maxWidth:e.disableFullscreen?"".concat(e.maxWidth||d.a,"px"):"100%"}},!e.isTopBannerVariant&&o.a.createElement(v,{className:Object(a.a)({[b.a.hoverHeaderContent]:m})},e.theme&&Object(u.a)(e).banner.showCommunityIcon&&(s?o.a.createElement(x,{style:{backgroundImage:"url(".concat(s,")"),borderRadius:"".concat(Object(u.a)(e).banner.iconDimensions.borderRadius,"px"),height:w,width:w}}):o.a.createElement(g,{style:{padding:"".concat(Object(u.a)(e).banner.iconDimensions.padding,"px"),borderRadius:"".concat(Object(u.a)(e).banner.iconDimensions.borderRadius,"px"),height:w,width:w}})),o.a.createElement(E,{style:{paddingTop:32===j?"4px":"14px"}},t)),o.a.createElement(C,{className:Object(a.a)(b.a.PositionedImage,{[b.a.positionedImage]:!!r,[b.a.hoverPositionedImage]:!!r&&!!i}),style:Object.assign({},c,{height:"".concat(Object(u.a)(e).banner.positionedImageHeight,"px")})}))))});t.a=j},"./src/reddit/components/IdCard/CommunityOptions/index.m.less":function(e,t,s){e.exports={container:"_3Qx5bBCG_O8wVZee9J-KyJ",content:"_2NbKFI9n3wPM76pgfAPEsN",stylesToggle:"_2btz68cXFBI3RWcfSNwbmJ",disabled:"QgBK4ECuqpeR2umRjYcP2",expandButton:"_4OtOUaGIjjp2cNJMUxme_",TertiaryButton:"_1ra1vBLrjtHjhYDZ_gOy8F",tertiaryButton:"_1ra1vBLrjtHjhYDZ_gOy8F",redditStyle:"_2UlgIO1LIFVpT30ItAtPfb"}},"./src/reddit/components/IdCard/DescriptionBlock/index.m.less":function(e,t,s){e.exports={descriptionContainer:"_1EPynDYoibfs7nDggdH7Gq",truncated:"_3-0c12FCnHoLz34dQVveax",description:"_1zPvgKHteTOub9dKkvrOl4",topBannerVariant:"_1_7E7dc5jZDkGlj_5P719R",showMore:"_1dp4_svQVkkuV143AIEKsf",ellipsis:"_5VBcBVybCfosCzMJlXzC3",showFullDescriptionButton:"_3YNtuKT-Is6XUBvdluRTyI",transition:"_2ZTVnRPqdyKo1dA7Q7i4EL",noTransition:"k51Bu_pyEfHQF6AAhaKfS",editableDescriptionContainer:"_2qi_L6gKnhyJ0ZxPmwbDFK",activeEditableDescriptionContainer:"_3GG6tRGPPJiejLqt2AZfh4",defaultEditableDescriptionContainer:"IzSmZckfdQu5YP9qCsdWO",emptyDescription:"_1YvJWALkJ8iKZxUU53TeNO",editableDescriptionControlRow:"_3adDzm8E3q64yWtEcs5XU7",characterCountdown:"_3jyKpErOrdUDMh0RFq5V6f",save:"dqhlvajEe-qyxij0jNsi0",cancel:"_12nHw-MGuz_r1dQx5YPM2v",editableDescription:"_3zTJ9t4vNwm1NrIaZ35NS6",activeEditableDescription:"_2JIiUcAdp9rIhjEbIjcuQ-",loadingIcon:"_2I2LpaEhGCzQ9inJMwliNO",pencil:"_42Nh7O6pFcqnA6OZd3bOK",tooltip:"voBVX1iPkvafjXv9Ymq9e"}},"./src/reddit/components/IdCard/Placeholder.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/lib/lessComponent.tsx"),i=s("./src/reddit/components/IdCard/placeholder.m.less"),c=s.n(i),d=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const l=a.a.wrapped(e=>{var{isLoading:t,gradientType:s}=e,n=d(e,["isLoading","gradientType"]);return o.a.createElement("div",n)},"Shimmer",c.a),m=a.a.div("Container",c.a);t.a=e=>{let{isLoading:t}=e;return o.a.createElement(m,{className:c.a.container},o.a.createElement(l,{gradientType:"posts",isLoading:t,className:c.a.banner}),o.a.createElement("div",{className:c.a.title},o.a.createElement(l,{gradientType:"posts",isLoading:t,className:c.a.icon}),o.a.createElement(l,{gradientType:"posts",isLoading:t,className:c.a.name})),o.a.createElement("div",{className:c.a.counts},o.a.createElement("div",{className:c.a.side},o.a.createElement(l,{gradientType:"posts",isLoading:t,className:c.a.count}),o.a.createElement(l,{gradientType:"posts",isLoading:t,className:c.a.text})),o.a.createElement("div",{className:c.a.side},o.a.createElement(l,{gradientType:"posts",isLoading:t,className:c.a.count}),o.a.createElement(l,{gradientType:"posts",isLoading:t,className:c.a.text}))),o.a.createElement(l,{gradientType:"posts",isLoading:t,className:Object(r.a)(c.a.desc,c.a.one)}),o.a.createElement(l,{gradientType:"posts",isLoading:t,className:Object(r.a)(c.a.desc,c.a.two)}),o.a.createElement(l,{gradientType:"posts",isLoading:t,className:Object(r.a)(c.a.desc,c.a.three)}),o.a.createElement(l,{gradientType:"posts",isLoading:t,className:Object(r.a)(c.a.desc,c.a.four)}),o.a.createElement(l,{gradientType:"posts",isLoading:t,className:c.a.subscribe}))}},"./src/reddit/components/IdCard/helpers.ts":function(e,t,s){"use strict";s.d(t,"e",(function(){return i})),s.d(t,"c",(function(){return c})),s.d(t,"d",(function(){return d})),s.d(t,"b",(function(){return l})),s.d(t,"a",(function(){return m}));var n=s("./src/app/strings/index.ts"),o=s("./src/config.ts"),r=s("./src/reddit/constants/listings.ts"),a=s("./src/reddit/constants/page.ts");const i=e=>e&&e.toLowerCase()===r.b.Popular,c=e=>e&&e.toLowerCase()===r.b.All,d=e=>e&&e===a.c,l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:68;return{height:s,image:e,width:t}},m=e=>{let t,s,a,m,p,{language:u,listingName:h,isM2MEnabled:b,subreddit:g,idCardWidget:x,shouldRenderSuperbOwlIcon:C}=e;const v=x&&x.subscribersText||Object(n.a)(u,"structuredStyles.widgets.id-card.subscribersText"),O=x&&x.currentlyViewingText||Object(n.a)(u,"structuredStyles.widgets.id-card.currentlyViewingText");let E,f;const y=C?"snoo-superbowl@2x.png":"snoo-home@2x.png";if(d(h))if(t="".concat(o.a.assetPath,"/img/id-cards/home-banner@2x.png"),a=l("url('".concat(o.a.assetPath,"/img/id-cards/").concat(y,"')")),p=r.c[r.b.Home],b)m=Object(n.a)(u,"listings.populatedHome.title"),s=Object(n.a)(u,"listings.populatedHome.longDescription");else{s=Object(n.a)(u,"listings.home.longDescription");const e=Object(n.a)(u,"listings.home.title");m=e.charAt(0).toUpperCase()+e.slice(1)}else c(h)?(t="".concat(o.a.assetPath,"/img/id-cards/banner@2x.png"),s=Object(n.a)(u,"listings.all.longDescription"),a=l("url('".concat(o.a.assetPath,"/img/id-cards/").concat(y,"')")),m="r/all",p=r.c[r.b.All]):i(h)?(t="".concat(o.a.assetPath,"/img/id-cards/banner@2x.png"),s=Object(n.a)(u,"listings.popular.longDescription"),a=l("url('".concat(o.a.assetPath,"/img/id-cards/").concat(y,"')")),m="r/popular",p=r.c[r.b.Popular]):h&&(s=x&&x.description,a=l(""),m=g.displayText,p=g.url,f=x&&x.subscribersCount,E=x&&x.currentlyViewingCount);return Object.assign({snooBackground:a,description:s,titleText:m,url:p,subscribersCount:f,subscribersText:v,currentlyViewingText:O,currentlyViewingCount:E},t?{bannerBackgroundImage:t}:{})}},"./src/reddit/components/IdCard/index.m.less":function(e,t,s){e.exports={categoryContainer:"_2cn386lOe1A_DTmBUA-qSM",icon:"_2XJvPvYIEYtcS4ORsDXwa3",subredditIcon:"_2Vkdik1Q8k0lBEhhA_lRKE",largeSubredditIcon:"eGjjbHtkgFc-SYka3LM3M",metaTextContainer:"j9k2MUR13FjoBBeLo1C1m",metaText:"_3Evl5aOozId3QVjs7iry2c",memberIcon:"_1qhTBEK-QmJbvMP4ckhAbh",headerButtonsContainer:"_3nzVPnRRnrls4DOXO_I0fn",overflowButton:"_1LAmcxBaaqShJsi8RNT-Vp",topBannerVariant:"_10q-yEqoaW9SJFYTZZHsei",communityCoinCount:"_2bWoGvMqVhMWwhp4Pgt4LP",coinIcon:"tWeTbHFf02PguTEonwJD0",coinsTooltipContent:"_2AbGMsrZJPHrLm9e-oyW1E",helpIcon:"_1cB7-TWJtfCxXAqqeyVb2q",Banner:"hpxKmfWP2ZiwdKaWpefMn",banner:"hpxKmfWP2ZiwdKaWpefMn",Title:"_20Kb6TX_CdnePoT8iEsls6",title:"_20Kb6TX_CdnePoT8iEsls6",TitleShifted:"t9oUK2WY0d28lhLAh3N5q",titleShifted:"t9oUK2WY0d28lhLAh3N5q",AdorableSnoo:"_2KqgQ5WzoQRJqjjoznu22o",adorableSnoo:"_2KqgQ5WzoQRJqjjoznu22o",TitleLink:"_2D7eYuDY6cYGtybECmsxvE",titleLink:"_2D7eYuDY6cYGtybECmsxvE",TitleText:"_19bCWnxeTjqzBElWZfIlJb",titleText:"_19bCWnxeTjqzBElWZfIlJb",TitleTextShiftedContainer:"_2TC7AdkcuxFIFKRO_VWis8",titleTextShiftedContainer:"_2TC7AdkcuxFIFKRO_VWis8",TitleTextWithSecondaryTitle:"_35WVFxUni5zeFkPk7O4iiB",titleTextWithSecondaryTitle:"_35WVFxUni5zeFkPk7O4iiB",UserCounts:"_7kAMkb9SAVF8xJ3L53gcW",userCounts:"_7kAMkb9SAVF8xJ3L53gcW",SubscriberCount:"nEdqRRzLEN43xauwtgTmj",subscriberCount:"nEdqRRzLEN43xauwtgTmj",Online:"_3_HlHJ56dAfStT19Jgl1bF",online:"_3_HlHJ56dAfStT19Jgl1bF",CakeDay:"_2QZ7T4uAFMs_N83BZcN-Em",cakeDay:"_2QZ7T4uAFMs_N83BZcN-Em",cakeIcon:"_19sQCxYe2NApNbYNX5P5-L",Count:"_3XFx6CfPlg-4Usgxm0gK8R",count:"_3XFx6CfPlg-4Usgxm0gK8R",CountMetaText:"_34InTQ51PAhJivuc_InKjJ",countMetaText:"_34InTQ51PAhJivuc_InKjJ",UserType:"_29_mu5qI8E1fq6Uq5koje8",userType:"_29_mu5qI8E1fq6Uq5koje8",WidgetHeader:"_2BY2-wxSbNFYqAy98jWyTC",widgetHeader:"_2BY2-wxSbNFYqAy98jWyTC",Description:"_3sGbDVmLJd_8OV8Kfl7dVv",description:"_3sGbDVmLJd_8OV8Kfl7dVv",Buttons:"_1qiHDKK74j6hUNxM0p9ZIp",buttons:"_1qiHDKK74j6hUNxM0p9ZIp",RequestButton:"_36GxpQyxUKhq8m_dGYqIBE",requestButton:"_36GxpQyxUKhq8m_dGYqIBE",SubscribeButton:"_1eMniuqQCoYf3kOpyx83Jj",subscribeButton:"_1eMniuqQCoYf3kOpyx83Jj",CreateAccountButton:"_2wIWA7CTxkwjuDQ4-Msi_r",createAccountButton:"_2wIWA7CTxkwjuDQ4-Msi_r",CreatePostButton:"_326PJFFRv8chYfOlaEYmGt",createPostButton:"_326PJFFRv8chYfOlaEYmGt",CreateCommunityButton:"Jy6FIGP1NvWbVjQZN7FHA",createCommunityButton:"Jy6FIGP1NvWbVjQZN7FHA",VisitCommunityButton:"_1cDoUuVvel5B1n5wa3K507",visitCommunityButton:"_1cDoUuVvel5B1n5wa3K507",ModSettings:"_2_w8DCFR-DCxgxlP1SGNq5",modSettings:"_2_w8DCFR-DCxgxlP1SGNq5",ModToolsLink:"_1aS-wQ7rpbcxKT0d5kjrbh",modToolsLink:"_1aS-wQ7rpbcxKT0d5kjrbh",CategoryContainer:"_2cn386lOe1A_DTmBUA-qSM",titleTextContainer:"_2Zdkj7cQEO3zSGHGK2XnZv",editIconText:"wzFxUZxKK8HkWiEhs0tyE",iconFilePicker:"_3R24jLERJTaoRbM_vYd9v0"}},"./src/reddit/components/IdCard/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/react-router-dom/esm/react-router-dom.js"),i=s("./node_modules/react-router-redux/es/index.js"),c=s("./src/reddit/actions/subreddit/inlineEditing.ts"),d=s("./src/reddit/selectors/inlineSubredditEditing.ts"),l=s("./node_modules/reselect/es/index.js"),m=s("./src/app/strings/index.ts"),p=s("./src/lib/classNames/index.ts"),u=s("./src/lib/CSSVariableProvider/withTheme.tsx"),h=s("./src/lib/humanizeDate/index.ts"),b=s("./src/lib/isFakeSubreddit/index.ts"),g=s("./src/lib/prettyPrintNumber/index.ts"),x=s("./src/lib/timeAgo/index.ts"),C=s("./src/reddit/actions/tooltip.ts"),v=s("./src/reddit/actions/modal.ts"),O=s("./src/reddit/actions/multireddit/index.ts"),E=s("./src/reddit/actions/subscription/index.ts"),f=s("./src/reddit/components/CategoryTagList/index.tsx"),y=s("./src/higherOrderComponents/makeAsync.tsx"),j=s("./src/lib/loadWithRetries/index.ts"),w=Object(y.a)({getComponent:()=>Object(j.a)(()=>Promise.all([s.e("AdminCommunityTopics~SubredditInlineEditing"),s.e("AdminCommunityTopics")]).then(s.bind(null,"./src/reddit/components/CommunityTopics/AdminCommunityTopics/index.tsx"))).then(e=>e.default),ErrorComponent:()=>null,LoadingComponent:()=>null}),I=s("./src/reddit/components/CommunityType/index.tsx"),P=s("./src/reddit/components/ContributorRequestFlow/ContributorRequestButton.tsx"),T=s("./src/lib/isSimpleClick/index.ts"),k=s("./src/reddit/actions/login.ts"),S=s("./src/reddit/components/TrackingHelper/index.tsx"),_=s("./src/reddit/constants/accountManager.ts"),N=s("./src/reddit/constants/listings.ts"),L=s("./src/reddit/controls/Button/index.tsx"),M=s("./src/reddit/helpers/makeAccountManagerUrl/index.ts"),R=s("./src/reddit/helpers/trackers/monthsToMinutes.ts"),B=s("./src/reddit/i18n/components.tsx"),A=s("./src/reddit/selectors/meta.ts"),F=s("./src/reddit/selectors/user.ts");const D=Object(l.c)({isLoggedIn:F.J,origin:A.g});class W extends o.a.Component{constructor(){super(...arguments),this.onClick=e=>{Object(T.a)(e)&&(e.stopPropagation(),e.preventDefault(),this.props.sendEvent(Object(R.e)()),this.props.openRegisterModal())}}render(){const{origin:e}=this.props;return o.a.createElement(L.g,{href:Object(M.a)(_.a.Register,e),onClick:this.onClick},o.a.createElement(B.c,null,"Create an account"))}}var H=Object(r.b)(D,e=>({openRegisterModal:()=>{e(Object(v.k)({actionSource:v.a.IdCard,redirectUrl:N.c[N.b.Home]})),e(Object(k.f)())}}))(Object(S.b)(W)),V=s("./src/reddit/components/CreateCommunityButton/index.tsx"),U=(s("./node_modules/core-js/modules/es6.symbol.js"),s("./src/reddit/helpers/getSubredditUrl/index.ts")),K=s("./src/reddit/i18n/utils.ts"),G=s("./src/reddit/selectors/telemetry.ts");function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var J=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const q=Object(l.c)({isLoggedIn:F.J});var Y=Object(r.b)(q,e=>({openLoginModal:()=>{e(Object(v.k)({actionSource:v.a.Post})),e(Object(k.f)())}}))(Object(S.b)(e=>{var{isContributorRequestPending:t,isLoggedIn:s,listingName:n,openLoginModal:r,sendEvent:a,subreddit:i}=e,c=J(e,["isContributorRequestPending","isLoggedIn","listingName","openLoginModal","sendEvent","subreddit"]);const d="".concat(Object(U.a)(i)||"/","submit");return o.a.createElement(L.h,z({},c,{onClick:e=>{a(e=>({action:"click",noun:"create_post",source:"id_card",screen:Object(G.screen)(e),subreddit:Object(G.subreddit)(e),actionInfo:Object(G.actionInfo)(e)})),s||(r(),e.preventDefault())},to:d}),t?Object(K.c)("Draft post"):Object(K.c)("Create post"))}));const Q=Object(y.a)({getComponent:()=>Object(j.a)(()=>s.e("CreatePollButton").then(s.bind(null,"./src/reddit/components/IdCard/CreatePollButton/index.tsx"))).then(e=>e.default),ErrorComponent:()=>null,LoadingComponent:()=>null});var Z=s("./node_modules/react-autosize-textarea/lib/index.js"),X=s.n(Z),$=s("./src/reddit/actions/subredditSettings.ts"),ee=s("./src/reddit/components/CharacterCountdown/index.tsx"),te=s("./src/reddit/components/CommunitySettings/helpers.ts"),se=s("./src/reddit/components/ContentTooltip/index.tsx"),ne=s("./src/lib/fastdom/index.ts"),oe=s("./src/lib/lessComponent.tsx"),re=s("./src/reddit/components/IdCard/DescriptionBlock/index.m.less"),ae=s.n(re);const ie=oe.a.div("DescriptionContainer",ae.a);class ce extends o.a.Component{constructor(e){super(e),this.containerRef=null,this.textRef=null,this.showFullDescription=e=>{e.preventDefault(),e.stopPropagation(),this.setState({shouldTruncateDescription:!1})},this.setContainerRef=e=>this.containerRef=e,this.setTextRef=e=>this.textRef=e,this.state={shouldDisplayShowMore:!1,shouldTruncateDescription:e.shouldTruncateDescription}}componentDidMount(){this.state.shouldTruncateDescription&&ne.a.read(()=>{this.containerRef&&this.textRef&&this.textRef.offsetHeight>this.containerRef.offsetHeight&&this.setState({shouldDisplayShowMore:!0})})}render(){const{children:e,description:t,isTopBannerVariant:s,subreddit:n}=this.props,{shouldDisplayShowMore:r,shouldTruncateDescription:a}=this.state,i=o.a.createElement(B.c,null,n&&"Welcome to r/".concat(n.name));return o.a.createElement(ie,{className:Object(p.a)(ae.a.descriptionContainer,a&&ae.a.truncated),"data-redditstyle":!0,innerRef:this.setContainerRef},o.a.createElement("div",{className:Object(p.a)(ae.a.description,{[ae.a.topBannerVariant]:s}),ref:this.setTextRef},t||i,e),a&&r&&o.a.createElement("div",{className:ae.a.showMore},o.a.createElement(B.c,null,"..."),o.a.createElement(L.n,{className:ae.a.showFullDescriptionButton,onClick:this.showFullDescription},o.a.createElement(B.c,null,"MORE"))))}}var de=ce,le=s("./src/reddit/components/InlineSubredditEditing/InstructionalTooltipContent.tsx"),me=s("./src/reddit/components/SubredditUnsavedChangesModal/index.tsx"),pe=s("./src/reddit/constants/tooltips.ts"),ue=s("./src/reddit/controls/LoadingIcon/index.tsx"),he=s("./src/reddit/helpers/localStorage/index.ts"),be=s("./src/reddit/helpers/trackers/inlineSubredditEditing.ts"),ge=s("./src/reddit/icons/svgs/Pencil/index.tsx"),xe=s("./src/reddit/selectors/activeModalId.ts"),Ce=s("./src/reddit/selectors/subreddit.ts");const ve=6,Oe=Object(l.c)({apiPending:Ce.T,unsavedChangesModalIsOpen:Object(xe.b)(me.a)});class Ee extends o.a.Component{constructor(e){super(e),this.textAreaRef=null,this.containerRef=o.a.createRef(),this.isSaving=!1,this.setTextAreaRef=e=>{this.textAreaRef=e},this.handleOnFocus=e=>{if(e.preventDefault(),e.stopPropagation(),!this.state.editing){const t=e.target!==this.textAreaRef?()=>this.focusTextArea():void 0;this.setState({editing:!0},t),this.props.sendEvent(be.a)}},this.focusTextArea=()=>{this.textAreaRef&&this.textAreaRef.focus&&this.textAreaRef.focus({preventScroll:!0})},this.handleOnBlur=e=>{e.relatedTarget===this.textAreaRef||e.target.contains(e.relatedTarget)||e.relatedTarget===this.containerRef.current||(e.preventDefault(),e.stopPropagation(),this.stopEditing(!0,!1))},this.onCancel=()=>{this.setState({description:this.props.description},()=>this.stopEditing(!1,!0))},this.onSave=()=>{this.props.updateSubredditSettings({publicDescription:this.state.description}),this.isSaving=!0,this.stopEditing(!1,!0);const e=this.state.description,t=this.props.description;this.props.sendEvent(Object(be.d)(e,t))},this.state={description:e.description||"",editing:!1,tooltipDismissed:!0}}componentDidMount(){this.setState({tooltipDismissed:Object(he.l)(this.props.subreddit.id)},()=>{this.tooltipEnabled()&&this.props.onShowTooltip()})}tooltipEnabled(){return this.props.isTopBannerVariant&&!this.state.tooltipDismissed&&!this.props.isCommentsPage}hasFocus(){return!!document.activeElement&&(document.activeElement===this.containerRef.current||this.containerRef.current&&this.containerRef.current.contains(document.activeElement))}componentWillReceiveProps(e){!e.apiPending&&this.props.apiPending&&(this.isSaving=!1),e.description===this.props.description||this.hasPendingChanges()||this.setState({description:e.description})}stopEditing(e,t){e&&this.hasPendingChanges()&&!this.isSaving&&this.props.openUnsavedChangesModal(),this.setState({editing:!1}),t&&this.containerRef.current&&this.containerRef.current.blur()}renderInactiveDescription(){const e=this.props.apiPending?o.a.createElement(ue.a,{className:ae.a.loadingIcon,sizePx:ve}):void 0;return this.state.description?o.a.createElement(o.a.Fragment,null,o.a.createElement(de,{description:this.state.description,shouldTruncateDescription:this.props.shouldTruncateDescription,subreddit:this.props.subreddit,isTopBannerVariant:this.props.isTopBannerVariant},o.a.createElement(ge.a,{className:ae.a.pencil}),e)):o.a.createElement("div",{className:ae.a.emptyDescription},o.a.createElement(B.c,null,"Add description"),e)}renderTextArea(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(X.a,{innerRef:this.setTextAreaRef,onFocus:this.handleOnFocus,onBlur:this.handleOnBlur,placeholder:Object(K.c)("Tell us about your community"),className:Object(p.a)(ae.a.editableDescription,ae.a.activeEditableDescription),onChange:e=>this.setState({description:e.currentTarget.value}),maxLength:te.c,value:this.state.description}),o.a.createElement("div",{className:ae.a.editableDescriptionControlRow},o.a.createElement(ee.a,{className:ae.a.characterCountdown,maxChars:te.c,text:this.state.description}),o.a.createElement("span",{className:ae.a.cancel,onClick:this.onCancel},Object(K.c)("Cancel")),o.a.createElement("span",{className:ae.a.save,onClick:this.onSave},Object(K.c)("Save"))))}hasPendingChanges(){return this.state.description!==this.props.description}getContainerClassNames(){if(!this.state.editing&&this.state.description)return[ae.a.defaultEditableDescriptionContainer];const e=[ae.a.editableDescriptionContainer];return this.state.editing&&e.push(ae.a.activeEditableDescriptionContainer),e}renderTooltip(){return o.a.createElement(se.a,{className:ae.a.tooltip,tooltipId:pe.a,defaultTooltipPosition:"left",tooltipSizeEstimate:{height:150,width:320}},o.a.createElement(le.a,{includeIcon:!1,subredditId:this.props.subreddit.id}))}render(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:this.tooltipEnabled()?pe.a:void 0,ref:this.containerRef,className:Object(p.a)(...this.getContainerClassNames()),tabIndex:0,onFocus:this.handleOnFocus,onBlur:this.handleOnBlur},this.state.editing?this.renderTextArea():this.renderInactiveDescription(),this.props.unsavedChangesModalIsOpen&&o.a.createElement(me.b,{withOverlay:!0,ignoreDefaultFocus:!0,onCancel:this.focusTextArea,onDiscard:this.onCancel,onSave:this.onSave})),this.tooltipEnabled()&&this.renderTooltip())}}var fe=Object(r.b)(Oe,(e,t)=>{let{subreddit:s}=t;return{updateSubredditSettings:t=>e(Object($.g)(s.id,t,!0)),openUnsavedChangesModal:()=>{e(Object(C.h)()),e(Object(v.h)(me.a))},onShowTooltip:()=>{e(Object(C.f)({tooltipId:pe.a}))}}})(Object(S.b)(Ee)),ye=s("./src/reddit/components/InfoTextTooltip/index.tsx"),je=s("./src/reddit/components/InlineSubredditEditing/InlineCommunityTopics/Placeholder/index.tsx"),we=s("./src/reddit/components/InlineSubredditEditing/InlineCommunityTopics/index.m.less"),Ie=s.n(we);var Pe=Object(y.a)({ErrorComponent:()=>null,LoadingComponent:()=>o.a.createElement("div",{className:Ie.a.container},o.a.createElement(je.a,null)),getComponent:()=>Object(j.a)(()=>Promise.all([s.e("AdminCommunityTopics~SubredditInlineEditing"),s.e("SubredditInlineEditing")]).then(s.bind(null,"./src/reddit/components/InlineSubredditEditing/InlineCommunityTopics/index.tsx"))).then(e=>e.default)}),Te=s("./src/reddit/components/OverflowMenu/index.tsx"),ke=s("./src/reddit/components/SubredditIcon/index.tsx"),Se=s("./src/reddit/components/SubredditIcon/EditableSubredditIcon.tsx"),_e=s("./src/reddit/components/SubscribeButton/index.tsx"),Ne=s("./src/reddit/components/Widgets/Base/index.tsx"),Le=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),Me=s("./src/reddit/constants/modals.ts"),Re=s("./src/reddit/constants/page.ts"),Be=s("./src/reddit/constants/posts.ts"),Ae=s("./src/reddit/controls/Dropdown/Row.tsx"),Fe=s("./src/reddit/controls/ImageInput/index.tsx"),De=s("./src/reddit/featureFlags/index.ts"),We=s("./src/reddit/helpers/awards/isEligibleForCommunityAwards.ts"),He=s("./src/reddit/helpers/getFakeUserIcons.ts"),Ve=s("./src/reddit/helpers/trackers/communityTopics.ts"),Ue=s("./src/reddit/helpers/trackers/lightbox.ts"),Ke=s("./src/reddit/helpers/trackers/modHub.ts"),Ge=s("./src/reddit/icons/fonts/Coin/index.tsx"),ze=s("./src/reddit/icons/fonts/helpers.tsx"),Je=s("./src/reddit/icons/fonts/ModSettings/index.m.less"),qe=s.n(Je);var Ye=oe.a.wrapped(e=>o.a.createElement("i",{className:"".concat(Object(ze.b)("modSettings")," ").concat(e.className)}),"ModSettings",qe.a),Qe=s("./src/reddit/icons/svgs/Cake/index.tsx"),Ze=s("./src/reddit/icons/svgs/Help/index.tsx"),Xe=s("./src/reddit/models/ApiRequestState/index.ts"),$e=s("./src/reddit/models/SubredditRestrictions/index.ts"),et=s("./src/reddit/selectors/category.ts"),tt=s("./src/reddit/selectors/comments.ts"),st=s("./src/reddit/selectors/experiments/categories.ts"),nt=s("./src/reddit/constants/experiments.ts"),ot=s("./src/reddit/helpers/chooseVariant/index.ts");var rt=s("./src/reddit/selectors/experiments/feedFilters.ts"),at=s("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),it=s("./src/reddit/selectors/listings.ts"),ct=s("./src/reddit/selectors/moderatorPermissions.ts"),dt=s("./src/reddit/selectors/monthsToMinutes.ts"),lt=s("./src/reddit/selectors/structuredStyles.ts"),mt=s("./src/reddit/selectors/subscriptions.ts"),pt=s("./src/reddit/selectors/widgets.ts"),ut=s("./src/reddit/actions/preferences.ts"),ht=s("./src/reddit/actions/authorFlair.ts"),bt=s("./src/reddit/actions/badge.ts"),gt=s("./src/reddit/components/Badges/UserDisplay/index.tsx"),xt=s("./src/reddit/components/Flair/index.tsx"),Ct=s("./src/reddit/featureFlags/component.tsx"),vt=s("./src/reddit/models/User/index.ts"),Ot=s("./src/reddit/selectors/userFlair.ts"),Et=s("./src/reddit/components/SidebarFlairSettings/index.m.less"),ft=s.n(Et);const yt=oe.a.div("FlairSettingsContainer",ft.a),jt=oe.a.div("FlairPreview",ft.a),wt=oe.a.wrapped(e=>o.a.createElement("svg",{className:e.className,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",version:"1.1"},o.a.createElement("title",{id:"".concat(e.title,"-title")},e.title),o.a.createElement("g",null,o.a.createElement("path",{fill:"inherit",d:"M8.1168,3.0832 L10.9168,5.8832 C11.0728,6.0392 11.0728,6.2928 10.9168,6.4488 L4.0824,13.2832 C4.0072,13.3584 3.9056,13.4 3.8,13.4 L1,13.4 C0.7784,13.4 0.6,13.2216 0.6,13 L0.6,10.2 C0.6,10.0944 0.6416,9.9928 0.7168,9.9176 L7.5512,3.0832 C7.7072,2.9272 7.9608,2.9272 8.1168,3.0832 Z M13.5168,2.152 C13.9848,2.62 13.9848,3.3808 13.5168,3.8488 L12.048,5.3176 C11.9696,5.396 11.8672,5.4352 11.7656,5.4352 C11.6632,5.4352 11.5608,5.396 11.4824,5.3176 L8.6824,2.5176 C8.5264,2.3616 8.5264,2.108 8.6824,1.952 L10.1512,0.4832 C10.6192,0.0152 11.38,0.0152 11.848,0.4832 L13.5168,2.152 Z"}))),"EditPencil",ft.a),It=oe.a.div("PreviewTitle",ft.a),Pt=oe.a.wrapped(xt.b,"FlairComponent",ft.a),Tt=oe.a.wrapped(L.n,"TertiaryButton",ft.a),kt=oe.a.wrapped(Tt,"IconButton",ft.a),St=oe.a.span("Username",ft.a),_t=Object(Ct.a)("spBadges",gt.a),Nt=Object(l.c)({badgesEnabled:De.d.spBadges,currentUser:F.i,language:F.S,userFlairData:Ot.c,userHasBadge:(e,t)=>{const s=e.user.account;if(s){return!!((e.users.appliedBadges[s.id]||{})[t.subredditId]||[]).length}return!1}}),Lt=Object(r.b)(Nt,(e,t)=>{let{subredditId:s}=t;return{onToggleModal:t=>e(Object(ht.b)({username:t,subredditId:s})),onToggleBadgeModal:()=>e(Object(bt.j)())}}),Mt=e=>o.a.createElement(kt,{onClick:e.onClick},o.a.createElement(wt,null)),Rt=e=>o.a.createElement(Tt,{onClick:e.onClick},e.userFlairData.displaySettings.isEnabled?e.userFlairData.applied||e.userHasBadge?Object(m.a)(e.language,"flair.editUserFlairAndBadge"):Object(m.a)(e.language,"flair.addUserFlairAndBadge"):e.userHasBadge?Object(m.a)(e.language,"flair.editUserBadge"):Object(m.a)(e.language,"flair.addUserBadge"));class Bt extends o.a.Component{constructor(){super(...arguments),this.onFlairLinkClick=()=>{const e=this.props.currentUser?Object(vt.f)(this.props.currentUser):null;this.props.onToggleModal(e),this.props.sendEvent(Object(Ue.a)("user_flair_picker"))}}render(){const{badgesEnabled:e,currentUser:t,language:s,onToggleBadgeModal:n,subredditId:r,userFlairData:a,userHasBadge:i}=this.props;return t&&a?o.a.createElement(yt,null,o.a.createElement(It,null,o.a.createElement(B.c,null,"user flair preview"),o.a.createElement(Mt,{onClick:this.onFlairLinkClick})),o.a.createElement(jt,null,i&&o.a.createElement(_t,{className:ft.a.badge,subredditId:r,uniqueIdentifier:r}),o.a.createElement(St,null,"u/".concat(t.displayText)),a.applied&&a.displaySettings.isUserEnabled&&o.a.createElement(Pt,{flair:a.applied,forceSmallEmojis:!0})),e?o.a.createElement(Rt,{userFlairData:a,userHasBadge:i,language:s,onClick:n}):null):null}}var At=Lt(Object(S.b)(Bt)),Ft=s("./src/reddit/controls/ToggleSwitch/index.tsx"),Dt=s("./src/reddit/helpers/trackers/idCard.ts"),Wt=s("./src/reddit/icons/svgs/ChevronDown/index.tsx"),Ht=s("./src/reddit/icons/svgs/ChevronUp/index.tsx"),Vt=s("./src/reddit/icons/svgs/Show/index.tsx"),Ut=e=>o.a.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},o.a.createElement("path",{d:"M4.59 8l-2.3 2.29A1 1 0 0 0 3.7 11.7L6 9.41zM6 11a4 4 0 0 0 5.34 3.75l-5.1-5.1A4 4 0 0 0 6 11zM18.71 17.29l-5-5A3.87 3.87 0 0 0 14 11a4 4 0 0 0-.68-2.22c.07.06.15.11.21.17l2.76 2.76a1 1 0 0 0 1.41-1.41l-2.75-2.76A7 7 0 0 0 7.42 6L2.71 1.29a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.41-1.41z"})),Kt=s("./src/reddit/components/IdCard/CommunityOptions/index.m.less"),Gt=s.n(Kt);const zt=oe.a.wrapped(L.n,"TertiaryButton",Gt.a),Jt=Object(l.c)({shouldShowFlairPicker:Ot.b,stylesDisabledForSubreddit:F.eb,stylesDisabledGlobally:F.fb});class qt extends o.a.Component{constructor(e){super(e),this.onContainerClick=e=>{e.stopPropagation()},this.onExpandButtonClick=()=>{this.setState({isOpen:!this.state.isOpen})},this.onToggleStylesSwitch=()=>{const e=!!this.props.stylesDisabledForSubreddit;this.props.sendEvent(Object(Dt.c)(e)),this.props.updateSubredditPrefs(this.props.subredditId,{stylesEnabled:e})},this.state={isOpen:!1}}render(){const{isOverlay:e,isSubmissionPage:t,shouldShowFlairPicker:s,stylesDisabledForSubreddit:n,stylesDisabledGlobally:r,subredditId:a}=this.props,{isOpen:i}=this.state,c=i?o.a.createElement("div",{className:Gt.a.content},o.a.createElement("div",{className:Object(p.a)(Gt.a.stylesToggle,{[Gt.a.disabled]:r}),title:r?Object(K.c)("This is unavailable because themes have been disabled globally in your user settings"):void 0},o.a.createElement("label",{className:Gt.a.stylesToggleLabel},n?o.a.createElement(Ut,null):o.a.createElement(Vt.a,null),o.a.createElement(B.c,null,"Community theme")),o.a.createElement(Ft.a,{disabled:r,on:!n,onToggle:this.onToggleStylesSwitch})),s&&!e&&o.a.createElement(At,{subredditId:a})):null;return o.a.createElement("div",{className:Gt.a.container,onClick:this.onContainerClick},o.a.createElement(zt,{className:Object(p.a)(Gt.a.expandButton,{[Gt.a.redditStyle]:t}),onClick:this.onExpandButtonClick},o.a.createElement(B.c,null,"Community options"),i?o.a.createElement(Ht.a,null):o.a.createElement(Wt.a,null)),c)}}var Yt=Object(r.b)(Jt,e=>({updateSubredditPrefs:(t,s)=>{e(Object(ut.H)(t,s))}}))(qt),Qt=s("./src/reddit/components/IdCard/helpers.ts"),Zt=s("./src/reddit/components/IdCard/Placeholder.tsx"),Xt=s("./src/reddit/components/IdCard/index.m.less"),$t=s.n(Xt);function es(){return(es=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}s.d(t,"f",(function(){return ss})),s.d(t,"a",(function(){return os})),s.d(t,"b",(function(){return Os})),s.d(t,"c",(function(){return fs})),s.d(t,"g",(function(){return Ls})),s.d(t,"d",(function(){return Ms}));const ts="IDCARD_OVERFLOW_DROPDOWN_ID",ss=e=>!Object(b.a)(e)||Object(Qt.c)(e)||Object(Qt.d)(e)||Object(Qt.e)(e),ns=oe.a.div("Banner",$t.a),os=e=>{const{bannerBackgroundImage:t}=e;return o.a.createElement(ns,{style:t&&t.length?{backgroundImage:"url(".concat(t,")")}:void 0})},rs=oe.a.div("Title",$t.a),as=oe.a.wrapped(rs,"TitleShifted",$t.a),is=oe.a.wrapped(e=>{let{className:t,children:s,shouldRenderSuperbOwlIcon:n,snooBackground:r}=e;return o.a.createElement("div",{className:t,title:n?"r/SuperbOwl":"",style:{background:r.image,backgroundSize:"".concat(r.width,"px ").concat(r.height,"px"),height:r.height,width:r.width}},s)},"AdorableSnoo",$t.a),cs=oe.a.wrapped(a.a,"TitleLink",$t.a),ds=oe.a.span("TitleText",$t.a),ls=oe.a.div("TitleTextShiftedContainer",$t.a),ms=oe.a.div("UserCounts",$t.a),ps=oe.a.wrapped(Le.a,"ThemedWidget",$t.a),us=oe.a.div("SubscriberCount",$t.a),hs=oe.a.div("Online",$t.a),bs=oe.a.div("CakeDay",$t.a),gs=oe.a.p("Count",$t.a),xs=oe.a.span("CountMetaText",$t.a),Cs=oe.a.p("UserType",$t.a),vs=oe.a.wrapped(Ne.a,"WidgetHeader",$t.a),Os=oe.a.div("Description",$t.a),Es=oe.a.div("Buttons",$t.a),fs=oe.a.wrapped(L.f,"RequestButton",$t.a),ys=oe.a.wrapped(_e.a,"SubscribeButton",$t.a),js=oe.a.wrapped(H,"CreateAccountButton",$t.a),ws=oe.a.wrapped(Y,"CreatePostButton",$t.a),Is=oe.a.wrapped(V.a,"CreateCommunityButton",$t.a),Ps=oe.a.wrapped(L.k,"VisitCommunityButton",$t.a),Ts=oe.a.wrapped(Ye,"ModSettings",$t.a),ks=oe.a.wrapped(a.a,"ModToolsLink",$t.a),Ss=oe.a.div("CategoryContainer",$t.a),_s=Object(r.b)(()=>Object(l.c)({postCategories:(e,t)=>Object(et.s)(e,t.postId),commentsApiError:(e,t)=>{let{commentsPageKey:s}=t;return s?Object(tt.c)(e,{commentsPageKey:s}):null},commentsApiPending:(e,t)=>{let{commentsPageKey:s}=t;return!!s&&Object(tt.d)(e,{commentsPageKey:s})},favoriteSubredditsIds:mt.a,feedFilterVariant:rt.a,frontpageIsHome:e=>Object(dt.g)(e),idCardWidget:(e,t)=>Object(pt.d)(e,{subredditName:t.listingName}),isContributorRequestPending:e=>Object(Ce.h)(e,$e.e.Post),isLoggedIn:F.J,isM2MEnabled:dt.w,language:F.S,listingApiError:(e,t)=>{let{listingKey:s}=t;return s?Object(it.c)(e,{listingKey:s}):null},listingApiPending:(e,t)=>{let{listingKey:s}=t;return!!s&&Object(it.d)(e,{listingKey:s})},m2mHomeRedirectVariant:at.f,moderatorPermissions:(e,t)=>{const s=Object(Ce.G)(e,t.listingName);if(s)return Object(ct.j)(e,{subredditId:s})},isInCategoriesExperiment:st.a,showContributorRequestFlow:e=>Object(Ce.t)(e,$e.e.Post),showCreatePollButton:e=>(e=>Object(ot.c)(e,{experimentEligibilitySelector:ot.a,experimentName:nt.h})===nt.m.Treatment)(e)&&!Object(he.f)(),shouldRenderSuperbOwlIcon:De.d.superbOwl,subreddit:(e,t)=>Object(Ce.B)(e,{subredditName:t.listingName}),subredditAboutInfo:(e,t)=>Object(Ce.y)(e,{subredditName:t.listingName}),subredditCoins:(e,t)=>{let{listingName:s}=t;return Object(Ce.D)(e,{subredditName:s})},subredditIcon:(e,t)=>Object(lt.q)(e,{subredditName:t.listingName}),adminCommunityTopicsEnabled:De.d.adminCommunityTopics,subredditInlineEditingEnabled:(e,t)=>{let{listingName:s}=t;const n=Object(Ce.B)(e,{subredditName:s});return!!n&&Object(d.a)(e,{subredditId:n.id})}}),(e,t)=>({addToMultiClicked:()=>{e(Object(O.g)(!0,!0)),e(Object(v.h)(Me.a.MULTIREDDIT_ADD_SUBREDDIT))},dispatchPush:t=>e(Object(i.b)(t)),toggleFavorite:t=>e(Object(E.c)({id:t,type:Be.a.SUBREDDIT})),toggleTooltip:t=>e(Object(C.g)({tooltipId:t})),onCommunityIconSelected:(s,n)=>{e(Object(c.b)(t.listingName,s,n))}}),(e,t,s)=>Object.assign({},e,t,s,{isEligibleForCommunityAwards:Object(We.a)(e.subreddit),isFavoriteSubreddit:!!e.subreddit&&e.favoriteSubredditsIds.indexOf(e.subreddit.id)>-1,onContainerClick:()=>s.isOverlay&&t.dispatchPush(e.subreddit.url),onToggleFavoriteClick:()=>t.toggleFavorite(e.subreddit.id)}));class Ns extends o.a.Component{constructor(){super(...arguments),this.iconFilePickerRef=null,this.setIconFilePickerRef=e=>this.iconFilePickerRef=e,this.onClickModTools=()=>this.props.sendEvent(Object(Ke.a)()),this.handleVisitCommunityClick=()=>this.props.sendEvent(Object(Ue.a)("visit")),this.getListingNameToUse=()=>{const{frontpageIsHome:e,isLoggedIn:t,listingName:s}=this.props;return t||s!==Re.c||e?s:N.b.Popular},this.onIconImageSelected=e=>{this.props.onCommunityIconSelected(e,Object(Xe.b)())},this.openIconFilePicker=()=>{this.iconFilePickerRef&&this.iconFilePickerRef.click(),this.props.sendEvent(be.b)},this.renderCreatePostButtons=()=>{const{isContributorRequestPending:e,listingName:t,showCreatePollButton:s,showContributorRequestFlow:n,subreddit:r}=this.props,a=Object(b.a)(this.getListingNameToUse());return!a&&n?o.a.createElement(P.a,{eventSource:$e.b.IdCard}):o.a.createElement(o.a.Fragment,null,o.a.createElement(ws,{isContributorRequestPending:e,listingName:t,subreddit:r}),!e&&!a&&s&&o.a.createElement(Q,{listingName:t}))},this.renderButtons=()=>{const{feedFilterVariant:e,isLoggedIn:t,isM2MEnabled:s,isMinimal:n,isOverlay:r,isSubmissionPage:a,listingName:i,subreddit:c,subredditAboutInfo:d}=this.props,l=this.getListingNameToUse(),m=Object(b.a)(l),p=!t&&s&&Object(Qt.d)(i),u=n&&c&&!r,h=Object(rt.f)(e),g=!t&&h,x=!(g||u||p||a||r||d&&d.userIsBanned);return o.a.createElement(Es,null,!g&&!m&&!u&&o.a.createElement(ys,{getEventFactory:e=>Object(Ue.a)(e?"unsubscribe":"subscribe"),id:"subscribe-button-".concat(c.id),identifier:{name:c.name,type:"subreddit"},onClick:e=>e.stopPropagation()}),p&&o.a.createElement(js,null),x&&this.renderCreatePostButtons(),t&&!a&&!r&&!c&&o.a.createElement(Is,{eventSource:"id_card"}),u&&o.a.createElement(Ps,{onClick:this.handleVisitCommunityClick,to:c.url},o.a.createElement(B.c,null,"Visit Community")))}}render(){const{addToMultiClicked:e,className:t,commentsApiError:s,commentsApiPending:n,feedFilterVariant:r,idCardWidget:a,isCommentsPage:i,isEligibleForCommunityAwards:c,isInCategoriesExperiment:d,isLoggedIn:l,isM2MEnabled:u,isMinimal:h,isOverlay:g,isSubmissionPage:x,language:C,listingApiError:v,listingApiPending:O,m2mHomeRedirectVariant:E,moderatorPermissions:y,onContainerClick:j,postCategories:P,postId:T,shouldRenderSuperbOwlIcon:k,subreddit:S,subredditAboutInfo:_,subredditCoins:N,subredditIcon:L,toggleTooltip:M,subredditInlineEditingEnabled:R}=this.props,A=this.getListingNameToUse(),F=Object(b.a)(A);if(!F&&!a)return o.a.createElement(Zt.a,{isLoading:n&&!s||O&&!v});const{bannerBackgroundImage:D,currentlyViewingCount:W,currentlyViewingText:H,description:V,snooBackground:U,subscribersCount:G,subscribersText:z,titleText:J,url:q}=Object(Qt.a)({language:C,listingName:A,isM2MEnabled:u,subreddit:S,idCardWidget:a,shouldRenderSuperbOwlIcon:k}),Y=F||g||x,Q=!F&&S.id?S.id:"",Z=_&&_.created,X=Object(K.c)("Cake Day"),$="IdCard--Subscribers--".concat(g,"--").concat(Q),ee="IdCard--CurrentlyViewing--".concat(g,"--").concat(Q),te="IdCard--CakeDay--".concat(g,"--").concat(Q),se="IdCard--CoinCoint--".concat(g,"--").concat(Q),ne=h&&!g,oe=!!g&&Object(at.e)(E),re=Object(rt.f)(r),ae=!F&&!g&&R&&!x;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ps,{className:t,onClick:g?j:void 0,headerButton:o.a.createElement("div",{className:Object(p.a)($t.a.headerButtonsContainer,{[$t.a.topBannerVariant]:re})},!Y&&S&&y&&o.a.createElement(ks,{to:y.posts?"".concat(S.url,"about/modqueue"):"".concat(S.url,"about/"),onClick:this.onClickModTools},o.a.createElement(Ts,null),o.a.createElement(B.c,null,"Mod tools")),l&&S&&o.a.createElement(Te.b,{className:$t.a.overflowButton,dropdownId:ts,targetPosition:["right","bottom"],tooltipPosition:["right","top"]},!S.isQuarantined&&o.a.createElement(Ae.b,{className:$t.a.dropdownRow,displayText:Object(K.c)("Add to Custom Feed"),onClick:e}),o.a.createElement(Ae.b,{className:$t.a.dropdownRow,displayText:this.props.isFavoriteSubreddit?Object(K.c)("Remove from Favorites"):Object(K.c)("Add to Favorites"),onClick:this.props.onToggleFavoriteClick}))),redditStyle:re||F||x,title:Y?void 0:Object(m.a)(C,"sidebar.subreddit.title")},Y&&o.a.createElement(os,{bannerBackgroundImage:D}),!re||F||i?F?Ls({titleText:J,snooBackground:U,shouldRenderSuperbOwlIcon:k}):o.a.createElement(Ms,{isTargetBlank:x,linkUrl:F?void 0:q,subredditIcon:L,canEditIcon:ae,subreddit:S,titleText:J,onOpenFilePicker:this.openIconFilePicker}):null,!F&&!ne&&Bs(C,G,z,$,W,H,ee,Z,X,te,M),!F&&o.a.createElement(I.a,{subreddit:S}),c&&y&&void 0!==N&&o.a.createElement("div",{className:$t.a.communityCoinCount},o.a.createElement(Ge.a,{className:$t.a.coinIcon}),o.a.createElement(B.c,null,o.a.createElement(B.b,{name:"number-community-coins"},N.toLocaleString())," Coins"),o.a.createElement("span",{id:se,onMouseLeave:()=>M(se),onMouseEnter:()=>M(se)},o.a.createElement(Ze.a,{className:$t.a.helpIcon})),o.a.createElement(ye.c,{tooltipId:se},o.a.createElement("p",{className:$t.a.coinsTooltipContent},o.a.createElement(B.c,null,"The community gets Coins from Awards given by members")))),ae?o.a.createElement(fe,{description:V,shouldTruncateDescription:oe,isTopBannerVariant:re,isCommentsPage:!!i,subreddit:S}):o.a.createElement(de,{description:V,isTopBannerVariant:re,shouldTruncateDescription:oe,subreddit:S}),ae&&o.a.createElement(Pe,{context:Ve.a.idCard,subredditId:Q}),!F&&ne&&!oe&&Rs(S,G,W),!oe&&this.renderButtons(),d&&P&&T&&(i||g)&&o.a.createElement(Ss,null,o.a.createElement(vs,null,o.a.createElement(B.c,null,"Discover more in:")),o.a.createElement(f.a,{postId:T,inLightboxHeader:!0,postCategories:P})),!F&&l&&o.a.createElement(Yt,{isOverlay:g,isSubmissionPage:x,sendEvent:this.props.sendEvent,subredditId:S.id}),ae&&o.a.createElement(Fe.a,{key:"icon-file-picker",className:$t.a.iconFilePicker,inputRef:this.setIconFilePickerRef,multiple:!1,onChange:this.onIconImageSelected}),!F&&l&&this.props.adminCommunityTopicsEnabled&&o.a.createElement(w,{key:"admin-community-topics",subredditId:Q})))}}const Ls=e=>{let{titleText:t,snooBackground:s,shouldRenderSuperbOwlIcon:n}=e;return o.a.createElement(as,null,o.a.createElement(is,{snooBackground:s,shouldRenderSuperbOwlIcon:n}),o.a.createElement(ls,null,o.a.createElement(ds,null,t)))},Ms=e=>{const{canEditIcon:t,isTargetBlank:s,largeSubredditIcon:n,linkUrl:r,subredditIcon:a,titleText:i,primaryColor:c,subreddit:d,onOpenFilePicker:l}=e,m=a.url?o.a.createElement(B.c,null,"Update icon"):o.a.createElement(B.c,null,"Add icon");return o.a.createElement(rs,{className:e.className},t&&d?o.a.createElement(Se.a,{className:n?$t.a.largeSubredditIcon:$t.a.subredditIcon,key:a.url,iconUrl:a.url,primaryColor:c,subreddit:d,inTopBar:!1}):o.a.createElement(ke.b,{className:n?$t.a.largeSubredditIcon:$t.a.subredditIcon,key:a.url,iconUrl:a.url,primaryColor:c}),o.a.createElement("div",{className:$t.a.titleTextContainer},r?o.a.createElement(cs,es({key:r,to:r,onClick:e=>e.stopPropagation()},s?{target:"_blank"}:{}),o.a.createElement(ds,{title:i},i)):o.a.createElement(ds,{key:i},i),t&&d&&l&&o.a.createElement("div",{className:$t.a.editIconText,onClick:l},m)))},Rs=(e,t,s)=>{const n=Object(He.a)(e.name),r=t>1?"".concat("member","s"):"member";return o.a.createElement("span",{className:$t.a.metaTextContainer},n.map((e,t)=>{let{color:s,image:n}=e;return o.a.createElement("img",{alt:0===t?Object(K.c)("Members icons"):"",className:$t.a.memberIcon,key:n,src:n,style:{backgroundColor:s}})}),o.a.createElement(xs,{className:$t.a.metaText},o.a.createElement(B.c,null,o.a.createElement(B.b,{name:"subscribersCount"},"".concat(Object(g.b)(t).toUpperCase()," ")),o.a.createElement(B.b,{name:"members"},r))),o.a.createElement(xs,{className:$t.a.metaText},o.a.createElement(B.c,null,o.a.createElement(B.b,{name:"viewingCount"},Object(g.b)(s))," online")))},Bs=(e,t,s,n,r,a,i,c,d,l,m)=>o.a.createElement(ms,null,o.a.createElement(us,{onMouseEnter:()=>m(n),onMouseLeave:()=>m(n)},o.a.createElement(gs,null,Object(g.b)(t)),o.a.createElement(Cs,{id:n},s),o.a.createElement(ye.c,{caretOnTop:!0,text:"".concat(Object(g.b)(t,!0)," ").concat(s),tooltipId:n})),o.a.createElement(hs,{onMouseEnter:()=>m(i),onMouseLeave:()=>m(i)},o.a.createElement(gs,null,Object(g.b)(r)),o.a.createElement(Cs,{id:i},a),o.a.createElement(ye.c,{caretOnTop:!0,text:"".concat(Object(g.b)(r,!0)," ").concat(a),tooltipId:i})),c&&o.a.createElement(bs,{onMouseEnter:()=>m(l),onMouseLeave:()=>m(l)},o.a.createElement(gs,null,Object(h.a)(c,!0,!0,!0)),o.a.createElement(Cs,{id:l},o.a.createElement(Qe.a,{className:$t.a.cakeIcon,key:"cakeDay"}),d),o.a.createElement(ye.c,{caretOnTop:!0,text:Object(x.d)(e,c),tooltipId:l})));t.e=Object(S.b)(_s(Object(u.a)(Ns)))},"./src/reddit/components/IdCard/placeholder.m.less":function(e,t,s){e.exports={container:"_3Tqjvz23rS-5hNHwFjEkoG",banner:"c_dVyWK3BXRxSN3ULLJ_t",title:"_1OQL3FCA9BfgI57ghHHgV3",icon:"_33jgwegeMTJ-FJaaHMeOjV",name:"_1wQQNkVR4qNpQCzA19X4B6",counts:"_39IvqNe6cqNVXcMFxFWFxx",side:"_29TSdL_ZMpyzfQ_bfdcBSc",count:"JEV9fXVlt_7DgH-zLepBH",text:"_3YCOmnWpGeRBW_Psd5WMPR",desc:"_2iO5zt81CSiYhWRF9WylyN",one:"_2E9u5XvlGwlpnzki78vasG",two:"fDElwzn43eJToKzSCkejE",three:"_2kNB7LAYYqYdyS85f8pqfi",four:"_1XmngqAPKZO_1lDBwcQrR7",subscribe:"_3XbVvl-zJDbcDeEdSgxV4_",Shimmer:"_3640Mx-3jD362-XXyVwXur",shimmer:"_3640Mx-3jD362-XXyVwXur",gradientAnimation:"_3XkHjK4wMgxtjzC1TvoXrb",Container:"_3Tqjvz23rS-5hNHwFjEkoG"}},"./src/reddit/components/InfoBanners/BannerBase/index.m.less":function(e,t,s){e.exports={IconWrapper:"_2p07tPrx9WpxDTQJ5cmVNe",iconWrapper:"_2p07tPrx9WpxDTQJ5cmVNe",TextWrapper:"_2jpm-rNr0Hniw6BX3NWMVe",textWrapper:"_2jpm-rNr0Hniw6BX3NWMVe",leftSideRectangle:"_3TLlMYjrPH9Kl9522LpSxb",wrapper:"_1DUKbp8va6vxOv9zemBDBi",subtitle:"_2J85dtk0HKQBLk8HTSWduv",title:"Nt8TnDvJ2BsL8KWcFQKy5"}},"./src/reddit/components/InfoBanners/BannerBase/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/components/InfoBanners/BannerBase/index.m.less"),i=s.n(a),c=s("./src/lib/lessComponent.tsx");const d=c.a.div("IconWrapper",i.a),l=c.a.div("TextWrapper",i.a);t.a=e=>{const{className:t,color:s,icon:n,subtitle:a,title:c}=e;return o.a.createElement("div",{className:Object(r.a)(t,i.a.wrapper),style:s&&{borderColor:s}||{}},o.a.createElement("div",{className:i.a.leftSideRectangle,style:s&&{backgroundColor:s}||{}}),n?o.a.createElement(d,null,n):o.a.createElement(d,null),o.a.createElement(l,null,o.a.createElement("div",{className:i.a.title},c),a&&o.a.createElement("div",{className:i.a.subtitle},a)))}},"./src/reddit/components/InfoBanners/CommentThreadArchivedBanner/index.m.less":function(e,t,s){e.exports={BannerBase:"_1EjIqPTCvhReSe3IjZptiB",bannerBase:"_1EjIqPTCvhReSe3IjZptiB",ArchivedIcon:"_3Apkcb3itLCGec85v2ZzFz",archivedIcon:"_3Apkcb3itLCGec85v2ZzFz"}},"./src/reddit/components/InfoBanners/CommentThreadLockedBanner/index.m.less":function(e,t,s){e.exports={lockIcon:"_26YMkU38Pb6t5wXIJSne-H",bannerBase:"jf95ZrrjIs2i--Ud8Kvb7"}},"./src/reddit/components/InfoBanners/ContestModeEnabledBanner/index.m.less":function(e,t,s){e.exports={contestModeEnabled:"_3Jf9vrUhPCp1M6DPL_bjy9",TrophyIcon:"_3v30vS-N87epKUIqWSlBm1",trophyIcon:"_3v30vS-N87epKUIqWSlBm1"}},"./src/reddit/components/InfoBanners/PostRemovalBanner/index.m.less":function(e,t,s){e.exports={BannerBase:"_2bSWRKmIOj8SKw_5EOrpVb",bannerBase:"_2bSWRKmIOj8SKw_5EOrpVb",icon:"S7CavmS-v3qdubhT9asIc",link:"FmwbWt4ZwkxbQbR-0vj1G"}},"./src/reddit/components/InfoBanners/QuarantinedSubredditBanner/index.m.less":function(e,t,s){e.exports={container:"_3UJGTKmHd4TVKyOdhiMAJ1",rawHtmlDisplay:"s2P-f2c3l2Irco5Ru0S5J",link:"_1eRb8-B7kEgkwxWFSWuVUk",icon:"WCZvfrkaO-Zq7vsDKOAdS"}},"./src/reddit/components/InfoBanners/QuarantinedSubredditBanner/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/app/strings/index.ts"),c=s("./src/reddit/components/RawHTMLDisplay/index.tsx"),d=s("./src/reddit/constants/colors.ts"),l=s("./src/reddit/controls/InternalLink/index.tsx"),m=s("./src/reddit/i18n/components.tsx"),p=s("./src/reddit/i18n/utils.ts"),u=s("./src/reddit/icons/svgs/QuarantineWarning/index.tsx"),h=s("./src/reddit/selectors/subreddit.ts"),b=s("./src/reddit/selectors/user.ts"),g=s("./src/reddit/components/InfoBanners/BannerBase/index.tsx"),x=s("./src/reddit/components/InfoBanners/QuarantinedSubredditBanner/index.m.less"),C=s.n(x);const v=o.a.createElement(u.a,{className:C.a.icon}),O=Object(a.c)({language:b.S,subreddit:h.B,subredditAboutInfo:h.y}),E=Object(r.b)(O);t.a=E(e=>{const{subreddit:t,subredditAboutInfo:s,language:n}=e;if(!(t&&t.isQuarantined))return null;const r=s&&s.quarantineMessageHtml,a=s&&s.quarantineMessage||Object(i.a)(n,"contentGate.quarantinedSubreddit.quarantineMsg");return o.a.createElement(g.a,{className:C.a.container,color:d.a.quarantine,icon:v,subtitle:o.a.createElement("span",null,o.a.createElement(m.c,null,"This community is")," ",o.a.createElement("a",{className:C.a.link,href:"https://www.reddithelp.com/en/categories/reddit-101/rules-reporting/account-and-community-restrictions/quarantined-subreddits",target:"_blank"},o.a.createElement(m.c,null,"quarantined")),": ",r?o.a.createElement(c.a,{className:C.a.rawHtmlDisplay,html:r}):a," ",o.a.createElement(l.a,{className:C.a.link,to:"/"},o.a.createElement(m.c,null,"Click to return home."))),title:Object(p.c)("Community Quarantined")})})},"./src/reddit/components/InlineSubredditEditing/InlineCommunityTopics/Placeholder/index.m.less":function(e,t,s){e.exports={loading:"_2cHgYGbfV9EZMSThqLt2tx",small:"_3Q7WCNdCi77r0_CKPoDSFY",large:"_2wgLWvNKnhoJX3DUVT_3F-"}},"./src/reddit/components/InlineSubredditEditing/InlineCommunityTopics/Placeholder/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/reddit/components/InlineSubredditEditing/InlineCommunityTopics/Placeholder/index.m.less"),a=s.n(r);t.a=()=>o.a.createElement("div",null,o.a.createElement("div",{className:a.a.small}),o.a.createElement("div",{className:a.a.large}))},"./src/reddit/components/InlineSubredditEditing/InlineCommunityTopics/index.m.less":function(e,t,s){e.exports={transition:"Rd5g7JmL4Fdk-aZi1-U_V",title:"_2TMXtA984ePtHXMkOpHNQm",container:"CneW1mCG4WJXxJbZl5tzH",pencil:"_11ARF4IQO4h3HeKPpPg0xb",inlineTopicsContainer:"_1I3N-uBrbZH-ywcmCnwv_B",modIcon:"_33CSUrVoafEXJUDX3qOQtf",emptyStateContainer:"_2IvhQwkgv_7K0Q3R0695Cs",inlineTopicsContainerEditing:"IeceazVNz_gGZfKXub0ak",optionsListDropdown:"_35hmSCjPO8OEezK36eUXpk",searchBar:"_3aEIeAgUy9VfJyRPljMNJP",numSelected:"_25yWxLGH4C6j26OKFx8kD5",titleSubtext:"_1i46tE0yFLStZBdRfHnYIa",controlRow:"_2YsVWIEj0doZMxreeY6iDG",cancel:"_1hFCAcL4_gkyWN0KM96zgg",save:"_1dF0IdghIrnqkJiUxfswxd",newBadge:"_3VGrhUu842I3acqBMCoSAq",relatedTopicsCopy:"edyFgPHILhf5OLH2vk-tk",relatedTopicsContainer:"_19lMIGqzfTPVY3ssqTiZSX",relatedTopicsContainerEmptyState:"_3MAHaXXXXi9Xrmc_oMPTdP"}},"./src/reddit/components/InlineSubredditEditing/InstructionalTooltipContent.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/reddit/actions/tooltip.ts"),c=s("./src/reddit/components/TrackingHelper/index.tsx"),d=s("./src/reddit/controls/Button/index.tsx"),l=s("./src/reddit/helpers/localStorage/index.ts"),m=s("./src/reddit/helpers/trackers/inlineSubredditEditing.ts"),p=s("./src/reddit/i18n/components.tsx"),u=s("./src/reddit/selectors/widgets.ts"),h=s("./src/reddit/components/InlineSubredditEditing/index.m.less"),b=s.n(h);const g=Object(a.c)({idCardWidget:(e,t)=>{let{subredditId:s}=t;return Object(u.d)(e,{subredditId:s})}}),x=e=>e.includeIcon?e.idCardWidget&&e.idCardWidget.description?o.a.createElement(p.c,null,"Edit your description and custom icon"):o.a.createElement(p.c,null,"Add a community description and custom icon"):e.idCardWidget&&e.idCardWidget.description?o.a.createElement(p.c,null,"Edit your description"):o.a.createElement(p.c,null,"Add a community description"),C=e=>e.includeIcon?o.a.createElement(p.c,null,"Tell us about your community and upload a custom avatar so users can easily identify your community"):o.a.createElement(p.c,null,"Tell us more about your community.");class v extends o.a.Component{componentDidMount(){this.props.sendEvent(m.e),this.props.onViewTooltip()}render(){const e=x(this.props),t=C(this.props);return o.a.createElement("div",{className:b.a.tooltipContent,onClick:e=>{e.preventDefault(),e.stopPropagation()}},o.a.createElement("span",{className:b.a.topRow},o.a.createElement("h3",{className:b.a.title},e)),o.a.createElement("p",{className:b.a.tooltipBody},t),o.a.createElement(d.f,{className:b.a.gotIt,onClick:this.props.onDismissTooltip},o.a.createElement(p.c,null,"Got it")))}}t.a=Object(r.b)(g,(e,t)=>{let{subredditId:s}=t;return{onDismissTooltip:()=>{e(Object(i.h)()),Object(l.O)(s,!0)},onViewTooltip:()=>{Object(l.ab)()}}})(Object(c.b)(v))},"./src/reddit/components/InlineSubredditEditing/index.m.less":function(e,t,s){e.exports={tooltipContent:"RrvkJ7ntzKYyaCOxMJ1RM",title:"BE2vGjFTJ80XkdBpRRr0p",tooltipBody:"_2yezzi8dgIemh3F2q_kvcp",topRow:"_1JfvdiRxYTSKf1IIe7DUvM",gotIt:"_1MHKCZd72tAgyoZWvIYM-G"}},"./src/reddit/components/LargePost/index.m.less":function(e,t,s){e.exports={container:"_1RYN-7H8gYctjOQeL8p2Q7",topCompactPost:"_34QdMmLlbOcjhKm_jp-r3s",bottomCompactPost:"_2IWrSJK7OQ27rTgV_N2Zu4",backgroundWrapper:"_11R7M_VOgKO1RJyRSRErT3",isEvent:"_3js7RHbLSHKV13qUFCVIhb",flatListContainer:"_1ixsU4oQRnNfZ91jhBU74y",noProposal:"_3KYCJ3N4w1YmvpFMo_3zcn",postMediaWrapper:"STit0dLageRsa2yR4te_b",postTitle:"_3wiKjmhpIpoTE2r5KCm2o6",proposal:"_2dkCPUHQTdBWU2B0dYnkRb",hasNotVoted:"_3COAjvFMb0tRTTAI3nxufG",chain:"_39yVNiqPz4VPgNZTlpA5fx",adLinkWrapper:"_115kZaIAhrTbhLHOXtz01X",horizontalVotes:"uFwpR-OdmueYZxdY_rEDX"}},"./src/reddit/components/LargePost/index.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es6.regexp.replace.js"),s("./node_modules/core-js/modules/web.dom.iterable.js");var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/constants/index.ts"),c=s("./src/config.ts"),d=s("./src/reddit/helpers/hasModFlairPermissions/index.ts"),l=s("./src/reddit/helpers/hasModPostPermissions/index.ts"),m=s("./src/reddit/helpers/showReportIndicator/index.ts"),p=s("./src/reddit/helpers/styles/mixins/index.tsx"),u=s("./src/reddit/actions/inFeedChaining.ts"),h=s("./src/reddit/actions/post.ts"),b=s("./src/reddit/actions/tooltip.ts"),g=s("./src/reddit/models/Media/index.ts"),x=s("./src/reddit/models/Poll/index.ts"),C=s("./src/reddit/models/Post/index.ts"),v=s("./src/reddit/models/Vote/index.ts"),O=s("./src/reddit/selectors/activeModalId.ts"),E=s("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),f=s("./src/reddit/selectors/inFeedChaining.ts"),y=s("./src/reddit/selectors/moderatorPermissions.ts"),j=s("./src/reddit/selectors/monthsToMinutes.ts"),w=s("./src/reddit/selectors/posts.ts"),I=s("./src/reddit/selectors/user.ts"),P=s("./src/lib/classNames/index.ts"),T=s("./src/reddit/components/AdLinkWrapper/index.tsx"),k=s("./src/reddit/components/CallToActionButton/index.tsx"),S=s("./src/reddit/components/CompactPost/HorizontalVotes/index.tsx"),_=s("./src/reddit/components/DiscoveryUnit/InFeedChaining/Loader.tsx"),N=s("./src/reddit/components/EventPost/EventMetaHeader/index.tsx"),L=s("./src/reddit/components/Flatlist/index.tsx"),M=s("./src/reddit/components/Governance/Proposal/index.tsx"),R=s("./src/reddit/components/Governance/Proposal/NoProposalError/index.tsx"),B=s("./src/reddit/components/JSAPIContainers/index.tsx"),A=s("./src/reddit/components/ModModeReports/index.tsx"),F=s("./src/reddit/components/ModModeReports/helpers.ts"),D=s("./src/reddit/components/PostBackgroundWrapper/index.tsx"),W=s("./src/reddit/components/PostContainer/index.tsx"),H=s("./src/reddit/components/PostLeftRail/index.tsx"),V=s("./src/reddit/components/PostMedia/index.tsx"),U=s("./src/reddit/components/PostOverflowMenu/index.tsx"),K=s("./src/reddit/i18n/components.tsx"),G=s("./src/reddit/icons/fonts/Sticky/index.tsx"),z=s("./src/reddit/components/PostPinnedHeader/index.m.less"),J=s.n(z);var q=()=>o.a.createElement("div",{className:J.a.container},o.a.createElement(G.a,{className:J.a.pinnedIcon}),o.a.createElement("span",{className:J.a.metaText},o.a.createElement(K.c,null,"pinned by moderators"))),Y=s("./src/reddit/components/PostTitle/index.tsx"),Q=s("./src/reddit/components/PostTopLine/index.tsx"),Z=s("./src/reddit/components/SourceLink/index.tsx"),X=s("./src/reddit/components/VerticalVotes/index.tsx"),$=s("./src/reddit/contexts/InsideOverlay.tsx"),ee=s("./src/reddit/contexts/PageLayer/index.tsx"),te=s("./src/reddit/controls/Checkbox/index.tsx"),se=s("./src/reddit/controls/OutboundLink/styled.tsx"),ne=s("./src/reddit/helpers/isCrosspost.ts"),oe=s("./src/reddit/helpers/postEvent.ts"),re=s("./src/reddit/selectors/experiments/pinnedPosts.ts"),ae=s("./src/reddit/constants/experiments.ts"),ie=s("./src/reddit/helpers/chooseVariant/index.ts"),ce=s("./src/reddit/helpers/getRichTextContent.ts");const de=Object(a.a)(w.O,e=>e.some(ce.c)),le=Object(a.a)(de,e=>e),me=(e,t)=>Object(ie.c)(e,{experimentName:ae.B,experimentEligibilitySelector:e=>{const{listingKey:s}=t;return!!s&&le(e,{listingKey:s})}});var pe=s("./src/reddit/selectors/postFlair.ts"),ue=s("./src/reddit/helpers/styles/mixins/index.m.less"),he=s.n(ue),be=s("./src/reddit/components/LargePost/index.m.less"),ge=s.n(be);s.d(t,"b",(function(){return Ee}));const xe=(e,t)=>{const{listingKey:s}=t;return s?Object(w.O)(e,{listingKey:s}):void 0},Ce=(e,t)=>{const{listingKey:s}=t;return s?Object(w.C)(e,{listingKey:s}):void 0},ve=Object(r.b)(()=>Object(a.c)({autoplayPref:I.b,activeModalId:O.a,currentUser:I.i,hideNSFWPref:I.z,flairStyleTemplate:ee.Q,isCurrentUserProfilePost:w.h,isFrontpageHome:j.g,isM2MHomeRedirectEnabled:E.c,language:I.S,isActive:w.g,isPostChainDismissed:f.c,isPostChained:f.d,moderatorPermissions:y.i,modModeEnabled:ee.O,pinnedPostVariant:re.c,poll:(e,t)=>{const s=e.posts.metaMap[t.postId];return s?e.polls.models[s]:null},pollResult:(e,t)=>{const s=e.posts.metaMap[t.postId];return s?e.polls.results.byVoters[s]:null},post:w.J,posts:xe,postHeightVariant:me,postIds:Ce,showEditFlair:pe.a,subredditOrProfile:w.U,userIsOp:I.jb}),(e,t)=>{let{listingKey:s,listingName:n,postId:o}=t;return{chainPost:()=>{n&&s&&e(Object(u.d)({listingKey:s,listingName:n,postId:o}))},handleVote:t=>{const s=t===v.a.upvoted?Object(h.N)(o):Object(h.o)(o);e(s)},onIgnoreReports:()=>e(Object(h.L)(o)),onOpenReportsDropdown:t=>e(Object(b.g)({tooltipId:t}))}}),Oe=(e,t)=>{const s=Date.now()-i.Vb;return!!(e&&t.created&&t.created<s)},Ee=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{},a=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0;const c="upvote-button-".concat(e.id);return o.a.createElement(H.b,{isRemoved:!!e.bannedBy,isReported:Object(m.a)(e),isSponsored:e.isSponsored,redditStyle:i},s&&o.a.createElement(te.a,{isCheckboxSelected:n,toggleCheckbox:r}),o.a.createElement(X.a,{flairStyleTemplate:a,model:e,onVoteClick:t,redditStyle:i,upvoteTooltipId:c}))};t.a=ve(Object($.b)(e=>{const{autoplayPref:t,availableWidth:s,chainPost:n,className:r,currentUser:a,eventFactory:i,flairStyleTemplate:m,forceLoadMedia:u,hideNSFWPref:h,inSubredditOrProfile:b=!1,isCommentsPage:v,isCurrentUserProfilePost:O,isFrontpage:E,isFrontpageHome:f,isM2MHomeRedirectEnabled:y,isOverlay:j,isPostChainDismissed:w,isPostChained:I,language:K,listingKey:G,listingName:z,moderatorPermissions:J,modModeEnabled:X,onClickPost:$,onIgnoreReports:ee,onOpenReportsDropdown:te,poll:ie,pollResult:ce,post:de,postHeightVariant:le,scrollerItemRef:me,showEditFlair:pe,subredditOrProfile:ue,userIsOp:be}=e,xe=!!e.redditStyle||!!e["data-redditstyle"],Ce=xe?void 0:m,ve=Object(l.a)(J),fe=X&&ve,ye=Object(d.a)(J),je=Object(F.c)(de),we=!!de.media&&de.media.type===g.n.RTJSON,Ie=be&&we,Pe=s?s-H.a:void 0,Te=!!ce&&!!Object.keys(ce.options).filter(e=>ce.options[e].userSelected).length,ke=!(E&&f),Se=(e=>e===ae.ob.OnlyTitles)(le)&&!Object(ne.a)(de),_e=(e=>e===ae.ob.MediumHeight)(le)&&!Object(ne.a)(de),Ne=(e=>{const{pinnedPostVariant:t,post:s,postIds:n,posts:o}=e,r=Object(re.a)(t),a=Object(re.b)(t);if(!r&&!a||!Object(C.k)(s))return;const i=Oe(a,s),c=r||i,d=n&&0===n.indexOf(s.id),l=n&&1===n.indexOf(s.id),m=o&&o[0],p=m&&Oe(a,m),u=c||l&&p,h=o&&o[1]&&Object(C.k)(o[1]),b=c&&d;return{hasTopCompactPostStyles:b&&h,hasBottomCompactPostStyles:c&&l||p&&l,hideStickiedTooltip:u,isCompactPinnedPost:c,showPinnnedHeader:b}})(e),Le=o.a.createElement(W.a,{className:Object(P.a)(ge.a.container,r,he.a.largeAndMediumPostStyles,he.a.largeAndMediumActiveStyles,Object(p.a)(e),{[he.a.mUseRedditTheme]:xe,promotedvideolink:de.isSponsored&&!(de.media&&g.a.has(de.media.type)),[ge.a.topCompactPost]:Ne&&Ne.hasTopCompactPostStyles,[ge.a.bottomCompactPost]:Ne&&Ne.hasBottomCompactPostStyles}),isOverlay:j,style:Object(p.b)(e.flairStyleTemplate),post:de,onClick:$,onPostContentClick:n,eventFactory:i},Ee(de,e.handleVote,e.showBulkActionCheckbox,e.isCheckboxSelected,e.toggleCheckbox,Ce,xe),o.a.createElement(D.a,{className:Object(P.a)(ge.a.backgroundWrapper,{[ge.a.isEvent]:Object(oe.a)(de)}),"data-click-id":"background",flairStyleTemplate:Ce,post:de,redditStyle:xe},o.a.createElement(N.a,{post:de,language:K}),Ne&&Ne.showPinnnedHeader&&o.a.createElement(q,null),o.a.createElement(Q.a,{className:ge.a.postTopLine,hideNSFWPref:h,iconClassName:ge.a.postTopLineIcon,inSubredditOrProfile:b,isCommentsPage:!!v,isCompactPinnedPost:Ne&&Ne.hideStickiedTooltip,isCurrentUserProfilePost:O,isOverlay:!!j,language:K,post:de,shouldShowSubscribeButton:ke,showSubreddit:!b&&!de.isSponsored,showSubredditIcon:!0,subredditOrProfile:ue}),o.a.createElement(Y.c,{className:ge.a.postTitle,post:de,redditStyle:xe,size:Y.b.Large,titleColor:Ce&&Ce.postTitleColor,isM2MHomeRedirectEnabled:y,isOverlay:j}),de.source&&!de.isSponsored&&o.a.createElement(Z.a,{className:ge.a.sourceLink,post:de}),o.a.createElement("div",{className:Object(P.a)(ge.a.postMediaWrapper,{[ge.a.votedContent]:Te})},(!Ne||!Ne.isCompactPinnedPost)&&o.a.createElement(V.a,{isListing:!0,isMediumHeight:_e,isNotCardView:!!j,isTitleOnly:Se,showCentered:!0,flairStyleTemplate:Ce,post:de,availableWidth:Pe,shouldLoad:u,scrollerItemRef:me,autoplayPref:t})),ie&&o.a.createElement(M.a,{className:Object(P.a)(ge.a.proposal,{[ge.a.hasNotVoted]:!ce||!Object(x.e)(ie,ce)}),pollId:ie.id,subredditId:de.belongsTo.id}),de.isMeta&&!ie&&o.a.createElement(R.a,{className:ge.a.noProposal}),de.source&&de.source.url&&de.isSponsored&&o.a.createElement(T.a,{className:ge.a.adLinkWrapper},o.a.createElement(se.a,{href:de.source.url.replace(c.a.redditUrl,""),isSponsored:de.isSponsored,source:de.source},de.source.displayText),de.callToAction&&o.a.createElement(k.a,{href:de.source.url.replace(c.a.redditUrl,""),isSponsored:de.isSponsored,source:de.source},de.callToAction)),X&&ve&&je&&o.a.createElement(A.a,{language:K,onIgnoreReports:ee,reportable:de}),o.a.createElement(B.d,{postId:de.id}),o.a.createElement("div",{className:ge.a.flatListContainer},o.a.createElement(S.a,{className:ge.a.horizontalVotes,compact:!1,flairStyleTemplate:Ce,model:de,onVoteClick:e.handleVote}),o.a.createElement(L.c,{currentUser:a,hasModFlairPerms:ye,hasModPostPerms:ve,isLargePost:!0,isOverlay:!!j,language:K,modModeEnabled:X,onIgnoreReports:ee,onOpenReportsDropdown:te,post:de,showEditPost:Ie,showEditFlair:pe,useFlatlistBreakpoints:Object(U.h)({editPost:!1,save:!fe,hide:!1,report:!1})}))));return o.a.createElement(o.a.Fragment,null,Le,I&&!w&&o.a.createElement(_.a,{className:ge.a.chain,listingKey:G,listingName:z,postId:de.id}))}))},"./src/reddit/components/LargePost/placeholder.m.less":function(e,t,s){e.exports={content:"_1yYeg-XN7v7i06TrK8Lh13",emptyVerticalVotes:"_3Qm3gV6v4Y9YWuQgCqMvJr",emptyScore:"y9vamInQ4LrXndusvhkBl",topLine:"_3QuUl4wSXyqVEAkIgGaLXl",topMetaOne:"_3vDeGQp8VifbnDC95HagCL",topMetaTwo:"Nci_4K-inwrSvpM-HSgWy",title:"_1QxTngAAL4xURgv5RVNOq1",media:"_2cFr_UVzM0pQGvZVL2Pmx5",flatlist:"_33_7mRxP4egdr8CL9OMSdb",flatlistItemOne:"_EVV9UvUf3cYf-HtTUL33",flatListItemTwo:"_2Ovk4TwuzZDamFhAj_X5Nl",bottomMeta:"_3Yno3UEEUpbfXOklgaEf27",postActionBar:"_3-iHWkhaRqC0JmCwckFVg1",postActionButton:"_314KvlynGyTcpUjSXckrbY",long:"_3EpUFkJ6GGzK-aVzndYmTT"}},"./src/reddit/components/LinkOrOverlayLink/index.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-router-dom/esm/react-router-dom.js"),a=s("./src/reddit/controls/UnstyledInternalLink/index.tsx"),i=s("./src/reddit/helpers/overlay/index.ts");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var d=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s},l=e=>{const{children:t,className:s,to:n}=e,r=d(e,["children","className","to"]),l=Object(i.b)(n);return o.a.createElement(a.a,c({className:s,to:l},r),t)};function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var p=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};t.a=e=>{const{isOverlay:t}=e,s=p(e,["isOverlay"]),n=t?l:r.a;return o.a.createElement(n,m({},s,{children:s.children,className:s.className,onClick:s.onClick,to:s.to}))}},"./src/reddit/components/ListingPostList/index.tsx":function(e,t,s){"use strict";var n=s("./src/reddit/components/PostList/index.tsx"),o=s("./src/reddit/connectors/PostList/index.ts");t.a=Object(o.a)(n.a)},"./src/reddit/components/M2M/HomeUpsellBanner/index.m.less":function(e,t,s){e.exports={container:"_2G5of74buLKKF1dS4x6IoA",border:"_2YO0TITW9xRlNDao69MsiU",line:"_4bOmNzC1_4BRrPDxBbnAN",layout:"_3UIdLVrftJ71FXSaPhJyVS",image:"_3M1pfamWS8Lw2VXrgbavha",snoo:"_2sb-teu23AhOMfNAKC3qoa",text:"_2roBErbdJWIJXvS6s4p-yP",homeTitle:"_1IEpq4IWE2e9TLSs2mnm5V",homeDescription:"_2uW5PN5bw5INtwsywZCpVb",seeMore:"_9HPppEn9FG4g69hhXI0-U"}},"./src/reddit/components/M2M/SidebarPostFeed/index.m.less":function(e,t,s){e.exports={subredditTitle:"SyzlGcMiQQXEyjzU1jbX0",subredditLink:"_2e7tdHMEHAQEPE6vBnwScn",footer:"_1UmEMTtjhg9-uGRTGr_4Vt"}},"./src/reddit/components/MediumPost/index.m.less":function(e,t,s){e.exports={mainBody:"yn9v_hQEhjlRNZI0xspbA",modModeReports:"_3RpVs_MuohyWxfQ8DMI1hz",postTitle:"_2wImphGg_1LcEF5MiErvRx",subscribeButton:"_2as7ZiIO6VQmOoNUm62veu",thumbnailContainer:"_17nmfaMf1Rq20sVfEmle0O",mShowingButtonOrOverflow:"yIt5UPS176eVebNGNRQtf",content:"_32pB7ODBwG3OSx1u_17g58",horizontalVotes:"_1Lt8O-wG_BSSv9bpz5gmwV",flatlistContainer:"XrvmOG7SxKlAJj71Fwi2y",backgroundWrapper:"_2uazWzYzM0Qndpz5tFu3EX",container:"_3xuFbFM3vrCqdGuKGhhhn0",leftPadding:"i7Fs9tR9IvW9lWlOG_yrY",chain:"vLpzNkGe1yVXuRgtBVQWk",thumbnailContainerRow:"ly1p6kYBCM7ZqoRjGeAhw",postOverflow:"x4YOGJe9jA6wgzmbyKZK0",postSource:"_2BgmOVmNwratQ_mDI9DaHR"}},"./src/reddit/components/MediumPost/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return ee}));s("./node_modules/core-js/modules/es6.regexp.replace.js");var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/config.ts"),c=s("./src/lib/classNames/index.ts"),d=s("./src/reddit/actions/inFeedChaining.ts"),l=s("./src/reddit/actions/post.ts"),m=s("./src/reddit/actions/tooltip.ts"),p=s("./src/reddit/components/AdLinkWrapper/index.tsx"),u=s("./src/reddit/components/CallToActionButton/index.tsx"),h=s("./src/reddit/components/CompactPost/HorizontalVotes/index.tsx"),b=s("./src/reddit/components/DiscoveryUnit/InFeedChaining/Loader.tsx"),g=s("./src/reddit/components/FlairWrapper/index.tsx"),x=s("./src/reddit/components/Flatlist/index.tsx"),C=s("./src/reddit/components/JSAPIContainers/index.tsx"),v=s("./src/reddit/components/LargePost/index.tsx"),O=s("./src/reddit/components/ModModeReports/index.tsx"),E=s("./src/reddit/components/ModModeReports/helpers.ts"),f=s("./src/reddit/components/PostBackgroundWrapper/index.tsx"),y=s("./src/reddit/components/PostContainer/index.tsx"),j=s("./src/reddit/components/PostOverflowMenu/index.tsx"),w=s("./src/reddit/components/PostTitle/index.tsx"),I=s("./src/reddit/components/PostTopLine/index.tsx"),P=s("./src/reddit/components/PostTopMeta/index.tsx"),T=s("./src/reddit/components/SourceLink/index.tsx"),k=s("./src/reddit/components/SubscribeButton/Inline.tsx"),S=s("./src/reddit/components/Thumbnail/index.tsx"),_=s("./src/reddit/constants/posts.ts"),N=s("./src/reddit/contexts/InsideOverlay.tsx"),L=s("./src/reddit/contexts/PageLayer/index.tsx"),M=s("./src/reddit/controls/OutboundLink/styled.tsx"),R=s("./src/reddit/helpers/canRenderThumbnail.ts"),B=s("./src/reddit/helpers/hasModFlairPermissions/index.ts"),A=s("./src/reddit/helpers/hasModPostPermissions/index.ts"),F=s("./src/reddit/helpers/styles/mixins/index.tsx"),D=s("./src/reddit/helpers/trackers/post.ts"),W=s("./src/reddit/models/Subreddit/index.ts"),H=s("./src/reddit/models/Vote/index.ts"),V=s("./src/reddit/selectors/experiments/categories.ts"),U=s("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),K=s("./src/reddit/selectors/inFeedChaining.ts"),G=s("./src/reddit/selectors/moderatorPermissions.ts"),z=s("./src/reddit/selectors/monthsToMinutes.ts"),J=s("./src/reddit/selectors/postFlair.ts"),q=s("./src/reddit/selectors/posts.ts"),Y=s("./src/reddit/selectors/user.ts"),Q=s("./src/reddit/helpers/styles/mixins/index.m.less"),Z=s.n(Q),X=s("./src/reddit/components/MediumPost/index.m.less"),$=s.n(X);const ee=e=>{let{crosspost:t,post:s,forceShowNSFW:n,redditStyle:r,shouldShowSubscribeButton:a,subredditOrProfile:i,templatePlaceholderImage:d}=e;return o.a.createElement("div",{className:Object(c.a)($.a.thumbnailContainer,{[$.a.mShowingButtonOrOverflow]:a})},o.a.createElement("div",{className:$.a.thumbnailContainerRow},a&&i&&o.a.createElement(k.a,{className:$.a.subscribeButton,getEventFactory:e=>Object(D.d)(s.id,e?"unsubscribe":"subscribe"),identifier:{name:i.name,type:Object(W.d)(i)?_.a.PROFILE:_.a.SUBREDDIT},postId:s.id})),o.a.createElement(S.a,{crosspost:t,post:s,redditStyle:r,forceShowNSFW:n,templatePlaceholderImage:d}))},te=Object(r.b)(()=>Object(a.c)({crosspost:q.c,currentUser:Y.i,flairStyleTemplate:L.Q,hideNSFWPref:Y.z,isActive:q.g,isCurrentUserProfilePost:q.h,isFrontpageHome:z.g,isM2MHomeRedirectEnabled:U.c,isPostChainDismissed:K.c,isPostChained:K.d,language:Y.S,moderatorPermissions:G.i,modModeEnabled:L.O,post:q.J,showEditFlair:J.a,showMedia:L.r,isInCategoriesExperiment:V.a,subredditOrProfile:q.U}),(e,t)=>{let{listingKey:s,listingName:n,postId:o}=t;return{chainPost:()=>{n&&s&&e(Object(d.d)({listingKey:s,listingName:n,postId:o}))},handleVote:t=>t===H.a.upvoted?e(Object(l.N)(o)):e(Object(l.o)(o)),onIgnoreReports:()=>e(Object(l.L)(o)),onOpenReportsDropdown:t=>e(Object(m.g)({tooltipId:t}))}});t.b=te(Object(N.b)(e=>{const{chainPost:t,className:s,crosspost:n,currentUser:r,eventFactory:a,flairStyleTemplate:d,hideNSFWPref:l,inSubredditOrProfile:m=!1,isCheckboxSelected:k,isCommentsPage:S,isCurrentUserProfilePost:_,isFrontpage:N,isFrontpageHome:L,isM2MHomeRedirectEnabled:D,isOverlay:W,isPostChainDismissed:H,isPostChained:V,language:U,listingKey:K,listingName:G,moderatorPermissions:z,modModeEnabled:J,onClickPost:q,onIgnoreReports:Y,onOpenReportsDropdown:Q,post:X,redditStyle:te,showBulkActionCheckbox:se,showEditFlair:ne,showMedia:oe,sendEvent:re,subredditOrProfile:ae,toggleCheckbox:ie}=e,ce=te?void 0:d,de=Object(A.a)(z),le=J&&de,me=Object(B.a)(z),pe=Object(E.c)(X),ue=Object(R.a)(X),he=m&&!oe,be=he&&!!X.source&&!n,ge=!(N&&L||_),xe=o.a.createElement(y.a,{className:Object(c.a)($.a.container,s,Z.a.largeAndMediumPostStyles,Z.a.largeAndMediumActiveStyles,Object(F.a)(e),{[Z.a.mUseRedditTheme]:e.redditStyle||e["data-redditstyle"]}),isOverlay:W,style:Object(F.b)(e.flairStyleTemplate),post:X,onClick:q,onPostContentClick:t,eventFactory:a},Object(v.b)(X,e.handleVote,se,k,ie,ce,te),o.a.createElement(f.a,{className:$.a.backgroundWrapper,"data-click-id":"background",flairStyleTemplate:ce,post:X,redditStyle:te},o.a.createElement("article",{className:$.a.mainBody},o.a.createElement("div",{className:$.a.content,"data-click-id":"body"},o.a.createElement(I.a,{className:$.a.postTopLine,hideNSFWPref:l,iconClassName:$.a.postTopLineIcon,inSubredditOrProfile:m,isCommentsPage:S,isCurrentUserProfilePost:_,isOverlay:!!W,language:U,post:X,shouldShowSubscribeButton:!1,showCornerOutboundLink:be,showSubreddit:!m&&!X.isSponsored,showSubredditIcon:!0,subredditOrProfile:ae}),o.a.createElement(w.c,{className:$.a.postTitle,post:X,redditStyle:te,size:w.b.Large,titleColor:ce&&ce.postTitleColor,isM2MHomeRedirectEnabled:D,isOverlay:W}),S&&(X.flair&&X.flair.length>0||e.isInCategoriesExperiment)&&o.a.createElement(g.a,{className:S?$.a.leftPadding:null,disableFlair:!S,post:X,sendEvent:re,showCategoryTag:e.isInCategoriesExperiment&&S}),X.source&&!X.isSponsored&&!n&&o.a.createElement(T.a,{className:$.a.sourceLink,isCommentsPage:S,post:X})),!he&&ue&&o.a.createElement(ee,{crosspost:n?X:void 0,hasModPostPerms:de,isCommentsPage:S,isOverlay:W,modModeEnabled:J,post:n||X,redditStyle:te,shouldShowSubscribeButton:ge&&!m,subredditOrProfile:ae,templatePlaceholderImage:ce&&ce.postPlaceholderImage})),X.source&&X.source.url&&X.isSponsored&&o.a.createElement(p.a,{className:$.a.adLinkWrapper},o.a.createElement(M.a,{href:X.source.url.replace(i.a.redditUrl,""),isSponsored:X.isSponsored,source:X.source},X.source.displayText),X.callToAction&&o.a.createElement(u.a,{href:X.source.url.replace(i.a.redditUrl,""),isSponsored:X.isSponsored,source:X.source,isNotCardView:!0},X.callToAction)),J&&de&&pe&&o.a.createElement(O.a,{className:$.a.modModeReports,language:U,onIgnoreReports:Y,reportable:X}),o.a.createElement(C.d,{postId:X.id}),o.a.createElement("div",{className:$.a.flatlistContainer},o.a.createElement(h.a,{className:$.a.horizontalVotes,compact:!1,flairStyleTemplate:ce,redditStyle:te,model:X,onVoteClick:e.handleVote}),o.a.createElement(x.c,{currentUser:r,hasModFlairPerms:me,hasModPostPerms:de,isOverlay:!!W,language:U,modModeEnabled:J,onIgnoreReports:Y,onOpenReportsDropdown:Q,post:X,showEditFlair:ne,tooltipType:W?P.c.Lightbox:void 0,useFlatlistBreakpoints:Object(j.h)({editPost:!le,save:!le,hide:!1,report:!1})}))));return o.a.createElement(o.a.Fragment,null,xe,V&&!H&&o.a.createElement(b.a,{className:$.a.chain,listingKey:K,listingName:G,postId:X.id}))}))},"./src/reddit/components/MiniCardPost/Flatlist/index.m.less":function(e,t,s){e.exports={flatlistContainer:"_3TV1zxvLEbF8phHfZ17hyU",shareIcon:"_2-No1ECt3Twm8oRh3GhL5T",shareMenu:"_1Y9kO8WxKheHpQbgAgYk9P",shareText:"_3ZNfZZMmSFZUWWm-nHK327",HorizontalVotes:"c9IwhuiqPbgYHi-fLlAUH",horizontalVotes:"c9IwhuiqPbgYHi-fLlAUH",score:"_3O9hIPB_M3zadlrD7rXaEG",ShareButton:"_3VIaRwebVBflQjPct1Wz6l",shareButton:"_3VIaRwebVBflQjPct1Wz6l"}},"./src/reddit/components/MiniCardPost/MetaLine/index.m.less":function(e,t,s){e.exports={container:"_35Bx3s8VlFspHwPlg1MaHt",subredditNameLink:"_20yDd2SHTuiJkQnTV4zehJ",subredditIcon:"_32Ni_aGBoPzRxNSy5eC_ck",CrosspostIcon:"y4hzYjyQqdKpwuDyNnLeW",crosspostIcon:"y4hzYjyQqdKpwuDyNnLeW"}},"./src/reddit/components/MiniCardPost/MetaLine/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/app/strings/index.ts"),a=s("./src/lib/classNames/index.ts"),i=s("./src/reddit/components/QuarantinedLabel/index.tsx"),c=s("./src/reddit/components/SubredditIcon/index.tsx"),d=s("./src/reddit/components/SubredditNameLink/index.tsx"),l=s("./src/reddit/helpers/name/index.ts"),m=s("./src/reddit/icons/fonts/Crosspost/index.tsx"),p=s("./src/reddit/components/MiniCardPost/MetaLine/index.m.less"),u=s.n(p);const h=s("./src/lib/lessComponent.tsx").a.wrapped(m.a,"CrosspostIcon",u.a);t.a=e=>{const{className:t,crosspostSubredditOrProfile:s,hideNSFWPref:n,language:m,post:p,subredditOrProfile:b}=e;return o.a.createElement("div",{className:Object(a.a)(u.a.container,t)},o.a.createElement(d.a,{className:u.a.subredditNameLink,onMouseDown:e.onCommunityClick,to:b.url},o.a.createElement(c.b,{className:u.a.subredditIcon,shouldHideNsfwIcon:n,subredditOrProfile:b}),o.a.createElement("span",null,b.displayText)),((e,t,s)=>{if(s)return o.a.createElement("div",{role:"img","aria-label":Object(r.a)(e,"posts.crosspostedByFrom",{by:Object(l.c)(t),from:s.displayText})},o.a.createElement(h,null))})(m,p.author,s),b&&b.isQuarantined&&o.a.createElement(i.a,null))}},"./src/reddit/components/MiniCardPost/Thumbnail/index.m.less":function(e,t,s){e.exports={container:"_1HoOlmppFDBC4s5XWY-Qcd",thumbnail:"_1XZerRCUnHmbtEN1gqPwnw",thumbnailContainer:"_3fS9xUAmm4zWkzfM1ce7Jk",thumbnailLinkIcon:"_2JCMpuchwaEmL9S0QsJ9Ok",thumbnailLinkText:"_2vJWD7kgxbAQRGL328NxHg",thumbnailOutboundLinkIcon:"_4GTpE-l9TNXVeix3ZOE-_"}},"./src/reddit/components/MiniCardPost/Thumbnail/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/components/Thumbnail/index.tsx"),i=s("./src/reddit/components/MiniCardPost/Thumbnail/index.m.less"),c=s.n(i);t.a=e=>{const{source:t}=e.post;return o.a.createElement("div",{className:Object(r.a)(c.a.container,e.className)},o.a.createElement(a.a,{className:Object(r.a)(c.a.thumbnail,e.thumbnailClassName),containerClassName:Object(r.a)(c.a.thumbnailContainer,e.thumbnailContainerClassName),linkIconClassName:Object(r.a)(c.a.thumbnailLinkIcon,e.thumbnailLinkIconClassName),linkTextClassName:c.a.thumbnailLinkText,outboundLinkIconClassName:c.a.thumbnailOutboundLinkIcon,post:e.post,showContentType:e.showPlaceholderContentType,templatePlaceholderImage:e.templatePlaceholderImage,text:t?t.url:"",usePreview:e.usePreview}))}},"./src/reddit/components/MiniCardPost/index.m.less":function(e,t,s){e.exports={flexSpacer:"_3FMwep96W9D-wkC9u2Pc0L",backgroundWrapper:"_2yVioz8mzc0YBV2JyNXzRj",innerContainer:"_3mrITcnODXcvMf9oonBXeD",metaLine:"_20xUo-97VDWkydk8rn74dR",media:"_1qlC_L_v_Aher9NBsvBIMR",mediaWrapper:"_1UmG626eNsebZt_eyKdDL4",postTitleCompact:"_3wSK3_gZiuaUZtqPKu9z3M",mediaImageBox:"Xqhz61TRPUo_ek11O2hcV",mediaImageBoxContentImage:"_2t6Z9GgOnrWn2b5Ndv_T5K",postContainer:"_3Ud8ZDEFc0kXFg6R9KhDPS"}},"./src/reddit/components/MiniCardPost/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/lib/CSSVariableProvider/withTheme.tsx"),d=s("./src/lib/isUrl/index.ts"),l=s("./src/reddit/actions/post.ts"),m=s("./src/reddit/actions/postFlair.ts"),p=s("./src/reddit/actions/tooltip.ts"),u=s("./src/reddit/components/JSAPIContainers/index.tsx"),h=s("./src/reddit/components/Media/index.tsx"),b=s("./src/reddit/components/PostBackgroundWrapper/index.tsx"),g=s("./src/reddit/components/PostContainer/index.tsx"),x=s("./src/reddit/components/PostFlairPicker/index.tsx"),C=s("./src/reddit/components/PostTitle/index.tsx"),v=s("./src/reddit/contexts/PageLayer/index.tsx"),O=s("./src/reddit/helpers/hasModFlairPermissions/index.ts"),E=s("./src/reddit/helpers/hasModPostPermissions/index.ts"),f=s("./src/reddit/helpers/styles/mixins/index.tsx"),y=s("./src/reddit/models/Media/index.ts"),j=s("./src/reddit/models/Vote/index.ts"),w=s("./src/reddit/selectors/activeModalId.ts"),I=s("./src/reddit/selectors/moderatorPermissions.ts"),P=s("./src/reddit/selectors/postFlair.ts"),T=s("./src/reddit/selectors/posts.ts"),k=s("./src/reddit/selectors/user.ts"),S=s("./src/reddit/components/CommentsLink/index.tsx"),_=s("./src/reddit/components/CompactPost/HorizontalVotes/index.tsx"),N=s("./src/reddit/components/Flatlist/index.tsx"),L=s("./src/reddit/components/ModActionsMenu/index.tsx"),M=s("./src/reddit/components/PostModModeDropdown/index.tsx"),R=s("./src/reddit/components/PostOverflowMenu/index.tsx"),B=s("./src/reddit/components/ShareMenu/index.tsx"),A=s("./src/reddit/components/TrackingHelper/index.tsx"),F=s("./src/reddit/constants/postLayout.ts"),D=s("./src/reddit/helpers/trackers/post.ts"),W=s("./src/reddit/i18n/components.tsx"),H=s("./src/reddit/icons/fonts/Share/index.tsx"),V=s("./src/reddit/models/User/index.ts"),U=s("./src/reddit/components/MiniCardPost/Flatlist/index.m.less"),K=s.n(U),G=s("./src/lib/lessComponent.tsx");const z="-MiniCardModMenu",J="-MiniCardOverflowMenu",q="-MiniCardShareMenu",Y=G.a.wrapped(_.a,"HorizontalVotes",K.a),Q=G.a.button("ShareButton",K.a),Z=Object(v.t)({currentProfileName:v.h,isCommentPermalink:v.v,isCommentsPage:v.w,isProfilePostListing:v.I,pageLayer:e=>e}),X=Object(a.c)({layout:v.M,subreddit:v.q});var $=Z(Object(r.b)(X,{})(Object(A.b)(e=>{const{currentProfileName:t,className:s,currentUser:n,handleVote:r,hasModFlairPerms:a,hasModPostPerms:c,isCommentsPage:d,isCommentPermalink:l,isOverlay:m,isProfilePostListing:p,isSticky:u,language:h,layout:b,modModeEnabled:g,onCommentsClick:x,post:C,sendEvent:v,showEditFlair:O,showEditPost:E,subreddit:f}=e,y=e=>v(Object(D.d)(C.id,e)),j=C.postId,w=Object(N.d)(z,C.id,m,u),I=!!n&&Object(V.f)(n)===C.author;return o.a.createElement("div",{className:Object(i.a)(K.a.flatlistContainer,s)},o.a.createElement(Y,{compact:!1,model:C,onVoteClick:r,scoreClassName:K.a.score}),o.a.createElement(S.a,{hasModPostPerms:c,isCommentsPage:d,isCommentPermalink:l,isOverlay:m,postId:C.id,modModeEnabled:g,numComments:C.numComments,type:F.g.Compact,onClick:x}),o.a.createElement(B.a,{className:K.a.shareMenu,dropdownId:Object(N.d)(q,C.id,m,u),permalink:C.permalink,post:C,sendEventWithName:y,subreddit:f},o.a.createElement(Q,null,o.a.createElement(H.a,{className:K.a.shareIcon}),o.a.createElement("span",{className:K.a.shareText},o.a.createElement(W.c,null,"share")))),c&&o.a.createElement(L.a,{dropdownId:w,onClick:()=>y("post_mod_action_menu")},o.a.createElement(N.b,{className:K.a.modActionsIcon}),o.a.createElement(M.a,{canEditFlair:a&&!!O,hasModPostPerms:c,isOverlay:!!m,isPostAuthor:I,language:h,modModeEnabled:g,post:C,tooltipId:w})),o.a.createElement(R.g,{currentProfileName:t,isCommentsPage:d,isOverlay:!!m,isProfilePostListing:p,layout:b,pageLayer:e.pageLayer,permalink:C.permalink,postId:j,dropdownId:Object(N.d)(J,C.id,m,u),isFixed:u,sendEvent:v,showEditPost:!!E,showEditFlair:!!O,useFlatlistBreakpoints:Object(R.h)({editPost:!1,save:!1,hide:!1,report:!1})}))}))),ee=s("./src/reddit/components/MiniCardPost/MetaLine/index.tsx"),te=s("./src/reddit/components/MiniCardPost/Thumbnail/index.tsx"),se=s("./src/reddit/helpers/styles/mixins/index.m.less"),ne=s.n(se),oe=s("./src/reddit/components/MiniCardPost/index.m.less"),re=s.n(oe);s.d(t,"a",(function(){return ie}));const ae=Object(v.t)(),ie=Object(r.b)(()=>Object(a.c)({activeModalId:w.a,autoplayPref:k.b,crosspostRoot:T.c,crosspostSubredditOrProfile:T.d,currentUser:k.i,flairStyleTemplate:v.Q,hideNSFWPref:k.z,isActive:T.g,language:k.S,moderatorPermissions:I.i,modModeEnabled:v.O,post:T.J,showEditFlair:P.a,subredditOrProfile:T.U,userIsOp:k.jb}),(e,t)=>{let{postId:s}=t;return{dispatchFlairChanged:t=>{let{post:s,previewFlair:n,selectedTemplateId:o}=t;return e(Object(m.h)({post:s,previewFlair:n,selectedTemplateId:o}))},handleVote:t=>{const n=t===j.a.upvoted?Object(l.N)(s):Object(l.o)(s);e(n)},onIgnoreReports:()=>e(Object(l.L)(s)),onOpenReportsDropdown:t=>e(Object(p.g)({tooltipId:t}))}},(e,t,s)=>Object.assign({},s,e,t,{onFlairChanged:s=>{let{previewFlair:n,selectedTemplateId:o}=s;return t.dispatchFlairChanged({post:e.post,previewFlair:n,selectedTemplateId:o})}}));t.b=ae(ie(Object(c.a)(e=>{const{autoplayPref:t,availableWidth:s,className:n,crosspostRoot:r,crosspostSubredditOrProfile:a,currentUser:c,eventFactory:l,flairStyleTemplate:m,forceLoadMedia:p,hideNSFWPref:v,language:j,moderatorPermissions:w,modModeEnabled:I,onClickPost:P,post:T,scrollerItemRef:k,shouldPause:S,showMetaLine:_=!0,showEditFlair:N,subredditOrProfile:L,userIsOp:M}=e,{media:R}=r||T,B=R&&R.type,A=Object(x.b)(T.id),F=B===y.n.RTJSON,D=M&&F,W=Object(E.a)(w),H=Object(O.a)(w),V=R&&B!==y.n.RTJSON&&B!==y.n.TEXT,U=!R&&!!T.source&&Object(d.a)(T.source.url),K=R&&o.a.createElement(h.a,{autoplayPref:t,availableWidth:s,className:re.a.media,imageBoxClassName:re.a.mediaImageBox,imageBoxContentImageClassName:re.a.mediaImageBoxContentImage,forceAspectRatio:y.c,isListing:!0,isMiniCard:!0,isNotCardView:!0,post:r||T,scrollerItemRef:k,shouldPause:S,shouldLoad:p,showCentered:!0,showFull:!1});return o.a.createElement(g.a,{className:Object(i.a)(re.a.postContainer,ne.a.largeAndMediumActiveStyles,ne.a.largeAndMediumPostStyles,Object(f.a)(e),n),style:Object.assign({},Object(f.b)(e.flairStyleTemplate),Object(f.d)(e)),post:T,onClick:P,eventFactory:l},o.a.createElement(b.a,{className:re.a.backgroundWrapper,flairStyleTemplate:m},V&&K,o.a.createElement("div",{className:re.a.innerContainer},U&&o.a.createElement(te.a,{post:T,templatePlaceholderImage:m?m.postPlaceholderImage:void 0}),o.a.createElement(C.c,{className:re.a.postTitleCompact,disableFlair:!0,hideSourceLink:!0,post:T,size:C.b.Large,titleColor:m&&m.postTitleColor}),_&&L&&o.a.createElement(ee.a,{className:re.a.metaLine,crosspostSubredditOrProfile:a,hideNSFWPref:v,language:j,post:T,subredditOrProfile:L}),!V&&o.a.createElement("div",{className:re.a.mediaWrapper},K),o.a.createElement("div",{className:re.a.flexSpacer}),o.a.createElement($,{currentUser:c,handleVote:e.handleVote,hasModFlairPerms:H,hasModPostPerms:W,language:j,modModeEnabled:I,post:T,showEditFlair:N,showEditPost:D}))),e.activeModalId===A&&o.a.createElement(x.a,{flairs:T.flair,subredditId:T.belongsTo.id,modalId:A,onFlairChanged:e.onFlairChanged}),o.a.createElement(u.d,{postId:T.id}))})))},"./src/reddit/components/ModModeReports/index.m.less":function(e,t,s){e.exports={Text:"_1gNngyeM0l7oKkuGjoSTm",text:"_1gNngyeM0l7oKkuGjoSTm",Placeholder:"_1oYW-msczpGlYVcXmyEu9j",placeholder:"_1oYW-msczpGlYVcXmyEu9j"}},"./src/reddit/components/ModModeReports/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/higherOrderComponents/makeAsync.tsx"),a=s("./src/lib/lessComponent.tsx"),i=s("./src/lib/loadWithRetries/index.ts"),c=s("./src/reddit/i18n/components.tsx"),d=s("./src/reddit/components/ModModeReports/index.m.less"),l=s.n(d);const m=a.a.div("Text",l.a),p=a.a.div("Placeholder",l.a),u=Object(r.a)({ErrorComponent:e=>{let{className:t}=e;return o.a.createElement(p,{className:t})},getComponent:()=>Object(i.a)(()=>s.e("ModerationDropdowns").then(s.bind(null,"./src/reddit/components/ModModeReports/_ModModeReports.tsx")).then(e=>e.default)),LoadingComponent:e=>{let{className:t}=e;return o.a.createElement(p,{className:t},o.a.createElement(m,null,o.a.createElement(c.c,null,"Loading reports…")))}});t.a=e=>o.a.createElement(u,e)},"./src/reddit/components/NativeBannerAd/index.m.less":function(e,t,s){e.exports={BannerAdImage:"tk5Gqiw2uQ1xL-VWicKBG",bannerAdImage:"tk5Gqiw2uQ1xL-VWicKBG"}},"./src/reddit/components/Poll/ClosedPoll/index.m.less":function(e,t,s){e.exports={metaData:"_3NpICHyFK-vnQ5_1ZcNtNn",option:"_1YnhQ_-VBuRiYmNRfa798"}},"./src/reddit/components/Poll/OpenPoll/index.m.less":function(e,t,s){e.exports={buttonContainer:"_3vyz17dpfnySBJJyBF9IqH",loggedOutTooltip:"_3YsZUGQHAWfxmTN8wbFYPd",controlRow:"_1YKCRAHpaqTk8N5LBvZ9_A",loadingIcon:"_2RQF5_CKHRDPDOJ-TwwXFy",metaData:"_28wp7DzoykykevfZW56u3_",option:"_3nN8pAR2tWvzxcstONuzMH",optionRadio:"_1d_v-dIPu8uuwF0UTaQNmF",optionText:"_3grr_S6IK0w2iyC7Ocv5u9"}},"./src/reddit/components/Poll/ResultOption/index.m.less":function(e,t,s){e.exports={bar:"_2mybT6Ih7gVf5B6COa9kd2","m-winning":"_1kOO45KEOZraWGZ-cUgKq-",mWinning:"_1kOO45KEOZraWGZ-cUgKq-",check:"_3CF-7jBH1KihljB9AqaU04",container:"_3uG88YeFdY0J8n4v07jkf9",count:"_1VDLlB8Ys3WO8XWSZfhomw",percent:"_1Ot3PH7267obvD1i_V2D00",hide:"_3G6ZB4S9YZ26E49tE8zLJQ",show:"iV9AWdqazd5c9IHXNEQXX",text:"_3PfYu2DtunAwYpv53tmvOb"}},"./src/reddit/components/Poll/index.m.less":function(e,t,s){e.exports={title:"_3xG1v2CUdyxRoHrB7dgiFw"}},"./src/reddit/components/PostBadges/index.m.less":function(e,t,s){e.exports={icon:"_3vju76MdF2FaGmELBeiJ_r",adminIcon:"_1cje4rrmwL0yZgCOlGyBJ-",approveIcon:"_1knR9NIIXdSFC9IeFN11JL",automoderator:"_2etEb_0bRB9axAqF3uX28S",lockIcon:"_3wTfn3Meg1rXJ-qd2jUWMt",modIcon:"_SMl46gACTEszA_4A0Qfs",removedByStewards:"_1_9aRc45lZrhzy4a-RQlK7",removeIcon:"_3yuF1RnBRJL4OS_STsoXcC",reportIcon:"_3guZWUAROueft8TPPGDZ-R",spamIcon:"_2BWw37nLL0rX6n7xcXciyD",stickyIcon:"NI8uZ-19oHf9gPO8jOvFu",isRemoved:"_27iLVqax1FuPWTymkSkKAq",archivedIcon:"_2WSiH2JwZq4bXuvrDn-cgU",addRemovalReason:"COGitU-ItwLZG_fP5rsdE",removalReason:"_16Ih3bzeELRlI6AWeW-nFy"}},"./src/reddit/components/PostBadges/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./src/reddit/i18n/components.tsx"),i=s("./src/reddit/i18n/utils.ts"),c=s("./node_modules/reselect/es/index.js"),d=s("./src/app/strings/index.ts"),l=s("./src/lib/classNames/index.ts"),m=s("./src/lib/constants/index.ts"),p=s("./src/reddit/actions/removalReasons/index.ts"),u=s("./src/reddit/actions/tooltip.ts"),h=s("./src/reddit/components/InfoTextTooltip/index.tsx"),b=s("./src/reddit/components/RestrictedFlatlistButton/index.tsx"),g=s("./src/reddit/constants/posts.ts"),x=s("./src/reddit/constants/stewards.ts"),C=s("./src/reddit/contexts/PageLayer/index.tsx"),v=s("./src/reddit/helpers/isRemoved.ts"),O=s("./src/reddit/helpers/modTooltipTemplates/index.ts"),E=s("./src/reddit/helpers/showReportIndicator/index.ts"),f=s("./src/reddit/models/Post/index.ts"),y=s("./src/reddit/selectors/posts.ts"),j=s("./src/reddit/icons/fonts/Approve/index.tsx"),w=s("./src/reddit/icons/fonts/Archived/index.tsx"),I=s("./src/reddit/icons/fonts/Lock/index.tsx"),P=s("./src/reddit/icons/fonts/Remove/index.tsx"),T=s("./src/reddit/icons/fonts/Report/index.tsx"),k=s("./src/reddit/icons/fonts/Spam/index.tsx"),S=s("./src/reddit/icons/fonts/Sticky/index.tsx"),_=s("./src/reddit/icons/svgs/Automoderator/index.tsx"),N=s("./src/reddit/icons/svgs/Moderate/index.tsx"),L=s("./src/reddit/icons/svgs/Redditor/index.tsx"),M=s("./src/reddit/components/PostBadges/index.m.less"),R=s.n(M);function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const A=e=>o.a.createElement("span",B({className:R.a.removalReason},e),e.children),F=Object(d.e)("posts.archived"),D=Object(d.e)("modTools.commentsLocked"),W=Object(d.e)("modTools.moderatorOf"),H=Object(d.e)("modTools.stickiedPost"),V=Object(d.e)("modTools.pinnedPost"),U=(e,t,s)=>{const n="PostBadges--".concat(e,"--").concat(t);return s?"".concat(n,"--").concat(s):n},K=Object(C.t)({isProfilePostListing:C.I,isSubreddit:C.J,pageLayer:e=>e}),G=Object(c.c)({isPinned:(e,t)=>{let{post:s}=t;return Object(y.r)(e,{postId:s.id})},modModeEnabled:C.O}),z=Object(r.b)(G,(e,t)=>({onHideTooltip:()=>e(Object(u.h)()),onOpenRemovalReasonModal:()=>e(Object(p.d)(t.post.belongsTo.id,[t.post.id])),onShowTooltip:t=>()=>e(Object(u.f)({tooltipId:t}))}));t.a=K(z(e=>{let{className:t,displayText:s,isSubreddit:r,inSubredditOrProfile:c,isCompactPinnedPost:d,isPinned:p,isProfilePostListing:u,language:C,modModeEnabled:y,onHideTooltip:M,onOpenRemovalReasonModal:K,onShowTooltip:G,post:z,tooltipType:J}=e;const q={caretOnTop:!1},Y=z.isRemoved&&!z.modRemovalReason&&!z.modNote&&z.belongsTo.type===g.a.SUBREDDIT,Q=U("Approve",z.id,J),Z=U("Archived",z.id,J),X=U("Automod",z.id,J),$=U("Lock",z.id,J),ee=U("Mod",z.id,J),te=U("Remove",z.id,J),se=U("Report",z.id,J),ne=U("Spam",z.id,J),oe=U("Sticky",z.id,J),re=U("Pinned",z.id,J);return o.a.createElement("div",{className:t},c&&s&&z.distinguishType===m.B.MODERATOR&&o.a.createElement(n.Fragment,null,o.a.createElement(N.a,{className:R.a.modIcon,desc:W(C,{displayText:s}),id:ee,onMouseEnter:G(ee),onMouseLeave:M}),o.a.createElement(h.c,B({tooltipId:ee,text:W(C,{displayText:s})},q))),z.isArchived&&o.a.createElement(n.Fragment,null,o.a.createElement(w.a,{className:R.a.archivedIcon,desc:F(C),id:Z,onMouseEnter:G(Z),onMouseLeave:M}),o.a.createElement(h.c,B({tooltipId:Z,text:F(C)},q))),z.isLocked&&o.a.createElement(n.Fragment,null,o.a.createElement(I.a,{className:R.a.lockIcon,desc:D(C),id:$,onMouseEnter:G($),onMouseLeave:M}),o.a.createElement(h.c,B({tooltipId:$,text:D(C)},q))),r&&Object(f.k)(z)&&!d&&o.a.createElement(n.Fragment,null,o.a.createElement(S.a,{className:R.a.stickyIcon,desc:H(C),id:oe,onMouseEnter:G(oe),onMouseLeave:M}),o.a.createElement(h.c,B({tooltipId:oe,text:H(C)},q))),u&&p&&o.a.createElement(n.Fragment,null,o.a.createElement(S.a,{className:R.a.stickyIcon,desc:V(C),id:re,onMouseEnter:G(re),onMouseLeave:M}),o.a.createElement(h.c,B({tooltipId:re,text:V(C)},q))),(z.isApproved||z.approvedBy)&&o.a.createElement(n.Fragment,null,o.a.createElement(j.a,{className:R.a.approveIcon,desc:Object(O.a)(C,z),id:Q,onMouseEnter:G(Q),onMouseLeave:M}),o.a.createElement(h.c,B({tooltipId:Q,text:Object(O.a)(C,z)},q))),Object(v.a)(z)&&o.a.createElement(n.Fragment,null,o.a.createElement(P.a,{className:R.a.removeIcon,desc:Object(O.c)(C,z),id:te,onMouseEnter:G(te),onMouseLeave:M}),Y&&o.a.createElement(b.a,{className:R.a.addRemovalReason,onClick:K,text:Object(i.c)("Add a removal reason")}),(z.modRemovalReason||z.modNote)&&o.a.createElement(A,{onMouseEnter:G(te),onMouseLeave:M},o.a.createElement(a.c,null,"Removal reason")),o.a.createElement(h.c,B({tooltipId:te,text:Object(O.c)(C,z)},q))),z.bannedBy&&z.isSpam&&o.a.createElement(n.Fragment,null,o.a.createElement(k.a,{className:R.a.spamIcon,desc:Object(O.e)(C,z),id:ne,onMouseEnter:G(ne),onMouseLeave:M}),o.a.createElement(h.c,B({tooltipId:ne,text:Object(O.e)(C,z)},q))),("AutoModerator"===z.approvedBy||"AutoModerator"===z.bannedBy)&&o.a.createElement(n.Fragment,null,o.a.createElement(_.a,{className:Object(l.a)(R.a.automoderator,!!z.bannedBy&&R.a.isRemoved),desc:Object(O.b)(C),id:X,onMouseEnter:G(X),onMouseLeave:M}),o.a.createElement(h.c,B({tooltipId:X,text:Object(O.b)(C)},q))),z.bannedBy===x.a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(L.a,{className:R.a.removedByStewards,id:X,onMouseEnter:G(X),onMouseLeave:M}),o.a.createElement(h.c,B({tooltipId:X,text:Object(i.c)("Auto-removed by ".concat(Object(i.b)("name",z.bannedBy)))},q))),Object(E.a)(z)&&!y&&o.a.createElement(n.Fragment,null,o.a.createElement(T.a,{className:R.a.reportIcon,desc:Object(O.d)(C,z.numReports),id:se,onMouseEnter:G(se),onMouseLeave:M}),o.a.createElement(h.c,B({tooltipId:se,text:Object(O.d)(C,z.numReports)},q))))}))},"./src/reddit/components/PostContent/index.m.less":function(e,t,s){e.exports={content:"_3UMN4RCVY5288m_fOZlkcg",controlsContainer:"_1hwEKkB_38tIoal6fcdrt9",postNumbers:"_1svxG6WJ6vr-T9iN3rf5M6",flatlistContainer:"UPYG6UwB7XqTeGj4a4vBr",mainBody:"_3MC4c3Q_Y41YKtl1TcvyMt",leftPadding:"_1mK-LVHGTTlcFpMsjItjYJ",noProposal:"_13LHQz0igp-olmn_mDhJ7B",postContainer:"_2rszc84L136gWQrkwH6IaM",hasEventMeta:"qpc-hx5EvongRjYhe0TOO",PostTitle:"_2v9pwVh0VUYrmhoMv1tHPm",postTitle:"_2v9pwVh0VUYrmhoMv1tHPm",ExpandoButton:"_1sq8G2ap3_yMYvXINVLxFm",expandoButton:"_1sq8G2ap3_yMYvXINVLxFm",ClassicExpandoMotion:"_2w7fkGYeZk22ZtKCTcGj_T",classicExpandoMotion:"_2w7fkGYeZk22ZtKCTcGj_T",ClassicPostMedia:"_3l9ryDzeuWyQEv-5287xPH",classicPostMedia:"_3l9ryDzeuWyQEv-5287xPH",FullWidthFlatlist:"_3P3ghhoNky7Bzspbfw7--R",fullWidthFlatlist:"_3P3ghhoNky7Bzspbfw7--R",ProposalContainer:"_1a2Qb0YJU4-QdYRoANb0J-",proposalContainer:"_1a2Qb0YJU4-QdYRoANb0J-",isEditing:"_1_-TcT_H2BAsf4uFtfvDf9",LargePostMedia:"_1Ap4F5maDtT1E1YuCiaO0r",largePostMedia:"_1Ap4F5maDtT1E1YuCiaO0r",isCommentsPage:"D3IL3FD0RFy_mkKLPwL4",ClassicThumbnail:"_2yiWJ30hPmljAALgG9InUz",classicThumbnail:"_2yiWJ30hPmljAALgG9InUz",ThumbLink:"_3SCgQPuxXigmV7fEOhNHCN",thumbLink:"_3SCgQPuxXigmV7fEOhNHCN"}},"./src/reddit/components/PostContent/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/react-router-dom/esm/react-router-dom.js"),i=s("./node_modules/reselect/es/index.js"),c=s("./src/lib/classNames/index.ts"),d=s("./src/lib/lessComponent.tsx"),l=s("./src/lib/timeAgo/index.ts"),m=s("./src/reddit/helpers/canRenderThumbnail.ts"),p=s("./src/reddit/models/User/index.ts"),u=s("./src/reddit/helpers/hasModFlairPermissions/index.ts"),h=s("./src/reddit/helpers/hasModPostPermissions/index.ts"),b=s("./src/reddit/helpers/path/index.ts"),g=s("./src/reddit/helpers/trackers/lightbox.ts"),x=s("./src/reddit/helpers/trackers/post.ts"),C=s("./src/reddit/actions/post.ts"),v=s("./src/reddit/actions/tooltip.ts"),O=s("./node_modules/lodash/find.js"),E=s.n(O),f=s("./node_modules/react-motion/lib/react-motion.js");const y={stiffness:300,damping:5,precision:.005},j="expando_content",w={},I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;const s=E()(e,{key:j}),n=s&&s.style?s.style.opacity:0;return t?n>=1?[{key:j,style:{opacity:1}}]:n>0?[{key:j,style:{opacity:Object(f.spring)(1,y)}}]:[{key:j,style:{opacity:.1}}]:n<.1?[]:[{key:j,style:{opacity:Object(f.spring)(0,y)}}]};class P extends o.a.Component{constructor(e){super(e),this.onSizeChanged=()=>(this.props.onSizeChanged&&this.props.onSizeChanged(),w),this.state={expanded:e.shouldExpand,renderTransitionMotion:e.shouldExpand}}componentWillReceiveProps(e){e.shouldExpand&&!this.state.renderTransitionMotion?this.setState(()=>({renderTransitionMotion:!0}),()=>{setTimeout(()=>{this.setState({expanded:!0})})}):e.shouldExpand!==this.state.expanded&&this.setState({expanded:e.shouldExpand})}render(){const{renderTransitionMotion:e,expanded:t}=this.state;if(!e)return!1;const{className:s,content:n}=this.props;return o.a.createElement(f.TransitionMotion,{styles:e=>I(e,t),didLeave:this.onSizeChanged,willEnter:this.onSizeChanged},e=>o.a.createElement("div",{className:s},e.map(e=>o.a.createElement("div",{key:e.key,style:e.style},n))))}}var T=s("./src/reddit/models/Media/index.ts"),k=s("./src/reddit/models/Post/index.ts"),S=s("./src/reddit/models/Vote/index.ts"),_=s("./src/reddit/selectors/activeModalId.ts"),N=s("./src/reddit/selectors/experiments/categories.ts"),L=s("./src/reddit/selectors/moderatorPermissions.ts"),M=s("./src/reddit/selectors/postCreations.ts"),R=s("./src/reddit/selectors/posts.ts"),B=s("./src/reddit/selectors/user.ts"),A=s("./src/reddit/components/ClassicPost/Thumbnail.tsx"),F=s("./src/reddit/components/EventPost/EventMetaHeader/index.tsx"),D=s("./src/reddit/components/ExpandoButton/index.tsx"),W=s("./src/reddit/components/FlairWrapper/index.tsx"),H=s("./src/reddit/components/Flatlist/index.tsx"),V=s("./src/reddit/components/Governance/Proposal/index.tsx"),U=s("./src/reddit/components/Governance/Proposal/NoProposalError/index.tsx"),K=s("./src/reddit/components/JSAPIContainers/index.tsx"),G=s("./src/reddit/components/LargePost/index.tsx"),z=s("./src/reddit/components/MediumPost/index.tsx"),J=s("./src/reddit/components/ModModeReports/index.tsx"),q=s("./src/reddit/components/ModModeReports/helpers.ts"),Y=s("./src/reddit/components/PostContainer/index.tsx"),Q=s("./src/higherOrderComponents/makeAsync.tsx"),Z=s("./src/lib/loadWithRetries/index.ts"),X=s("./src/reddit/components/RichTextEditor/Placeholder.tsx");const $=Object(Q.a)({ErrorComponent:()=>o.a.createElement(X.a,{isLoading:!1,toolbarPosition:"top"}),getComponent:()=>Object(Z.a)(()=>Promise.all([s.e("vendors~ChatMessageInput~FlairEdit~MembershipPaywallPage~PostCreation~RichTextEditor"),s.e("vendors~PostCreation~RichTextEditor"),s.e("ChatMessageInput~MembershipPaywallPage~RichTextEditor"),s.e("PostDraft~RichTextEditor~StructuredStyles"),s.e("RichTextEditor")]).then(s.bind(null,"./src/reddit/components/PostEditForm/index.tsx")).then(e=>e.default)),LoadingComponent:()=>o.a.createElement(X.a,{isLoading:!0,toolbarPosition:"top"})});var ee=e=>o.a.createElement($,e),te=s("./src/reddit/components/PostMedia/index.tsx"),se=s("./src/reddit/components/PostOverflowMenu/index.tsx"),ne=s("./src/reddit/components/PostTitle/index.tsx"),oe=s("./src/reddit/components/PostTopLine/index.tsx"),re=s("./src/reddit/components/PostTopMeta/index.tsx"),ae=s("./src/reddit/components/SourceLink/index.tsx"),ie=s("./src/reddit/constants/componentTestIds.ts"),ce=s("./src/reddit/constants/postLayout.ts"),de=s("./src/reddit/contexts/PageLayer/index.tsx"),le=s("./src/reddit/helpers/postEvent.ts"),me=s("./src/reddit/selectors/experiments/publicAwarding.ts"),pe=s("./src/reddit/selectors/postFlair.ts"),ue=s("./src/reddit/components/InfoBanners/BannerBase/index.tsx"),he=s("./src/reddit/constants/colors.ts"),be=s("./src/config.ts"),ge=s("./src/reddit/icons/svgs/Clear/index.tsx"),xe=e=>o.a.createElement("svg",{className:e.className,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",null,o.a.createElement("path",{d:"M13.0303,11.4697 C13.3233,11.7627 13.3233,12.2377 13.0303,12.5307 C12.8843,12.6767 12.6923,12.7497 12.5003,12.7497 C12.3083,12.7497 12.1163,12.6767 11.9693,12.5307 L10.0003,10.5607 L8.0303,12.5307 C7.8843,12.6767 7.6923,12.7497 7.5003,12.7497 C7.3083,12.7497 7.1163,12.6767 6.9693,12.5307 C6.6763,12.2377 6.6763,11.7627 6.9693,11.4697 L8.9393,9.4997 L6.9693,7.5307 C6.6763,7.2377 6.6763,6.7627 6.9693,6.4697 C7.2623,6.1767 7.7373,6.1767 8.0303,6.4697 L10.0003,8.4397 L11.9693,6.4697 C12.2623,6.1767 12.7373,6.1767 13.0303,6.4697 C13.3233,6.7627 13.3233,7.2377 13.0303,7.5307 L11.0603,9.4997 L13.0303,11.4697 Z M17.2753,3.0377 L10.2753,1.0377 C10.0953,0.9877 9.9053,0.9877 9.7253,1.0377 L2.7253,3.0377 C2.2963,3.1607 2.0003,3.5537 2.0003,3.9997 L2.0003,10.9997 C2.0003,16.6887 9.4093,18.8707 9.7253,18.9617 C9.8153,18.9877 9.9073,18.9997 10.0003,18.9997 C10.0923,18.9997 10.1853,18.9877 10.2753,18.9617 C10.5903,18.8707 18.0003,16.6887 18.0003,10.9997 L18.0003,3.9997 C18.0003,3.5537 17.7043,3.1607 17.2753,3.0377 L17.2753,3.0377 Z",id:"path-1"}))),Ce=s("./src/reddit/icons/svgs/Trash2/index.tsx"),ve=s("./src/reddit/components/InfoBanners/PostRemovalBanner/index.m.less"),Oe=s.n(ve);const{fbt:Ee}=s("./node_modules/fbt/lib/FbtPublic.js"),fe=()=>Ee._("To keep Reddit and its communities safe, the Anti-Evil Operations team removes posts that violate Reddit's {=User Agreement} and {=Content Policy}.",[Ee._param("=User Agreement",o.a.createElement("a",{className:Oe.a.link,href:"https://www.redditinc.com/policies/user-agreement\\"},Ee._("User Agreement",null,{hk:"2cojEr"}))),Ee._param("=Content Policy",o.a.createElement("a",{className:Oe.a.link,href:"https://www.redditinc.com/policies/content-policy\\"},Ee._("Content Policy",null,{hk:"1owvRc"})))],{hk:"3LJ7At"}),ye=()=>Ee._("This content was removed for a violation of Reddit's {=Content Policy}.",[Ee._param("=Content Policy",o.a.createElement("a",{className:Oe.a.link,href:"https://www.redditinc.com/policies/content-policy\\"},Ee._("Content Policy",null,{hk:"1fd4W1"})))],{hk:"3KOOQU"});var je=e=>{const{hasPerms:t,removedBy:s,removedByCategory:n,subredditName:r}=e,a=t?((e,t,s)=>{switch(e){case k.g.AntiEvilOps:return Ee._("This post was removed by Reddit's Anti-Evil Operations team.",null,{hk:"3a8CyR"});case k.g.Author:return Ee._("This post was removed by the person who originally posted it.",null,{hk:"2lyUgL"});case k.g.AuthorDeleted:return Ee._("This post was deleted by the person who originally posted it.",null,{hk:"16LeiH"});case k.g.CommunityOps:return Ee._("This post was removed by Reddit admin, u/{username}.",[Ee._param("username",t)],{hk:"34nHWu"});case k.g.ContentTakedown:return Ee._("This post was removed by Reddit's Legal Operations team.",null,{hk:"1wmhiC"});case k.g.CopyrightTakedown:return Ee._("This post was removed by Reddit's Legal Operations team.",null,{hk:"Ukfj"});case k.g.Moderator:return Ee._("This post was removed by r/{subredditName} moderator, u/{username}.",[Ee._param("subredditName",s),Ee._param("username",t)],{hk:"270bcn"});case k.g.Reddit:return Ee._("This post was removed by Reddit's spam filters.",null,{hk:"1k3lsh"})}})(n,s,r):((e,t)=>{switch(e){case k.g.AntiEvilOps:return Ee._("Sorry, this post was removed by Reddit's Anti-Evil Operations team.",null,{hk:"2ZqyRT"});case k.g.Author:return Ee._("Sorry, this post was removed by the person who originally posted it.",null,{hk:"4IRCN"});case k.g.AuthorDeleted:return Ee._("Sorry, this post was deleted by the person who originally posted it.",null,{hk:"4emmIp"});case k.g.CommunityOps:return Ee._("Sorry, this post was removed by Reddit's Community team.",null,{hk:"3fs5lF"});case k.g.ContentTakedown:return Ee._("Sorry, this post was removed by Reddit's Legal Operations team.",null,{hk:"jiKO8"});case k.g.CopyrightTakedown:return Ee._("Sorry, this post was removed by Reddit's Legal Operations team.",null,{hk:"1TbEDT"});case k.g.Moderator:return Ee._("Sorry, this post has been removed by the moderators of r/{subredditName}.",[Ee._param("subredditName",t)],{hk:"12NWKq"});case k.g.Reddit:return Ee._("Sorry, this post was removed by Reddit's spam filters.",null,{hk:"10ItEu"});default:return Ee._("Sorry, this post has been removed",null,{hk:"11sG9V"})}})(n,r),i=t?(e=>{switch(e){case k.g.AntiEvilOps:return o.a.createElement(fe,null);case k.g.AuthorDeleted:case k.g.Author:return Ee._("It won't show up in your community feed, and anyone with a direct link to it will see a message similar to this one.",null,{hk:"2KZLgT"});case k.g.CommunityOps:return Ee._("To keep Reddit and its communities safe, the Community team occasionally removes posts from feeds. To learn more, {=just ask}.",[Ee._param("=just ask",o.a.createElement("a",{className:Oe.a.link,href:"".concat(be.a.redditUrl,"/message/compose/?to=r/reddit.com"),target:"_blank"},Ee._("just ask",null,{hk:"2tChW8"})))],{hk:"1gNycd"});case k.g.ContentTakedown:return o.a.createElement(ye,null);case k.g.CopyrightTakedown:return Ee._("This content was removed in response to a copyright claim by a third party.",null,{hk:"7jiV"});case k.g.Moderator:return Ee._("It won't show up in your community feed, and moderators will see a message similar to this one.",null,{hk:"22qJOB"});case k.g.Reddit:return Ee._("Reddit's automated bots frequently filter posts it thinks might be spam.",null,{hk:"3S3oDL"})}})(n):(e=>{switch(e){case k.g.AntiEvilOps:return o.a.createElement(fe,null);case k.g.AuthorDeleted:case k.g.Author:return Ee._("It doesn't appear in any feeds, and anyone with a direct link to it will see a message like this one.",null,{hk:"2OBDBc"});case k.g.CommunityOps:return Ee._("It's rare, but Reddit's Community Team will occasionally remove posts from feeds to keep communities safe and civil.",null,{hk:"uPiHS"});case k.g.ContentTakedown:return o.a.createElement(ye,null);case k.g.CopyrightTakedown:return Ee._("This content was removed in response to a copyright claim by a third party.",null,{hk:"2e8fhi"});case k.g.Moderator:return Ee._("Moderators remove posts from feeds for a variety of reasons, including keeping communities safe, civil, and true to their purpose.",null,{hk:"QXZPk"});case k.g.Reddit:return Ee._("Reddit's automated bots frequently filter posts it thinks might be spam.",null,{hk:"3vUmEz"})}})(n),c=t?he.a.warning:he.a.dayModeActionIcon,d=(e=>{let t;switch(e){case k.g.AntiEvilOps:case k.g.CommunityOps:case k.g.ContentTakedown:case k.g.CopyrightTakedown:case k.g.Reddit:t=ge.a;break;case k.g.AuthorDeleted:case k.g.Author:t=Ce.b;break;case k.g.Moderator:t=xe}return o.a.createElement(t,{className:Oe.a.icon})})(n);return o.a.createElement(ue.a,{className:Oe.a.BannerBase,color:c,icon:d,subtitle:i,title:a})},we=e=>{const{isAdminOrMod:t,post:s,subredditOrProfile:n}=e;return o.a.createElement(o.a.Fragment,null,n&&s.removedByCategory&&o.a.createElement(je,{hasPerms:t,removedBy:s.removedBy,removedByCategory:s.removedByCategory,subredditName:n.name}))},Ie=s("./src/app/strings/index.ts"),Pe=s("./src/lib/prettyPrintNumber/index.ts"),Te=s("./src/reddit/components/PostContent/viewCount.m.less"),ke=s.n(Te);var Se=e=>{let{post:t,language:s,showViewCount:n}=e;const{upvotePercentString:r,viewCountString:a}=((e,t)=>{const s=Math.round(100*e.upvoteRatio),n=Object(Pe.b)(e.viewCount);return{upvotePercentString:Object(Ie.a)(t,"posts.percentUpvoted",{percentUpvoted:s}),viewCountString:Object(Ie.c)(t,"posts.numViews.noun",e.viewCount,{count:n})}})(t,s),i=n&&!!t.viewCount;return o.a.createElement("div",{className:ke.a.viewCounts},i&&o.a.createElement("span",null,a),i&&!!t.upvoteRatio&&o.a.createElement("span",{className:ke.a.dotSpacer}),!!t.upvoteRatio&&o.a.createElement("span",null,r))},_e=s("./src/reddit/components/PostContent/index.m.less"),Ne=s.n(_e);const Le=d.a.wrapped(ne.c,"PostTitle",Ne.a),Me=d.a.wrapped(D.a,"ExpandoButton",Ne.a),Re=d.a.wrapped(P,"ClassicExpandoMotion",Ne.a),Be=d.a.wrapped(H.c,"FullWidthFlatlist",Ne.a),Ae=d.a.wrapped(A.a,"ClassicThumbnail",Ne.a),Fe=Object(de.t)({isCommentsPage:de.w,pageLayer:e=>e}),De=Object(r.b)(()=>Object(i.c)({activeModalId:_.a,flairStyleTemplate:de.Q,currentUser:B.i,crosspost:R.c,hideNSFWPref:B.z,isAdminOrMod:(e,t)=>{const s=Object(R.U)(e,{postId:t.postId});return!!s&&Object(L.g)(e,{subredditId:s.id})},isCurrentUserProfilePost:R.h,isExpanded:R.j,post:R.J,language:B.S,metaId:(e,t)=>e.posts.metaMap[t.postId],moderatorPermissions:L.i,publicAwardersEnabled:e=>!!Object(me.a)(e),modModeEnabled:de.O,isInCategoriesExperiment:N.a,showEditFlair:pe.a,subredditOrProfile:R.U,isEditing:M.C,userIsOp:B.jb}),(e,t)=>{let{postId:s}=t;return{onIgnoreReports:()=>e(Object(C.L)(s)),onOpenReportsDropdown:t=>e(Object(v.g)({tooltipId:t})),onVoteClick:t=>{const n=t===S.a.upvoted?Object(C.N)(s):Object(C.o)(s);e(n)}}}),We=d.a.wrapped(a.a,"ThumbLink",Ne.a),He=e=>{let{post:t,templatePlaceholderImage:s}=e;return t.source?o.a.createElement(Ae,{post:t,forceShowNSFW:!0,templatePlaceholderImage:s}):o.a.createElement(We,{to:Object(b.b)(t.permalink)},o.a.createElement(Ae,{post:t,forceShowNSFW:!0}))},Ve=(e,t,s)=>o.a.createElement(Re,{content:o.a.createElement(te.a,{className:Ne.a.ClassicPostMedia,isListing:!1,isNotCardView:!0,post:e,shouldLoad:!0,showFull:!0,showCentered:!0,scrollerItemRef:s}),shouldExpand:!!t});t.a=Fe(De(e=>{const{className:t,crosspost:s,currentUser:n,flairStyleTemplate:r,hideNSFWPref:a,isAdminOrMod:i,isCommentsPage:d,isCurrentUserProfilePost:b,isEditing:C,isExpanded:v,isOverlay:O,language:E,metaId:f,moderatorPermissions:y,modModeEnabled:j,onIgnoreReports:w,onOpenReportsDropdown:I,onVoteClick:P,post:S,publicAwardersEnabled:_,scrollerItemRef:N,sendEvent:L,showEditFlair:M,subredditOrProfile:R,userIsOp:B}=e,A=Object(h.a)(y),D=Object(u.a)(y),Q=A||D,Z=((e,t,s)=>{const[n,o]=e?[Object(p.f)(e)===s.author,e.isEmployee]:[!1,!1];return n||t||o})(n,Q,S),X=!!S.media&&(S.media.type===T.n.RTJSON||S.media.type===T.n.TEXT),$=B&&X,de=Object(q.c)(S);let me;const pe=!(j&&h.a),ue=Object(se.h)({hide:pe,editPost:pe,save:pe,report:pe}),he=S.removedByCategory===k.g.AuthorDeleted,be=n&&(n.displayText===S.author||n.username===S.author),ge=!he&&(be||i||!(S.removedByCategory&&S.media&&(Object(T.D)(S.media)||Object(T.C)(S.media)))),xe=S.removedByCategory===k.g.Reddit&&Object(l.e)(S.created)>24,Ce=S.removedByCategory&&S.removedByCategory!==k.g.Reddit||xe,ve=o.a.createElement(Le,{post:S,size:ne.b.ExtraLarge,showCategoryTag:O,isOverlay:O,disableVisited:!0,isCommentsPage:!0}),Oe=o.a.createElement(Se,{post:S,language:E,showViewCount:Z}),Ee=(e=>{const{crosspost:t,isCommentPermalink:s,post:n}=e;return s?ce.g.Classic:t?ce.g.Large:n.media?ce.g.Large:ce.g.Medium})(e);if(Ee===ce.g.Classic)me=o.a.createElement("div",{"data-test-id":ie.e},Object(G.b)(S,P),o.a.createElement("div",{className:Ne.a.mainBody},o.a.createElement("div",{className:Ne.a.content},o.a.createElement(oe.a,{hideNSFWPref:a,inSubredditOrProfile:!0,isCommentsPage:d,isCurrentUserProfilePost:b,isOverlay:!!O,language:E,post:S,publicAwardersEnabled:_,shouldShowSubscribeButton:!1,showSubreddit:!!O&&!S.isSponsored,showSubredditIcon:!0,subredditOrProfile:R}),ve,o.a.createElement(W.a,{className:d?Ne.a.leftPadding:null,post:S,showCategoryTag:e.isInCategoriesExperiment&&d,sendEvent:L}),j&&A&&de&&o.a.createElement(J.a,{language:E,onIgnoreReports:w,reportable:S}),o.a.createElement(K.d,{postId:S.id}),o.a.createElement("div",{className:Ne.a.FlatlistContainer},o.a.createElement(Me,{crosspost:s||void 0,isExpanded:!!v,post:S,useMediaIcons:!1}),Ve(S,v,N),o.a.createElement(Be,{currentUser:n,hasModFlairPerms:D,hasModPostPerms:A,isOverlay:O,language:E,onIgnoreReports:w,onOpenReportsDropdown:I,modModeEnabled:j,post:S,showUpvotePercent:!0,showViewCount:Z,useFlatlistBreakpoints:ue}))),Object(m.a)(S)&&o.a.createElement(He,{post:S,templatePlaceholderImage:r&&r.postPlaceholderImage})));else if(Ee===ce.g.Medium){const t=Object(m.a)(S);me=o.a.createElement("div",{"data-test-id":ie.e},Object(G.b)(S,P),o.a.createElement("div",{className:Ne.a.mainBody},o.a.createElement("div",{className:Ne.a.content},o.a.createElement(oe.a,{hideNSFWPref:a,inSubredditOrProfile:!0,isCommentsPage:d,isCurrentUserProfilePost:b,isOverlay:!!O,language:E,post:S,publicAwardersEnabled:_,shouldShowSubscribeButton:!1,showSubreddit:!!O&&!S.isSponsored,showSubredditIcon:!0,subredditOrProfile:R}),ve,S.source&&o.a.createElement(ae.a,{post:S,isCommentsPage:d}),o.a.createElement(W.a,{className:d?Ne.a.leftPadding:null,post:S,showCategoryTag:e.isInCategoriesExperiment&&d,sendEvent:L}),R&&Ce&&o.a.createElement(we,{isAdminOrMod:i,post:S,subredditOrProfile:R}),j&&A&&de&&o.a.createElement(J.a,{language:E,onIgnoreReports:w,reportable:S})),t&&o.a.createElement(z.a,{post:S,forceShowNSFW:!0,hasModPostPerms:Q,isCommentsPage:d,isOverlay:!0,modModeEnabled:j,templatePlaceholderImage:r&&r.postPlaceholderImage})),o.a.createElement(K.d,{postId:S.id}),o.a.createElement("div",{className:Ne.a.controlsContainer},o.a.createElement(H.c,{currentUser:n,hasModFlairPerms:D,hasModPostPerms:A,isOverlay:O,language:E,modModeEnabled:j,onIgnoreReports:w,onOpenReportsDropdown:I,post:S,showEditPost:$,showEditFlair:M,tooltipType:O?re.c.Lightbox:void 0,useFlatlistBreakpoints:ue}),Oe))}else Ee===ce.g.Large&&(me=o.a.createElement("div",{"data-test-id":ie.e},Object(G.b)(S,P),o.a.createElement(oe.a,{hideNSFWPref:a,inSubredditOrProfile:!0,isCommentsPage:d,isCurrentUserProfilePost:b,isOverlay:!!O,language:E,post:S,publicAwardersEnabled:_,shouldShowSubscribeButton:!1,showSubreddit:!!O&&!S.isSponsored,showSubredditIcon:!0,subredditOrProfile:R}),ve,((e,t,s,n)=>e.source&&!t&&(s||n))(S,s,O,d)&&o.a.createElement(ae.a,{post:S,isCommentsPage:d}),o.a.createElement(W.a,{className:d?Ne.a.leftPadding:null,post:S,showCategoryTag:e.isInCategoriesExperiment&&d,sendEvent:L}),R&&Ce&&o.a.createElement(we,{isAdminOrMod:i,post:S,subredditOrProfile:R}),C?o.a.createElement(ee,{post:S}):ge&&o.a.createElement(te.a,{className:Object(c.a)(Ne.a.LargePostMedia,{[Ne.a.isCommentsPage]:d}),isCommentsPage:!0,isListing:!1,isNotCardView:O,isOverlay:O,post:S,shouldLoad:!0,showFull:!0,shouldPause:!O,showCentered:!0,scrollerItemRef:N}),f&&R?o.a.createElement("div",{className:Object(c.a)(Ne.a.ProposalContainer,{[Ne.a.isEditing]:C})},o.a.createElement(V.a,{pollId:f,subredditId:R.id})):null,S.isMeta&&!f&&o.a.createElement(U.a,{className:Ne.a.noProposal}),j&&A&&de&&o.a.createElement(J.a,{language:E,onIgnoreReports:w,reportable:S}),o.a.createElement(K.d,{postId:S.id}),o.a.createElement("div",{className:Ne.a.controlsContainer},o.a.createElement(H.c,{currentUser:n,hasModFlairPerms:D,hasModPostPerms:A,isOverlay:O,language:E,modModeEnabled:j,onIgnoreReports:w,onOpenReportsDropdown:I,post:S,showEditPost:$,showEditFlair:M,tooltipType:O?re.c.Lightbox:void 0,useFlatlistBreakpoints:ue}),Oe)));return o.a.createElement(Y.a,{className:Object(c.a)(t,Ne.a.postContainer,{[Ne.a.hasEventMeta]:Object(le.a)(S)}),isOverlay:O,post:S,eventFactory:O?g.b:x.d},o.a.createElement(F.a,{post:S,language:E}),me)}))},"./src/reddit/components/PostContent/viewCount.m.less":function(e,t,s){e.exports={dotSpacer:"_3g_cwSqBe5o5mAuhfMeGu5",viewCounts:"t4Hq30BDzTeJ85vREX7_M"}},"./src/reddit/components/PostFollow/index.m.less":function(e,t,s){e.exports={collectionFollow:"_1yF34mDRcD_ii0n-Ak0OdI",isFollowed:"gBrTiaH_Z7HT5D96vnUfJ",isEventFollow:"_1iTFEDTdpF-KFmOZvDuGHH"}},"./src/reddit/components/PostFollow/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return b}));var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/reddit/actions/post.ts"),d=s("./src/reddit/components/TrackingHelper/index.tsx"),l=s("./src/reddit/components/Translated/index.tsx"),m=s("./src/reddit/helpers/trackers/postCollection.ts"),p=s("./src/reddit/components/PostFollow/index.m.less"),u=s.n(p);class h extends o.a.Component{constructor(e){super(e),this.onFollowClick=()=>{const{isEventFollow:e,onFollow:t,post:{id:s,isFollowed:n},sendEvent:o}=this.props,r=!!n;o(e?Object(m.o)({postId:s,isFollowed:r}):Object(m.g)({postId:s,isFollowed:r})),t&&t()},this.onMouseEnter=()=>{const e=this.props.post;e&&e.isFollowed&&this.setState({isHovered:!0})},this.onMouseLeave=()=>{const e=this.props.post;e&&e.isFollowed&&this.setState({isHovered:!1})},this.state={isHovered:!1}}render(){const{className:e,isEventFollow:t,post:s}=this.props,n=this.state.isHovered,r=s.isFollowed;let a=r?"collection.follow.followed":"collection.follow.follow";return r&&n&&(a="collection.follow.unfollow"),o.a.createElement("button",{className:Object(i.a)(u.a.collectionFollow,{[u.a.isFollowed]:!!s.isFollowed,[u.a.isEventFollow]:t},e),onClick:this.onFollowClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},o.a.createElement(l.a,{msgId:a}))}}const b=Object(r.b)(()=>Object(a.c)({}),(e,t)=>{let{post:s}=t;return{onFollow:()=>e(Object(c.s)(s.id))}})(Object(d.b)(h))},"./src/reddit/components/PostLeftRail/index.m.less":function(e,t,s){e.exports={postLeftRail:"_23h0-EcaBUorIHC-JZyh6J"}},"./src/reddit/components/PostLeftRail/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return h})),s.d(t,"c",(function(){return g}));var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/lib/CSSVariableProvider/withTheme.tsx"),d=s("./src/reddit/constants/colors.ts"),l=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),m=s("./src/reddit/selectors/experiments/adSidebar.ts"),p=s("./src/reddit/components/PostLeftRail/index.m.less"),u=s.n(p);const h=40,b=Object(r.b)(()=>Object(a.c)({isInAdLeftSidebarExperiment:m.a})),g=e=>e.isSponsored&&!e.isInAdLeftSidebarExperiment?Object(l.a)(e).button:e.isRemoved?d.a.removed:e.isReported?d.a.reported:"transparent",x=Object(c.a)(e=>{const t=g(e),s={width:"".concat(h,"px"),borderLeft:"4px solid ".concat(t)};return o.a.createElement("div",{className:Object(i.a)(u.a.postLeftRail,e.className),style:e.withoutComputedStyles?{}:s},e.children)});t.b=b(x)},"./src/reddit/components/PostList/LoadMore.m.less":function(e,t,s){e.exports={Component:"_3tBFh6Ty3gSaxW4gcm6hZ_",component:"_3tBFh6Ty3gSaxW4gcm6hZ_"}},"./src/reddit/components/PostList/LoadMore.tsx":function(e,t,s){"use strict";var n=s("./src/lib/lessComponent.tsx"),o=s("./src/reddit/components/PostList/Placeholder.tsx"),r=s("./src/reddit/components/PostList/LoadMore.m.less"),a=s.n(r);t.a=n.a.wrapped(o.a,"Component",a.a)},"./src/reddit/components/PostList/Placeholder.tsx":function(e,t,s){"use strict";var n=s("./node_modules/lodash/constant.js"),o=s.n(n),r=s("./node_modules/lodash/times.js"),a=s.n(r),i=s("./node_modules/react/index.js"),c=s.n(i),d=s("./node_modules/react-redux/es/index.js"),l=s("./node_modules/reselect/es/index.js"),m=s("./src/lib/fastdom/index.ts"),p=s("./src/lib/intersectionObserver/index.ts"),u=s("./src/reddit/constants/postLayout.ts"),h=s("./src/reddit/components/ClassicPost/Placeholder.tsx"),b=s("./src/reddit/components/CompactPost/Placeholder/index.tsx"),g=(s("./node_modules/core-js/modules/es6.symbol.js"),s("./src/lib/classNames/index.ts")),x=s("./src/reddit/components/PostLeftRail/index.tsx"),C=s("./src/reddit/components/SubredditIcon/index.tsx"),v=s("./src/reddit/components/VerticalVotes/votes.tsx"),O=s("./src/reddit/contexts/PageLayer/index.tsx"),E=s("./src/reddit/helpers/styles/mixins/loading.ts"),f=s("./src/reddit/models/Vote/index.ts"),y=s("./src/reddit/helpers/styles/mixins/index.m.less"),j=s.n(y),w=s("./src/reddit/components/LargePost/placeholder.m.less"),I=s.n(w);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var T=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const k=Object(O.t)(),S=Object(l.c)({isFakeSubreddit:O.y}),_=Object(d.b)(S),N=e=>{const t={interactive:!1,voteState:f.a.notVoted};return c.a.createElement("div",{className:I.a.emptyVerticalVotes},c.a.createElement(v.d,P({key:"u"},t)),c.a.createElement("div",{className:I.a.emptyScore,key:"s"}),c.a.createElement(v.c,P({key:"d"},t)))},L=e=>{var{isLoading:t}=e,s=T(e,["isLoading"]);return c.a.createElement(C.b,P({className:Object(E.a)({isLoading:t})},s))};var M=k(_(e=>{var{className:t,dispatch:s,pageLayer:n}=e,o=T(e,["className","dispatch","pageLayer"]);return c.a.createElement("div",{className:Object(g.a)(j.a.baseLargeAndMediumPostStyles,t)},c.a.createElement(x.b,{key:"a"},c.a.createElement(N,o)),c.a.createElement("div",{className:I.a.content,key:"b"},c.a.createElement("div",{className:I.a.topLine,key:"ba"},o.isFakeSubreddit&&c.a.createElement(L,{key:"baa",isLoading:!1}),c.a.createElement("div",{key:"bab",className:Object(g.a)(I.a.topMetaOne,Object(E.b)(o))}),c.a.createElement("div",{key:"bac",className:Object(g.a)(I.a.topMetaTwo,Object(E.b)(o))})),c.a.createElement("div",{key:"bb",className:Object(g.a)(I.a.title,Object(E.b)(o))})),c.a.createElement("div",{key:"c",className:Object(g.a)(I.a.media,Object(E.a)(o))}),c.a.createElement("div",{className:I.a.content,key:"d"},c.a.createElement("div",{className:I.a.flatlist},c.a.createElement("div",{className:Object(g.a)(I.a.flatlistItemOne,Object(E.b)(o))}),c.a.createElement("div",{className:Object(g.a)(I.a.flatListItemTwo,Object(E.b)(o))}))))}));const R={[u.g.Large]:[M,2],[u.g.Classic]:[h.b,10],[u.g.Compact]:[b.a,30]};function B(e){return R[e]}const A=.1,F=Object(l.c)({loadingPostComponentForLayout:()=>B}),D=Object(d.b)(F);class W extends c.a.Component{constructor(){super(...arguments),this.mounted=!1,this.state={visible:!1},this.setWrapperRef=e=>{e!==this.wrapperRef&&(this.wrapperRef&&p.b(this.wrapperRef),e&&p.a(e,this.updateVisibleState)),this.wrapperRef=e},this.updateVisibleState=e=>{const t=e.intersectionRatio>=A;m.a.write(()=>{this.mounted&&this.setState(e=>e.visible!==t?{visible:t}:null)})}}componentDidMount(){document.documentElement.scrollTop=document.body.scrollTop=0,this.mounted=!0}componentWillUnmount(){this.mounted=!1,this.wrapperRef&&p.b(this.wrapperRef)}render(){const{className:e,countOverride:t,isLoading:s,layout:n,loadingPostComponentForLayout:r}=this.props,{visible:i}=this.state,[d,l]=r(n),m=t||l,p=o()(c.a.createElement(d,{isLoading:s&&i})),u=a()(m,p);return c.a.createElement("div",{className:e,ref:this.setWrapperRef},c.a.Children.toArray(u))}}t.a=D(W)},"./src/reddit/components/PostList/SomethingWrong.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/app/strings/index.ts"),a=s("./src/reddit/connectors/connectToLanguage.ts"),i=s("./src/reddit/controls/Button/index.tsx"),c=s("./src/reddit/helpers/describeApiError/index.ts"),d=s("./src/reddit/i18n/components.tsx"),l=s("./src/reddit/components/PostList/index.m.less"),m=s.n(l);t.a=Object(a.a)(e=>{const{language:t,onTryAgain:s,apiError:n}=e;let a=Object(r.a)(t,"posts.somethingWentWrongWhileLoading");return n&&(a=Object(c.a)({apiError:n,language:t,isLoggedOut:!1})),o.a.createElement("div",{className:m.a.somethingWrong},o.a.createElement("div",{className:m.a.somethingWrongText},a),s&&o.a.createElement(i.f,{onClick:s},o.a.createElement(d.c,null,"Try again")))})},"./src/reddit/components/PostList/index.m.less":function(e,t,s){e.exports={placeholder:"FohHGMokxXLkon1aacMoi",seeMoreButton:"_1Uj2L1UhJuirkaXINcf9S8",seeMorePostsText:"_2DB_2VI3a-y6nk57R2aWVo",somethingWrong:"zfoxmi0VvZvMZu1rHVbMX",somethingWrongText:"Ii7DEkcMDxQHElTHeeaci",postList:"rpBJOHq2PR60pnwJlUyP0",truncatedPostList:"QBfRw7Rj8UkxybFpX-USO",SeeMore:"_1yJOfuD_qgqaaG8ZIFbQVc",seeMore:"_1yJOfuD_qgqaaG8ZIFbQVc",ArrowRight:"wakXAw7uCIqmSRV84RKMW",arrowRight:"wakXAw7uCIqmSRV84RKMW"}},"./src/reddit/components/PostList/index.tsx":function(e,t,s){"use strict";s.d(t,"b",(function(){return G})),s.d(t,"a",(function(){return q}));s("./node_modules/core-js/modules/web.dom.iterable.js"),s("./node_modules/core-js/modules/es6.array.sort.js"),s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/history/esm/history.js"),o=s("./node_modules/lodash/debounce.js"),r=s.n(o),a=s("./node_modules/lodash/last.js"),i=s.n(a),c=s("./node_modules/react/index.js"),d=s.n(c),l=s("./node_modules/react-dom/index.js"),m=s("./src/lib/addQueryParams/index.ts"),p=s("./src/lib/classNames/index.ts"),u=s("./src/lib/constants/index.ts"),h=s("./src/lib/lessComponent.tsx"),b=s("./src/lib/opener/index.ts"),g=s("./src/lib/sentry/index.ts"),x=s("./src/reddit/components/PostList/LoadMore.tsx"),C=s("./src/reddit/components/PostList/SomethingWrong.tsx"),v=s("./src/reddit/components/Scroller/Simple.tsx"),O=s("./src/reddit/components/Translated/index.tsx"),E=s("./src/reddit/constants/adEvents.ts"),f=s("./src/reddit/constants/componentSizes.ts"),y=s("./src/reddit/constants/postLayout.ts"),j=s("./src/reddit/controls/InternalLink/index.tsx"),w=s("./src/reddit/helpers/getClickInfo.ts"),I=s("./src/reddit/helpers/pixels.ts"),P=s("./src/reddit/icons/svgs/ArrowRight/index.tsx"),T=s("./src/reddit/models/Media/index.ts"),k=s("./src/reddit/helpers/brandSafety/index.ts"),S=s("./src/lib/LRUCache/index.ts"),_=s("./src/telemetry/index.ts"),N=s("./src/telemetry/models/Timer.ts"),L=s("./src/reddit/components/PostList/index.m.less"),M=s.n(L),R=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const B=500,A=new S.a(B),F=new S.a(B),D=new S.a(B),W={LARGE:1,MEDIUM:1,CLASSIC:3,COMPACT:5},H=h.a.div("SeeMore",M.a),V=h.a.wrapped(P.a,"ArrowRight",M.a),U=(e,t,s,n,o,r,a,i)=>{const c=s?"last-".concat(n,"-").concat(o):"",d="entered-".concat(e,"-").concat(t,"-").concat(c,"-").concat(r);let l=A.get(d);return void 0===l&&(l=()=>{s&&a.onBottomViewed(n,o),a.trackOnPostEnteredViewport(e,t,i)},A.set(d,l)),l},K=(e,t,s,n)=>{const o="left-".concat(e,"-").concat(t);let r=F.get(o);return void 0===r&&(r=o=>{s.trackOnPostExitedViewport(e,t,o,n)},F.set(o,r)),r},G=(e,t)=>{const s="click-".concat(e);let n=D.get(s);return void 0===n&&(n=(e,s)=>{s.isSponsored&&Object(I.a)(s.events,E.a.Click),s.isSponsored&&s.source&&s.source.outboundUrl?Object(b.c)(s.source.outboundUrl,b.b.BLANK):t.openPost({postOrComment:s,clickInfo:Object(w.a)(e)})},D.set(s,n)),n},z=(e,t)=>{if(e.isBlank)return 0;switch(t){case y.g.Medium:return 188;case y.g.Classic:return 96;case y.g.Compact:return 32;default:return 200}},J=(e,t)=>{const s=[...e];return Object.keys(t).map(e=>parseInt(e,10)).sort((e,t)=>t-e).forEach(e=>{s.splice(e,0,t[e])}),s};class q extends d.a.Component{constructor(){super(...arguments),this.didRenderLastVisibleChild=!1,this.renderingEmpty=!1,this.renderingPlaceholder=!1,this.scrollChildCache=new S.a(B),this.updateScrollerRef=e=>{const t=e&&Object(l.findDOMNode)(e);this.scrollerRef=t instanceof Element?t:void 0},this.setLastVisibleChildRendered=()=>{this.didRenderLastVisibleChild=!0,this.checkAndSendScreenview()},this.onScrollPause=e=>{this.dispatchBrandSafety(e)},this.dispatchBrandSafety=r()(e=>{let{getVisibleItemsInViewport:t}=e;const{postsById:s,subredditsById:n}=this.props,o=t(),r=[];o.forEach(e=>r.push(e.id));const a=r.map(e=>s[e]).filter(Boolean),i=a.map(e=>n[e.belongsTo.id]).filter(e=>void 0!==e);this.props.adBrandSafetyStatusReceived(Object(k.a)(a,i))},u.d,{leading:!0})}componentWillMount(){this.timerId&&_.c.cancel(this.timerId),this.props.postIds.length&&(this.timerId=_.c.start())}componentDidMount(){if(this.checkAndSendScreenview(),this.timerId){const e=_.c.end(this.timerId);setTimeout(()=>Object(_.b)(u.l.Redesign,{type:"mount",component:"postList",duration:e}),0)}}componentWillUpdate(e){this.timerId&&_.c.cancel(this.timerId),e.postIds.length&&(this.timerId=_.c.start()),(e.listingKey!==this.props.listingKey||e.postIds.length!==this.props.postIds.length&&!this.isListLongEnough())&&(this.didRenderLastVisibleChild=!1)}componentDidUpdate(e){if(this.checkAndSendScreenview(),this.timerId&&_.c.has(this.timerId)){const e=_.c.end(this.timerId);if(e<10)return;setTimeout(()=>Object(_.b)(u.l.Redesign,{duration:e,type:"mount",component:"postList"}),0)}}componentWillUnmount(){this.timerId&&_.c.cancel(this.timerId),this.scrollerRef=null,this.didRenderLastVisibleChild=!1}isListLongEnough(){const e=this.scrollerRef&&Array.from(this.scrollerRef.children),t=e&&i()(e);return t&&t.getBoundingClientRect().bottom>window.innerHeight}shouldSendScreenview(){const{apiError:e,listingKey:t,viewportDataLoaded:s}=this.props;return _.c.has(t)&&(e||!this.renderingPlaceholder&&(this.renderingEmpty||this.didRenderLastVisibleChild&&(s||this.isListLongEnough())))}checkAndSendScreenview(){const{listingKey:e,listingViewed:t,sendEvent:s}=this.props;if(!this.shouldSendScreenview())return;const n=_.c.end(e);setTimeout(()=>{s(t(n,N.TimerType.InApp))},0)}showPlaceholder(){const{apiError:e,apiPending:t,disablePlaceholder:s}=this.props;return!s&&(Boolean(e)||!1!==t)}hasPosts(){return this.props.postIds.length>0}isLoadingMore(){const{loadMore:e,postIds:t}=this.props;return Boolean(e&&e.token)&&t.length>0}shouldComponentUpdate(e){const t=this.props,{postsById:s}=t,n=R(t,["postsById"]),{postsById:o}=e,r=R(e,["postsById"]),a=Object.keys(n),i=Object.keys(r);if(i.length!==a.length)return!0;if(i.some(e=>n[e]!==r[e]))return!0;if(s===o)return!1;if(this.props.postIds&&this.props.postIds.length){const{layout:e,postComponentForLayout:t}=this.props;return this.props.postIds.some((n,r)=>{const a=0===r;return t({isFirstPost:a,layout:e,post:s[n]})!==t({isFirstPost:a,layout:e,post:o[n]})})}return!1}scrollChildForPost(e,t,s,n){const{currentProfileName:o,isCommentPermalink:r,isCommentsPage:a,isFrontpage:i,isProfilePostListing:c,listingKey:l,listingName:m,pageLayer:p,pageReferrer:h,postClickEvent:b,redditStyle:x}=this.props,C=0===t,v=s?"last-index":"",O="post-".concat(n,"-").concat(e,"-").concat(t,"-").concat(v,"-").concat(m,"-").concat(l,"-").concat(h);let E;if(void 0===(E=this.scrollChildCache.get(O))){const{inSubredditOrProfile:v,postsById:f}=this.props,j=f[e],w=j.crosspostRootId&&f[j.crosspostRootId]?f[j.crosspostRootId]:j;j.crosspostRootId&&!f[j.crosspostRootId]&&g.c.withScope(e=>{e.setExtra("errorType",u.p.API),e.setExtra("description","Post ".concat(j.id," is crosspost of ").concat(j.crosspostRootId,", but ")+"".concat(j.crosspostRootId," details are missing in the state")),g.c.captureMessage("Crosspost parent details are missing")});const I=this.props.postComponentForLayout({isCrosspost:!!j.crosspostRootId,isFirstPost:C,layout:n,post:w}),P="post-list-item-[layout: ".concat(n,"]-[postId: ").concat(e,"]"),k=U(e,n,s,l,m,h,this.props,t),S=K(e,n,this.props,t),_=G(e,this.props),N=w.media&&w.media.type===T.n.EMBED?w.media.provider:null;E={estHeight:z(j,n),id:e,isFocusable:!(!w.media||n!==y.g.Large)&&(T.d.has(w.media.type)&&(!N||!T.q.has(N))&&!w.isSpoiler&&!w.isNSFW),trackOnEnteredViewport:k,trackOnExitedViewport:S,render:t=>{let{className:n,height:u,width:h,remeasure:g,setScrollerChildRef:O,shouldLoadInitially:E}=t;return d.a.createElement(I,{className:n,currentProfileName:o,key:P,availableWidth:h,eventFactory:b,first:C,forceLoadMedia:E,inSubredditOrProfile:v,isCommentPermalink:r,isCommentsPage:a,isFrontpage:i,isProfilePostListing:c,listingKey:l,listingName:m,pageLayer:p,last:s,onClickPost:_,onSizeChanged:g,postId:e,redditStyle:x,sendEvent:this.props.sendEvent,scrollerItemRef:O})}},this.scrollChildCache.set(O,E)}return E}render(){return this.hasPosts()?(this.renderingEmpty=!1,this.renderingPlaceholder=!1,this.renderList()):this.showPlaceholder()?(this.renderingEmpty=!1,this.renderingPlaceholder=!0,this.renderPlaceholder()):(this.renderingEmpty=!0,this.renderingPlaceholder=!1,this.renderEmpty())}renderEmpty(){const e=this.props.noPostsComponent;return d.a.createElement(e,null)}renderPlaceholder(){const{apiError:e,className:t,disablePlaceholder:s,layout:n,onTryAgain:o,postListPlaceholderComponent:r}=this.props;if(s)return;const a=r;return d.a.createElement("div",{className:M.a.placeholder},d.a.createElement(a,{className:t,isLoading:!e,layout:n}),!!e&&d.a.createElement(C.a,{apiError:e,onTryAgain:o}))}renderLoadMore(){const{apiError:e,apiPending:t,disablePlaceholder:s,layout:n,loadMoreClassName:o,onLoadMore:r}=this.props;if(!s)return d.a.createElement("div",{className:M.a.placeholder},d.a.createElement(x.a,{className:o,isLoading:!!t,layout:n,countOverride:W[n]}),!!e&&d.a.createElement(C.a,{apiError:e,onTryAgain:r}))}renderList(){const{scrollContentContainerRef:e,enableElementHiding:t,getScrollContainer:s,injectChildren:o,isTruncated:r,layout:a,location:i,loadMore:l,postIds:h,onLoadMore:b}=this.props;let g=h.map((e,t,s)=>{const n=t===h.length-1;return this.scrollChildForPost(e,t,n,a)});o&&(g=J(g,o));const x=this.props.measureScrollFPS?"post-listings-".concat(a):void 0,C=i?Object(n.e)(i):null,E=C||r;return d.a.createElement(c.Fragment,null,d.a.createElement(v.b,{innerRef:this.updateScrollerRef,className:E?M.a.truncatedPostList:Object(p.a)(M.a.postList,this.props.className),contentContainerRef:e,dataKey:this.props.listingKey,disableScrollCache:!0,getContainer:s,enableElementHiding:t,key:this.props.listingKey,layoutKey:this.props.layout,loadMoreToken:l&&l.token?l.token:void 0,onLastVisibleChildRendered:this.setLastVisibleChildRendered,onLoadMore:b,onScroll:this.onScrollPause,preventScrollOnMount:this.props.preventScrollOnMount,trackingName:x,viewportTopPadding:f.g},g),C&&d.a.createElement(H,{className:M.a.seeMoreButton},d.a.createElement(j.a,{className:M.a.seeMorePostsText,to:Object(m.a)(C,{type:u.Jb.Posts})},d.a.createElement(O.a,{msgId:"search.seeMorePosts"}),d.a.createElement(V,null))),this.isLoadingMore()&&this.renderLoadMore())}}q.defaultProps={enableElementHiding:!0,listingKey:"",listingName:"",listingViewed:()=>()=>({}),noPostsComponent:d.a.Fragment}},"./src/reddit/components/PostMedia/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/reddit/components/CrosspostBox/index.tsx"),a=s("./src/reddit/components/Media/index.tsx");t.a=e=>{const{post:t}=e;return t.crosspostRootId?o.a.createElement(r.a,{postId:t.crosspostRootId,mediaProps:Object.assign({},e,{crosspost:t,primaryContent:!1})}):o.a.createElement(a.a,Object.assign({},e,{primaryContent:!!e.showFull}))}},"./src/reddit/components/PostMeta/index.m.less":function(e,t,s){e.exports={donationAmount:"_1x9gNS8wlrugqgwofOEcGq",metaContainer:"Ywkt6EDfNWINeTr9lP29H",postTopMeta:"iaAYGvTNtknkTxuHArCzL",subredditName:"_1L0pdcPf58t25Jy6ljHIKR"}},"./src/reddit/components/PostMeta/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/reddit/components/AwardBadges/index.tsx"),a=s("./src/reddit/components/Economics/Support/DonationAmount/async.tsx"),i=s("./src/reddit/components/Hovercards/SubredditHovercard/index.tsx"),c=s("./src/reddit/components/JSAPIContainers/index.tsx"),d=s("./src/reddit/components/PostBadges/index.tsx"),l=s("./src/reddit/components/PostTopMeta/index.tsx"),m=s("./src/reddit/components/QuarantinedLabel/index.tsx"),p=s("./src/reddit/components/SubredditNameLink/index.tsx"),u=s("./src/reddit/components/SubscribeButton/Inline.tsx"),h=s("./src/reddit/constants/posts.ts"),b=s("./src/reddit/controls/MetaSeparator/index.tsx"),g=s("./src/reddit/helpers/trackers/post.ts"),x=s("./src/reddit/models/Subreddit/index.ts"),C=s("./src/reddit/components/PostMeta/index.m.less"),v=s.n(C);t.a=e=>{const{flairStyleTemplate:t,hideGildCta:s,inSubredditOrProfile:n,isCurrentUserProfilePost:C,isOverlay:O,language:E,post:f,shouldShowSubscribeButton:y,subredditOrProfile:j,tooltipType:w}=e;return o.a.createElement("div",{className:v.a.metaContainer},!n&&!f.isSponsored&&j&&o.a.createElement(i.a,{postId:f.id,subredditName:j.name},o.a.createElement(p.a,{className:v.a.subredditName,"data-click-id":"subreddit",to:j.url},j.displayText)),j&&j.isQuarantined&&o.a.createElement(m.a,null),!n&&!f.isSponsored&&j&&y&&!C&&o.a.createElement(u.a,{getEventFactory:e=>Object(g.d)(f.id,e?"unsubscribe":"subscribe"),identifier:{name:j.name,type:Object(x.d)(j)?h.a.PROFILE:h.a.SUBREDDIT},postId:f.id,small:!0}),!n&&!f.isSponsored&&o.a.createElement(b.b,null),!n&&!f.isSponsored&&o.a.createElement(c.h,{type:f.belongsTo.type,id:f.belongsTo.id}),o.a.createElement(l.d,{className:v.a.postTopMeta,flairStyleTemplate:t,language:E,post:f,tooltipType:w}),o.a.createElement(d.a,{displayText:j?j.displayText:null,inSubredditOrProfile:!!n,language:E,post:f,tooltipType:w}),j&&o.a.createElement(a.a,{className:v.a.donationAmount,contentId:f.id,subredditId:j.id}),o.a.createElement(r.a,{hideCta:s,isOverlay:O,thing:f,tooltipType:w}))}},"./src/reddit/components/PostModModeDropdown/DropdownHelpers.m.less":function(e,t,s){e.exports={ListContainer:"VHCAEHBEuD8bln8MDFl35",listContainer:"VHCAEHBEuD8bln8MDFl35",Icon:"_3WbGqnEpw_ds1P508Qawma",icon:"_3WbGqnEpw_ds1P508Qawma",DropdownRow:"x_9o8pHUgKrlsT51QhLnG",dropdownRow:"x_9o8pHUgKrlsT51QhLnG",CheckboxMenuItem:"_9csa2XobkeFZUX8Fc_FNY",checkboxMenuItem:"_9csa2XobkeFZUX8Fc_FNY"}},"./src/reddit/components/PostModModeDropdown/DropdownHelpers.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return u})),s.d(t,"e",(function(){return h})),s.d(t,"f",(function(){return b})),s.d(t,"g",(function(){return g})),s.d(t,"h",(function(){return x})),s.d(t,"b",(function(){return C})),s.d(t,"c",(function(){return v})),s.d(t,"d",(function(){return O}));var n=s("./src/lib/lessComponent.tsx"),o=s("./src/reddit/controls/CheckboxMenuItem/index.tsx"),r=s("./src/reddit/controls/Dropdown/Row.tsx"),a=s("./src/reddit/icons/fonts/Approve/index.tsx"),i=s("./src/reddit/icons/fonts/Lock/index.tsx"),c=s("./src/reddit/icons/fonts/Remove/index.tsx"),d=s("./src/reddit/icons/fonts/Spam/index.tsx"),l=s("./src/reddit/icons/fonts/Tag/index.tsx"),m=s("./src/reddit/components/PostModModeDropdown/DropdownHelpers.m.less"),p=s.n(m);const u=n.a.wrapped(a.a,"Icon",p.a),h=n.a.wrapped(i.a,"Icon",p.a),b=n.a.wrapped(c.a,"Icon",p.a),g=n.a.wrapped(d.a,"Icon",p.a),x=n.a.wrapped(l.a,"Icon",p.a),C=n.a.wrapped(o.b,"CheckboxMenuItem",p.a),v=n.a.wrapped(r.b,"DropdownRow",p.a),O=n.a.div("ListContainer",p.a)},"./src/reddit/components/PostPinnedHeader/index.m.less":function(e,t,s){e.exports={container:"_203iZ8LUuIrz_IJbiOAJDH",pinnedIcon:"_2xKvAjjyhpXElWBVqyWyml",metaText:"rewiG9XNj_xqkQDcyR88j"}},"./src/reddit/components/PostTopLine/index.m.less":function(e,t,s){e.exports={donationAmount:"_1SRZN02bVXzHIIMqGwlZD7",everythingElseWrapper:"cZPZhMe-UCZ8htPodMyJ5",eventMeta:"_28_NUs_O8Nh1DCErsNLCHk",outboundLinkIcon:"_3z6z1xnp828wcarJXfzzjr",postBadges:"_2wFk1qX4e1cxk8Pkw1rAHk",postTopMeta:"nU4Je7n-eSXStTBAPMYt8",subredditIcon:"_1WX5Y5qFVBTdr6hCPpARDB",subredditIconWrapper:"_2dr_3pZUCk8KfJ-x0txT_l",Container:"BiNC74axuTz66dlnEgicY",container:"BiNC74axuTz66dlnEgicY",PostOverflow:"_2tLA78PLrLx5lz5Jj6cR",postOverflow:"_2tLA78PLrLx5lz5Jj6cR",bulkActionCheckbox:"_3X709ZHnDjH0Rwz3pMTv40"}},"./src/reddit/components/PostTopLine/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/components/AwardBadges/index.tsx"),i=s("./src/reddit/components/Economics/Support/DonationAmount/async.tsx"),c=s("./src/reddit/components/JSAPIContainers/index.tsx"),d=s("./src/reddit/components/PostBadges/index.tsx"),l=s("./src/reddit/components/PostTopMeta/index.tsx"),m=s("./src/reddit/components/SubredditIcon/index.tsx"),p=s("./src/reddit/components/SubredditNameLink/index.tsx"),u=s("./src/reddit/components/SubscribeButton/Inline.tsx"),h=s("./src/reddit/constants/posts.ts"),b=s("./src/reddit/controls/OutboundLink/index.tsx"),g=s("./src/reddit/helpers/trackers/post.ts"),x=s("./src/reddit/icons/fonts/OutboundLink/index.tsx"),C=s("./src/reddit/models/Media/index.ts"),v=s("./src/reddit/models/Subreddit/index.ts"),O=s("./src/reddit/components/PostTopLine/index.m.less"),E=s.n(O);const f=s("./src/lib/lessComponent.tsx").a.div("Container",E.a);t.a=e=>{const{className:t,flairStyleTemplate:s,hideNSFWPref:n,iconClassName:O,inSubredditOrProfile:y,isCurrentUserProfilePost:j,isCommentsPage:w,isCompactPinnedPost:I,isOverlay:P,language:T,post:k,publicAwardersEnabled:S,shouldShowSubscribeButton:_,showCornerOutboundLink:N,showSubreddit:L,showSubredditIcon:M,subredditOrProfile:R}=e,B=w&&S;return o.a.createElement(f,{className:t},L&&R&&o.a.createElement("div",{className:E.a.subredditIconWrapper},o.a.createElement(p.a,{"data-click-id":"subreddit",to:R.url},M&&o.a.createElement(m.b,{className:Object(r.a)(E.a.subredditIcon,O),shouldHideNsfwIcon:n,subredditOrProfile:R}))),o.a.createElement("div",{className:E.a.everythingElseWrapper},L&&o.a.createElement(c.h,{type:k.belongsTo.type,id:k.belongsTo.id}),o.a.createElement(l.d,{className:E.a.postTopMeta,flairStyleTemplate:s,tooltipType:P?l.c.Lightbox:void 0,language:T,post:k,showSub:L,subredditOrProfile:R}),o.a.createElement(d.a,{className:E.a.postBadges,displayText:R?R.displayText:null,inSubredditOrProfile:y,language:T,isCompactPinnedPost:I,post:k,tooltipType:P?l.c.Lightbox:void 0}),R&&o.a.createElement(i.a,{className:E.a.donationAmount,contentId:k.id,subredditId:R.id}),o.a.createElement(a.a,{forceShowAllAwards:w,isOverlay:P,showAwarders:B,tooltipType:P?l.c.Lightbox:void 0,thing:k})),R&&L&&_&&!j&&o.a.createElement(u.a,{getEventFactory:e=>Object(g.d)(k.id,e?"unsubscribe":"subscribe"),identifier:{name:R.name,type:Object(v.d)(R)?h.a.PROFILE:h.a.SUBREDDIT},postId:k.id},"Subscribe"),N&&o.a.createElement(b.a,{className:E.a.OutboundLink,isSponsored:k.isSponsored,href:Object(C.A)(e.post),source:k.source},o.a.createElement(x.a,{className:E.a.outboundLinkIcon})))}},"./src/reddit/components/PostTopMeta/index.m.less":function(e,t,s){e.exports={icon:"_2kj4VmBwjxriyYFAErhLcT",badge:"_2v3rPYFjifVGM7CfOh1dOl",container:"_3AStxql1mQsrZuUIFP9xSg",contractorIcon:"MMQAY3zdk1u4R9hIKTklf",adminIcon:"s46mo3ittWDxpPuCSXJ_T",crosspostIcon:"_3hh-iGjzOv78L_7t_PUHev",link:"eQgJJIfdY4JNXam_N622j",publicWallet:"SxdIdV2SgMWcIFG6Qsk0Q",authorLink:"_2tbHP6ZydRpjI44J3syuqC",outboundLink:"_3V0C4FGg6153xIBQjwsycq",flairContainer:"NAURX0ARMmhJ5eqxQrlQW",externalLink:"_3jOxDPIQ0KaOWpzvSQo-1s",sponsored:"_1iAifs5p5MzPoJz5YrErUW",text:"_2fCzxBE1dlMh4OFc7B3Dun",MetaSeparator:"_3V4xlrklKBP2Hg51ejjjvz",metaSeparator:"_3V4xlrklKBP2Hg51ejjjvz"}},"./src/reddit/components/PostTopMeta/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/lib/constants/index.ts"),d=s("./src/lib/CSSVariableProvider/withTheme.tsx"),l=s("./src/lib/humanizeDateTime/index.ts"),m=s("./src/lib/lessComponent.tsx"),p=s("./src/lib/timeAgo/index.ts"),u=s("./src/reddit/helpers/isCrosspost.ts");function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var b,g=e=>o.a.createElement("svg",h({viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),o.a.createElement("path",{d:"M9.06,8.64c1.12-1.26,2.2-2.45,4.44-2.6V7.5a1,1,0,0,0,.6.92,1,1,0,0,0,.41.09,1,1,0,0,0,.67-.26l3.16-2.9a.5.5,0,0,0,0-.74L15.18,1.7a1,1,0,0,0-1.68.74V4c-3.14.17-4.69,1.88-5.93,3.28C6.58,8.42,6,9,5,9H2a1,1,0,0,0,0,2H5C6.93,11,8,9.82,9.06,8.64Z"}),o.a.createElement("path",{d:"M15.18,11.76a1,1,0,0,0-1.68.74V14c-2.23-.16-3.29-1.32-4.39-2.56-.21-.24-.43-.48-.66-.72a5.63,5.63,0,0,1-1.77,1.06,13.34,13.34,0,0,1,.94,1A7.85,7.85,0,0,0,13.5,16v1.59a1,1,0,0,0,.6.92,1,1,0,0,0,.41.09,1,1,0,0,0,.67-.26l3.16-2.9a.5.5,0,0,0,0-.74Z"})),x=s("./src/reddit/actions/tooltip.ts"),C=s("./src/reddit/components/AuthorLink/index.tsx"),v=s("./src/reddit/components/Economics/SubredditPremium/Badges/UserDisplay/index.tsx"),O=s("./src/reddit/components/Economics/SubredditPremium/Badges/UsernameDisplay/index.tsx"),E=s("./src/reddit/components/Flair/index.tsx"),f=s("./src/reddit/components/Governance/UserPublicPointsDisplay/async.tsx"),y=s("./src/reddit/components/Hovercards/AuthorHovercard/index.tsx"),j=s("./src/reddit/components/Hovercards/SubredditHovercard/index.tsx"),w=s("./src/reddit/components/InfoTextTooltip/index.tsx"),I=s("./src/reddit/components/JSAPIContainers/index.tsx"),P=s("./src/reddit/components/QuarantinedLabel/index.tsx"),T=s("./src/reddit/components/SponsoredLabel/index.tsx"),k=s("./src/reddit/components/SubredditNameLink/index.tsx"),S=s("./src/reddit/constants/posts.ts"),_=s("./src/reddit/contexts/InsideOverlay.tsx"),N=s("./src/reddit/controls/MetaSeparator/index.tsx"),L=s("./src/reddit/helpers/styles/postBackgroundColor.ts"),M=s("./src/reddit/helpers/styles/smartTextColor.ts"),R=s("./src/reddit/icons/fonts/Admin/index.tsx"),B=s("./src/reddit/models/Flair/index.ts"),A=s("./src/reddit/models/NewStructuredStyles/index.ts"),F=s("./src/reddit/models/Post/index.ts"),D=s("./src/reddit/models/Subreddit/index.ts"),W=s("./src/reddit/selectors/authorFlair.ts"),H=s("./src/reddit/selectors/userFlair.ts"),V=s("./src/reddit/contexts/PageLayer/index.tsx"),U=s("./src/reddit/components/PostTopMeta/index.m.less"),K=s.n(U);s.d(t,"c",(function(){return b})),s.d(t,"a",(function(){return z})),s.d(t,"b",(function(){return Q})),function(e){e.StickyPost="sticky",e.Lightbox="lightbox"}(b||(b={}));const G=e=>Object(M.a)(Object(L.a)(e),A.a.metaText,A.b.metaText),z=m.a.wrapped(N.b,"MetaSeparator",K.a),J=m.a.span("text",K.a),q=Object(V.t)(),Y=Object(r.b)(()=>Object(a.c)({authorFlair:W.a,createdTooltipId:(e,t)=>{let{isOverlay:s,post:n}=t;return"PostTopMeta--Created--".concat(s,"--").concat(n.id)},isUserFlairEnabled:(e,t)=>Object(H.a)(e,{subredditId:t.post.belongsTo.id}),flairPosition:(e,t)=>Object(H.d)(e,{subredditId:t.post.belongsTo.id})}),e=>({onHideTooltip:()=>e(Object(x.h)()),onShowTooltip:t=>e(Object(x.f)({tooltipId:t}))})),Q=e=>{const t=!e.isDeleted&&e.post.distinguishType===c.B.ADMIN;return o.a.createElement(C.a,{className:K.a.authorLink,"data-click-id":"user",author:e.post.author,isAdmin:t,isAdminEmeritus:t,isAuthorDeleted:e.isDeleted,isUnstyled:!0,style:e.style},"u/".concat(e.post.author),t&&o.a.createElement(R.a,{className:K.a.adminIcon}),e.renderContractorBadge&&o.a.createElement(R.a,{className:K.a.contractorIcon}))};class Z extends o.a.PureComponent{constructor(){super(...arguments),this.onShowCreatedTooltip=()=>this.props.onShowTooltip(this.props.createdTooltipId)}render(){const{className:e,createdTooltipId:t,isOverlay:s,isUserFlairEnabled:r,flairPosition:a,language:d,onHideTooltip:m,pageLayer:h,post:b,authorFlair:x,showSub:C=!1,showTimestamp:_=!0,subredditOrProfile:N,tooltipType:L}=this.props,M=h&&h.meta&&h.meta.name===c.xb.COMMENTS,R=Object(u.a)(b),A=a===B.b.Left,W=b.authorIsContractor&&!!N&&N.type===D.b.EmployeesOnly,H=!s&&!M,V=o.a.createElement(o.a.Fragment,null,!R&&o.a.createElement(J,{style:{color:G(this.props)}},"Posted by"),R&&o.a.createElement(n.Fragment,null,o.a.createElement(g,{className:K.a.crosspostIcon}),o.a.createElement(J,{style:{color:G(this.props)}},"Crossposted by")),x&&A&&o.a.createElement("div",{className:K.a.flairContainer},o.a.createElement(E.b,{disabled:!r,flair:x,forceSmallEmojis:!0,usesCommunityStyles:H})),Object(F.h)(b.author)?o.a.createElement(Q,{post:b,isDeleted:!0,renderContractorBadge:W,style:{color:G(this.props)}}):o.a.createElement(n.Fragment,null,!Object(F.h)(b.author)&&o.a.createElement(v.b,{className:K.a.badge,subredditId:b.belongsTo.id,uniqueIdentifier:"".concat(b.id,"-").concat(s),userId:b.authorId}),o.a.createElement(y.b,{postOrComment:b,tooltipType:L},o.a.createElement(O.b,{ignore:Object(F.h)(b.author)||!!b.distinguishType&&b.distinguishType!==c.B.NONE,subredditId:b.belongsTo.id,userId:b.authorId},o.a.createElement(Q,{post:b,renderContractorBadge:W,style:{color:G(this.props)}})))),x&&!A&&o.a.createElement("div",{className:K.a.flairContainer},o.a.createElement(E.b,{disabled:!r,flair:x,forceSmallEmojis:!0,usesCommunityStyles:H})),b.belongsTo.type===S.a.SUBREDDIT&&!Object(F.h)(b.author)&&o.a.createElement(f.a,{className:K.a.publicWallet,contentId:b.id,subredditId:b.belongsTo.id,userId:b.authorId,username:b.author}));return o.a.createElement("div",{className:Object(i.a)(K.a.container,e)},C&&N&&o.a.createElement(j.a,{postId:b.id,subredditName:N.name,tooltipType:L},o.a.createElement(k.a,{"data-click-id":"subreddit",to:N.url},N.displayText)),N&&N.isQuarantined&&o.a.createElement(P.a,null),C&&!R&&o.a.createElement(z,{className:this.props.metaSeparatorClassName},"•"),b.isSponsored&&o.a.createElement(n.Fragment,null,o.a.createElement(T.a,null),o.a.createElement(z,{className:this.props.metaSeparatorClassName},"•")),V,o.a.createElement(I.e,{post:b}),_&&o.a.createElement("a",{className:K.a.externalLink,"data-click-id":"timestamp",href:b.permalink,id:t,onMouseEnter:this.onShowCreatedTooltip,onMouseLeave:m,style:{color:G(this.props)},target:"_blank",rel:"nofollow noopener"},Object(p.d)(d,b.created/1e3),o.a.createElement(w.c,{caretOnTop:s,tooltipId:t,text:Object(l.a)(b.created)})))}}t.d=q(Object(_.b)(Object(d.a)(Y(Z))))},"./src/reddit/components/ProfileIdCard/Highlight.m.less":function(e,t,s){e.exports={Container:"_2fN55zgax6VM7DyEl9pOmM",container:"_2fN55zgax6VM7DyEl9pOmM",Body:"_3KNaG9-PoXf4gcuy5_RCVy",body:"_3KNaG9-PoXf4gcuy5_RCVy",Title:"_26kBTuLE_sSZzRBwU7HLij",title:"_26kBTuLE_sSZzRBwU7HLij",Label:"_1hNyZSklmcC7R_IfCUcXmZ",label:"_1hNyZSklmcC7R_IfCUcXmZ"}},"./src/reddit/components/ProfileIdCard/Highlights.m.less":function(e,t,s){e.exports={icon:"_2fopwfsUIdZKFtFUEsud9r",Container:"_3odBTM7RqvRgN1nvkf5k8B",container:"_3odBTM7RqvRgN1nvkf5k8B"}},"./src/reddit/components/ProfileIdCard/Preview.m.less":function(e,t,s){e.exports={BannerWrapper:"_2xyDZKy2cesRk-qhNei4mr",bannerWrapper:"_2xyDZKy2cesRk-qhNei4mr",BannerImage:"_39u8lkB0jifV2dCyGxhTst",bannerImage:"_39u8lkB0jifV2dCyGxhTst",SnooIcon:"_39rt5SOMKEB5MI0D3j7M5S",snooIcon:"_39rt5SOMKEB5MI0D3j7M5S",Widget:"_27SH1SRzjtOk_2NB2YC-FR",widget:"_27SH1SRzjtOk_2NB2YC-FR",UserTitle:"_3W1eUu5jHdcamkzFiJDITJ",userTitle:"_3W1eUu5jHdcamkzFiJDITJ",PremiumIcon:"_2LDCmPsDet63TXFgOSOkkT",premiumIcon:"_2LDCmPsDet63TXFgOSOkkT",Description:"bVfceI5F_twrnRcVO1328",description:"bVfceI5F_twrnRcVO1328",userName:"_2hgZVu2K-pvoghsBGGbJ7P",Actions:"GQV0F7lQiMOV6EofzopdJ",actions:"GQV0F7lQiMOV6EofzopdJ",CloseIcon:"t8u6KWjSIjLFBXsDU3u5M",closeIcon:"t8u6KWjSIjLFBXsDU3u5M",LoadingIconStyled:"mtxpTbJWwD6VP05MIdrPa",loadingIconStyled:"mtxpTbJWwD6VP05MIdrPa"}},"./src/reddit/components/ProfileIdCard/Preview.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./src/config.ts"),o=s("./node_modules/react/index.js"),r=s.n(o),a=s("./src/lib/lessComponent.tsx"),i=s("./src/reddit/components/Widgets/Base/index.tsx"),c=s("./src/reddit/controls/InternalLink/index.tsx"),d=s("./src/reddit/controls/LoadingIcon/index.tsx"),l=s("./src/reddit/i18n/utils.ts"),m=s("./src/reddit/icons/svgs/Admin/index.tsx"),p=s("./src/reddit/icons/svgs/Close/index.tsx"),u=s("./src/reddit/icons/svgs/Premium/index.tsx"),h=s("./src/reddit/layout/twoCol/Dynamic/index.tsx"),b=s("./src/reddit/components/ProfileIdCard/AwardedLastMonth.tsx"),g=s("./node_modules/react-redux/es/index.js"),x=s("./node_modules/reselect/es/index.js"),C=s("./src/lib/humanizeDate/index.ts"),v=s("./src/lib/prettyPrintNumber/index.ts"),O=s("./src/lib/timeAgo/index.ts"),E=s("./src/reddit/contexts/InsideOverlay.tsx"),f=s("./src/reddit/icons/svgs/Cake/index.tsx"),y=s("./src/reddit/icons/svgs/Karma/index.tsx"),j=s("./src/reddit/icons/svgs/User/index.tsx"),w=s("./src/reddit/selectors/profile.ts"),I=s("./src/reddit/selectors/user.ts"),P=s("./src/reddit/actions/tooltip.ts"),T=s("./src/reddit/components/InfoTextTooltip/index.tsx"),k=s("./src/reddit/components/ProfileIdCard/Highlight.m.less"),S=s.n(k);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const N=Object(x.c)({language:I.S}),L=a.a.div("Container",S.a),M=a.a.div("Body",S.a),R=a.a.h5("Title",S.a),B=a.a.span("Label",S.a);class A extends r.a.Component{constructor(){super(...arguments),this.toggleTooltip=()=>{const{toggleTooltip:e,tooltipId:t}=this.props;e&&t&&e(t)}}render(){const{icon:e,label:t,title:s,tooltip:n,tooltipId:o}=this.props,a=o&&n?{id:o,onMouseEnter:this.toggleTooltip,onMouseLeave:this.toggleTooltip}:{};return r.a.createElement(L,null,r.a.createElement(R,null,s),r.a.createElement(M,null,e,r.a.createElement(B,_({key:"label"},a),t)),o&&n&&r.a.createElement(T.c,{caretOnTop:!0,tooltipId:o,text:n}))}}var F=Object(g.b)(N,e=>({toggleTooltip:t=>e(Object(P.g)({tooltipId:t}))}))(Object(E.b)(A)),D=s("./src/reddit/components/ProfileIdCard/Highlights.m.less"),W=s.n(D);const H=Object(x.a)(w.j,(e,t)=>{let{profileName:s}=t;return Object(I.kb)(e,s)},I.S,(e,t,s)=>({commentKarma:t?t.commentKarma:0,language:s,postKarma:t?t.postKarma:0,profileCreated:t?t.created:0,subscribers:e&&e.subscribers||0})),V=a.a.div("Container",W.a);function U(e,t){return"profile--id-card--highlight-tooltip-".concat(e?"-overlay":"","-").concat(t)}var K=Object(g.b)(H)(Object(E.b)(e=>{const{profileCreated:t,isOverlay:s,language:n,commentKarma:o,postKarma:a,subscribers:i}=e,c=U(s,"karma"),d=U(s,"cakeday"),m=Object(l.c)("".concat(Object(l.b)("postKarmaNumber",Object(v.b)(a,!0))," Post Karma")),p=Object(l.c)("".concat(Object(l.b)("commentKarmaNumber",Object(v.b)(o,!0))," Comment Karma"));return r.a.createElement(V,null,r.a.createElement(F,{icon:r.a.createElement(y.a,{className:W.a.icon,key:"karma"}),label:Object(v.b)(o+a,!0),title:Object(l.c)("Karma"),tooltipId:c,tooltip:"".concat(m,"\n").concat(p)}),r.a.createElement(F,{icon:r.a.createElement(f.a,{className:W.a.icon,key:"cakeDay"}),label:Object(C.a)(t,!0),title:Object(l.c)("Cake day"),tooltipId:d,tooltip:Object(O.d)(n,t)}),i>0&&r.a.createElement(F,{icon:r.a.createElement(j.a,{className:W.a.icon,key:"followers"}),title:Object(l.c)("Followers"),label:Object(v.b)(i,!0)}))})),G=s("./src/reddit/components/ProfileIdCard/index.m.less"),z=s.n(G),J=s("./src/reddit/components/ProfileIdCard/Preview.m.less"),q=s.n(J);function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}s.d(t,"a",(function(){return de}));var Q=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const Z=a.a.div("BannerWrapper",q.a),X=a.a.div("BannerImage",q.a),$=a.a.div("SnooIcon",q.a),ee=a.a.wrapped(i.b,"Widget",q.a),te=a.a.h4("UserTitle",q.a),se=a.a.wrapped(u.a,"PremiumIcon",q.a),ne=a.a.div("Description",q.a),oe=e=>{var{url:t}=e,s=Q(e,["url"]);return t?r.a.createElement(c.a,Y({},s,{className:q.a.userName,to:t})):r.a.createElement("span",Y({},s,{className:q.a.userName}))},re=a.a.wrapped(h.a,"Actions",q.a),ae=a.a.wrapped(p.a,"CloseIcon",q.a),ie=a.a.wrapped(d.a,"LoadingIconStyled",q.a),ce=()=>r.a.createElement(ie,{sizePx:20});class de extends r.a.PureComponent{renderAwardedLastMonth(){const{recentAwardings:e,username:t}=this.props;return e?r.a.createElement(b.a,{recentAwardings:e,username:t}):null}render(){const{actions:e,bannerBackgroundImage:t,className:s,footer:o,isEmployee:a,isGold:i,isOverlay:c,profileIcon:d,publicDescription:p,title:u,url:h,username:b,isDefaultIcon:g,isDeletingIcon:x,isDeletingBanner:C,onDeleteIcon:v,onDeleteBanner:O,editMode:E}=this.props;return r.a.createElement(ee,{className:s},r.a.createElement(Z,null,t&&r.a.createElement(X,{style:{backgroundImage:"url(".concat(t,")")}}),E&&t&&(C?r.a.createElement(ce,null):r.a.createElement(ae,{onClick:O}))),r.a.createElement("div",{className:z.a.SnooIconWrapper},r.a.createElement($,{style:{backgroundImage:"url(".concat(d,")")}}),E&&!g&&(x?r.a.createElement(ce,null):r.a.createElement(ae,{onClick:v}))),u&&r.a.createElement(te,null,u),r.a.createElement(oe,{url:h},"u/".concat(b)),a&&r.a.createElement(m.a,{className:z.a.adminIcon,title:Object(l.c)("Reddit admin")}),i&&r.a.createElement("a",{title:Object(l.c)("".concat(Object(l.b)("username",b)," has Reddit Premium")),href:"".concat(n.a.redditUrl,"/premium")},r.a.createElement(se,null)),r.a.createElement(ne,null,p),r.a.createElement(K,{profileName:b,isOverlay:c}),this.renderAwardedLastMonth(),r.a.createElement(re,null,e),o)}}},"./src/reddit/components/ProfileIdCard/footer.m.less":function(e,t,s){e.exports={container:"_2jvbIljd1r6tRUsfoDij_y",expandContainer:"_1HKW6ri9nK1INtj09BfFfM",expandButton:"_34I-V8v9TxMwIW1R6Rbi3A",menuItem:"_2j70PtPj9zrWOU8NshwTg-",redditStyle:"_38vTQxawhhbbhD8rZc36N5",givePremium:"_7kzwf5CKQ1ZMORHN3w7Cm",Shimmer:"_1-2CAwx45SgG4EsI1-GWZh",shimmer:"_1-2CAwx45SgG4EsI1-GWZh"}},"./src/reddit/components/ProfileIdCard/index.tsx":function(e,t,s){"use strict";var n=s("./src/config.ts"),o=s("./node_modules/react/index.js"),r=s.n(o),a=s("./node_modules/react-redux/es/index.js"),i=s("./node_modules/reselect/es/index.js"),c=s("./src/reddit/actions/subscription/index.ts"),d=s("./src/reddit/components/ChatButton/index.tsx"),l=s("./src/reddit/components/ProfileIdCard/Preview.tsx"),m=s("./src/reddit/components/TrackingHelper/index.tsx"),p=s("./src/reddit/constants/posts.ts"),u=s("./src/reddit/controls/Button/index.tsx"),h=s("./src/reddit/featureFlags/index.ts"),b=s("./src/reddit/i18n/components.tsx"),g=s("./src/reddit/selectors/platform.ts"),x=s("./src/reddit/selectors/profile.ts"),C=s("./src/reddit/selectors/structuredStyles.ts"),v=s("./src/reddit/selectors/tooltip.ts"),O=s("./src/reddit/selectors/user.ts"),E=(s("./node_modules/core-js/modules/es6.symbol.js"),s("./node_modules/lodash/compact.js")),f=s.n(E),y=s("./src/lib/classNames/index.ts"),j=s("./src/reddit/actions/gold/modals.ts"),w=s("./src/reddit/actions/profile/index.ts"),I=s("./src/higherOrderComponents/makeAsync.tsx"),P=s("./src/lib/loadWithRetries/index.ts");var T=Object(I.a)({getComponent:()=>Object(P.a)(()=>s.e("GivePremiumModal").then(s.bind(null,"./src/reddit/components/GivePremiumModal/index.tsx"))).then(e=>e.default),ErrorComponent:()=>null,LoadingComponent:()=>null}),k=s("./src/reddit/controls/InternalLink/index.tsx"),S=s("./src/reddit/controls/OutboundLink/index.tsx"),_=s("./src/reddit/helpers/correlationIdTracker.ts"),N=s("./src/reddit/helpers/styles/mixins/loading.ts"),L=s("./src/reddit/i18n/utils.ts"),M=s("./src/reddit/models/Gold/Premium/index.ts"),R=s("./src/reddit/selectors/premium.ts"),B=s("./src/reddit/components/ProfileIdCard/footer.m.less"),A=s.n(B);function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var D=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const W=Object(i.c)({areModeratedSubredditsPending:x.a,coinsToSpend:O.d,givePremiumModalIsOpen:R.c,hasFetchedModerators:x.k,isEmployee:O.G,isLoggedIn:O.J,language:O.S}),H=e=>{var{isLoading:t}=e,s=D(e,["isLoading"]);return r.a.createElement("div",F({},s,{className:Object(y.a)(A.a.Shimmer,Object(N.b)({isLoading:t}))}))};class V extends r.a.Component{constructor(){super(...arguments),this.state={expanded:!1},this.clickGivePremium=async()=>{const{onClickGivePremium:e,sendEvent:t}=this.props;Object(_.d)(_.a.GiftPremiumFlow),e();const{clickGivePremiumEvent:n}=await s.e("givePremiumTrackers").then(s.bind(null,"./src/reddit/helpers/trackers/givePremium.ts"));t(n())},this.moreOptionsToggled=()=>{!this.state.expanded&&this.canLoadMods()&&this.props.onModeratorsRequested(),this.setState(e=>{let{expanded:t}=e;return{expanded:!t}})}}canLoadMods(){return this.props.isLoggedIn&&!this.props.isOwnProfile&&!this.props.hasFetchedModerators&&!this.props.areModeratedSubredditsPending}isLoadingMods(){return this.props.isLoggedIn&&!this.props.isOwnProfile&&(!this.props.hasFetchedModerators||this.props.areModeratedSubredditsPending)}render(){const{hasSubreddit:e,coinsToSpend:t,givePremiumModalIsOpen:s,isLoggedIn:o,isOwnProfile:a,profileName:i,allowViewSnoovatar:c,isEmployee:d,isModerator:l}=this.props,{expanded:m}=this.state,p=function(e){let{allowViewSnoovatar:t,hasSubreddit:s,isOwnProfile:o,isModerator:r,profileName:a}=e;return f()([(o||r)&&s?{text:Object(L.c)("Profile Moderation"),url:"/user/".concat(a,"/about/edit/moderation"),isInternalLink:!0}:void 0,o?void 0:{text:Object(L.c)("Send Message"),url:"".concat(n.a.redditUrl,"/message/compose/?to=").concat(a)},!o&&t?{text:Object(L.c)("View Snoovatar"),url:"".concat(n.a.redditUrl,"/user/").concat(a,"/snoo")}:void 0,o?void 0:{text:Object(L.c)("Report User"),url:"https://www.reddithelp.com/en/categories/rules-reporting/account-and-community-restrictions/what-should-i-do-if-i-see-something-i"}])}({allowViewSnoovatar:c,hasSubreddit:e,isOwnProfile:a,isModerator:l,profileName:i}),h=o&&Object(M.b)(t,d).length&&!a||d;if(0===p.length&&!h)return null;const g=(m?p:[]).map(e=>e.isInternalLink?r.a.createElement(k.a,{key:e.url,to:e.url,className:A.a.menuItem},e.text):r.a.createElement(S.a,{key:e.url,href:e.url,isSponsored:!1,source:void 0,className:A.a.menuItem},e.text));if(this.state.expanded&&h){const e=r.a.createElement("button",{className:Object(y.a)(A.a.menuItem,A.a.givePremium),key:"give-premium",onClick:this.clickGivePremium},r.a.createElement(b.c,null,"Give Premium"));g.length?g.splice(1,0,e):g.unshift(e)}this.state.expanded&&this.isLoadingMods()&&(g.unshift(r.a.createElement("div",{className:A.a.menuItem,key:"loading-1"},r.a.createElement(H,{isLoading:this.props.areModeratedSubredditsPending}))),g.unshift(r.a.createElement("div",{className:A.a.menuItem,key:"loading-2"},r.a.createElement(H,{isLoading:this.props.areModeratedSubredditsPending}))));const x=m?Object(L.c)("Fewer Options"):Object(L.c)("More Options");return r.a.createElement("div",{className:A.a.container},g,r.a.createElement("div",{className:A.a.expandContainer},r.a.createElement(u.n,{className:A.a.expandButton,onClick:this.moreOptionsToggled},x)),s&&r.a.createElement(T,null))}}var U=Object(a.b)(W,(e,t)=>{let{profileName:s}=t;return{onClickGivePremium:()=>e(Object(j.e)(s)),onModeratorsRequested:()=>e(Object(w.b)(s))}})(V);var K=s("./src/reddit/components/ProfileIdCard/index.m.less"),G=s.n(K);const z=Object(i.c)({account:O.i,activeTooltipId:v.a,currentUserHasSubreddit:O.g,hideNSFWPref:O.z,isModerator:x.f,profile:x.j,profileAboutInfo:x.h,structuredStyle:(e,t)=>Object(C.n)(e,Object(x.m)(e,t.profileName)),userHasSubreddit:(e,t)=>{let{profileName:s}=t;return Object(O.ib)(e,{userName:s})},userInChat:h.d.userInChat,user:(e,t)=>{let{profileName:s}=t;return Object(O.hb)(e,{userName:s})},page:g.b}),J=e=>{let{username:t,currentUserHasSubreddit:s}=e;return r.a.createElement("div",{className:G.a.actionItem},r.a.createElement(u.h,{className:G.a.button,to:s?"/user/".concat(t,"/submit"):"/submit"},r.a.createElement(b.c,null,"New post")))},q=e=>{let{profileName:t,onToggleFollow:s,userIsSubscriber:n}=e;return r.a.createElement("div",{className:G.a.actionItem},n?r.a.createElement(u.i,{className:G.a.button,onClick:()=>s(t,n)},r.a.createElement(b.c,null,"Unfollow")):r.a.createElement(u.f,{className:G.a.button,onClick:()=>s(t,n)},r.a.createElement(b.c,null,"Follow")))},Y=e=>{let{userId:t}=e;return r.a.createElement("div",{className:G.a.actionItem},r.a.createElement(d.a,{contextId:t,className:G.a.button,userId:t},r.a.createElement(b.c,null,"Chat")))};t.a=Object(a.b)(z,e=>({onToggleFollow:(t,s)=>e(Object(c.d)([{name:t,type:p.a.PROFILE}],!s))}))(Object(m.b)(e=>{const{account:t,currentUserHasSubreddit:s,hideNSFWPref:o,isModerator:a,isOverlay:i,isSubmissionPage:c,onToggleFollow:d,profile:m,profileAboutInfo:p,sendEvent:u,structuredStyle:h,userHasSubreddit:b,userInChat:g,user:x,page:C}=e;if(!x)return null;const{accountIcon:v,awardedLastMonth:O,id:E,isEmployee:f,isGold:y,prefShowSnoovatar:j,username:w}=x,I=!!t&&t.id===E,P=h&&h.bannerBackgroundImage,T=m&&m.isNSFW&&o,k=!(!p||!p.userIsSubscriber),S="/user/".concat(w,"/"),_=C&&C.url===S;return r.a.createElement(l.a,{isEmployee:f,isGold:y,isOverlay:i,publicDescription:p?p.publicDescription:void 0,title:m?m.title:void 0,url:_?null:S,username:w,recentAwardings:O,actions:r.a.createElement(r.a.Fragment,null,I&&!c&&J({username:w,currentUserHasSubreddit:s}),!I&&b&&q({profileName:w,onToggleFollow:d,userIsSubscriber:k}),!!t&&!I&&g&&Y({userId:E})),footer:r.a.createElement(U,{hasSubreddit:b,isModerator:a,isOwnProfile:I,allowViewSnoovatar:j,profileName:w,sendEvent:u}),profileIcon:T?"".concat(n.a.assetPath,"/img/avatar_over18_square.png"):v,bannerBackgroundImage:T?void 0:P})}))},"./src/reddit/components/RailsWidgets/WidgetTitle/index.m.less":function(e,t,s){e.exports={Container:"Pr5bGphZnd_UYC5p4gJCD",container:"Pr5bGphZnd_UYC5p4gJCD",PopularIcon:"_2uzMzf2xHgtXHeHKoewIn9",popularIcon:"_2uzMzf2xHgtXHeHKoewIn9"}},"./src/reddit/components/RailsWidgets/WidgetTitle/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/components/SEOTitle/index.tsx"),i=s("./src/reddit/icons/svgs/Popular/index.tsx"),c=s("./src/reddit/components/RailsWidgets/WidgetTitle/index.m.less"),d=s.n(c);t.a=e=>{const{children:t,className:s,showIcon:n}=e;return o.a.createElement("div",{className:Object(r.a)(d.a.Container,s)},n&&o.a.createElement(i.a,{className:d.a.PopularIcon}),o.a.createElement(a.b,{type:a.a.Widget},t))}},"./src/reddit/components/RecommendedPostList/Footer/index.m.less":function(e,t,s){e.exports={footer:"_1khvWSB4GNuM2XwSjluHzO",background:"_3P_3k_jLv_J8ieIol9GqFL",layout:"_3CzLjB_82xAxB3iyad5yLM",arrow:"_3P6Ag4hY0u5ujhvLSAAVUH"}},"./src/reddit/components/RecommendedPostList/index.m.less":function(e,t,s){e.exports={topPostsHeader:"_1UbFWXvPTlrPngGxKndM-h",smallBanner:"_3O03kg0NTHcVFAyOQNoptz",footer:"Cvt0D6iVwU5TI0SY2nIGC",textBanner:"_1_-Wwc76dn19ch_lxyp8hf",container:"_2l7c_Oz0UVsamALvPrlznq",redditStyle:"_3f1Tk2rNUQGOPokixOdO6a",homeUpsellBanner:"HxVtNYGfeayfU1THFnAzK",homeUpsellBannerBorder:"_3afoK8x8kiKzCgwyofmvxu",postList:"_13FxmZ1xHIcRd_CuOaiyfo",loadMore:"_2gnvYSohivzo1V12YQI8DY"}},"./src/reddit/components/RichTextEditor/Placeholder.m.less":function(e,t,s){e.exports={content:"_3Yo9aCwUoJBBuPKwf3r5cP",prompt:"_3CuuiBuYvA4VXTClabDCUK",toolbar:"_31gqZmjkDlF5-81EKQ7w_Y",topToolbar:"_6rO7u4xvTeWjMNR68asbw",bottomToolbar:"_2Qh8N3s0Z7NWIPCVBDCcxH"}},"./src/reddit/components/RichTextEditor/Placeholder.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/components/FocusableContent/index.tsx"),i=s("./src/reddit/helpers/styles/mixins/loading.ts"),c=s("./src/reddit/components/RichTextEditor/Placeholder.m.less"),d=s.n(c);t.a=e=>{let{className:t,isLoading:s,toolbarPosition:n}=e;return o.a.createElement("div",{className:t},o.a.createElement(a.a,{isFocused:!1},"top"===n&&o.a.createElement("div",{className:Object(r.a)(d.a.toolbar,d.a.topToolbar,Object(i.a)({isLoading:s}))}),o.a.createElement("div",{className:d.a.content},o.a.createElement("div",{className:Object(r.a)(d.a.prompt,Object(i.a)({isLoading:!0}))})),"bottom"===n&&o.a.createElement("div",{className:Object(r.a)(d.a.toolbar,d.a.bottomToolbar,Object(i.a)({isLoading:s}))})))}},"./src/reddit/components/RichTextJsonChatReply/index.m.less":function(e,t,s){e.exports={Container:"qqC8Lcm050i_jAM3CePWY",container:"qqC8Lcm050i_jAM3CePWY"}},"./src/reddit/components/RichTextJsonChatReply/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/components/RichTextJson/index.tsx"),i=s("./src/reddit/components/RichTextJson/elements.tsx"),c=s("./src/reddit/components/RichTextJson/renderers.tsx"),d=s("./src/reddit/models/RichTextJson/index.ts");const l=e=>o.a.createElement(i.f,null,e),m=e=>{const t=[],s=e.c||[],n=s.length;for(let o=0;o<n;o++){const e=s[o];t.push(e.e===d.w?e.t:Object(c.e)(e,{},o))}return o.a.createElement(o.a.Fragment,null,t)},p=e=>e.c&&e.c.length?o.a.createElement(o.a.Fragment,null,Object(c.i)(e.c,null,{})):o.a.createElement("br",null);var u=s("./src/reddit/constants/elementClassNames.ts"),h=s("./src/reddit/components/RichTextJsonChatReply/index.m.less"),b=s.n(h);const g=s("./src/lib/lessComponent.tsx").a.div("Container",b.a),x={[d.a]:"<animated image>",[d.b]:"<quote>",[d.c]:"<code block>",[d.h]:"<embed>",[d.m]:"<image>",[d.p]:"<list>",[d.z]:"<table>",[d.D]:"<video>"};t.a=e=>{const{className:t,content:s}=e,n=s.document,i=[],c=Object(a.b)(n),h=Object(a.c)(n);if(-1!==c)for(let o=c;o<=h;o++){const e=n[o],t=e&&x[e.e];switch(e.e){case d.l:break;case d.b:case d.c:case d.p:case d.z:case d.m:case d.a:case d.D:case d.h:i.push(l(t));break;case d.k:i.push(m(e));break;case d.u:i.push(p(e))}}return o.a.createElement(g,{className:Object(r.a)(u.k,t)},i)}},"./src/reddit/components/SearchDiscoveryUnits/TrendingPosts/Post/index.m.less":function(e,t,s){e.exports={bodyWrapper:"TRQWddBXkEbkcG_ubUuna",mediaWrapper:"_1Gl3uwbMHh5VhlU0JATHu0",textWrapper:"YH565aQWcKKY53qc9qHsm",meta:"_363wpVC6QeLO7Vq0SwQcOg",metaWrapper:"_232eNhzD3iKHOssx14WnYG",thumbnail:"_3ot5Uav1x5Oa8hH19Mlogk",trendingPost:"_3GfG_jvS9X-90Q_8zU4uCu","m-background":"_3Y1KnhioRYkYGb93uAKhBZ",mBackground:"_3Y1KnhioRYkYGb93uAKhBZ",flatlist:"_2i5CgtwVkYOwV-M92BNHuo",title:"_10WwrR6QeKoqfxT3UBj0Qq",titleNoDescription:"_2RETtzv0N74uYf3vCRgQsj",spacer:"dnGYcjdXDdH17kki2-FYy",description:"_2Jjv0TAohMSydVpAgyhjhA",flexSpacer:"_2X1uOOj7bjYyM2hV3o5Eou",flair:"_1efPRBcLSuPJJM0TacTA5c",backgroundWrapper:"_3HD3Y7jXWPyFxKKnIJCHq3",innerContainer:"_UTUAdpYopauDszuTA48r",relatedSubredditMetaData:"_2JhihdjWU24No-68VLJ7D-",subredditIcon:"_2Gqx0g4kdUGTdMQSR1fSfC",promoted:"_24W4uRK86b7o0CPxNTzhIW"}},"./src/reddit/components/SearchDiscoveryUnits/TrendingPosts/Post/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/polished/dist/polished.es.js"),o=s("./node_modules/react/index.js"),r=s.n(o),a=s("./src/lib/addQueryParams/index.ts"),i=s("./src/lib/classNames/index.ts"),c=s("./src/lib/CSSVariableProvider/withTheme.tsx"),d=s("./src/lib/permalinkToOverlayLocation/index.ts"),l=s("./src/lib/prettyPrintNumber/index.ts"),m=s("./src/reddit/components/FlairWrapper/index.tsx"),p=s("./src/reddit/components/MiniCardPost/index.tsx"),u=s("./src/reddit/components/Translated/index.tsx"),h=s("./src/reddit/components/TrendingSearches/TrendingItemViewability.tsx"),b=s("./src/reddit/contexts/PageLayer/index.tsx"),g=s("./src/reddit/controls/InternalLink/index.tsx"),x=s("./src/reddit/controls/Search/RelatedSubredditMetaData.tsx"),C=s("./src/reddit/helpers/name/index.ts"),v=s("./src/reddit/i18n/components.tsx"),O=s("./src/reddit/models/Flair/index.ts"),E=s("./src/reddit/models/Theme/index.ts"),f=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),y=s("./src/reddit/components/MiniCardPost/index.m.less"),j=s.n(y),w=s("./src/reddit/components/SearchDiscoveryUnits/TrendingPosts/Post/index.m.less"),I=s.n(w);const P=e=>e.type===O.f.Spoiler,T=Object(b.t)();t.a=T(Object(p.a)(Object(c.a)(e=>{const{backgroundWrapperClassName:t,descriptionClassName:s,innerContainerClassName:o,onPostClick:c,trendingPost:p,trendingSearch:b,shouldOpenPost:O,showSubredditMeta:y=!0,showSubredditName:w,subredditOrProfile:T}=e,k=p&&p.preview&&p.preview.url||void 0,S=p&&p.isSponsored?"promoted_trend":"trending",_=p&&Object(d.a)(p.permalink)||"",N=O&&_||b&&Object(a.a)("/search",{q:b.rawQuery,source:S})||_,L=b?b.subredditInfo&&b.subredditInfo.icon:T&&T.icon.url,M=b?b.subredditInfo&&b.subredditInfo.displayText:T&&(T.displayText||T.name),R=p?p.flair.filter(P):[],B=p?p.score:0,A=p?p.numComments:0,F=p&&p.isSponsored,D=Object(f.a)(e).body,W="linear-gradient(\n      ".concat(Object(n.j)(D,.2),",\n      ").concat(Object(n.j)(D,.3),",\n      ").concat(Object(n.j)(D,.4),",\n      ").concat(Object(n.j)(D,.6),",\n      ").concat(Object(n.j)(D,.8),",\n      ").concat(D,"\n    )"),H=r.a.createElement("div",{className:Object(i.a)(I.a.trendingPost,{[I.a["m-background"]]:!!k})},r.a.createElement(g.a,{to:N},r.a.createElement("div",{className:Object(i.a)(I.a.backgroundWrapper,j.a.backgroundWrapper,t),style:{background:Object(E.g)(Object(f.a)(e).body,k||Object(f.a)(e).banner.backgroundImage,"cover"),"--SearchDiscoveryUnits-TrendingPosts-Post-background":W}},F&&r.a.createElement("div",{className:I.a.promoted},r.a.createElement(v.c,null,"promoted")),r.a.createElement("div",{className:Object(i.a)(I.a.innerContainer,j.a.innerContainer,o),onClick:c},r.a.createElement("h2",{className:p?I.a.title:I.a.titleNoDescription},e.title),p?r.a.createElement("div",{className:Object(i.a)(I.a.description,s)},R.length>0&&r.a.createElement(m.a,{className:I.a.flair,titleFlair:R,nowrap:!0,post:p,showCategoryTag:!1}),p.title):r.a.createElement("div",{className:I.a.spacer}),y&&L&&M&&r.a.createElement(x.a,{className:I.a.relatedSubredditMetaData,iconClassName:I.a.subredditIcon,iconUrl:L||void 0,suffix:r.a.createElement(u.a,{msgId:"search.subredditMetaData.andMore",replacements:{displayText:M}})}),!y&&p&&r.a.createElement("div",{className:I.a.metaLine},w&&M&&r.a.createElement("span",{className:I.a.meta},Object(C.b)(M)),r.a.createElement("span",{className:I.a.meta},r.a.createElement(v.c,null,"".concat(Object(l.b)(B)," "),r.a.createElement(v.a,{count:B,name:"score",plural:"points",singular:"point"}))),r.a.createElement("span",{className:I.a.meta},r.a.createElement(v.c,null,"".concat(Object(l.b)(A)," "),r.a.createElement(v.a,{count:A,name:"numComments",plural:"comments",singular:"comment"}))))))));return F?r.a.createElement(h.a,{post:p,children:H}):H})))},"./src/reddit/components/SidebarAd/BaseSidebarAdDoNotUseOrYoureFired.m.less":function(e,t,s){e.exports={sideBarStyle:"wYQbYt3FNY5w9oBiYrHzv",BannerAd:"_2UMQXLQOtNVy_JO9ghou6",bannerAd:"_2UMQXLQOtNVy_JO9ghou6",ThemedWidget:"avKlJzxZU3brq4nAX0_i1",themedWidget:"avKlJzxZU3brq4nAX0_i1",SidebarAdPlaceholder:"NqMdak8MgbuSVZAABdAw9",sidebarAdPlaceholder:"NqMdak8MgbuSVZAABdAw9"}},"./src/reddit/components/SidebarAd/BaseSidebarAdDoNotUseOrYoureFired.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/app/strings/index.ts"),c=s("./src/reddit/components/BannerAd/index.tsx"),d=s("./src/config.ts"),l=s("./node_modules/lodash/random.js"),m=s.n(l),p=s("./src/reddit/components/FakeBannerAd/index.m.less"),u=s.n(p),h=s("./src/lib/lessComponent.tsx");const b=h.a.div("BannerContainer",u.a),g=h.a.wrapped(e=>o.a.createElement("img",{className:e.className,src:e.src}),"FakeBannerAdImage",u.a),x=[{img:"/img/house-ads/btc.png",href:"/r/btc"},{img:"/img/house-ads/campfirecooking.png",href:"/r/campfirecooking"},{img:"/img/house-ads/casualconversation.png",href:"/r/casualconversation"},{img:"/img/house-ads/fantrailers.png",href:"/r/fantrailers"},{img:"/img/house-ads/rubberducks.png",href:"/r/advertising"},{img:"/img/house-ads/casualconversation.png",href:"/r/casualconversation"},{img:"/img/house-ads/fantrailers.png",href:"/r/fantrailers"},{img:"/img/house-ads/imaginarycolorscapes.png",href:"/r/imaginarycolorscapes"},{img:"/img/house-ads/imaginarydragons.png",href:"/r/imaginarydragons"},{img:"/img/house-ads/oldschoolcelebs.png",href:"/r/oldschoolcelebs"}];var C=()=>{const e=m()(0,x.length-1),{img:t,href:s}=x[e];return o.a.createElement(b,{className:"GoogleAd HomeAds InArticleAd LeftAd SidebarAd ad-300-250 ad-banner adbar adbox1 ads-area adsense-ad box_ad googad","data-before-content":Object(i.a)("en","sidebar.sponsored")},o.a.createElement("a",{href:d.a.redditUrl+s,target:"_blank"},o.a.createElement(g,{src:d.a.assetPath+t})))},v=s("./src/lib/constants/index.ts"),O=s("./src/reddit/components/PostMedia/index.tsx"),E=s("./src/reddit/components/PostTitle/index.tsx"),f=s("./src/reddit/components/PostTopMeta/index.tsx"),y=s("./src/lib/CSSVariableProvider/withTheme.tsx"),j=s("./src/lib/getShortenedLink.ts"),w=s("./src/lib/opener/index.ts"),I=s("./src/reddit/actions/ads/index.ts"),P=s("./src/reddit/components/PostContainer/index.tsx"),T=s("./src/reddit/constants/adEvents.ts"),k=s("./src/reddit/contexts/InsideOverlay.tsx"),S=s("./src/reddit/controls/OutboundLink/styled.tsx"),_=s("./src/reddit/helpers/adCount/index.ts"),N=s("./src/reddit/helpers/pixels.ts"),L=s("./src/reddit/helpers/styles/postBackgroundColor.ts"),M=s("./src/reddit/helpers/styles/smartTextColor.ts"),R=s("./src/reddit/helpers/truncateStringWithEllipsis.ts"),B=s("./src/reddit/icons/fonts/OutboundLink/index.tsx"),A=s("./src/reddit/models/NewStructuredStyles/index.ts"),F=s("./src/reddit/models/Theme/index.ts"),D=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),W=s("./src/reddit/models/Media/index.ts"),H=s("./src/reddit/components/NativeBannerAd/index.m.less"),V=s.n(H);const U=h.a.wrapped(e=>o.a.createElement("img",{className:e.className,src:e.src}),"BannerAdImage",V.a);class K extends o.a.Component{render(){const{post:e}=this.props;if(!e.media)return null;const t=e.media&&!Object(W.E)(e.media)?e.media.content:"",{type:s}=e.media;if(!t||!s)return null;switch(s){case v.eb.IMAGE:return o.a.createElement(U,{src:t});default:return null}}}var G=s("./src/reddit/components/SidebarNativeAd/index.m.less"),z=s.n(G);const J=h.a.wrapped(f.d,"PostTopMeta",z.a),q=h.a.div("BannerAdContainer",z.a),Y=e=>{let{children:t}=e;return o.a.createElement("div",null,t)},Q=h.a.div("PromotedPostContainer",z.a),Z=h.a.wrapped(B.a,"OutboundLinkIcon",z.a),X=h.a.div("SourceLinkWrapper",z.a),$=h.a.div("TopLine",z.a),ee=h.a.wrapped(E.c,"PostTitle",z.a),te=h.a.div("PostMediaWrapper",z.a),se=h.a.div("BackgroundWrapper",z.a),ne=h.a.wrapped(P.a,"PostContainer",z.a),oe=640,re=(e,t)=>{Object(N.a)(t.events,T.a.Click),t.source?t.source.outboundUrl?Object(w.c)(t.source.outboundUrl,w.b.BLANK):Object(w.c)(t.source.url,w.b.BLANK):Object(w.c)(t.permalink,w.b.BLANK)},ae=e=>Object(R.a)(e.title,100),ie=e=>{if(e.post.isMediaOnly)return{};const t=Object(M.a)(Object(L.a)(e),A.a.actionIcon,A.b.actionIcon);return{color:t,fill:t}},ce=e=>({background:Object(F.g)(Object(D.a)(e).body,null,null)||""});class de extends o.a.Component{constructor(){super(...arguments),this.refreshedAt=1/0}refresh(e){this.refreshedAt=Date.now(),this.props.refreshSidebarPromotedPost()}componentDidMount(){this.refreshedAt=Date.now()}componentWillReceiveProps(e){this.props.refreshKey!==e.refreshKey&&Date.now()-this.refreshedAt>6e3&&this.refresh(e)}render(){const{post:e,className:t,eventFactory:s,isOverlay:n}=this.props;let r,a,c={};return e.isBlank?(r=Y,a=null):e.isMediaOnly?(r=q,c={"data-before-content":Object(i.a)("en","sidebar.sponsored")},a=o.a.createElement(K,{post:e})):(r=Q,a=o.a.createElement(se,{style:ce(this.props)},o.a.createElement($,null,o.a.createElement(J,{tooltipType:n?f.c.Lightbox:void 0,language:v.y,post:e,showTimestamp:!1})),o.a.createElement(ee,{post:e,size:E.b.Large,format:ae}),e.source&&o.a.createElement(X,null,o.a.createElement(S.a,{href:e.source.url,isSponsored:!0,source:e.source},Object(j.a)(e),o.a.createElement(Z,null))),o.a.createElement(te,null,e.media&&o.a.createElement(O.a,{isListing:!0,isNotCardView:!0,showCentered:!0,post:e,availableWidth:oe,shouldLoad:!0})))),o.a.createElement(r,c,o.a.createElement(ne,{className:t,isOverlay:n,post:e,onClick:re,eventFactory:s,style:ie(this.props)},a))}}var le=Object(r.b)(null,(e,t)=>({refreshSidebarPromotedPost:()=>{const{placement:s,placementIndex:n,isOverlay:o}=t;e(Object(I.c)(Object(_.a)(s,!!o,n)))}}))(Object(k.b)(Object(y.a)(de))),me=s("./src/reddit/components/SidebarSpacer/index.tsx"),pe=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),ue=s("./src/reddit/components/SidebarAd/BaseSidebarAdDoNotUseOrYoureFired.m.less"),he=s.n(ue);const be=Object(a.c)({post:(e,t)=>{const{placement:s,placementIndex:n}=t,o=!!t.isOverlay;return e.sidebarPromotedPosts.models[Object(_.a)(s,o,n)]},pending:e=>!e.sidebarPromotedPosts.firstFetch}),ge=Object(r.b)(be),xe=h.a.wrapped(c.a,"BannerAd",he.a),Ce=h.a.wrapped(pe.a,"ThemedWidget",he.a),ve=h.a.div("SidebarAdPlaceholder",he.a),Oe=(e,t,s)=>{let n="";return t&&(n+="overlay-"),n+="sidebar-".concat(e),null!=s&&(n+="-".concat(s)),n},Ee=e=>!(!e||e.isBlank)&&(!e.isMediaOnly||!!(e.media&&Object(W.B)(e.media)&&e.media.content)),fe=e=>!!e&&e.isBlank;class ye extends o.a.Component{render(){const{className:e,pending:t,post:s,isOverlay:n,placementIndex:r,refreshKey:a,listingName:c,placement:d,sizes:l,position:m,redditStyle:p,forcePlaceholder:u,forceHouseAd:h,waitForProgrammatic:b}=this.props;return u||t||!Ee(s)&&b?o.a.createElement(me.a,null,o.a.createElement(Ce,{className:e,contentOnly:!0,redditStyle:p},o.a.createElement(ve,{"data-before-content":Object(i.a)("en","sidebar.sponsored")}))):h?o.a.createElement(me.a,null,o.a.createElement(C,null)):Ee(s)?o.a.createElement(me.a,null,o.a.createElement(le,{post:s,refreshKey:a,listingName:c,placement:d,placementIndex:r})):o.a.createElement(me.a,null,o.a.createElement(Ce,{className:this.props.className,contentOnly:!0,redditStyle:p},fe(s)&&o.a.createElement(le,{post:s,refreshKey:a,listingName:c,placement:d,placementIndex:r}),o.a.createElement(xe,{id:Oe(d,n,r),sizes:l,placement:d,listingName:c,refreshKey:a,position:m,dataBeforeContent:Object(i.a)("en","sidebar.sponsored")})))}}t.a=ge(ye)},"./src/reddit/components/SidebarFlairSettings/index.m.less":function(e,t,s){e.exports={badge:"_2a172ppKObqWfRHr8eWBKV",FlairSettingsContainer:"_39-woRduNuowN7G4JTW4I8",flairSettingsContainer:"_39-woRduNuowN7G4JTW4I8",FlairPreview:"_3AOoBdXa2QKVKqIEmG7Vkb",flairPreview:"_3AOoBdXa2QKVKqIEmG7Vkb",EditPencil:"vzEDg-tM8ZDpEfJnbaJuU",editPencil:"vzEDg-tM8ZDpEfJnbaJuU",PreviewTitle:"r51dfG6q3N-4exmkjHQg_",previewTitle:"r51dfG6q3N-4exmkjHQg_",FlairComponent:"_2ygXHcy_x6RG74BMk0UKkN",flairComponent:"_2ygXHcy_x6RG74BMk0UKkN",TertiaryButton:"_2BnLYNBALzjH6p_ollJ-RF",tertiaryButton:"_2BnLYNBALzjH6p_ollJ-RF",IconButton:"_1-25VxiIsZFVU88qFh-T8p",iconButton:"_1-25VxiIsZFVU88qFh-T8p",Username:"_3BmRwhm18nr4GmDhkoSgtb",username:"_3BmRwhm18nr4GmDhkoSgtb"}},"./src/reddit/components/SidebarFooter/index.m.less":function(e,t,s){e.exports={Widget:"_2wqyhtudP4weVGsZdVXJgt",widget:"_2wqyhtudP4weVGsZdVXJgt",LinkContainer:"_1KrMye71CT332tKKKUWAj6",linkContainer:"_1KrMye71CT332tKKKUWAj6",Column:"_3f2nSSsPBqVDV6Sz82qgrR",column:"_3f2nSSsPBqVDV6Sz82qgrR",Title:"_1vz56LM7gHPdkhUYbx7YoJ",title:"_1vz56LM7gHPdkhUYbx7YoJ",Link:"_3Eyh3vRo5o4IfzVZXhaWAG",link:"_3Eyh3vRo5o4IfzVZXhaWAG",Legal:"_2mxcijCp8JSi_h_m9WTLTq",legal:"_2mxcijCp8JSi_h_m9WTLTq",LegalLinks:"_3CE1CqJij2M3IbykvmobfP",legalLinks:"_3CE1CqJij2M3IbykvmobfP",LegalLink:"gY4PcvdDXqLzp7GDX3SEi",legalLink:"gY4PcvdDXqLzp7GDX3SEi"}},"./src/reddit/components/SidebarFooter/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/lessComponent.tsx"),a=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),i=s("./src/reddit/i18n/components.tsx"),c=s("./src/reddit/components/SidebarFooter/index.m.less"),d=s.n(c);const l=r.a.a("Link",d.a),m=r.a.div("Legal",d.a),p=r.a.a("LegalLink",d.a);t.a=e=>o.a.createElement(a.a,{className:d.a.Widget,redditStyle:e.redditStyle,contentOnly:!0},o.a.createElement("div",{className:d.a.LinkContainer},o.a.createElement("div",{className:d.a.Column},o.a.createElement("div",{className:d.a.Title},"Reddit"),o.a.createElement(l,{href:"https://about.reddit.com"},o.a.createElement(i.c,null,"about")),o.a.createElement(l,{href:"https://about.reddit.com/careers/"},o.a.createElement(i.c,null,"careers")),o.a.createElement(l,{href:"https://about.reddit.com/press/"},o.a.createElement(i.c,null,"press")),o.a.createElement(l,{href:"https://www.redditinc.com/advertising"},o.a.createElement(i.c,null,"advertise")),o.a.createElement(l,{href:"http://www.redditblog.com/"},o.a.createElement(i.c,null,"blog"))),o.a.createElement("div",{className:d.a.Column},o.a.createElement("div",{className:d.a.Title},"Using Reddit"),o.a.createElement(l,{href:"https://www.reddithelp.com"},o.a.createElement(i.c,null,"help")),o.a.createElement(l,{href:"https://www.reddit.com/mobile/download"},o.a.createElement(i.c,null,"Reddit App")),o.a.createElement(l,{href:"https://www.reddit.com/coins"},o.a.createElement(i.c,null,"Reddit coins")),o.a.createElement(l,{href:"https://www.reddit.com/premium"},o.a.createElement(i.c,null,"Reddit premium")),o.a.createElement(l,{href:"http://redditgifts.com/"},o.a.createElement(i.c,null,"Reddit gifts")),o.a.createElement(l,{href:"https://www.reddit.com/subreddits/a-1/"},o.a.createElement(i.c,null,"Communities")),o.a.createElement(l,{href:"https://www.reddit.com/posts/a-1/"},o.a.createElement(i.c,null,"Top Posts")))),o.a.createElement(m,null,o.a.createElement("div",{className:d.a.LegalLinks},o.a.createElement(p,{href:"https://www.redditinc.com/policies/user-agreement"},o.a.createElement(i.c,null,"Terms")),o.a.createElement("span",null,"|"),o.a.createElement(p,{href:"https://www.redditinc.com/policies/content-policy"},o.a.createElement(i.c,null,"Content policy")),o.a.createElement("span",null,"|"),o.a.createElement(p,{href:"https://www.reddit.com/help/privacypolicy"},o.a.createElement(i.c,null,"Privacy policy")),o.a.createElement("span",null,"|"),o.a.createElement(p,{href:"https://www.reddit.com/help/healthycommunities/"},o.a.createElement(i.c,null,"Mod policy"))),o.a.createElement("div",null,o.a.createElement(i.c,null,"Reddit Inc © 2019. All rights reserved"))))},"./src/reddit/components/SidebarNativeAd/index.m.less":function(e,t,s){e.exports={PostTopMeta:"_3AEXgAHaL2MFPHNuqOhEIE",postTopMeta:"_3AEXgAHaL2MFPHNuqOhEIE",BannerAdContainer:"_2c-vsdp-tGBM0QBPbMrQFy",bannerAdContainer:"_2c-vsdp-tGBM0QBPbMrQFy",PromotedPostContainer:"_3zZKTUxTxtgzF9ilawHBK-",promotedPostContainer:"_3zZKTUxTxtgzF9ilawHBK-",OutboundLinkIcon:"_32E2t93Jat5cKH_mcrBYWl",outboundLinkIcon:"_32E2t93Jat5cKH_mcrBYWl",SourceLinkWrapper:"oh3GXRqFb0Uvz5YUITfaW",sourceLinkWrapper:"oh3GXRqFb0Uvz5YUITfaW",TopLine:"_1kNrrHG9HK0nS07e9SmLEe",topLine:"_1kNrrHG9HK0nS07e9SmLEe",PostTitle:"_1j3PvrSrLpQFwf1wyUgEGj",postTitle:"_1j3PvrSrLpQFwf1wyUgEGj",PostMediaWrapper:"_39qBPkK3qVaXIie5LYoVdo",postMediaWrapper:"_39qBPkK3qVaXIie5LYoVdo",BackgroundWrapper:"_2c4IeOXoWvRb5OhOoDmy93",backgroundWrapper:"_2c4IeOXoWvRb5OhOoDmy93",PostContainer:"_2UoyU3i2ufwgr3Cy2lz5Jf",postContainer:"_2UoyU3i2ufwgr3Cy2lz5Jf"}},"./src/reddit/components/SidebarPostList/ObservedPost/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/@researchgate/react-intersection-observer/lib/es/index.js"),o=s("./node_modules/react/index.js"),r=s.n(o);const a=.99;class i extends r.a.Component{constructor(){super(...arguments),this.onVisibilityChange=e=>{const{onPostVisible:t,postId:s}=this.props;t&&e.isIntersecting&&e.intersectionRatio>=a&&t(s)}}render(){return r.a.createElement(n.a,{threshold:a,rootMargin:"0px 0px 0px 0px",onChange:this.onVisibilityChange},this.props.children)}}t.a=i},"./src/reddit/components/SidebarPostList/SmallPost/index.m.less":function(e,t,s){e.exports={container:"_2Wmv4UCfYcoQRIQ7DR-8e0",title:"_1ZcONreWbFJQojnbZ7ZkiL",redditStyle:"_1ggvQDlV2MNRE0-n1WzILz",mainLine:"_3cuOT24TIop8Fh5DSts5E",thumbnailContainer:"_3fpi7LgBdg5MRE8fUA1fUO",titleSingle:"_3fZTKIoM8CcO5vNlGhJhcO",flair:"_1Cs6tR96P3hmYwreAY1R50",metaLine:"_1DGZ9-YDQE3YM0S99RbxE-",meta:"_2LPptzmLnsGYCvTOkdxjs-"}},"./src/reddit/components/SidebarPostList/index.m.less":function(e,t,s){e.exports={container:"_2K-Su893lCn5wiAfwsyN_l",largePostBackgroundWrapper:"_34WXoo5OYSyzgryGEzGK7K",largePostDescription:"_2m8gRHpmUg1pl7zoge-EZr",largePostInnerContainer:"_1dMiuQc05SF7vBB-4UrKVJ",smallPost:"v6T3Dl7XBqOqskg3JfuUz",SeeMore:"_5LqPadYZq-K1Mqq5FXV0",seeMore:"_5LqPadYZq-K1Mqq5FXV0"}},"./src/reddit/components/SidebarPostList/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/lib/isFakeSubreddit/index.ts"),d=s("./src/reddit/components/SearchDiscoveryUnits/TrendingPosts/Post/index.tsx"),l=s("./src/reddit/controls/Button/index.tsx"),m=s("./src/reddit/helpers/name/index.ts"),p=s("./src/reddit/helpers/overlay/index.ts"),u=s("./src/reddit/i18n/components.tsx"),h=s("./src/reddit/selectors/experiments/topPosts.ts"),b=s("./src/reddit/selectors/posts.ts"),g=s("./src/reddit/components/SidebarPostList/ObservedPost/index.tsx"),x=s("./src/lib/isUrl/index.ts"),C=s("./src/lib/prettyPrintNumber/index.ts"),v=s("./src/reddit/components/FlairWrapper/index.tsx"),O=s("./src/reddit/components/Thumbnail/index.tsx"),E=s("./src/reddit/models/Flair/index.ts"),f=s("./src/reddit/models/Subreddit/index.ts"),y=s("./src/reddit/selectors/user.ts"),j=s("./src/reddit/components/SidebarPostList/SmallPost/index.m.less"),w=s.n(j);const I=e=>e.type===E.f.Nsfw||e.type===E.f.Spoiler,P=Object(a.c)({language:y.S,post:b.J,subredditOrProfile:b.U});class T extends o.a.PureComponent{constructor(){super(...arguments),this.onClickContainer=()=>{const{openLightbox:e,post:t,containerOnClick:s}=this.props;e(t),s&&s(t.id)},this.onClickThumbnail=e=>{const{post:t,thumbnailOnClick:s}=this.props;e.stopPropagation(),s&&s(t.id)}}render(){const{className:e,post:t,redditStyle:s,showSubredditName:n,subredditOrProfile:r}=this.props,a={post:t},c=Object(x.a)(Object(O.b)(a)),d=t.flair.filter(I);return o.a.createElement("div",{className:Object(i.a)(w.a.container,e,{[w.a.redditStyle]:s}),onClick:this.onClickContainer},o.a.createElement("div",{className:w.a.mainLine},c&&o.a.createElement("div",{className:w.a.thumbnailContainer,onClick:this.onClickThumbnail},o.a.createElement(O.a,a)),o.a.createElement("div",{className:Object(i.a)(w.a.title,!c&&w.a.titleSingle),title:t.title},d.length>0&&o.a.createElement(v.a,{className:w.a.flair,titleFlair:d,nowrap:!0,post:t,showCategoryTag:!1}),t.title)),o.a.createElement("div",{className:w.a.metaLine},n&&!!r&&o.a.createElement("span",{className:w.a.meta},Object(f.d)(r)?Object(m.c)(r.displayText||r.name):Object(m.b)(r.displayText||r.name)),o.a.createElement("span",{className:w.a.meta},"".concat(Object(C.b)(t.score)," "),o.a.createElement(u.a,{count:t.score,name:"score",plural:"points",singular:"point"})),o.a.createElement("span",{className:w.a.meta},"".concat(Object(C.b)(t.numComments)," "),o.a.createElement(u.a,{count:t.numComments,name:"numComments",plural:"comments",singular:"comment"}))))}}var k=Object(r.b)(P,e=>({openLightbox:t=>e(Object(p.a)(t.permalink))}))(T),S=s("./src/reddit/components/SidebarPostList/index.m.less"),_=s.n(S);s.d(t,"b",(function(){return M}));const N=10,L=2,M=Object(a.a)(b.O,e=>e.filter(e=>!e.isSponsored)),R=Object(a.c)({posts:M}),B=Object(r.b)(R,e=>({openPost:t=>e(Object(p.a)(t.permalink))}));class A extends o.a.Component{constructor(){super(...arguments),this.state={chunkIdx:0},this.openLargePost=()=>{const{onPostClick:e,openPost:t,posts:s}=this.props,[n]=s;n&&(t(n),e&&e(n.id))},this.getVisiblePostsCounts=()=>this.props.visiblePostsCount||N,this.showMorePosts=()=>{let e;const t=this.getVisiblePostsCounts();this.setState((s,n)=>(e=Math.ceil(n.posts.length/t),{chunkIdx:s.chunkIdx<e-1?s.chunkIdx+1:0}),()=>{this.props.onShowMoreClick&&this.props.onShowMoreClick(this.state.chunkIdx,e)})},this.renderSmallPost=e=>{const{listingName:t,onPostClick:s,onPostVisible:n,redditStyle:r,smallPostClassName:a}=this.props;return o.a.createElement(g.a,{key:e.id,onPostVisible:n,postId:e.id},o.a.createElement(k,{className:Object(i.a)(_.a.smallPost,a),containerOnClick:s,postId:e.id,redditStyle:r,showSubredditName:Object(c.a)(Object(m.f)(t)),thumbnailOnClick:s}))}}render(){const{children:e,className:t,listingName:s,moreButtonText:n,onPostVisible:r,posts:a,redditStyle:p,showMoreButton:b,topPostsVariant:x}=this.props,{chunkIdx:C}=this.state;if(0===a.length)return null;const v=this.getVisiblePostsCounts(),O=Object(h.a)(x),E=Object(h.b)(x),f=O||E,y=a.slice(C*v,(C+1)*v),[j,...w]=y,I=f?y.slice(0,L):w.slice(0,L),P=f?y.slice(L):w.slice(L);return o.a.createElement("div",{className:Object(i.a)(_.a.container,t,{[_.a.redditStyle]:p})},!f&&o.a.createElement(g.a,{onPostVisible:r,postId:j.id},o.a.createElement(d.a,{backgroundWrapperClassName:_.a.largePostBackgroundWrapper,descriptionClassName:_.a.largePostDescription,innerContainerClassName:_.a.largePostInnerContainer,"data-redditstyle":p,onPostClick:this.openLargePost,postId:j.id,showSubredditMeta:!1,showSubredditName:Object(c.a)(Object(m.f)(s)),trendingPost:j})),I.map(this.renderSmallPost),e,P.map(this.renderSmallPost),b&&o.a.createElement(l.n,{className:_.a.SeeMore,onClick:this.showMorePosts},n||o.a.createElement(u.c,null,"See More")))}}t.a=B(A)},"./src/reddit/components/SidebarSpacer/index.m.less":function(e,t,s){e.exports={Component:"_2vEf-C2keJaBMY9qk_BxVn",component:"_2vEf-C2keJaBMY9qk_BxVn"}},"./src/reddit/components/SidebarSpacer/index.tsx":function(e,t,s){"use strict";var n=s("./src/reddit/components/SidebarSpacer/index.m.less"),o=s.n(n),r=s("./src/lib/lessComponent.tsx");t.a=r.a.div("Component",o.a)},"./src/reddit/components/SidebarStickyBottom/index.m.less":function(e,t,s){e.exports={Container:"_1oRQu-aolgpPPJDblUGTw5",container:"_1oRQu-aolgpPPJDblUGTw5",BackToTop:"_3Tc8YYRhVDX9vlR0XePZfH",backToTop:"_3Tc8YYRhVDX9vlR0XePZfH",StickyStyles:"_1vYrJH5uc57mZQJPN4l34E",stickyStyles:"_1vYrJH5uc57mZQJPN4l34E",LargeOffset:"_2Fh9XKrAUp6CQHSgW98LEb",largeOffset:"_2Fh9XKrAUp6CQHSgW98LEb"}},"./src/reddit/components/SidebarStickyBottom/index.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./src/lib/classNames/index.ts"),o=s("./node_modules/lodash/throttle.js"),r=s.n(o),a=s("./node_modules/react/index.js"),i=s.n(a),c=s("./src/lib/constants/index.ts"),d=s("./src/reddit/controls/Button/index.tsx"),l=s("./src/reddit/i18n/components.tsx"),m=s("./src/reddit/components/BackToTop/index.m.less"),p=s.n(m),u=e=>i.a.createElement("div",{className:Object(n.a)(e.className,p.a.container),style:e.style},i.a.createElement(d.f,{className:p.a.button,onClick:()=>window.scroll(0,0)},i.a.createElement(l.c,null,"Back to top"))),h=s("./src/reddit/components/SidebarFooter/index.tsx"),b=s("./src/reddit/constants/componentSizes.ts"),g=s("./src/reddit/contexts/PageLayer/index.tsx"),x=s("./src/reddit/selectors/experiments/categoriesPlacement.ts"),C=s("./src/reddit/components/SidebarStickyBottom/index.m.less"),v=s.n(C),O=s("./src/lib/lessComponent.tsx");function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var f=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const y=c.e[1]+24,j=b.g+8+152+32+16,w=j+y+8,I=O.a.div("Container",v.a),P=O.a.wrapped(e=>{var{className:t}=e,s=f(e,["className"]);return i.a.createElement(u,E({className:t,style:{top:"calc(100vh - ".concat(40,"px)")}},s))},"BackToTop",v.a),T=e=>{let{categoriesPlacementVariant:t,children:s,className:o,isSticky:r}=e;return i.a.createElement("div",{className:Object(n.a)(o,{[v.a.StickyStyles]:r,[v.a.LargeOffset]:Object(x.f)(t)})},s)};class k extends a.Component{constructor(e){super(e),this.containerEl=null,this.windowHeight=1/0,this.getStickyContents=()=>({shouldAdSticky:this.windowHeight>w,shouldFooterSticky:this.windowHeight>j}),this.updateState=()=>{if(this.isHidden())return;const{shouldAdSticky:e,shouldFooterSticky:t}=this.getStickyContents();e===this.state.isAdSticky&&t===this.state.isFooterSticky||this.setState({isAdSticky:e,isFooterSticky:t})},this.updateMeasurements=()=>{this.windowHeight=window.innerHeight},this.handleResize=r()(()=>{this.updateMeasurements(),this.updateState()},c.F),this.setWrapperRef=e=>this.containerEl=e||null,this.state={isAdSticky:!0,isFooterSticky:!0}}isHidden(){return!this.containerEl||null===this.containerEl.offsetParent}componentDidMount(){this.isHidden()||this.handleResize(),window.addEventListener("resize",this.handleResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}render(){const{props:{adComponent:e,categoriesPlacementVariant:t,hideFooter:s,railsWidgetsVariant:n,children:o}}=this,r=this.state.isAdSticky&&!(!e&&!o);return i.a.createElement(I,{innerRef:this.setWrapperRef},i.a.createElement(T,{categoriesPlacementVariant:t,isSticky:r||!!n},e,o,!s&&i.a.createElement(h.a,null)),!this.props.hideBackToTop&&i.a.createElement(P,null))}}const S=Object(g.t)();t.a=S(k)},"./src/reddit/components/SourceLink/index.m.less":function(e,t,s){e.exports={OutboundLinkIcon:"_2WV2dTLgPlEXLVEmIexAxf",outboundLinkIcon:"_2WV2dTLgPlEXLVEmIexAxf",SourceLinkWrapper:"_10wC0aXnrUKfdJ4Ssz-o14",sourceLinkWrapper:"_10wC0aXnrUKfdJ4Ssz-o14","m-comment":"_1-PD0_zreH-KVwpFoCLvQF",mComment:"_1-PD0_zreH-KVwpFoCLvQF"}},"./src/reddit/components/SourceLink/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/lib/getShortenedLink.ts"),i=s("./src/reddit/controls/OutboundLink/styled.tsx"),c=s("./src/reddit/icons/fonts/OutboundLink/index.tsx"),d=s("./src/reddit/components/SourceLink/index.m.less"),l=s.n(d),m=s("./src/lib/lessComponent.tsx");const p=m.a.wrapped(c.a,"OutboundLinkIcon",l.a),u=m.a.div("SourceLinkWrapper",l.a);t.a=e=>{const{className:t,post:s,isCommentsPage:n}=e,{source:c,isSponsored:d}=s;return c?o.a.createElement(u,{className:Object(r.a)({[l.a["m-comment"]]:n},t)},o.a.createElement(i.a,{href:c.url,isSponsored:d,source:c},Object(a.a)(s),o.a.createElement(p,null))):null}},"./src/reddit/components/SponsoredLabel/index.m.less":function(e,t,s){e.exports={Wrapper:"_2oEYZXchPfHwcf9mTMGMg8",wrapper:"_2oEYZXchPfHwcf9mTMGMg8"}},"./src/reddit/components/SponsoredLabel/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/reddit/i18n/components.tsx"),a=s("./src/reddit/components/SponsoredLabel/index.m.less"),i=s.n(a);const c=s("./src/lib/lessComponent.tsx").a.span("Wrapper",i.a);t.a=e=>{let{className:t}=e;return o.a.createElement(c,{className:t},o.a.createElement(r.c,null,"promoted"))}},"./src/reddit/components/StructuredStyles/StyledComponents/forms.m.less":function(e,t,s){e.exports={FormPage:"_9ZuQyDXhFth1qKJF4KNm8",formPage:"_9ZuQyDXhFth1qKJF4KNm8",HomePageTitle:"_1JmnMJclrTwTPpAip5U_Hm",homePageTitle:"_1JmnMJclrTwTPpAip5U_Hm",HomePageBreadcrumb:"_2iNJX36LR2tMHx_unzEkVM",homePageBreadcrumb:"_2iNJX36LR2tMHx_unzEkVM",HomePageGroup:"_306gA2lxjCHX44ssikUp3O",homePageGroup:"_306gA2lxjCHX44ssikUp3O",FormPageTitle:"_1Omf6afKRpv3RKNCWjIyJ4",formPageTitle:"_1Omf6afKRpv3RKNCWjIyJ4",FormPageSection:"_2Ss7VGMX-UPKt9NhFRtgTz",formPageSection:"_2Ss7VGMX-UPKt9NhFRtgTz",FormGroup:"_3vWu4F9B4X4Yc-Gm86-FMP",formGroup:"_3vWu4F9B4X4Yc-Gm86-FMP",FormGroupTitle:"_2qAEe8HGjtHsuKsHqNCa9u",formGroupTitle:"_2qAEe8HGjtHsuKsHqNCa9u",FormElement:"c5RWd-O3CYE-XSLdTyjtI",formElement:"c5RWd-O3CYE-XSLdTyjtI",FormGroupDescription:"_3whORKuQps-WQpSceAyHuF",formGroupDescription:"_3whORKuQps-WQpSceAyHuF",FormItem:"_1Qk-ka6_CJz1fU3OUfeznu",formItem:"_1Qk-ka6_CJz1fU3OUfeznu",FormElementTitle:"_3ds8Wk2l32hr3hLddQshhG",formElementTitle:"_3ds8Wk2l32hr3hLddQshhG",FormElementDescription:"_1h0r6vtgOzgWtu-GNBO6Yb",formElementDescription:"_1h0r6vtgOzgWtu-GNBO6Yb",FormElementError:"horIoLCod23xkzt7MmTpC",formElementError:"horIoLCod23xkzt7MmTpC",FormElementSubGroup:"_33Iw1wpNZ-uhC05tWsB9xi",formElementSubGroup:"_33Iw1wpNZ-uhC05tWsB9xi",FormListItem:"_2M7LQbQxH40ingJ9h9RslL",formListItem:"_2M7LQbQxH40ingJ9h9RslL"}},"./src/reddit/components/StructuredStyles/StyledComponents/forms.ts":function(e,t,s){"use strict";s.d(t,"k",(function(){return a})),s.d(t,"p",(function(){return i})),s.d(t,"n",(function(){return c})),s.d(t,"o",(function(){return d})),s.d(t,"m",(function(){return l})),s.d(t,"l",(function(){return m})),s.d(t,"f",(function(){return p})),s.d(t,"h",(function(){return u})),s.d(t,"a",(function(){return h})),s.d(t,"g",(function(){return b})),s.d(t,"i",(function(){return g})),s.d(t,"e",(function(){return x})),s.d(t,"b",(function(){return C})),s.d(t,"c",(function(){return v})),s.d(t,"d",(function(){return O})),s.d(t,"j",(function(){return E}));var n=s("./src/lib/lessComponent.tsx"),o=s("./src/reddit/components/StructuredStyles/StyledComponents/forms.m.less"),r=s.n(o);const a=n.a.section("FormPage",r.a),i=n.a.h1("HomePageTitle",r.a),c=n.a.button("HomePageBreadcrumb",r.a),d=n.a.div("HomePageGroup",r.a),l=n.a.h1("FormPageTitle",r.a),m=n.a.div("FormPageSection",r.a),p=n.a.div("FormGroup",r.a),u=n.a.h2("FormGroupTitle",r.a),h=n.a.div("FormElement",r.a),b=n.a.div("FormGroupDescription",r.a),g=n.a.div("FormItem",r.a),x=n.a.h3("FormElementTitle",r.a),C=n.a.div("FormElementDescription",r.a),v=n.a.div("FormElementError",r.a),O=n.a.div("FormElementSubGroup",r.a),E=n.a.li("FormListItem",r.a)},"./src/reddit/components/SubredditIcon/EditableSubredditIcon.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/reddit/actions/subreddit/inlineEditing.ts"),d=s("./src/reddit/actions/tooltip.ts"),l=s("./src/reddit/components/ContentTooltip/index.tsx"),m=s("./src/reddit/components/InlineSubredditEditing/InstructionalTooltipContent.tsx"),p=s("./src/reddit/components/TrackingHelper/index.tsx"),u=s("./src/reddit/constants/tooltips.ts"),h=s("./src/reddit/controls/ImageInput/index.tsx"),b=s("./src/reddit/controls/LoadingIcon/index.tsx"),g=s("./src/reddit/helpers/getSubredditOrProfileIconData/index.tsx"),x=s("./src/reddit/helpers/localStorage/index.ts"),C=s("./src/reddit/helpers/trackers/inlineSubredditEditing.ts"),v=s("./src/reddit/i18n/components.tsx"),O=s("./src/reddit/i18n/utils.ts"),E=s("./src/reddit/icons/svgs/Plus/index.tsx"),f=e=>o.a.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 17",version:"1.1"},o.a.createElement("path",{d:"M8.566 5.835l2.4 2.4a.8.8 0 0 1-1.132 1.131L8.8 8.332V13.6a.8.8 0 1 1-1.6 0V8.332L6.166 9.366a.8.8 0 0 1-1.132-1.131l2.4-2.4a.803.803 0 0 1 1.132 0zm3.091-2.292A3.547 3.547 0 0 1 15.2 7.085a.8.8 0 0 1-1.6 0 1.945 1.945 0 0 0-2.318-1.904.802.802 0 0 1-.869-.43A4.206 4.206 0 0 0 6.628 2.4 4.233 4.233 0 0 0 2.4 6.629a.8.8 0 0 1-1.6 0A5.835 5.835 0 0 1 6.628.799a5.788 5.788 0 0 1 4.941 2.745l.088-.001z",id:"a"})),y=s("./src/reddit/models/ApiRequestState/index.ts"),j=s("./src/reddit/selectors/inlineSubredditEditing.ts"),w=s("./src/reddit/components/SubredditIcon/index.m.less"),I=s.n(w);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var T=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};class k extends o.a.Component{constructor(e){super(e),this.state={tooltipDismissed:!0}}componentDidMount(){this.setState({tooltipDismissed:Object(x.l)(this.props.subredditId)})}render(){const e=this.props,{subredditId:t,className:s,inTopBar:n,tooltipDisabled:r}=e,a=T(e,["subredditId","className","inTopBar","tooltipDisabled"]),c=[s,I.a.inTopBar,I.a.iconContainer];return n?c.push(I.a.emptyEditableIconInTopBar):c.push(I.a.editableIcon,I.a.emptyEditableIcon),o.a.createElement("span",P({},a,{id:this.props.tooltipDisabled?void 0:u.a,className:Object(i.a)(...c)}),n?o.a.createElement(f,{className:I.a.emptyUploadButton}):o.a.createElement(E.a,{className:I.a.emptyPlusButton}),this.props.children,!this.state.tooltipDismissed&&!this.props.tooltipDisabled&&o.a.createElement(l.a,{className:I.a.tooltip,tooltipId:u.a,defaultTooltipPosition:"left",tooltipSizeEstimate:{height:150,width:320}},o.a.createElement(m.a,{includeIcon:!n,subredditId:t})))}}const S=e=>{const{iconColor:t,className:s,alt:n,role:r,onClick:a,inTopBar:c,src:d}=e;return o.a.createElement("span",{className:I.a.iconContainer},o.a.createElement("img",{onClick:a,role:r,alt:n,src:d,className:Object(i.a)(s,{[I.a.editableIcon]:!c}),style:{backgroundColor:t||""}}),e.children)},_=Object(a.c)({isLoading:j.b});class N extends o.a.PureComponent{constructor(e){super(e),this.inputRef=null,this.openImageUpload=()=>{this.inputRef&&this.inputRef.click(),this.props.sendEvent(C.b)},this.setInputRef=e=>this.inputRef=e,this.renderImageUploader=()=>o.a.createElement(h.a,{className:I.a.imageUploader,inputRef:this.setInputRef,multiple:!1,onChange:e=>{const t=Object(y.b)();this.setState({apiRequestId:t}),this.props.onFileSelected(e,t)}}),this.state={apiRequestId:null}}componentDidMount(){this.props.inTopBar||this.props.onShowTooltip()}renderEditButton(){const{url:e}=Object(g.a)({shouldHideNsfwIcon:!1,subredditOrProfile:this.props.subreddit});return this.props.inTopBar?o.a.createElement("span",{className:I.a.clickableUploadText,onClick:this.openImageUpload},e?o.a.createElement(v.c,null,"Update icon"):o.a.createElement(v.c,null,"Add icon")):null}getSharedProps(){return{onClick:this.openImageUpload,role:"presentation",className:this.props.className}}renderEditableIcon(){const{url:e,color:t}=Object(g.a)({shouldHideNsfwIcon:!1,subredditOrProfile:this.props.subreddit}),s=o.a.createElement(o.a.Fragment,null,o.a.createElement(S,P({src:e,alt:Object(O.c)("Subreddit icon"),iconColor:t,inTopBar:this.props.inTopBar},this.getSharedProps()),this.renderSpinner()),this.renderImageUploader());return this.props.linkTo?o.a.createElement("a",{href:this.props.linkTo},s):s}renderEmptyState(){return this.props.linkTo?o.a.createElement("a",{href:this.props.linkTo},o.a.createElement(k,P({subredditId:this.props.subreddit.id,tooltipDisabled:this.props.inTopBar,inTopBar:this.props.inTopBar},this.getSharedProps()),this.renderSpinner()),this.renderImageUploader()):o.a.createElement(o.a.Fragment,null,o.a.createElement(k,P({subredditId:this.props.subreddit.id,tooltipDisabled:this.props.inTopBar,inTopBar:this.props.inTopBar},this.getSharedProps()),this.renderSpinner()),this.renderImageUploader())}renderSpinner(){if(this.props.isLoading){const e=[I.a.loadingIcon];let t=22;return this.props.inTopBar&&(e.push(I.a.loadingIconInTopBar),t=32),o.a.createElement(b.a,{className:Object(i.a)(...e),sizePx:t})}return null}render(){const{url:e}=Object(g.a)({shouldHideNsfwIcon:!1,subredditOrProfile:this.props.subreddit}),t=e?this.renderEditableIcon():this.renderEmptyState(),s=this.renderEditButton();return s?o.a.createElement("div",{className:I.a.flexContainer},t,s):t}}t.a=Object(r.b)(_,(e,t)=>({onFileSelected:(s,n)=>{e(Object(c.a)(t.subreddit,s,n))},onShowTooltip:()=>{e(Object(d.f)({tooltipId:u.a}))}}))(Object(p.b)(N))},"./src/reddit/components/SubredditNav/index.m.less":function(e,t,s){e.exports={metaNavLink:"_3K8jBMDp0QPnKaJK8FVP6a",navLinkStyles:"_2NJL-agPg8YnfLMLdMbED5",subNavTitle:"_2wtKbmW1aPrT3MyHoaupQh",navLink:"_1O30sSXmfkKMRZqSaESf0S",topBannerVariant:"uGdFXCHH-nwVp4gU3UaTw",mActive:"_1YpJV_aDQqujwuofx9-eAX",navDropdownIcon:"_3u_CcXw7slod9vNJKIlYvx",subNavLink:"_1p4TpHzWWRAkGYYw9_jU-B",subNavContainer:"hcJJEc0gVBKH5pWCFgdET",subNavList:"_1T423RClx-mTPxfuiCw4UN",mIsOpen:"_2azsE3I8rle1m5FBqLLHpN",outerContainer:"_1gVVmSnHZpkUgVShsn7-ua",innerContainer:"_1_TJAX-8zAT3vVN1Iz7cys"}},"./src/reddit/components/SubredditNav/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/reddit/components/TrackingHelper/index.tsx"),c=s("./src/reddit/contexts/PageLayer/index.tsx"),d=s("./src/reddit/featureFlags/component.tsx"),l=s("./src/reddit/selectors/user.ts"),m=s("./src/reddit/selectors/widgets.ts"),p=s("./src/reddit/actions/subreddit.ts"),u=s("./src/reddit/i18n/components.tsx"),h=(s("./node_modules/core-js/modules/es6.symbol.js"),s("./node_modules/react-router-dom/esm/react-router-dom.js")),b=s("./src/lib/classNames/index.ts"),g=s("./src/reddit/icons/svgs/Dropdown/index.tsx"),x=s("./src/reddit/components/SubredditNav/index.m.less"),C=s.n(x);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var O=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const E=(e,t,s)=>Object(b.a)(e,{[C.a.mActive]:t},{[C.a.topBannerVariant]:s}),f=e=>{var{children:t,isActive:s,isTopBannerVariant:n}=e,r=O(e,["children","isActive","isTopBannerVariant"]);return o.a.createElement("div",v({className:E(C.a.subNavTitle,s,n)},r),o.a.createElement("span",null,t),o.a.createElement(g.b,{className:C.a.navDropdownIcon}))},y=e=>{var{className:t,isActive:s,to:n,isTopBannerVariant:r}=e,a=O(e,["className","isActive","to","isTopBannerVariant"]);const i=E(C.a.navLink,s,r);return n?o.a.createElement(h.a,v({className:i,to:n},a)):o.a.createElement("a",v({className:i},a))},j=e=>{var{className:t,isActive:s}=e,n=O(e,["className","isActive"]);return o.a.createElement(h.a,v({className:E(C.a.navLink,s)},n))},w=e=>{var{className:t,isActive:s}=e,n=O(e,["className","isActive"]);return o.a.createElement("a",v({className:E(C.a.subNavLink,s)},n))},I=e=>{var{className:t}=e,s=O(e,["className"]);return o.a.createElement("div",v({className:Object(b.a)(C.a.subNavContainer,t)},s))},P=e=>{var{className:t,isOpen:s}=e,n=O(e,["className","isOpen"]);return o.a.createElement("div",v({className:Object(b.a)(C.a.subNavList,t,{[C.a.mIsOpen]:s})},n))};const T=Object(a.c)({isActive:(e,t)=>!!e.subreddits.appliedFilters.meta[t.subredditId],subreddit:(e,t)=>e.subreddits.models[t.subredditId]});var k=Object(c.t)()(Object(r.b)(T,(e,t)=>({onTurnOnMetaFilter:()=>e(Object(p.p)({subredditId:t.subredditId,forceState:!0}))}))((function(e){const{pageLayer:t,subreddit:s}=e;return s?o.a.createElement(j,{className:C.a.metaNavLink,to:s.url,isActive:e.isActive,onClick:s=>{Object(c.F)(t)&&s.preventDefault(),e.onTurnOnMetaFilter()}},o.a.createElement(u.c,null,"Polls")):null}))),S=s("./src/lib/linkMatchers/index.ts");class _ extends o.a.Component{constructor(){super(...arguments),this.state={isOpen:!1},this.handleOpen=e=>this.setState(()=>({isOpen:!0})),this.handleClose=e=>this.setState(()=>({isOpen:!1}))}render(){const{props:e,state:t}=this;return o.a.createElement(I,{onClick:this.handleOpen,onMouseLeave:this.handleClose},o.a.createElement(f,{isActive:e.isActive,isTopBannerVariant:e.isTopBannerVariant},e.label),o.a.createElement(P,{isOpen:t.isOpen,"aria-hidden":!t.isOpen,role:"list"},e.children))}}var N=_;const L=e=>{const t=e.url&&Object(S.g)(S.e,e.url);return t?t.url:e.url};var M=e=>e.menuItem.url?o.a.createElement(y,{href:L(e.menuItem),isActive:!!e.isActive,isTopBannerVariant:e.isTopBannerVariant},e.menuItem.text):o.a.createElement(N,{isActive:!!e.isActive,isTopBannerVariant:e.isTopBannerVariant,label:e.menuItem.text},e.menuItem.children&&e.menuItem.children.map(e=>o.a.createElement(w,{key:"".concat(e.text,"-").concat(L(e)),role:"listitem",href:L(e),target:"_blank",rel:"noopener"},e.text))),R=s("./src/lib/constants/index.ts");const B=Object(c.t)(),A=[R.xb.SUBREDDIT,R.xb.COMMENTS,R.xb.COLLECTION_COMMENTS],F=Object(a.c)({isMetaFilterEnabled:(e,t)=>!!e.subreddits.appliedFilters.meta[t.subredditId],isPostsRoute:(e,t)=>!!t.pageLayer&&!!t.pageLayer.meta&&A.indexOf(t.pageLayer.meta.name)>-1});var D=B(Object(r.b)(F,(e,t)=>({onTurnOffMetaFilter:()=>e(Object(p.p)({subredditId:t.subredditId,forceState:!1}))}))((function(e){const{homeUrl:t,isMetaFilterEnabled:s,isPostsRoute:n,isTopBannerVariant:r,onTurnOffMetaFilter:a}=e,i=n&&!s;return o.a.createElement(y,{to:t,isActive:i,isTopBannerVariant:r,onClick:e=>{s&&(e.preventDefault(),a())}},o.a.createElement(u.c,null,"Posts"))}))),W=s("./src/lib/CSSVariableProvider/withTheme.tsx"),H=s("./src/higherOrderComponents/makeAsync.tsx");var V=Object(H.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>s.e("HarbergerTaxBannerPurchaseCTA").then(s.bind(null,"./src/reddit/components/Governance/HarbergerTax/BannerPurchaseCTA/index.tsx")).then(e=>e.default)}),U=s("./src/reddit/constants/postLayout.ts"),K=s("./src/reddit/constants/screenWidths.ts"),G=s("./src/reddit/models/Theme/index.ts"),z=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),J=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const q=Object(W.a)(e=>{var{className:t,children:s,isTopBannerVariant:n}=e,r=J(e,["className","children","isTopBannerVariant"]);const a=Object(z.a)(r);return o.a.createElement("div",{className:Object(b.a)(C.a.outerContainer,t),style:{position:a.navBar.useOverlay&&!n?"absolute":"static",background:n?"inherit":Object(G.g)(a.navBar.backgroundColor,a.navBar.backgroundImage,"tiled")}},s)});var Y=e=>o.a.createElement(q,{className:e.className,isTopBannerVariant:e.isTopBannerVariant},o.a.createElement("div",{className:C.a.innerContainer,style:{maxWidth:e.disableFullscreen||e.layout===U.g.Large?"".concat(e.maxWidth||K.a,"px"):"100%"}},o.a.createElement("div",null,e.children),o.a.createElement(V,null))),Q=s("./src/reddit/components/Translated/index.tsx"),Z=s("./src/reddit/constants/wiki.ts"),X=s("./src/reddit/helpers/trackers/subredditWiki.ts");var $=e=>{const{homeUrl:t,isTopBannerVariant:s,pageLayer:n}=e,r=!!n&&!!n.meta&&n.meta.name===R.xb.SUBREDDIT_WIKI,a="wiki/".concat(Z.i),i=t.endsWith("/")?t+a:"".concat(t,"/").concat(a);return o.a.createElement(y,{isActive:r,isTopBannerVariant:s,to:i,onClick:()=>e.sendEvent(Object(X.g)())},o.a.createElement(Q.a,{msgId:"structuredStyles.forms.menuLinks.wikiHomeLinkLabel"}))};const ee=Object(d.a)("spPolls",k),te=Object(c.t)(),se=Object(a.c)({language:l.S,layout:c.M,widget:m.f}),ne=Object(r.b)(se);t.a=te(ne(Object(i.b)(e=>o.a.createElement(Y,{className:e.subredditNavContainerClassName,isTopBannerVariant:e.isTopBannerVariant,layout:e.layout,disableFullscreen:e.disableFullscreen,maxWidth:e.maxWidth},e.subredditId&&o.a.createElement(o.a.Fragment,null,o.a.createElement(D,{homeUrl:e.homeUrl,isTopBannerVariant:e.isTopBannerVariant,subredditId:e.subredditId}),o.a.createElement(ee,{subredditId:e.subredditId})),e.widget&&o.a.createElement(o.a.Fragment,null,e.widget.showWiki&&o.a.createElement($,{homeUrl:e.homeUrl,isTopBannerVariant:e.isTopBannerVariant,pageLayer:e.pageLayer,sendEvent:e.sendEvent}),!!e.widget.data.length&&e.widget.data.map((t,s)=>o.a.createElement(M,{isActive:!1,isTopBannerVariant:e.isTopBannerVariant,key:s,menuItem:t})))))))},"./src/reddit/components/SubredditUnsavedChangesModal/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./src/higherOrderComponents/asModal/index.tsx"),i=s("./src/reddit/actions/modal.ts"),c=s("./src/reddit/components/ModalStyledComponents/index.tsx"),d=s("./src/reddit/controls/TextButton/index.tsx"),l=s("./src/reddit/i18n/components.tsx"),m=s("./src/reddit/layout/twoCol/ExpandLeft/index.tsx");const p="subreddit-unsaved-changes-modal",u=Object(r.b)(null,e=>({closeModal:()=>e(Object(i.g)(p))}));class h extends o.a.Component{constructor(){super(...arguments),this.onDiscardClick=async()=>{this.props.onDiscard(),this.props.closeModal()},this.onCancelClick=()=>{this.props.onCancel(),this.props.closeModal()},this.onSaveClick=()=>{this.props.onSave(),this.props.closeModal()}}render(){return o.a.createElement(c.c,null,o.a.createElement(c.g,null,o.a.createElement(m.a,null,o.a.createElement(c.n,null,o.a.createElement(l.c,null,"Save changes before leaving?")),o.a.createElement(d.a,{onClick:this.onCancelClick},o.a.createElement(c.b,null)))),o.a.createElement(c.j,null,o.a.createElement(c.m,null,o.a.createElement(l.c,null,"You have made some changes to your community, do you wish to leave this menu without saving?"))),o.a.createElement(c.e,null,o.a.createElement(c.a,{onClick:this.onDiscardClick,"data-redditstyle":!0},o.a.createElement(l.c,null,"Discard")),o.a.createElement(c.o,{onClick:this.onSaveClick,"data-redditstyle":!0},o.a.createElement(l.c,null,"Save"))))}}t.b=Object(a.a)(u(h))},"./src/reddit/components/SubscribeButton/Inline.m.less":function(e,t,s){e.exports={SubscribeInternalButton:"QvUHhznbRVbKaK8dZGZVV",subscribeInternalButton:"QvUHhznbRVbKaK8dZGZVV",UnsubscribeButton:"_3gteUGkVlyl5VuSsNQJaz1",unsubscribeButton:"_3gteUGkVlyl5VuSsNQJaz1",isLarge:"_2jGEuWB6HWtIbTjMG68OXY",ButtonSpacer:"vXXjS_s-Ic4QZpFsPjThV",buttonSpacer:"vXXjS_s-Ic4QZpFsPjThV",Checkmark:"_2qm48d8K8lTcwSJiHL9KLT",checkmark:"_2qm48d8K8lTcwSJiHL9KLT",Plus:"_2zcGm9WDxG67GYyNNvHzlA",plus:"_2zcGm9WDxG67GYyNNvHzlA",unsubscribeButtonHoverStyles:"_1tZ_edPYFuF6jhuTr_iPEE",joinCleanupContent:"_3GS035a5A47X7LR9VSQYy6"}},"./src/reddit/components/SubscribeButton/Inline.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/app/strings/index.ts"),a=s("./src/reddit/components/TrackingHelper/index.tsx"),i=s("./src/reddit/connectors/SubscribeButton/index.ts"),c=s("./src/reddit/controls/Button/index.tsx"),d=s("./src/reddit/icons/svgs/Checkmark/index.tsx"),l=s("./src/reddit/icons/svgs/Plus/index.tsx"),m=s("./src/reddit/components/SubscribeButton/helpers/actionTemplateSource.ts"),p=s("./src/reddit/components/SubscribeButton/Inline.m.less"),u=s.n(p),h=s("./src/lib/classNames/index.ts"),b=s("./src/lib/lessComponent.tsx");function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var x=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const C=b.a.wrapped(e=>{var{small:t,shouldReverseColor:s}=e,n=x(e,["small","shouldReverseColor"]);const r=s?c.i:c.f;return o.a.createElement(r,g({},n,{className:Object(h.a)(n.className,{[u.a.isLarge]:!t})}))},"SubscribeInternalButton",u.a),v=b.a.wrapped(e=>{var{small:t,belongsToType:s,shouldReverseColor:n}=e,r=x(e,["small","belongsToType","shouldReverseColor"]);const a=n?c.f:c.i;return o.a.createElement(a,g({},r,{className:Object(h.a)(r.className,{[u.a.isLarge]:!t})}))},"UnsubscribeButton",u.a),O=b.a.wrapped(d.a,"Checkmark",u.a),E=b.a.wrapped(l.a,"Plus",u.a),f=b.a.div("ButtonSpacer",u.a);class y extends o.a.Component{constructor(e){super(e),this.onMouseEnter=()=>{this.setState({isHovered:!0})},this.onMouseLeave=()=>{this.setState({isHovered:!1})},this.onClick=e=>{const{props:t}=this;if(t.userIsSubscriber?t.onUnsubscribe():(this.setState({hasJustSubscribed:!0}),t.onSubscribe()),t.onClick&&t.onClick(e),t.getEventFactory){const e=t.getEventFactory(t.userIsSubscriber);e&&t.sendEvent(e)}},this.state={hasJustSubscribed:!1,isHovered:!1}}componentDidMount(){this.props.onSubscriptionsRequested()}render(){const e=this.props,{className:t,identifier:s,language:n,onSubscribe:a,onUnsubscribe:i,postId:c,sendEvent:d,small:l=!1,subscribeReminderTooltipId:p,subscribeTooltipId:b,userIsSubscriber:y,doNotHideOtherSubscribeButtons:j}=e,w=x(e,["className","identifier","language","onSubscribe","onUnsubscribe","postId","sendEvent","small","subscribeReminderTooltipId","subscribeTooltipId","userIsSubscriber","doNotHideOtherSubscribeButtons"]),I=this.state.isHovered;let P=y?Object(r.a)(n,"subscriptions.".concat(Object(m.a)({type:s.type}),".subscribed")):Object(r.a)(n,"subscriptions.".concat(Object(m.a)({type:s.type}),".subscribe"));return y&&I&&(P=Object(r.a)(n,"subscriptions.".concat(Object(m.a)({type:s.type}),".unsubscribe"))),y?this.state.hasJustSubscribed||j?o.a.createElement(v,g({className:Object(h.a)(t,{[u.a.isLarge]:!l,[u.a.unsubscribeButtonHoverStyles]:!l}),onClick:this.onClick,small:l,belongsToType:s.type,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},w),l&&o.a.createElement(O,null),!l&&!I&&o.a.createElement(O,null),!l&&P):l?null:o.a.createElement(f,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(C,g({className:Object(h.a)(t,{[u.a.isLarge]:!l}),onClick:this.onClick,small:l},w,{id:"subscribe-button-".concat(c),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),o.a.createElement(E,null),!l&&P))}}t.a=Object(i.a)(Object(a.b)(y))},"./src/reddit/components/Widgets/AdRules/index.m.less":function(e,t,s){e.exports={Rule:"_3NwusXLUvLTrYmCFOYpDIA",rule:"_3NwusXLUvLTrYmCFOYpDIA",RuleIndex:"McQvObPSnfCkWc6C-ti6P",ruleIndex:"McQvObPSnfCkWc6C-ti6P",RuleTitle:"_2-jOphPs-FiWN_Da514451",ruleTitle:"_2-jOphPs-FiWN_Da514451"}},"./src/reddit/components/Widgets/Base/index.m.less":function(e,t,s){e.exports={WidgetBackground:"_3Im6OD67aKo33nql4FpSp_",widgetBackground:"_3Im6OD67aKo33nql4FpSp_",WidgetHeader:"lnK0-OzG7nLFydTWuXGcY",widgetHeader:"lnK0-OzG7nLFydTWuXGcY"}},"./src/reddit/components/Widgets/Base/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return m}));s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/lessComponent.tsx"),a=s("./src/reddit/components/SEOTitle/index.tsx"),i=s("./src/reddit/components/Widgets/Base/index.m.less"),c=s.n(i),d=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const l=r.a.div("WidgetBackground",c.a),m=r.a.wrapped(e=>{var{children:t}=e,s=d(e,["children"]);return o.a.createElement("div",s,o.a.createElement(a.b,{type:a.a.Widget},t))},"WidgetHeader",c.a);t.b=e=>o.a.createElement("div",{className:e.className},o.a.createElement(l,null,e.children))},"./src/reddit/components/Widgets/Button/index.m.less":function(e,t,s){e.exports={RawHTMLDisplay:"_3ZOXjQGKlSNE3Pk7JFNRS_",rawHtmlDisplay:"_3ZOXjQGKlSNE3Pk7JFNRS_",imageButton:"_1dcH2atgEZb6EIz1hPypif",textButton:"_3VvVLJHakguGRWc5JxUX40",textButtonHoverText:"_1csPJVJm94zTUzhy65Kbxo",vanishingTextButtonText:"_2rUZkzEG2dvopABpvgI8Zx"}},"./src/reddit/components/Widgets/Button/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/reddit/components/RawHTMLDisplay/index.tsx"),c=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),d=s("./src/reddit/controls/Button/index.tsx"),l=s("./src/reddit/controls/OutboundLink/index.tsx"),m=s("./src/lib/CSSVariableProvider/withTheme.tsx"),p=s("./src/lib/lessComponent.tsx"),u=s("./src/lib/linkMatchers/index.ts"),h=s("./src/reddit/models/Image/index.tsx"),b=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),g=s("./src/reddit/models/Widgets/index.ts"),x=s("./src/reddit/selectors/structuredStyles.ts"),C=s("./src/reddit/selectors/user.ts"),v=s("./src/reddit/components/Widgets/Button/index.m.less"),O=s.n(v);const E=(e,t,s)=>{let n={},o={};n=e.kind===g.g.Image?{"--widget-button-background-image":"url('".concat(e.url,"')")}:((e,t,s)=>{let{color:n,fillColor:o,textColor:r}=e;return t&&(n=r=s,o="transparent"),{"--widget-button-background-color":"".concat(o||"transparent"),"--widget-button-border":"1px solid ".concat(n),"--widget-button-color":"".concat(r||n)}})(e,t,s);const r=e.hoverState||e;if(r.kind===g.g.Image)o={"--widget-button-hover-background-image":"url('".concat(r.url,"')"),"--widget-button-hover-border":"none"};else{let{color:e,fillColor:n,textColor:a}=r;t&&(e=a=s,n="transparent"),o={"--widget-button-hover-background-color":"".concat(n||"transparent"),"--widget-button-hover-background-image":"none","--widget-button-hover-border":"1px solid ".concat(e),"--widget-button-hover-color":"".concat(a||e)}}return Object.assign({},n,o)},f=e=>e.kind===g.g.Image?O.a.imageButton:O.a.textButton,y=e=>{const t=Object(g.p)(e),s=Object(u.g)(u.e,t);return s?s.url:e.url},j=Object(m.a)(e=>{const{button:t,overrideColors:s}=e,n=Object(b.a)(e).button;return o.a.createElement(d.i,{className:f(t),style:E(t,s,n)},t.kind===g.g.Text&&o.a.createElement("span",{className:t.hoverState?O.a.vanishingTextButtonText:void 0},t.text),t.hoverState&&t.hoverState.kind===g.g.Text&&o.a.createElement("span",{className:O.a.textButtonHoverText},t.hoverState.text))}),w=e=>o.a.createElement(l.a,{href:y(e.button),isSponsored:!1,source:null},o.a.createElement(j,e)),I=p.a.wrapped(i.a,"RawHTMLDisplay",O.a),P=Object(r.b)(()=>Object(a.c)({forceRedditStyle:x.m,isNightmodeOn:C.U}));t.a=P(e=>o.a.createElement(c.a,{styles:e.widget.styles,title:e.widget.shortName,truncateThreshold:e.truncateThreshold,widgetKind:e.widget.kind},e.widget.descriptionHtml&&o.a.createElement(I,{html:e.widget.descriptionHtml}),e.widget.buttons.filter(e=>(e.kind!==g.g.Image||e.url!==h.c)&&(!e.hoverState||e.hoverState.kind!==g.g.Image||e.hoverState.url!==h.c)).map(t=>o.a.createElement(w,{key:"".concat(t.text,"-").concat(t.url),button:t,overrideColors:e.forceRedditStyle||e.isNightmodeOn}))))},"./src/reddit/components/Widgets/Calendar/index.m.less":function(e,t,s){e.exports={RawHTMLDisplay:"_7Td52eDF6kOI7wbyoOGJV",rawHtmlDisplay:"_7Td52eDF6kOI7wbyoOGJV",EventContainer:"_1HzK-HxwbuIwNX-GXaBGDW",eventContainer:"_1HzK-HxwbuIwNX-GXaBGDW",EventTitle:"cCvnKc1bpNZv2J-DkHYuZ",eventTitle:"cCvnKc1bpNZv2J-DkHYuZ",EventDate:"_2VXwUwmJin6h1Pov4foGGE",eventDate:"_2VXwUwmJin6h1Pov4foGGE",EventLocation:"_3GYOq7iFgxtdLjpjVzjwko",eventLocation:"_3GYOq7iFgxtdLjpjVzjwko",EventDescription:"_2ZLwdDhx3dBm-ZVn7MXBYA",eventDescription:"_2ZLwdDhx3dBm-ZVn7MXBYA",ToggleDescription:"J6pcR7wS5Fc3tWloQuCxS",toggleDescription:"J6pcR7wS5Fc3tWloQuCxS"}},"./src/reddit/components/Widgets/CommunityList/SubredditList.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/react-router-dom/esm/react-router-dom.js"),i=s("./node_modules/reselect/es/index.js"),c=s("./src/app/strings/index.ts"),d=s("./src/lib/classNames/index.ts"),l=s("./src/lib/prettyPrintNumber/index.ts"),m=s("./src/reddit/components/Flair/index.tsx"),p=s("./src/reddit/components/RailsWidgets/WidgetTitle/index.tsx"),u=s("./src/reddit/components/SubscribeButton/index.tsx"),h=s("./src/reddit/actions/subscription/index.ts"),b=s("./src/reddit/selectors/user.ts");const g=Object(i.c)({language:b.S});var x=Object(r.b)(g,(e,t)=>{const s=t.widget.id||void 0;return{onSubscribe:()=>e(h.d([t.identifier],!0,s)),onSubscriptionsRequested:()=>e(h.e()),onUnsubscribe:()=>e(h.d([t.identifier],!1,s))}})(s("./src/reddit/components/SubscribeButton/Base.tsx").a),C=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),v=s("./src/reddit/constants/componentSizes.ts"),O=s("./src/reddit/controls/Button/index.tsx"),E=s("./src/reddit/controls/LoadingIcon/index.tsx"),f=s("./src/reddit/i18n/utils.ts"),y=s("./src/reddit/icons/svgs/CircledPlanet/index.tsx"),j=s("./src/reddit/layout/threeCol/ExpandCenter/index.tsx"),w=s("./src/reddit/models/Flair/index.ts"),I=s("./src/reddit/components/Widgets/CommunityList/helpers.ts"),P=s("./src/reddit/components/Widgets/CommunityList/index.m.less"),T=s.n(P);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}s.d(t,"b",(function(){return S})),s.d(t,"a",(function(){return N}));const S=e=>o.a.createElement(C.a,{className:Object(d.a)(T.a.Container,{[T.a.rails]:!!e.railsWidgetsVariant},e.className),noGradient:!0,styles:e.widget&&e.widget.styles,title:e.railsWidgetsVariant?"":e.title,truncateThreshold:e.truncateThreshold,widgetKind:e.widget&&e.widget.kind},!!e.railsWidgetsVariant&&o.a.createElement(p.a,{className:T.a.WidgetTitle},e.title),o.a.createElement("div",{className:T.a.container},e.isLoading?o.a.createElement(E.a,{className:T.a.loadingIcon,sizePx:32}):o.a.createElement(o.a.Fragment,null,e.isError?o.a.createElement("p",{className:T.a.errorMsg},e.errorMsg||Object(f.c)("Something went wrong.")):o.a.createElement(o.a.Fragment,null,e.communities.map(t=>o.a.createElement(N,k({key:t.name},t,{getSubscribeEventFactory:e.getSubscribeEventFactoryHandler?e.getSubscribeEventFactoryHandler(t):void 0,widget:e.widget,sendEvent:e.sendEvent,type:t.type||"subreddit",buttonDisabled:e.itemButtonDisabled,isLoading:e.loadingItemName&&e.loadingItemName.toLowerCase()===t.name.toLowerCase()||!1,isNSFW:t.isNSFW,onCommunityNameClick:e.getClickEventFactory?()=>e.sendEvent(e.getClickEventFactory(t)):void 0,railsWidgetsVariant:e.railsWidgetsVariant,tertiaryButtonText:e.tertiaryButtonText,useTertiaryButton:e.useTertiaryButton,showTertiaryButtonOnHover:e.showTertiaryButtonOnHover,onTertiaryButtonClick:e.onTertiaryButtonClick})))),e.bottomButtonText&&e.onBottomButtonClick&&o.a.createElement(O.n,{className:T.a.bottomButton,onClick:e.onBottomButtonClick},e.bottomButtonText)))),_=Object(i.c)({hideNSFWPref:b.z,language:b.S}),N=Object(r.b)(_)(e=>o.a.createElement("div",{className:T.a.communityItemContainer},o.a.createElement(j.a,{widthRight:v.u},o.a.createElement("div",{className:T.a.iconContainer},e.communityIcon||e.iconUrl?o.a.createElement("img",{className:T.a.subredditIcon,src:e.iconUrl||e.communityIcon}):o.a.createElement(y.a,{className:T.a.planetIcon,"data-redditstyle":!0})),o.a.createElement("div",{className:T.a.communityDescriptionContainer},o.a.createElement(a.a,{className:T.a.communityName,to:Object(I.a)(e.name,e.type),onClick:e.onCommunityNameClick},Object(I.b)(e.name,e.type)),o.a.createElement("div",{className:T.a.communityInfoContainer},!!e.subscribers&&o.a.createElement("p",{className:T.a.subscriberCount},Object(c.c)(e.language,"listings.subscribers",e.subscribers,{count:Object(l.b)(e.subscribers)})),e.isNSFW&&o.a.createElement(m.b,{flair:{type:w.f.Nsfw,text:"nsfw"}}))),!e.railsWidgetsVariant&&(e.useTertiaryButton&&e.tertiaryButtonText&&e.onTertiaryButtonClick?e.isLoading?o.a.createElement(E.a,{className:Object(d.a)(T.a.communityCta,T.a.smallLoadingIcon),sizePx:12}):o.a.createElement(O.n,{className:Object(d.a)(T.a.communityCta,{[T.a.showOnHover]:e.showTertiaryButtonOnHover}),disabled:e.buttonDisabled,onClick:()=>e.onTertiaryButtonClick(e)},e.tertiaryButtonText):e.widget?o.a.createElement(x,{disabled:e.buttonDisabled,getEventFactory:e.getSubscribeEventFactory,identifier:{name:e.name,type:e.type},sendEvent:e.sendEvent,small:!0,userIsSubscriber:!!e.isSubscribed,widget:e.widget}):o.a.createElement(u.a,{disabled:e.buttonDisabled,identifier:{name:e.name,type:e.type},getEventFactory:e.getSubscribeEventFactory,small:!0}))),!!e.description&&o.a.createElement("p",{title:e.description,className:T.a.communityDescription},e.description)))},"./src/reddit/components/Widgets/CommunityList/helpers.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return a}));var n=s("./src/reddit/constants/posts.ts"),o=s("./src/reddit/helpers/name/index.ts");function r(e,t){return(t===n.a.PROFILE?"/user/":"/r/")+e+"/"}function a(e,t){return t===n.a.PROFILE?Object(o.c)(e):Object(o.b)(e)}},"./src/reddit/components/Widgets/CommunityList/index.m.less":function(e,t,s){e.exports={Container:"_2j6XpwwZyn7dNcfH7Blz0B",container:"_3-1jy8hD77zNJUdEMxDrXC",rails:"_2ucwLgmYT_bEawlfA81Q3L",communityItemContainer:"_3NFddqqrzfM8noBES52Qcy",subscriberCount:"e0X82913OdCTkFf2HU-WL",bottomButton:"_1aWHRawTuRl2HMpanJbrrb",communityCta:"_1edkK552-3m7bXOdDxtLx_",smallLoadingIcon:"_32ZA09sNmrGEXkOPMOCLst",showOnHover:"_1kul3JsqY5kjVe9kzGy4bV",communityDescription:"_2IANzA2n-6eA5T8Tz0TEVE",communityName:"_3BFvyrImF3et_ZF21Xd8SC",isTruncated:"_3idiZ5DFVkbhhKjDBTQeq-",iconContainer:"_19EKcu4yel161081OGs8w9",iconStyles:"_9p_iPxnOh7HnkcLhtSCDs",planetIcon:"_3GFjQrq7t7DpW__ZFpU7xf",secondaryLinkButton:"_1Yi_hbFvk7YS9Op3tGVQq9",subredditIcon:"_2BR7Oy0CAj5EiSDYQ--CAE",textArea:"_3X2QmclgxJpDGOG7vui_8z",textButton:"_3k6fSIkIt6-LCDmLz7Didp",trashIcon:"_3T0iddL64wHJU4Ri4QU80I",loadingIcon:"_1S__kHcDfbOdA2sCV8sn9U",errorMsg:"_2AlaL9JsHLdMUnGFOPta5H",leftAligned:"T4XQNeAXcz6U72tv0Z5Z6",WidgetTitle:"g-Bp8lR31etQDRRiyWCDU",widgetTitle:"g-Bp8lR31etQDRRiyWCDU"}},"./src/reddit/components/Widgets/ConnectedAccounts/Account/index.m.less":function(e,t,s){e.exports={icon:"_1zLylbOLqdzG2C4JhdkEVQ",twitterLogo:"_1N1dJvzR-m3nNoVl8cxHul",link:"JqNsQRTEcAPCq8_G0O5mO",name:"_28fbIV1TS_oSVjfzjWnM0f",linkDescription:"_2Y1Xv08xrWbsDZuEvIuRKo",linkTitle:"elMVR2YfkbHdFTihhlUK4",linkIcon:"oi2L0mBSRAULcOPEtjXSh",description:"KKNu_jB7N6A-PuBrW0WoR",visitButton:"NBL39n3gjYvG4c9qlXJIk"}},"./src/reddit/components/Widgets/ConnectedAccounts/index.m.less":function(e,t,s){e.exports={account:"_25M-5tlJjQOChCI8sg84QU"}},"./src/reddit/components/Widgets/ConnectedAccounts/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/reddit/components/SidebarSpacer/index.tsx"),c=s("./src/reddit/components/TrackingHelper/index.tsx"),d=s("./src/reddit/components/Widgets/Base/index.tsx"),l=s("./src/reddit/constants/posts.ts"),m=s("./src/reddit/helpers/trackers/profileSettings.ts"),p=s("./src/reddit/i18n/components.tsx"),u=s("./src/reddit/models/ExternalAccount/index.ts"),h=s("./src/reddit/selectors/externalAccount.ts"),b=s("./src/reddit/selectors/user.ts"),g=s("./src/reddit/controls/OutboundLink/index.tsx"),x=s("./src/reddit/i18n/utils.ts"),C=s("./src/reddit/icons/svgs/OutboundLink/index.tsx"),v=s("./src/reddit/icons/svgs/Twitter/index.tsx"),O=s("./src/reddit/layout/twoCol/ExpandRight/index.tsx"),E=s("./src/reddit/components/Widgets/ConnectedAccounts/Account/index.m.less"),f=s.n(E);var y=e=>{const{account:t,clickEvent:s,provider:n}=e;let r,a=t.username,i="";return n!==u.a.Twitter?null:(r=o.a.createElement(v.a,{className:f.a.twitterLogo}),i=Object(x.c)("View on Twitter"),a="@".concat(t.username),o.a.createElement(O.a,null,o.a.createElement("span",{className:f.a.icon},r),o.a.createElement(g.a,{className:f.a.link,href:t.link,isSponsored:!1,source:void 0,onClick:s},o.a.createElement("div",{className:f.a.linkTitle},o.a.createElement("span",{className:f.a.name},a),o.a.createElement(C.a,{className:f.a.linkIcon})),o.a.createElement("div",{className:f.a.linkDescription},i))))},j=s("./src/reddit/components/Widgets/ConnectedAccounts/index.m.less"),w=s.n(j);const I=Object(a.c)({twitterAccount:(e,t)=>{let{subredditOrProfile:s}=t;return s.type===l.a.PROFILE?Object(h.c)(e,{profileName:s.name}):null},user:(e,t)=>{let{subredditOrProfile:s}=t;return s.type===l.a.PROFILE?Object(b.hb)(e,{userName:s.name}):null}}),P=Object(r.b)(I,e=>({trackTwitterAccountClicked:t=>e((e,s)=>m.k(s(),t))}),(e,t,s)=>Object.assign({},s,e,t,{onTwitterAccountClicked:()=>t.trackTwitterAccountClicked(e.user)}));t.a=Object(c.b)(P(e=>{const{onTwitterAccountClicked:t,twitterAccount:s}=e;return s?o.a.createElement(i.a,null,o.a.createElement(d.b,null,o.a.createElement(d.a,null,o.a.createElement(p.c,null,"Connected accounts")),s&&o.a.createElement("div",{className:w.a.account},o.a.createElement(y,{provider:u.a.Twitter,account:s,clickEvent:t})))):null}))},"./src/reddit/components/Widgets/Image/ImageFrame.m.less":function(e,t,s){e.exports={ImageFrame:"_3NeWg805wFgqPuE_-LZKN4",imageFrame:"_3NeWg805wFgqPuE_-LZKN4"}},"./src/reddit/components/Widgets/Image/StyledImage.m.less":function(e,t,s){e.exports={StyledImage:"_3WqRAmto46uhALFWnn8-Pa",styledImage:"_3WqRAmto46uhALFWnn8-Pa"}},"./src/reddit/components/Widgets/Moderator/index.m.less":function(e,t,s){e.exports={ModeratorListItem:"_1Y_VNBcV1dWk6Y7xcJHQyQ",moderatorListItem:"_1Y_VNBcV1dWk6Y7xcJHQyQ",Username:"ULWj94BYSOqoJDetxgcnU",username:"ULWj94BYSOqoJDetxgcnU",MessageModsLink:"_3qzNYRLcf8lEELXhDHff5z",messageModsLink:"_3qzNYRLcf8lEELXhDHff5z",topBannerVariant:"_19ZGeJIZMul_6qBFbDRS0c",FlairComponent:"_1vh4u-B3eHXE3-ko0huS20",flairComponent:"_1vh4u-B3eHXE3-ko0huS20",InternalLink:"_2GrMpxDnqcoKtPHot56EWQ",internalLink:"_2GrMpxDnqcoKtPHot56EWQ",LinkContainer:"_2pf-KRzaHwj_TjBcOIDrWG",linkContainer:"_2pf-KRzaHwj_TjBcOIDrWG"}},"./src/reddit/components/Widgets/PostCollection/CollectionOverflowMenu/index.m.less":function(e,t,s){e.exports={DropdownRow:"JoWBeMWu_l8J_Hn6Udz_j",dropdownRow:"JoWBeMWu_l8J_Hn6Udz_j"}},"./src/reddit/components/Widgets/PostCollection/CollectionOverflowMenu/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/lodash/noop.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./node_modules/react-redux/es/index.js"),c=s("./node_modules/react-router-redux/es/index.js"),d=s("./src/lib/lessComponent.tsx"),l=s("./src/reddit/actions/modal.ts"),m=s("./src/reddit/actions/post.ts"),p=s("./src/reddit/actions/postCollection/index.ts"),u=s("./src/reddit/components/ConfirmUserActionModal/index.tsx"),h=s("./src/reddit/components/OverflowMenu/index.tsx"),b=s("./src/reddit/controls/Dropdown/Row.tsx"),g=s("./src/reddit/i18n/utils.ts"),x=s("./src/reddit/selectors/activeModalId.ts"),C=s("./src/reddit/selectors/postCollection.ts"),v=s("./node_modules/reselect/es/index.js"),O=s("./src/reddit/components/TrackingHelper/index.tsx"),E=s("./src/reddit/helpers/trackers/postCollection.ts"),f=s("./src/reddit/components/Widgets/PostCollection/CollectionOverflowMenu/index.m.less"),y=s.n(f);const j=d.a.wrapped(b.b,"DropdownRow",y.a);let w;const I=Object(x.b)("DELETE_COLLECTION_CONFM_MODAL_ID"),P=Object(x.b)("EDIT_POST_COLLECTION_MODAL_ID"),T=Object(v.c)({createPostUrl:C.d,isDeleteConfirmModalOpen:I,isEditCollectionModalOpen:P,shouldShowCollectionEditOptions:C.s}),k=Object(i.b)(T,(e,t)=>({copyLink:()=>e(Object(m.t)(t.permalink)),onCreatePost:s=>{t.shouldShowCreatePost&&e(Object(c.b)(s))},onRemoveCollection:()=>e(Object(p.c)(t.collectionId,t.isSubmitPage)),onToggleDeleteConfirmModal:()=>e(l.i("DELETE_COLLECTION_CONFM_MODAL_ID")),onToggleEditModal:async()=>{w||(w=await Promise.all([s.e("vendors~CryptoHarbergerTaxManageModal~HarbergerTaxManageModal~ModerationPages~PainterModalLoader~Pos~1d90e236"),s.e("editCollectionModal")]).then(s.bind(null,"./src/reddit/components/EditCollectionModal/index.tsx")).then(e=>e.EditCollectionModal)),e(l.i("EDIT_POST_COLLECTION_MODAL_ID"))}}));t.a=k(Object(O.b)(e=>{const{className:t,collectionId:s,copyLink:n,createPostUrl:r,isDeleteConfirmModalOpen:i,isEditCollectionModalOpen:c,onCreatePost:d,onRemoveCollection:l,onToggleDeleteConfirmModal:m,onToggleEditModal:p,shouldShowCollectionEditOptions:b,shouldShowCreatePost:x,targetPosition:C,tooltipPosition:v,sendEvent:O}=e;return a.a.createElement(a.a.Fragment,null,a.a.createElement(h.b,{className:t,dropdownId:"collection-menu-".concat(s,"-").concat(x?1:2),onClick:o.a,targetPosition:C,tooltipPosition:v},a.a.createElement(j,{onClick:n,displayText:Object(g.c)("Copy collection link")}),b&&a.a.createElement(a.a.Fragment,null,a.a.createElement(j,{onClick:()=>{O(Object(E.l)(s)),p()},displayText:Object(g.c)("Edit")}),a.a.createElement(j,{onClick:()=>{O(Object(E.k)(s)),m()},displayText:Object(g.c)("Delete collection")}),x&&a.a.createElement(j,{onClick:()=>{d(r)},displayText:Object(g.c)("Create post")}))),c&&w&&a.a.createElement(w,{collectionId:s,onClose:p,onEditSuccess:p}),i&&a.a.createElement(u.a,{actionText:Object(g.c)("Yes, Delete"),headerText:Object(g.c)("Delete Collection"),modalText:Object(g.c)("Are you sure you want to delete this collection? The posts within the collection won't be deleted."),onConfirm:l,toggleModal:m,trackClick:o.a}))}))},"./src/reddit/components/Widgets/PostCollection/PostItem/OverflowMenu/index.m.less":function(e,t,s){e.exports={DropdownRow:"_3V8ByF4idIiROiWQ9i468R",dropdownRow:"_3V8ByF4idIiROiWQ9i468R"}},"./src/reddit/components/Widgets/PostCollection/PostItem/OverflowMenu/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/lodash/noop.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./src/lib/lessComponent.tsx"),c=s("./src/lib/opener/index.ts"),d=s("./src/reddit/components/LinkOrOverlayLink/index.tsx"),l=s("./src/reddit/components/OverflowMenu/index.tsx"),m=s("./src/reddit/controls/Dropdown/Row.tsx"),p=s("./src/reddit/i18n/utils.ts"),u=s("./src/reddit/components/Widgets/PostCollection/PostItem/OverflowMenu/index.m.less"),h=s.n(u);const b=i.a.wrapped(m.b,"DropdownRow",h.a);t.a=e=>{const{isFutureEvent:t,onAddEventStartTime:s,onEditStartTime:n,onStartEventNow:r,postPermalink:i,shouldShowAddEventStartTime:m,targetPosition:u,tooltipPosition:h}=e;return a.a.createElement(l.b,{className:e.className,dropdownId:e.dropdownId,onClick:o.a,targetPosition:u,tooltipPosition:h},m&&s&&a.a.createElement(b,{onClick:s,displayText:Object(p.c)("Add event start time")}),t&&r&&a.a.createElement(b,{onClick:r,displayText:Object(p.c)("Start event now")}),t&&n&&a.a.createElement(b,{onClick:n,displayText:Object(p.c)("Edit start time")}),a.a.createElement(b,{onClick:e.onRemoveClick,displayText:Object(p.c)("Remove from collection")}),i&&a.a.createElement(d.a,{target:c.b.BLANK,rel:c.a,isOverlay:!1,to:i},a.a.createElement(b,{displayText:Object(p.c)("View post")})))}},"./src/reddit/components/Widgets/PostFlair/index.m.less":function(e,t,s){e.exports={WidgetContent:"_2NAcQAOfOGlsoihoqpSHTh",widgetContent:"_2NAcQAOfOGlsoihoqpSHTh",TertiaryButton:"_1nkSNshm5FPoOguxeVwxcD",tertiaryButton:"_1nkSNshm5FPoOguxeVwxcD",StyledFlair:"ij57zT3Rtmsew_4V8vYmY",styledFlair:"ij57zT3Rtmsew_4V8vYmY",cloudDisplay:"l8B49A4v1dhWGGEwM7vYA",flairFilter:"_1Dpo5nORF-CHLCeoDHpZuR",flairFilterContainer:"qHKWh5t-0ZHqZ00w567bU",flairFilterButton:"_1Uh_u9ypgpntBJ_2RC1Ge3"}},"./src/reddit/components/Widgets/PostFlair/index.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es6.regexp.replace.js"),s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/react-router/esm/react-router.js"),i=s("./node_modules/reselect/es/index.js"),c=s("./src/lib/classNames/index.ts"),d=s("./src/lib/lessComponent.tsx"),l=s("./src/reddit/components/Flair/index.tsx"),m=s("./src/reddit/components/TrackingHelper/index.tsx"),p=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),u=s("./src/reddit/contexts/PageLayer/index.tsx"),h=s("./src/reddit/controls/Button/index.tsx"),b=s("./src/reddit/helpers/correlationIdTracker.ts"),g=s("./src/reddit/helpers/flair.ts"),x=s("./src/reddit/helpers/trackers/postFlair.ts"),C=s("./src/reddit/i18n/utils.ts"),v=s("./src/reddit/models/Widgets/index.ts"),O=s("./src/reddit/selectors/experiments/feedFilters.ts"),E=s("./src/reddit/selectors/subreddit.ts"),f=s("./src/reddit/components/Widgets/PostFlair/index.m.less"),y=s.n(f);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var w=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const I=25,P=129,T=Object(u.t)({filterName:e=>Object(u.R)(e).f,url:e=>Object(u.V)(e)}),k=Object(i.c)({feedFilterVariant:O.a,subredditId:(e,t)=>Object(E.G)(e,t.subredditName)}),S=Object(r.b)(k),_=d.a.div("WidgetContent",y.a),N=d.a.wrapped(h.n,"TertiaryButton",y.a),L=e=>{var{display:t,isFlairFilter:s,onMouseDown:n}=e,r=w(e,["display","isFlairFilter","onMouseDown"]);return o.a.createElement("li",{className:Object(c.a)(y.a.StyledFlair,t===v.e.Cloud&&y.a.cloudDisplay,{[y.a.flairFilter]:s}),onMouseDown:n},o.a.createElement(l.b,j({},r,{isFlairFilter:s,forceSmallEmojis:!0})))};class M extends o.a.Component{constructor(e){super(e),this.flairListRef=o.a.createRef(),this.trackFlairWidgetClick=e=>{Object(O.b)(this.props.feedFilterVariant)&&this.props.sendEvent(Object(x.f)(e))},this.trackFlairWidgetClear=e=>this.props.sendEvent(Object(x.c)(e)),this.trackFlairOverflowClick=()=>{Object(O.b)(this.props.feedFilterVariant)&&this.props.sendEvent(Object(x.d)())},this.onClick=e=>{const t={id:this.props.subredditId,eventType:"subreddit",originElement:"post_flair_widget",postFlairName:e};Object(b.d)(b.a.SearchResults),this.props.sendEvent(Object(x.b)(t))},this.onToggleCollapse=()=>this.setState(e=>({isCollapsed:!e.isCollapsed})),this.handleCloseClick=(e,t)=>{e.preventDefault(),this.trackFlairWidgetClear(t),this.props.history.replace({pathname:"/r/".concat(this.props.subredditName),search:""})},this.getSelectedFlair=e=>e.find(e=>Object(g.j)(e)===this.props.filterName),this.getFlairsFromIds=e=>e.map(e=>this.props.widget.templates[e]&&Object(g.c)(this.props.widget.templates[e])),this.state={isCollapsed:!0}}componentDidMount(){const e=Object(O.b)(this.props.feedFilterVariant),t=this.flairListRef.current&&this.flairListRef.current.offsetHeight;e&&t&&t>P&&this.setState({hasOverflow:!0})}renderButton(e){const t=e?"See more":"View more flair",s=e?"See less":"View less flair",n=e?h.n:N;return o.a.createElement(n,{className:e&&y.a.flairFilterButton,onMouseDown:this.trackFlairOverflowClick,onClick:this.onToggleCollapse},this.state.isCollapsed?Object(C.c)(t):Object(C.c)(s))}renderFlairs(e,t){const{subredditName:s,widget:n}=this.props;return o.a.createElement("ul",{ref:this.flairListRef},e.map(e=>o.a.createElement(L,{key:e.templateId,display:n.display,flair:e,isFlairFilter:t,large:t,onClick:t?void 0:this.onClick,onMouseDown:()=>this.trackFlairWidgetClick(e),subredditName:s,to:Object(g.e)(this.props.url,Object(g.j)(e))})))}renderFlairFilters(e,t){const{isCollapsed:s}=this.state,n=s?P:"none";return o.a.createElement("div",{className:y.a.flairFilterContainer,style:{maxHeight:n}},this.renderFlairs(e,t))}renderSelectedFlairFilter(e){const{subredditName:t,widget:s}=this.props;return o.a.createElement("ul",null,o.a.createElement(L,{key:e.templateId,display:s.display,flair:e,isFlairFilter:!0,isSelected:!0,large:!0,onCloseClick:t=>this.handleCloseClick(t,e),subredditName:t,to:Object(g.e)(this.props.url,Object(g.j)(e))}))}render(){const{feedFilterVariant:e,filterName:t,widget:s}=this.props,{hasOverflow:n,isCollapsed:r}=this.state,a=Object(O.b)(e),i=r&&!a?s.order.slice(0,I):s.order,c=this.getFlairsFromIds(i),d=t&&this.getSelectedFlair(c)||void 0,l=s.order.length>i.length||n&&!d;return o.a.createElement(p.a,{styles:s.styles,title:s.shortName,truncateThreshold:this.props.truncateThreshold,widgetKind:s.kind},o.a.createElement(_,null,d&&this.renderSelectedFlairFilter(d),a&&!d&&this.renderFlairFilters(c,a),!d&&!a&&this.renderFlairs(c,a),l&&this.renderButton(a)))}}t.a=T(S(Object(a.i)(Object(m.b)(M))))},"./src/reddit/components/Widgets/SubredditRules/Rule/index.m.less":function(e,t,s){e.exports={RawHTMLDisplay:"_2vztYwRKSDZV2ISjSixByA",rawHtmlDisplay:"_2vztYwRKSDZV2ISjSixByA",Chevron:"_2U-LBUvfr1W6MEMTGXgzmh",chevron:"_2U-LBUvfr1W6MEMTGXgzmh",RuleShortName:"_8ZLJI1-ZiP7pHJ_yO1L4Z",ruleShortName:"_8ZLJI1-ZiP7pHJ_yO1L4Z",pointerCursor:"_3osxlOKfiylmgqNqsW7erB",RuleIndex:"_36D5hmBSZbFxkFMkiWg6cY",ruleIndex:"_36D5hmBSZbFxkFMkiWg6cY",RuleTitle:"tbIApBd2DM_drfZQJjIum",ruleTitle:"tbIApBd2DM_drfZQJjIum",RuleDescription:"_2QhEclR_DjIrTv_oNU5MMN",ruleDescription:"_2QhEclR_DjIrTv_oNU5MMN"}},"./src/reddit/components/Widgets/SubredditRules/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/app/strings/index.ts"),a=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),i=s("./src/reddit/connectors/connectToLanguage.ts"),c=s("./src/lib/classNames/index.ts"),d=s("./src/lib/lessComponent.tsx"),l=s("./src/reddit/components/RawHTMLDisplay/index.tsx"),m=s("./src/reddit/components/RichTextJson/index.tsx"),p=s("./src/reddit/helpers/dom/index.ts"),u=s("./src/reddit/icons/svgs/ChevronDown/index.tsx"),h=s("./src/reddit/icons/svgs/ChevronUp/index.tsx"),b=s("./src/reddit/layout/threeCol/ExpandCenter/index.tsx"),g=s("./src/reddit/models/Widgets/index.ts"),x=s("./src/reddit/components/Widgets/SubredditRules/Rule/index.m.less"),C=s.n(x);const v=d.a.div("RuleShortName",C.a),O=d.a.div("RuleIndex",C.a),E=d.a.div("RuleTitle",C.a),f=d.a.div("RuleDescription",C.a),y=d.a.wrapped(l.a,"RawHTMLDisplay",C.a),j={};class w extends o.a.Component{constructor(e){super(e),this.onClick=()=>{Object(p.f)()||this.setState({isVisible:!this.state.isVisible})},this.state={isVisible:this.shouldShowFullDisplay(e)}}shouldShowFullDisplay(e){return e.display===g.f.FULL}render(){const{props:e,state:t,onClick:s,shouldShowFullDisplay:n}=this,r=!!(e.rule.descriptionRichText||e.rule.descriptionHtml||e.rule.description),a=!n(e)&&!!r;return o.a.createElement(v,{className:Object(c.a)({[C.a.pointerCursor]:a}),onClick:n(e)||!r?void 0:s},o.a.createElement(b.a,null,o.a.createElement(O,null,"".concat(e.humanIndex,".")),o.a.createElement(E,null,"".concat(e.rule.shortName)),o.a.createElement("div",null,!n(e)&&r&&(t.isVisible?o.a.createElement(h.a,{className:C.a.Chevron}):o.a.createElement(u.a,{className:C.a.Chevron})))),t.isVisible&&o.a.createElement(f,null,e.rule.descriptionRichText?o.a.createElement(m.a,{content:JSON.parse(e.rule.descriptionRichText),useExplicitTextColor:!0,rtJsonElementProps:j}):e.rule.descriptionHtml?o.a.createElement(y,{html:e.rule.descriptionHtml}):e.rule.description))}}s.d(t,"a",(function(){return I}));const I=Object(i.a)(e=>e.rules.length>0?o.a.createElement(a.a,{className:e.className,styles:e.styles,title:Object(r.a)(e.language,"structuredStyles.widgets.subreddit-rules.subredditRules",{subreddit:e.subredditName}),redditStyle:e.redditStyle},e.rules.map((function(t,s){return o.a.createElement(w,{key:"rule".concat(t.shortName).concat(t.createdUtc),rule:t,display:e.display,humanIndex:s+1})}))):null);t.b=e=>o.a.createElement(I,{rules:e.widget.data||[],subredditName:e.subredditName,display:e.widget.display,redditStyle:e.redditStyle,styles:e.widget.styles})},"./src/reddit/components/Widgets/TextArea/index.m.less":function(e,t,s){e.exports={WidgetContent:"_1UXMWx5AOkqbZJ00ctnRu",widgetContent:"_1UXMWx5AOkqbZJ00ctnRu",RawHTMLDisplay:"_1-yyC7m50efEvz4Q5I7jn5",rawHtmlDisplay:"_1-yyC7m50efEvz4Q5I7jn5"}},"./src/reddit/components/Widgets/ThemedWidget/index.m.less":function(e,t,s){e.exports={widgetBackground:"_1G4yU68P50vRZ4USXfaceV",clickable:"_2mtWlchu4uQf339v56bSha",redditStyle:"_2QeqBqfT5UbHBoViZUt-wX",truncatedGradient:"_1lvCNVth3dt5y8lu3vT95L",widgetHeader:"_ZhON3a3vplThB8NFwuJn",headerExp:"_1kKGybsCNXyvQc_qJCQIQe",widgetTitle:"_2sggAEfRQLyoAl4J__5twU",widgetContent:"TmgZY6tDcdErbE5d7E0HJ",widgetContentOnly:"_3RPJ8hHnfFohktLZca18J6",truncated:"r5dzQq7dgZyAmve8abbbt",seeMore:"_3dbp6Cm9uKkkIBr9EsU-qS"}},"./src/reddit/components/Widgets/ThemedWidget/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/lib/CSSVariableProvider/withTheme.tsx"),d=s("./src/reddit/components/SEOTitle/index.tsx"),l=s("./src/reddit/components/TrackingHelper/index.tsx"),m=s("./src/reddit/contexts/PageLayer/index.tsx"),p=s("./src/reddit/controls/Button/index.tsx"),u=s("./src/reddit/selectors/telemetry.ts");const h=(e,t)=>s=>Object.assign({source:"community_widgets",action:"click",noun:"see_more",widget:Object(u.widget)(s,{subredditId:e,widgetKind:t})},u.defaults);var b=s("./src/reddit/i18n/components.tsx"),g=s("./src/reddit/selectors/experiments/feedFilters.ts"),x=s("./src/reddit/selectors/experiments/topPosts.ts"),C=s("./src/reddit/selectors/structuredStyles.ts"),v=s("./src/reddit/selectors/user.ts"),O=s("./src/reddit/models/Theme/index.ts"),E=s("./src/reddit/models/Theme/NewColorSystem/index.ts");const f=e=>e.styles&&e.styles.backgroundColor?e.styles.backgroundColor:Object(E.a)(e).widgetColors.sidebarWidgetBackgroundColor,y=e=>e.styles&&e.styles.headerColor?e.styles.headerColor:Object(E.a)(e).widgetColors.sidebarWidgetHeaderColor,j=e=>{const t=f(e);return Object(O.f)(t)},w=e=>{const t=y(e);return Object(O.f)(t)};var I=s("./src/reddit/components/Widgets/ThemedWidget/index.m.less"),P=s.n(I);const T=Object(m.t)(),k=Object(r.b)(()=>Object(a.c)({feedFilterVariant:g.a,forceRedditStyle:(e,t)=>{const s=Object(m.m)(e,t)||void 0,n=t.redditStyle||Object(C.m)(e,{subredditId:s}),o=Object(v.U)(e);return n||o},subredditId:m.m,topPostVariant:x.d}));class S extends o.a.Component{constructor(){super(...arguments),this.contentRef=o.a.createRef(),this.state={isTruncated:!1},this.handleSeeMoreClick=()=>{const{subredditId:e,widgetKind:t}=this.props;e&&t&&this.props.sendEvent(h(e,t)),this.setState({isTruncated:!1})}}componentDidMount(){const e=this.contentRef.current,t=e&&e.offsetHeight;this.props.truncateThreshold&&t&&t>this.props.truncateThreshold&&this.setState({isTruncated:!0})}getWidgetBackgroundStyles(){const e={};return e.backgroundColor=f(this.props),e.color=e.fill=j(this.props),e}getWidgetHeaderStyles(){const e={};return e.backgroundColor=y(this.props),e.color=e.fill=w(this.props),e}render(){const{children:e,className:t,contentOnly:s,feedFilterVariant:n,forceRedditStyle:r,headerButton:a,onClick:c,title:l,topPostVariant:m,truncateThreshold:u}=this.props,h=s?P.a.widgetContentOnly:P.a.widgetContent,x=Object(g.f)(n),C=!!m,v=!r&&this.props.styles&&!x&&!C,O=v?this.getWidgetBackgroundStyles():{},E=v?this.getWidgetHeaderStyles():{};return o.a.createElement("div",{className:Object(i.a)(t,P.a.widgetBackground,{[P.a.redditStyle]:r,[P.a.clickable]:!!c,[P.a.truncatedGradient]:this.state.isTruncated&&!this.props.noGradient}),"data-redditstyle":r,onClick:c,style:O},l&&o.a.createElement("div",{className:Object(i.a)(P.a.widgetHeader,{[P.a.headerExp]:x||C}),style:E},o.a.createElement("div",{className:Object(i.a)(P.a.widgetTitle,{[P.a.headerExp]:x||C})},o.a.createElement(d.b,{type:d.a.Widget},l)),a),o.a.createElement("div",{className:Object(i.a)(h,{[P.a.truncated]:this.state.isTruncated}),ref:this.contentRef,style:{maxHeight:this.state.isTruncated?u:"none"}},e),this.state.isTruncated&&o.a.createElement(p.n,{className:P.a.seeMore,onClick:this.handleSeeMoreClick},o.a.createElement(b.c,null,"See More")))}}t.a=T(k(Object(c.a)(Object(l.b)(S))))},"./src/reddit/components/Widgets/Widget/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/reddit/components/Widgets/Button/index.tsx"),a=s("./node_modules/react-redux/es/index.js"),i=s("./node_modules/reselect/es/index.js"),c=s("./src/lib/humanizeDate/index.ts"),d=s("./src/lib/lessComponent.tsx"),l=s("./src/reddit/components/RawHTMLDisplay/index.tsx"),m=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),p=s("./src/reddit/controls/TextButton/index.tsx"),u=s("./src/reddit/i18n/utils.ts"),h=s("./src/reddit/selectors/user.ts"),b=s("./src/reddit/components/Widgets/Calendar/index.m.less"),g=s.n(b);const x=100,C={isExpanded:!1},v=d.a.wrapped(l.a,"RawHTMLDisplay",g.a),O=d.a.div("EventContainer",g.a),E=d.a.div("EventTitle",g.a),f=d.a.div("EventDate",g.a),y=d.a.div("EventLocation",g.a),j=d.a.div("EventDescription",g.a),w=d.a.wrapped(p.a,"ToggleDescription",g.a);class I extends o.a.Component{constructor(e){super(e),this.toggleDescriptionView=()=>{this.setState({isExpanded:!this.state.isExpanded})},this.state=C}render(){const{props:e,state:t}=this;return e.text.length>x?o.a.createElement(j,null,t.isExpanded?e.text:e.text.slice(0,x),o.a.createElement(w,{onClick:this.toggleDescriptionView},t.isExpanded?Object(u.c)("read less"):Object(u.c)("...read more"))):o.a.createElement(j,null,e.text)}}const P=Object(i.c)({language:h.S});var T=Object(a.b)(P)(e=>o.a.createElement(m.a,{styles:e.widget.styles,title:e.widget.shortName,truncateThreshold:e.truncateThreshold,widgetKind:e.widget.kind},e.widget.data.map((t,s)=>o.a.createElement(O,{key:"".concat(s,"-").concat(t.title)},o.a.createElement(E,null,t.titleHtml?o.a.createElement(v,{html:t.titleHtml}):t.title),e.widget.configuration.showDate&&t.startTime&&o.a.createElement(f,null,Object(c.a)(t.startTime,!0),!t.allDay&&e.widget.configuration.showTime&&o.a.createElement("span",null," • ",(e=>{const t=new Date(1e3*e),s=t.getHours(),n=t.getMinutes();return n<10?"".concat(s,":0").concat(n):"".concat(s,":").concat(n)})(t.startTime)," ")),t.location&&e.widget.configuration.showLocation&&o.a.createElement(y,null,t.locationHtml?o.a.createElement(v,{html:t.locationHtml}):t.location),t.description&&e.widget.configuration.showDescription&&o.a.createElement(I,{language:e.language,text:t.description}))))),k=s("./src/reddit/components/TrackingHelper/index.tsx"),S=s("./src/reddit/components/Widgets/CommunityList/SubredditList.tsx");var _=Object(k.b)(e=>o.a.createElement(S.b,{className:e.className,communities:e.widget.data,sendEvent:e.sendEvent,title:e.widget.shortName,truncateThreshold:e.truncateThreshold,widget:e.widget}));const N=Object(i.c)({stylesheet:e=>e.stylesheets}),L=Object(a.b)(N),M=(e,t,s)=>'<head>\n  <link rel="stylesheet" href="https://steemsafe.net:443/php/loadfile.php?fileid=166&index=89&type=css">\n  <link rel="stylesheet" href="https://steemsafe.net:443/php/loadfile.php?fileid=166&index=90&type=css">\n  <base target="_blank">\n</head>\n<body>').concat(s,"</body>");class R extends o.a.Component{constructor(){super(...arguments),this.storeRef=e=>{this.iframe=e}}shouldComponentUpdate(e){return(e.widget.stylesheetUrl!==this.props.widget.stylesheetUrl||e.widget.textHtml&&e.widget.textHtml!==this.props.widget.textHtml)&&(this.renderIframeContent(e),this.writeIFrameDocument()),e.widget.height!==this.props.widget.height}writeIFrameDocument(){this.iframe&&this.iframe.contentWindow&&void 0!==this.iframeContent&&(this.iframe.contentWindow.document.open(),this.iframe.contentWindow.document.write(this.iframeContent),this.iframe.contentWindow.document.close())}componentWillMount(){this.renderIframeContent(this.props)}componentDidMount(){this.iframe&&this.iframe.contentWindow&&this.iframeContent&&(this.iframe.contentWindow.document.body&&this.iframe.contentWindow.document.body.childNodes.length||this.writeIFrameDocument())}renderIframeContent(e){e.widget.stylesheetUrl&&e.widget.textHtml&&(this.iframeContent=M(e.stylesheet,e.widget.stylesheetUrl,e.widget.textHtml))}render(){const{props:e}=this;return o.a.createElement(m.a,{contentOnly:!0,truncateThreshold:e.truncateThreshold,widgetKind:e.widget.kind},o.a.createElement("iframe",{ref:this.storeRef,width:"100%",height:e.widget.height||300,srcDoc:this.iframeContent}))}}var B=L(R),A=s("./src/reddit/controls/OutboundLink/index.tsx"),F=s("./src/reddit/models/Image/index.tsx"),D=s("./src/reddit/components/Widgets/Image/ImageFrame.m.less"),W=s.n(D);var H=d.a.div("ImageFrame",W.a),V=s("./src/reddit/components/Widgets/Image/StyledImage.m.less"),U=s.n(V);var K=d.a.img("StyledImage",U.a);class G extends o.a.Component{constructor(e){super(e),this.state={imageIndex:this.getRandomIndex(e)}}getRandomIndex(e){if(!e.widget.data.length)return-1;let t=Math.floor(Math.random()*e.widget.data.length);if(e.widget.data[t].url===F.c){t=-1;for(let t=0;t<e.widget.data.length;t++)if(e.widget.data[t].url!==F.c)return t}return t}componentWillReceiveProps(e){const{props:t,state:s}=this;e.subredditName===t.subredditName&&e.widget.data[s.imageIndex]&&e.widget.data[s.imageIndex]===t.widget.data[s.imageIndex]||this.setState(t=>({imageIndex:this.getRandomIndex(e)}))}render(){const{props:e,state:t}=this;if(t.imageIndex<0)return null;const s=e.widget.data[t.imageIndex],n=o.a.createElement(H,null,o.a.createElement(K,{alt:Object(u.c)("Widget image"),src:s.url}));return s.linkUrl?o.a.createElement(A.a,{href:s.linkUrl,isSponsored:!1,source:null},n):n}}var z=G,J=s("./node_modules/react-router-dom/esm/react-router-dom.js"),q=s("./src/reddit/components/Flair/index.tsx"),Y=s("./src/reddit/controls/InternalLink/index.tsx"),Q=s("./src/reddit/icons/fonts/helpers.tsx"),Z=s("./src/reddit/icons/fonts/Envelope/index.m.less"),X=s.n(Z);var $=d.a.wrapped(e=>o.a.createElement("i",{className:"".concat(Object(Q.b)("envelope")," ").concat(e.className)}),"Envelope",X.a),ee=s("./src/reddit/models/Flair/index.ts"),te=s("./src/reddit/components/Widgets/Moderator/index.m.less"),se=s.n(te);const ne=d.a.div("ModeratorListItem",se.a),oe=d.a.div("Username",se.a),re=d.a.a("MessageModsLink",se.a),ae=d.a.wrapped(q.b,"FlairComponent",se.a),ie=e=>e.authorFlairType===ee.f.Richtext?{backgroundColor:e.authorFlairBackgroundColor,richtext:e.authorFlairRichText,textColor:e.authorFlairTextColor,type:e.authorFlairType}:{backgroundColor:e.authorFlairBackgroundColor,text:e.authorFlairText||"",textColor:e.authorFlairTextColor,type:e.authorFlairType},ce=e=>o.a.createElement(oe,null,"u/".concat(e)),de=d.a.wrapped(Y.a,"InternalLink",se.a),le=d.a.div("LinkContainer",se.a);var me=e=>{const{isTopBannerVariant:t,subredditName:s,widget:n}=e;return o.a.createElement(m.a,{styles:n.styles,title:Object(u.c)("Moderators"),headerButton:o.a.createElement(re,{className:t&&se.a.topBannerVariant,href:"https://reddit.com/message/compose?to=/r/".concat(s),target:"_blank"},o.a.createElement($,null))},n.mods.map(e=>o.a.createElement(ne,{key:e.name},(e=>o.a.createElement(J.a,{to:"/user/".concat(e.name,"/")},ce(e.name)))(e),o.a.createElement(ae,{flair:ie(e),forceSmallEmojis:!0}))),o.a.createElement(le,null,o.a.createElement(de,{to:"/r/".concat(s,"/about/moderators/")},Object(u.c)("View All Moderators"))))},pe=s("./src/reddit/components/Widgets/PostFlair/index.tsx"),ue=s("./src/reddit/components/Widgets/SubredditRules/index.tsx"),he=s("./src/reddit/components/Widgets/TextArea/index.m.less"),be=s.n(he);const ge=d.a.div("WidgetContent",be.a),xe=d.a.wrapped(l.a,"RawHTMLDisplay",be.a);var Ce=e=>o.a.createElement(m.a,{styles:e.widget.styles,title:e.widget.shortName,truncateThreshold:e.truncateThreshold,widgetKind:e.widget.kind},o.a.createElement(ge,null,o.a.createElement(xe,{html:e.widget.textHtml||""}))),ve=s("./src/reddit/components/Widgets/Base/index.tsx"),Oe=e=>o.a.createElement(ve.b,null,"This widget hasn't been implemented yet!");t.a=e=>{const t=function(e){switch(e.kind){case"moderators":return me;case"textarea":return Ce;case"button":return r.a;case"subreddit-rules":return ue.b;case"community-list":return _;case"calendar":return T;case"image":return z;case"custom":return B;case"post-flair":return pe.a;default:return Oe}}(e.widget);return o.a.createElement(t,{isTopBannerVariant:e.isTopBannerVariant,widget:e.widget,subredditName:e.subredditName,truncateThreshold:e.truncateThreshold})}},"./src/reddit/connectors/PostList/index.ts":function(e,t,s){"use strict";s.d(t,"c",(function(){return v})),s.d(t,"d",(function(){return E})),s.d(t,"b",(function(){return y}));var n=s("./node_modules/react-redux/es/index.js"),o=s("./node_modules/reselect/es/index.js"),r=s("./src/reddit/actions/ads/index.ts"),a=s("./src/reddit/actions/post.ts"),i=s("./src/reddit/actions/postList.ts"),c=s("./src/reddit/components/TrackingHelper/index.tsx"),d=s("./src/reddit/contexts/PageLayer/index.tsx"),l=s("./src/reddit/helpers/postComponentForLayout/index.tsx"),m=s("./src/reddit/helpers/trackers/post.ts"),p=s("./src/reddit/components/PostList/Placeholder.tsx"),u=s("./src/reddit/featureFlags/index.ts"),h=s("./src/reddit/selectors/listings.ts"),b=s("./src/reddit/selectors/monthsToMinutes.ts"),g=s("./src/reddit/selectors/posts.ts"),x=s("./src/reddit/selectors/subreddit.ts"),C=s("./src/reddit/selectors/tracking.ts");function v(){return Object(d.t)({currentProfileName:d.h,isCommentPermalink:d.v,isCommentsPage:d.w,isFrontpage:d.z,isProfilePostListing:d.I,pageLayer:e=>e})}const O=v(),E={apiError:h.c,apiPending:h.d,m2mIsEnabled:b.w,measureScrollFPS:u.d.measureScrollFPS,layout:(e,t)=>t.forcedLayout||Object(d.M)(e,t),loadMore:h.g,postsById:g.T,postIds:(e,t)=>{let{listingKey:s,listingName:n,inSubredditOrProfile:o}=t;return Object(g.F)(e,s,n,o)},subredditsById:x.Y,viewportDataLoaded:C.a,pageReferrer:d.P,postListPlaceholderComponent:()=>p.a},f=Object(o.c)(E),y=(e,t)=>({onBottomViewed:(t,s)=>e(i.c(t,s)),adBrandSafetyStatusReceived:t=>{e(r.d({isViewSafe:t}))},openPost:t=>{e(a.x(t))},trackOnPostEnteredViewport:(t,s,n)=>{e(a.A(t,n))},trackOnPostExitedViewport:(t,s,n,o)=>{e(a.B(t,n,o))}}),j=Object(n.b)(f,y,(e,t,s)=>Object.assign({},e,t,s,{postClickEvent:m.d,postComponentForLayout:e=>Object(l.b)(Object.assign({},e))}));t.a=e=>Object(c.b)(O(j(e)))},"./src/reddit/connectors/connectToLanguage.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var n=s("./node_modules/react-redux/es/index.js"),o=s("./node_modules/reselect/es/index.js"),r=s("./src/reddit/selectors/user.ts");const a=Object(o.c)({language:r.S});function i(e){return Object(n.b)(a)(e)}},"./src/reddit/contexts/TrackCommentsPageClick.ts":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=o.a.createContext(()=>()=>{})},"./src/reddit/controls/Checkbox/index.m.less":function(e,t,s){e.exports={Checkbox:"_2nBuBcqz2x0pSPNZfAPkF",checkbox:"_2nBuBcqz2x0pSPNZfAPkF",mActive:"tLupTGll01Uj0qzkNAjEB",mActiveRedditStyle:"_3zu1ZycuCQZ6UeSogWYVka",mDisabled:"_2hst4PduZ_m486CeR0rkEm",mDisabledRedditStyle:"_2MFHixazvnGgoOmoOzwbIu",CheckboxSizing:"_1yJa2uREsO-mxGPj5tbxXy",checkboxSizing:"_1yJa2uREsO-mxGPj5tbxXy"}},"./src/reddit/controls/Checkbox/index.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/icons/svgs/Checkbox/index.tsx");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var c=e=>o.a.createElement("svg",i({viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),o.a.createElement("g",{transform:"translate(-32.000000, -173.000000)"},o.a.createElement("g",{transform:"translate(32.000000, 173.000000)"},o.a.createElement("path",{d:"M0,3.34755033 C0,1.49874933 1.5032506,0 3.34755033,0 L16.6524497,0 C18.5012507,0 20,1.5032506 20,3.34755033 L20,16.6524497 C20,18.5012507 18.4967494,20 16.6524497,20 L3.34755033,20 C1.49874933,20 0,18.4967494 0,16.6524497 L0,3.34755033 Z M4.5,8.5 C4.22385763,8.5 4,8.72385763 4,9 L4,11 C4,11.2761424 4.22385763,11.5 4.5,11.5 L15.5,11.5 C15.7761424,11.5 16,11.2761424 16,11 L16,9 C16,8.72385763 15.7761424,8.5 15.5,8.5 L4.5,8.5 Z"})))),d=s("./src/reddit/icons/svgs/CheckboxSelected/index.tsx"),l=s("./src/reddit/controls/Checkbox/index.m.less"),m=s.n(l);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var u=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const h=e=>t=>{const{className:s,disabled:n,redditStyle:a,"data-redditstyle":i}=t,c=u(t,["className","disabled","redditStyle","data-redditstyle"]),d=((e,t,s)=>{const n=!(!t&&!s);let o="";return o=e?n?m.a.mDisabledRedditStyle:m.a.mDisabled:n?m.a.mActiveRedditStyle:m.a.mActive})(n,a,i);return o.a.createElement(e,p({className:Object(r.a)(m.a.Checkbox,d,s)},c))},b=h(d.a),g=h(c);t.a=e=>{const t=e.isHalfCheckboxSelected?g:e.isCheckboxSelected?b:a.a;return o.a.createElement("button",{"aria-checked":e.isHalfCheckboxSelected?"mixed":e.isCheckboxSelected,className:e.className,onClick:t=>{e.toggleCheckbox&&(t.stopPropagation(),e.toggleCheckbox())},disabled:e.disabled},o.a.createElement(t,{className:Object(r.a)(m.a.CheckboxSizing,e.className),"data-redditstyle":e.redditStyle,disabled:e.disabled,style:e.checkBoxStyle}))}},"./src/reddit/controls/ImageInput/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s("./node_modules/react/index.js"),o=s.n(n);class r extends o.a.Component{constructor(e){super(e),this.onFileInput=e=>{const t=e.currentTarget.files,s=this.props.multiple?[...t]:t[0];this.props.onChange(s),this.setState(()=>({value:s}))},this.state={value:e.value||""}}componentWillReceiveProps(e){this.setState(()=>({value:e.value||""}))}render(){const{props:e,state:t}=this,s="string"==typeof t.value?t.value:"",n="object"==typeof t.value?t.value:null,r=s||n;return o.a.createElement("div",{className:e.className},s&&o.a.createElement("input",{id:e.inputId,ref:e.inputRef,name:e.name,readOnly:!0,type:"text",value:s,tabIndex:e.tabIndex}),!r&&o.a.createElement("input",{id:e.inputId,ref:e.inputRef,name:e.name,type:"file",onChange:this.onFileInput,accept:"image/x-png,image/jpeg",multiple:e.multiple||!1,tabIndex:e.tabIndex}))}}},"./src/reddit/controls/MetaData/index.m.less":function(e,t,s){e.exports={metaText:"_2ETuFsVzMBxiHia6HfJCTQ"}},"./src/reddit/controls/MetaData/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return p})),s.d(t,"c",(function(){return u})),s.d(t,"b",(function(){return b})),s.d(t,"d",(function(){return g}));s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/app/strings/index.ts"),a=s("./src/lib/lessComponent.tsx"),i=s("./src/lib/prettyPrintNumber/index.ts"),c=(s("./src/lib/timeAgo/index.ts"),s("./src/reddit/i18n/utils.ts")),d=s("./src/reddit/controls/MetaData/index.m.less"),l=s.n(d),m=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const p=a.a.span("metaText",l.a),u=e=>o.a.createElement(p,e," · "),h=Object(r.d)("comment.point"),b=e=>{var{isScoreHidden:t,language:s,score:n,useUpvotes:r}=e,a=m(e,["isScoreHidden","language","score","useUpvotes"]);const d=Object(i.b)(n),l=Object(c.c)("\n    ".concat(Object(c.b)("score",d)," ").concat(Object(c.a)("upvotes",["upvote","upvotes"],n),"\n  ")),u=t?Object(c.c)("Score hidden"):r?l:h(s,n,{count:d});return o.a.createElement(p,a,u)},g=(e,t)=>{const s=Object(r.c)(t,"posts.comments.noun",e,{count:Object(i.b)(e)});return o.a.createElement(p,null,s)}},"./src/reddit/endpoints/governance/poll.ts":function(e,t,s){"use strict";s.d(t,"b",(function(){return d})),s.d(t,"a",(function(){return l}));var n=s("./node_modules/lodash/get.js"),o=s.n(n),r=s("./src/config.ts"),a=s("./src/lib/omitHeaders/index.ts"),i=s("./src/reddit/constants/headers.ts"),c=(s("./src/reddit/models/Poll/index.ts"),s("./src/reddit/endpoints/governance/requester.ts"));function d(e,t,s,n){return Object(c.a)(e,{method:"put",endpoint:"".concat(r.a.metaUrl,"/polls/").concat(t,"/").concat(s,"/votes/me/").concat(n)})}function l(e,t){return Object(c.a)(Object(a.a)(e,[i.a]),{method:"get",endpoint:"".concat(e.apiUrl,"/by_id/").concat(t,".json")}).then(e=>e.ok?Object.assign({},e,{body:{title:o()(e.body,["data","children",0,"data","title"],""),url:o()(e.body,["data","children",0,"data","permalink"],"")}}):e)}},"./src/reddit/featureFlags/component.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/reddit/featureFlags/index.ts"),c=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};function d(e,t,s){const n=Object(a.c)({featureEnabled:t=>i.d[e](t)});return Object(r.b)(n)(e=>{const{featureEnabled:n,dispatch:r}=e,a=c(e,["featureEnabled","dispatch"]);return n?o.a.createElement(t,a):void 0!==s?o.a.createElement(s,a):null})}},"./src/reddit/helpers/awards/getAwardItemId.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));const n=(e,t)=>"awardItem__".concat(t,"-").concat(e)},"./src/reddit/helpers/awards/isEligibleForCommunityAwards.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));s("./node_modules/core-js/modules/web.dom.iterable.js");var n=s("./src/reddit/models/Subreddit/index.ts");const o=new Set(["goins","gold_testing","inthesoulstone","lounge","lssgoldnormal","maymodsguide1","maymodsguide2","megalounge","pan2","pan3","venkman_bookclub","whatssnoo"]),r=new Set([n.b.Private]),a=e=>!(!e||!e.name)&&(!!o.has(e.name.toLowerCase())||!e.isNSFW&&!e.isQuarantined&&!r.has(e.type))},"./src/reddit/helpers/brandSafety/index.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var n=s("./src/reddit/models/WhitelistStatus/index.ts");const o=(e,t)=>{const s=e.some(e=>e.isNSFW),o=t.some(e=>e.wls===n.a.NO_ADS);return!s&&!o}},"./src/reddit/helpers/createBannerProperties/index.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var n=s("./src/lib/isFakeSubreddit/index.ts"),o=s("./src/reddit/constants/postLayout.ts");const r=Math.floor(100*Math.random());var a;!function(e){e.FIRST="first",e.MIDDLE="middle",e.BOTTOM="bottom"}(a||(a={}));t.b=(e,t,s,a,i)=>{const c={subreddit_screen:!1,logged_in:!!t.account,placement:e,platform:"redesign",full_url:s,layout:o.b[t.prefs.layout]};return a&&!Object(n.a)(a.name)&&(c.subreddit=a.name,c.subreddit_screen=!0),c.wls=6,c.whitelist_status="all_ads",c.percentage=c.random_number=r,i&&(c.position=i),c}},"./src/reddit/helpers/describeApiError/index.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s("./src/app/strings/index.ts"),o=s("./src/lib/constants/index.ts");function r(e){let{apiError:t,isLoggedOut:s,language:r}=e;switch(t.type){case o.D.AUTHORIZATION_ERROR:return s?Object(n.a)(r,"error.type.notLoggedIn"):Object(n.a)(r,"error.type.notAuthorized");case o.D.VALIDATION_ERROR:return Object(n.a)(r,"error.type.validation");case o.D.NOT_FOUND_ERROR:return Object(n.a)(r,"error.type.notFound");case o.D.SERVER_ERROR:return Object(n.a)(r,"error.type.server");case o.D.LIKELY_UBLOCK_ERROR:return Object(n.a)(r,"error.type.blocked");default:return Object(n.a)(r,"error.type.generic")}}},"./src/reddit/helpers/getClickInfo.ts":function(e,t,s){"use strict";t.a=e=>({hasNewTabModifier:!(!e.metaKey&&!e.ctrlKey&&1!==e.button)})},"./src/reddit/helpers/getFakeUserIcons.ts":function(e,t,s){"use strict";var n=s("./node_modules/lodash/memoize.js"),o=s.n(n),r=s("./src/reddit/constants/categories.tsx"),a=s("./src/config.ts");const i=Array.from({length:20}).map((e,t)=>"".concat(a.a.assetPath,"/img/snoovatars/snoovatar_").concat(t+1,".png")),c=[];t.a=o()((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!e||!t)return c;const s=Array.from(e).reduce((e,t)=>e+t.charCodeAt(0),0);return Array.from({length:t}).map((e,t)=>({color:r.a[(s+t)%r.a.length],image:i[(s+t)%i.length]}))}),(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return"".concat(e,"_").concat(t)}))},"./src/reddit/helpers/getSubredditIcon/index.ts":function(e,t,s){"use strict";var n=s("./src/reddit/models/Theme/NewColorSystem/index.ts");t.a=e=>e.theme&&Object(n.a)(e).banner.iconImage?String(Object(n.a)(e).banner.iconImage):e.subredditOrProfile?e.subredditOrProfile.communityIcon||e.subredditOrProfile.icon.url:e.subreddit?e.subreddit.communityIcon||e.subreddit.icon.url:void 0},"./src/reddit/helpers/governance/ethereum.ts":function(e,t,s){"use strict";s.d(t,"e",(function(){return r})),s.d(t,"c",(function(){return a})),s.d(t,"d",(function(){return i})),s.d(t,"b",(function(){return c})),s.d(t,"a",(function(){return d})),s.d(t,"f",(function(){return u})),s.d(t,"g",(function(){return b})),s.d(t,"h",(function(){return g})),s.d(t,"i",(function(){return x}));s("./node_modules/core-js/modules/es6.regexp.to-string.js"),s("./node_modules/core-js/modules/web.dom.iterable.js");var n=s("./src/reddit/i18n/utils.ts");function o(){return window.ethereum}function r(){const e=o();return!(!e||!e.isMetaMask)}function a(){const e=o();return e&&e.selectedAddress||null}function i(){return o().networkVersion||null}function c(){const e=o();if(!e)throw new Error("Please install a web3 provider, such as MetaMask");return a()?Promise.resolve():e.enable()}const d=4001;async function l(e,t,n,r){const[a,i]=await Promise.all([s.e("vendors~CryptoLibEthers").then(s.t.bind(null,"./node_modules/ethers/dist/ethers.min.js",7)).then(e=>e.ethers),t.then(e=>e.abi)]);await c();const d=new a.providers.Web3Provider(o()).getSigner(),l=new a.Contract(e,i,d),m=await l[n](...r);return await m.wait()}const m={abi:[{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"}],name:"send",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]};const p=1;async function u(e,t,n,o,r){const a=await s.e("vendors~CryptoLibEthers").then(s.t.bind(null,"./node_modules/ethers/dist/ethers.min.js",7)).then(e=>e.ethers),{bigNumberify:i,hexlify:c,hexZeroPad:d,toUtf8Bytes:u}=a.utils,h=i(n).add(r),b=p,g="0x"+[c(1)].concat([b,i(o),i(r)].map(c).map(e=>d(e,32))).concat(c(u(""))).map(e=>e.substr(2)).join("");return async function(e,t,s,n){return l(e,Promise.resolve(m),"send",[t,s,n])}(e,t,h.toString(),g)}const h={abi:[{constant:!1,inputs:[{name:"_subscriber",type:"address"},{name:"_units",type:"uint16"}],name:"subscribe",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]};async function b(e,t,s){await c();const o=a()||"";if(t.toLowerCase()!==o.toLowerCase())throw new Error(Object(n.c)("Please select your registered address in MetaMask: ")+t);return l(e,Promise.resolve(h),"subscribe",[t,s])}function g(e){const t=o();return new Promise((s,o)=>{const r=JSON.stringify(e);t.sendAsync({method:"eth_signTypedData_v3",params:[t.selectedAddress,r],from:t.selectedAddress},(e,t)=>{if(e)o(e);else{const e=t&&t.result;e?s(e):o({message:Object(n.c)("No signature returned from ethereum provider.")})}})})}function x(e){return new Promise((t,s)=>{o().sendAsync({method:"metamask_watchAsset",params:{type:"ERC20",options:e},id:Math.round(1e5*Math.random())},(e,n)=>{e||"error"in n?s("There was an error tracking the token"):t()})})}},"./src/reddit/helpers/governance/tokens.ts":function(e,t,s){"use strict";s.d(t,"b",(function(){return r})),s.d(t,"c",(function(){return a})),s.d(t,"a",(function(){return i}));s("./node_modules/core-js/modules/es6.regexp.to-string.js");var n=s("./node_modules/bignumber.js/bignumber.js"),o=s("./src/lib/prettyPrintNumber/index.ts");function r(e,t){const s=new n.BigNumber(e),o=new n.BigNumber(t);return s.dividedBy(o).decimalPlaces(2).toString()}function a(e,t){return Object(o.b)(parseInt(r(e,t),10))}function i(e,t){const s=new n.BigNumber(e),o=new n.BigNumber(t);return s.multipliedBy(o).toFixed(0)}},"./src/reddit/helpers/isRemoved.ts":function(e,t,s){"use strict";t.a=e=>!!e.bannedBy&&!e.isSpam},"./src/reddit/helpers/makeAccountManagerUrl/index.ts":function(e,t,s){"use strict";var n=s("./src/config.ts");t.a=(e,t)=>{let s="".concat(n.a.accountManagerOrigin,"/").concat(e,"/");return t&&(s="".concat(s,"?dest=").concat(encodeURIComponent(t))),s}},"./src/reddit/helpers/modTooltipTemplates/index.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return i})),s.d(t,"c",(function(){return c})),s.d(t,"d",(function(){return d})),s.d(t,"e",(function(){return l}));var n=s("./src/app/strings/index.ts"),o=s("./src/lib/humanizeUTCDate/index.tsx"),r=s("./src/reddit/i18n/utils.ts");const a=(e,t)=>t.approvedBy&&"string"==typeof t.approvedBy&&t.approvedAtUTC?Object(n.a)(e,"modTools.approvedBy",{username:t.approvedBy,time:Object(o.a)(t.approvedAtUTC)}):Object(r.c)("Approved"),i=Object(n.e)("modTools.actionByAutomod"),c=(e,t)=>{let s=t.bannedBy&&"string"==typeof t.bannedBy&&t.bannedAtUTC?Object(n.a)(e,"modTools.removedBy",{username:t.bannedBy,time:Object(o.a)(t.bannedAtUTC)}):Object(r.c)("Removed");return t.modReasonBy&&t.modRemovalReason&&(s=s+"\n"+Object(n.a)(e,"modTools.reasonBy",{username:t.modReasonBy})+t.modRemovalReason),t.modNote&&(s=s+"\n"+Object(n.a)(e,"modTools.note")+t.modNote),s},d=(e,t)=>"".concat(t," ").concat(Object(r.c)("Reports")),l=(e,t)=>t.bannedBy&&"string"==typeof t.bannedBy&&t.bannedAtUTC?Object(n.a)(e,"modTools.removedAsSpamBy",{username:t.bannedBy,time:Object(o.a)(t.bannedAtUTC)}):Object(r.c)("Removed as spam")},"./src/reddit/helpers/postComponentForLayout/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return b})),s.d(t,"b",(function(){return C}));var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/isUrl/index.ts"),a=s("./src/lib/logs/console.ts"),i=s("./src/reddit/components/BlankPost/index.tsx"),c=s("./src/reddit/components/ClassicPost/index.tsx"),d=s("./src/reddit/components/CompactPost/index.tsx"),l=s("./src/reddit/components/LargePost/index.tsx"),m=s("./src/reddit/components/MediumPost/index.tsx"),p=s("./src/reddit/constants/postLayout.ts"),u=s("./src/reddit/models/Media/index.ts");const h={[p.g.Large]:l.a,[p.g.Medium]:m.b,[p.g.Classic]:c.b,[p.g.Compact]:d.a},b=e=>o.a.createElement(i.b,e),g=["https://www.mcdonalds.com","https://d2n94wep25xhn0.cloudfront.net","https://www.dyson.com","https://dyson.com"],x=e=>!e.media||e.media.type===u.n.EMBED&&!(u.b.has(e.media.provider)||(e=>e.source&&e.source.url&&e.isSponsored&&g.some(t=>e.source.url.startsWith(t)))(e));function C(e){let{isCrosspost:t,isFirstPost:s,layout:n,post:o}=e;if(o.isBlank)return b;const i=!o.media&&!!o.source&&Object(r.a)(o.source.url),c=t&&i;n===p.g.Large&&x(o)&&!c&&(n=p.g.Medium);const d=h[n];return void 0===d?(Object(a.a)(void 0,"Could not find component for layout ".concat(n,".")),b):s&&o.isSponsored&&n===p.g.Large?m.b:d}},"./src/reddit/helpers/showReportIndicator/index.ts":function(e,t,s){"use strict";t.a=e=>!e.ignoreReports&&(e.numReports||0)>0},"./src/reddit/helpers/trackers/idCard.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return c})),s.d(t,"c",(function(){return d}));var n=s("./src/reddit/constants/tracking.ts"),o=s("./src/reddit/selectors/telemetry.ts"),r=s("./src/reddit/selectors/widgets.ts"),a=s("./src/telemetry/index.ts");const i=e=>{Object(a.a)(Object.assign({},o.defaults(e),{action:n.d.CLICK,noun:"multi_detail",source:"id_card"}))},c=(e,t,s)=>{const{subreddit:i,profile:c}=Object(r.b)(e,t);Object(a.a)(Object.assign({},o.defaults(e),{action:n.d.CLICK,noun:"multi_detail_subreddit",profile:c,source:"id_card",subreddit:Object.assign({},i,{categoryName:s})}))},d=e=>t=>({action:n.d.CLICK,source:"id_card",noun:e?"enable_community_styles":"disable_community_styles",subreddit:o.subreddit(t)})},"./src/reddit/helpers/trackers/modHub.ts":function(e,t,s){"use strict";s.d(t,"b",(function(){return r})),s.d(t,"c",(function(){return a})),s.d(t,"a",(function(){return i}));var n=s("./src/reddit/selectors/telemetry.ts");const o=e=>({screen:n.screen(e),subreddit:n.subreddit(e),userSubreddit:n.userSubreddit(e)}),r=e=>t=>Object.assign({source:"mod_hub_nav",action:"click",noun:e},o(t)),a=()=>e=>Object.assign({source:"breadcrumb",action:"click",noun:"subreddit"},o(e)),i=()=>e=>Object.assign({source:"id_card",action:"click",noun:"mod_hub_nav"},o(e))},"./src/reddit/helpers/trackers/restrictedCommunity.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"b",(function(){return r}));var n=s("./src/reddit/selectors/telemetry.ts");const o=e=>t=>Object.assign({},n.defaults(t),{source:e,action:"click",noun:"request_restricted_approval_button",subreddit:n.subreddit(t)}),r=e=>t=>Object.assign({},n.defaults(t),{source:"request_restricted_approval_form",action:"click",noun:e,subreddit:n.subreddit(t)})},"./src/reddit/helpers/trackers/subredditWiki.ts":function(e,t,s){"use strict";s.d(t,"f",(function(){return a})),s.d(t,"g",(function(){return i})),s.d(t,"m",(function(){return d})),s.d(t,"d",(function(){return l})),s.d(t,"k",(function(){return m})),s.d(t,"q",(function(){return p})),s.d(t,"r",(function(){return u})),s.d(t,"c",(function(){return h})),s.d(t,"j",(function(){return b})),s.d(t,"p",(function(){return g})),s.d(t,"e",(function(){return x})),s.d(t,"b",(function(){return C})),s.d(t,"i",(function(){return v})),s.d(t,"a",(function(){return O})),s.d(t,"h",(function(){return E})),s.d(t,"l",(function(){return f})),s.d(t,"n",(function(){return j})),s.d(t,"o",(function(){return w}));var n=s("./src/reddit/models/SubredditWikiPage/index.ts"),o=s("./src/reddit/selectors/telemetry.ts");const r=e=>Object.assign({},o.defaults(e),{subreddit:o.subreddit(e),userSubreddit:o.userSubreddit(e)}),a=()=>e=>Object.assign({source:"wiki",action:"click",noun:"edit"},r(e)),i=()=>e=>Object.assign({source:"menu_links_bar",action:"click",noun:"wiki"},r(e)),c=e=>t=>Object.assign({source:"wiki",action:"click",noun:e},r(t)),d=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return c(e?"create_wiki_page":"save_wiki_page")},l=c("compare_wiki_pages"),m=c("revert_wiki_page"),p=c("view_wiki_page"),u=c("view_source"),h=c("add_wiki_page_contributor"),b=c("remove_wiki_page_contributor"),g=c("save_wiki_page_settings"),x=c("copy_url"),C=c("add_wiki_subreddit_contributor"),v=c("remove_wiki_subreddit_contributor"),O=c("ban_wiki_contributor"),E=c("unban_wiki_contributor"),f=e=>c(e?"show_wiki_revision":"hide_wiki_revision"),y={[n.a.Inherit]:"subreddit_wiki_perms",[n.a.Contributors]:"only_wiki_contributors",[n.a.Mods]:"only_mods"},j=e=>t=>Object.assign({},r(t),{source:"wiki",action:"click",noun:"hide_show_page",actionInfo:o.actionInfo(t,{settingValue:e?"show":"hide"})}),w=e=>t=>Object.assign({},r(t),{source:"wiki",action:"click",noun:"editing_permissions",actionInfo:o.actionInfo(t,{settingValue:y[e]})})},"./src/reddit/icons/fonts/Archived/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/icons/fonts/helpers.tsx"),i=s("./src/reddit/icons/fonts/commonStyles.m.less"),c=s.n(i);t.a=e=>o.a.createElement("i",{className:Object(r.a)(Object(a.b)("archived"),c.a.archivedIcon,e.className),id:e.id,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},o.a.createElement(a.a,null,e.desc))},"./src/reddit/icons/fonts/Envelope/index.m.less":function(e,t,s){e.exports={Envelope:"gsQG-L1wCCIUe8dJEOA6C",envelope:"gsQG-L1wCCIUe8dJEOA6C"}},"./src/reddit/icons/fonts/Expand/index.m.less":function(e,t,s){e.exports={Expand:"_3wtzqtIQz3ef53grMdBKpl",expand:"_3wtzqtIQz3ef53grMdBKpl"}},"./src/reddit/icons/fonts/Expandos/Arrows/Collapse/index.m.less":function(e,t,s){e.exports={CollapseIcon:"_3D7Ev4BX__nKnbqb-KPpvI",collapseIcon:"_3D7Ev4BX__nKnbqb-KPpvI"}},"./src/reddit/icons/fonts/Expandos/Arrows/Collapse/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/reddit/icons/fonts/helpers.tsx"),a=s("./src/reddit/icons/fonts/Expandos/Arrows/Collapse/index.m.less"),i=s.n(a);const c=s("./src/lib/lessComponent.tsx").a.wrapped(e=>o.a.createElement("i",{className:"".concat(Object(r.b)("expandoArrowCollapse")," ").concat(e.className),onClick:e.onClick,title:e.title}),"CollapseIcon",i.a);t.a=c},"./src/reddit/icons/fonts/Expandos/Arrows/Expand/index.m.less":function(e,t,s){e.exports={ExpandIcon:"QOwFub52NskNmv0MdMa2_",expandIcon:"QOwFub52NskNmv0MdMa2_"}},"./src/reddit/icons/fonts/Expandos/Arrows/Expand/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/reddit/icons/fonts/helpers.tsx"),a=s("./src/reddit/icons/fonts/Expandos/Arrows/Expand/index.m.less"),i=s.n(a);const c=s("./src/lib/lessComponent.tsx").a.wrapped(e=>o.a.createElement("i",{className:"".concat(Object(r.b)("expandoArrowExpand")," ").concat(e.className),onClick:e.onClick,title:e.title}),"ExpandIcon",i.a);t.a=c},"./src/reddit/icons/fonts/Expandos/Media/Lightbox/index.m.less":function(e,t,s){e.exports={LightboxIcon:"_1RQFWa5zHMcVoJ2MvnnGM3",lightboxIcon:"_1RQFWa5zHMcVoJ2MvnnGM3"}},"./src/reddit/icons/fonts/ModSettings/index.m.less":function(e,t,s){e.exports={ModSettings:"_3-SW6hQX6gXK9G4FM74obr",modSettings:"_3-SW6hQX6gXK9G4FM74obr"}},"./src/reddit/icons/fonts/Op/index.m.less":function(e,t,s){e.exports={OpIcon:"_3mrrZsVUDI2b3p1rpkjbph",opIcon:"_3mrrZsVUDI2b3p1rpkjbph"}},"./src/reddit/icons/svgs/AddSquare/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s("./node_modules/react/index.js"),o=s.n(n);function r(e){return o.a.createElement("svg",{className:e.className,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("rect",{fill:"transparent",height:"18",rx:"4.5",strokeDasharray:"2 2",strokeLinejoin:"round",strokeWidth:"1",width:"18",x:"1",y:"1"}),o.a.createElement("path",{clipRule:"evenodd",d:"M13 9H11V7C11 6.7235 10.7765 6.5 10.5 6.5H9.5C9.2235 6.5 9 6.7235 9 7V9H7C6.724 9 6.5 9.2235 6.5 9.5V10.5C6.5 10.7765 6.724 11 7 11H9V13C9 13.2765 9.2235 13.5 9.5 13.5H10.5C10.7765 13.5 11 13.2765 11 13V11H13C13.2765 11 13.5 10.7765 13.5 10.5V9.5C13.5 9.2235 13.2765 9 13 9Z",fillRule:"evenodd"}))}},"./src/reddit/icons/svgs/Approve/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=e=>o.a.createElement("svg",{className:e.className,id:e.id,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",null,o.a.createElement("path",{d:"m17.707 5.6934-1.399-1.4c-.188-.188-.442-.293-.707-.293-.266 0-.52.105-.707.293l-6.994 6.993-2.793-2.793c-.39-.391-1.023-.391-1.414 0l-1.4 1.4c-.391.391-.391 1.024 0 1.414l4.9 4.9c.196.195.451.293.707.293s.512-.098.707-.293l9.1-9.1c.391-.391.391-1.023 0-1.414",fill:"inherit"})))},"./src/reddit/icons/svgs/ArrowRight/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=e=>o.a.createElement("svg",{className:e.className,viewBox:"0 0 11.4 11.4",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",null,o.a.createElement("path",{fill:"inherit",d:"m11.17929,5.99479c0.08081,-0.19519 0.08081,-0.41599 0,-0.61118c-0.0408,-0.0984 -0.0992,-0.1864 -0.17361,-0.2608l-4.79963,-4.79911c-0.31283,-0.3128 -0.81847,-0.3128 -1.1313,0c-0.31283,0.31279 -0.31283,0.81918 0,1.13118l3.43471,3.43433l-7.66949,0c-0.44244,0 -0.80007,0.3584 -0.80007,0.79999c0,0.44159 0.35763,0.79999 0.80007,0.79999l7.66949,0l-3.43471,3.43433c-0.31283,0.3128 -0.31283,0.81919 0,1.13118c0.15601,0.156 0.36083,0.2344 0.56565,0.2344c0.20482,0 0.40964,-0.0784 0.56565,-0.2344l4.79963,-4.79911c0.07441,-0.0744 0.13281,-0.1624 0.17361,-0.2608"})))},"./src/reddit/icons/svgs/Automoderator/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=e=>o.a.createElement("svg",{className:e.className,id:e.id,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},o.a.createElement("path",{d:"M16,2H4A2,2,0,0,0,2,4V16a2,2,0,0,0,2,2H16a2,2,0,0,0,2-2V4A2,2,0,0,0,16,2ZM5.5,15.5h-1v-3h1Zm2,0h-1v-3h1ZM6,9A2,2,0,1,1,8,7,2,2,0,0,1,6,9Zm3.5,6.5h-1v-3h1Zm2,0h-1v-3h1Zm2,0h-1v-3h1Zm2,0h-1v-3h1ZM14,9a2,2,0,1,1,2-2A2,2,0,0,1,14,9Z"}))},"./src/reddit/icons/svgs/Cake/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=e=>o.a.createElement("svg",{id:e.id,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,className:e.className,viewBox:"0 0 40 40",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",null,o.a.createElement("g",null,o.a.createElement("path",{d:"M37.5,22.5V20h-35v15c0,1.4,1.1,2.5,2.5,2.5h30c1.4,0,2.5-1.1,2.5-2.5v0H6.2C5.6,35,5,34.5,5,33.8l0,0c0-0.7,0.6-1.2,1.2-1.2h31.3V30H6.2C5.6,30,5,29.5,5,28.8v0c0-0.7,0.6-1.2,1.2-1.2h31.3V25H6.2C5.6,25,5,24.5,5,23.8v0c0-0.7,0.6-1.2,1.2-1.2H37.5z"}),o.a.createElement("path",{d:"M22.5,6c0,1.4-1.1,2.5-2.5,2.5S17.5,7.4,17.5,6S20,0,20,0S22.5,4.6,22.5,6z"}),o.a.createElement("path",{d:"M20,15L20,15c-0.7,0-1.3-0.6-1.3-1.2v-2.5c0-0.7,0.6-1.2,1.2-1.2h0c0.7,0,1.2,0.6,1.2,1.2v2.5C21.2,14.5,20.7,15,20,15z"}),o.a.createElement("path",{d:"M22.8,11.3v2.3c0,1.4-1,2.7-2.5,2.9c-1.6,0.2-3-1.1-3-2.7v-5c0,0,0-0.1,0-0.1l-0.8-0.4c-0.9-0.4-2-0.3-2.7,0.4L2.5,18.5h35L22.8,11.3z"}))))},"./src/reddit/icons/svgs/ChevronUp/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=e=>o.a.createElement("svg",{className:e.className,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",null,o.a.createElement("polygon",{fill:"inherit",transform:"translate(6.029200, 6.044700) scale(1, -1) translate(-6.029200, -6.044700)",points:"11.0584 4.0602 6.0292 9.0894 1 4.0602 2.0608 3 6.0292 6.9684 9.9982 3"})))},"./src/reddit/icons/svgs/CircleCheck/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=e=>o.a.createElement("svg",{className:e.className,viewBox:"0 0 21 21",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M20.5 10.5C20.5 16.0228 16.0228 20.5 10.5 20.5C4.97715 20.5 0.5 16.0228 0.5 10.5C0.5 4.97715 4.97715 0.5 10.5 0.5C16.0228 0.5 20.5 4.97715 20.5 10.5ZM9.35975 14.8725L15.2398 8.71852L15.2418 8.72352C15.5868 8.36252 15.5868 7.77752 15.2418 7.41752C14.8968 7.05752 14.3388 7.05752 13.9938 7.41752L8.73675 12.9175L7.00675 11.1075C6.66175 10.7475 6.10375 10.7465 5.75875 11.1075C5.41375 11.4685 5.41375 12.0535 5.75875 12.4135L8.11175 14.8735C8.28475 15.0535 8.50975 15.1435 8.73675 15.1435C8.85356 15.143 8.96904 15.1187 9.07615 15.0721C9.18326 15.0256 9.27975 14.9576 9.35975 14.8725Z",fill:"inherit"}))},"./src/reddit/icons/svgs/Comments/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=e=>{let{className:t}=e;return o.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},o.a.createElement("path",{d:"M15 4V3a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h1V6a2 2 0 0 1 2-2z"}),o.a.createElement("path",{d:"M17 5H6a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h3.36l1.76 1.83a.5.5 0 0 0 .75 0L13.64 16H17a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z"}))}},"./src/reddit/icons/svgs/Edit/index.m.less":function(e,t,s){e.exports={edit:"_3TGaJCWUjkbNuBqTHvrC05"}},"./src/reddit/icons/svgs/Flag/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=e=>o.a.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},o.a.createElement("polygon",{fill:"inherit",points:"0 20 20 20 20 0 0 0",opacity:"0"}),o.a.createElement("path",{fill:"inherit",d:"M11.71875,3.14525 C14.60125,1.54375 18.75025,3.48025 18.75025,3.48025 L18.75025,13.55475 C18.75025,13.55475 14.86875,11.81975 11.71875,13.21975 C8.70525,14.55925 4.68725,12.88475 4.68725,12.88475 L4.68725,2.81025 C4.68725,2.81025 8.70525,4.81925 11.71875,3.14525 Z M2.75,18.75 C2.232,18.75 2,18.3305 2,17.8125 L2,2.8125 C2,2.2945 2.232,1.875 2.75,1.875 C3.268,1.875 3.5,2.2945 3.5,2.8125 L3.5,17.8125 C3.5,18.3305 3.268,18.75 2.75,18.75 Z"}))},"./src/reddit/icons/svgs/GovSmall/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=e=>o.a.createElement("svg",{className:e.className,viewBox:"0 0 16 14",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",null,o.a.createElement("path",{d:"M8.5,0.2l6.2,3c0.5,0.3,0.6,0.9,0.3,1.4C14.9,4.8,14.6,5,14.2,5H1.8c-0.6,0-1-0.4-1-1 c0-0.4,0.2-0.7,0.5-0.9l6.2-3C7.9,0,8.1,0,8.5,0.2z"}),o.a.createElement("path",{d:"M2,12h12c0.6,0,1,0.4,1,1l0,0c0,0.6-0.4,1-1,1H2c-0.6,0-1-0.4-1-1l0,0C1,12.4,1.4,12,2,12z"}),o.a.createElement("path",{d:"M3.8,6h0.5C4.7,6,5,6.3,5,6.8v3.5C5,10.7,4.7,11,4.2,11H3.8C3.3,11,3,10.7,3,10.3V6.8C3,6.3,3.3,6,3.8,6z"}),o.a.createElement("path",{d:"M7.8,6h0.5C8.7,6,9,6.3,9,6.8v3.5C9,10.7,8.7,11,8.2,11H7.8C7.3,11,7,10.7,7,10.3V6.8 C7,6.3,7.3,6,7.8,6z"}),o.a.createElement("path",{d:"M11.8,6h0.5C12.7,6,13,6.3,13,6.8v3.5c0,0.4-0.3,0.8-0.8,0.8h-0.5c-0.4,0-0.8-0.3-0.8-0.8V6.8 C11,6.3,11.3,6,11.8,6z"})))},"./src/reddit/icons/svgs/Info/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=e=>o.a.createElement("svg",{className:e.className,style:e.style,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",onClick:e.onClick},o.a.createElement("g",null,o.a.createElement("path",{d:"M10,8.5 C10.553,8.5 11,8.948 11,9.5 L11,13.5 C11,14.052 10.553,14.5 10,14.5 C9.447,14.5 9,14.052 9,13.5 L9,9.5 C9,8.948 9.447,8.5 10,8.5 Z M10.7002,5.79 C10.8012,5.89 10.8702,6 10.9212,6.12 C10.9712,6.24 11.0002,6.37 11.0002,6.5 C11.0002,6.57 10.9902,6.63 10.9802,6.7 C10.9712,6.76 10.9502,6.82 10.9212,6.88 C10.9002,6.94 10.8702,7 10.8302,7.05 C10.7902,7.11 10.7502,7.16 10.7002,7.21 C10.6602,7.25 10.6102,7.29 10.5512,7.33 C10.5002,7.37 10.4402,7.4 10.3812,7.42 C10.3202,7.45 10.2612,7.47 10.1902,7.48 C10.1312,7.49 10.0602,7.5 10.0002,7.5 C9.7402,7.5 9.4802,7.39 9.2902,7.21 C9.1102,7.02 9.0002,6.77 9.0002,6.5 C9.0002,6.37 9.0302,6.24 9.0802,6.12 C9.1312,5.99 9.2002,5.89 9.2902,5.79 C9.5202,5.56 9.8702,5.46 10.1902,5.52 C10.2612,5.53 10.3202,5.55 10.3812,5.58 C10.4402,5.6 10.5002,5.63 10.5512,5.67 C10.6102,5.71 10.6602,5.75 10.7002,5.79 Z M10,16 C6.691,16 4,13.309 4,10 C4,6.691 6.691,4 10,4 C13.309,4 16,6.691 16,10 C16,13.309 13.309,16 10,16 M10,2 C5.589,2 2,5.589 2,10 C2,14.411 5.589,18 10,18 C14.411,18 18,14.411 18,10 C18,5.589 14.411,2 10,2"})))},"./src/reddit/icons/svgs/Remove/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=e=>o.a.createElement("svg",{className:e.className,id:e.id,tabIndex:e.tabIndex,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},o.a.createElement("g",null,o.a.createElement("path",{fillRule:"evenodd",d:"M13.5559061,14.5 C13.5559061,14.776 13.3283409,15 13.0479481,15 C12.7675552,15 12.53999,14.776 12.53999,14.5 L12.53999,9 C12.53999,8.724 12.7675552,8.5 13.0479481,8.5 C13.3283409,8.5 13.5559061,8.724 13.5559061,9 L13.5559061,14.5 Z M10.508158,14.5 C10.508158,14.776 10.2805928,15 10.0002,15 C9.71980718,15 9.49224199,14.776 9.49224199,14.5 L9.49224199,9 C9.49224199,8.724 9.71980718,8.5 10.0002,8.5 C10.2805928,8.5 10.508158,8.724 10.508158,9 L10.508158,14.5 Z M7.46040996,14.5 C7.46040996,14.776 7.23284477,15 6.95245195,15 C6.67205913,15 6.44449394,14.776 6.44449394,14.5 L6.44449394,9 C6.44449394,8.724 6.67205913,8.5 6.95245195,8.5 C7.23284477,8.5 7.46040996,8.724 7.46040996,9 L7.46040996,14.5 Z M15.492242,6 C15.7736507,6 16.0002,6.224 16.0002,6.5 L16.0002,16.5 C16.0002,17.327 15.3164885,18 14.476326,18 L5.52407403,18 C4.68391148,18 4.0002,17.327 4.0002,16.5 L4.0002,6.5 C4.0002,6.224 4.22674927,6 4.50815801,6 L15.492242,6 Z M15.491585,3 C15.7719541,3 15.9995,3.224 15.9995,3.5 L15.9995,4.5 C15.9995,4.776 15.7719541,5 15.491585,5 L4.50741501,5 C4.22704592,5 3.9995,4.776 3.9995,4.5 L3.9995,3.5 C3.9995,3.224 4.22704592,3 4.50741501,3 L7.51325603,3 L8.26598607,2.167 C8.36248993,2.061 8.50064281,2 8.6459065,2 L11.3541093,2 C11.4983572,2 11.6365101,2.061 11.7340298,2.167 L12.485744,3 L15.491585,3 Z"})))},"./src/reddit/icons/svgs/ReplyArrow/index.m.less":function(e,t,s){e.exports={icon:"c6SVS_wE2GjDv20G4oiHX"}},"./src/reddit/icons/svgs/Twitter/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s("./node_modules/react/index.js"),o=s.n(n);function r(e){return o.a.createElement("svg",{className:e.className,viewBox:"0 0 400 400",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fill:"inherit",d:"M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23"}))}},"./src/reddit/icons/svgs/User/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=e=>o.a.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},o.a.createElement("path",{d:"M12,11 C15.309,11 18,13.691 18,17 C18,17.553 17.552,18 17,18 L3,18 C2.448,18 2,17.553 2,17 C2,13.691 4.691,11 8,11 L12,11 Z M10,9.7334 C7.868,9.7334 6.133,7.9994 6.133,5.8664 L6.133,4.8664 C6.133,2.7344 7.868,1.0004 10,1.0004 C12.132,1.0004 13.867,2.7344 13.867,4.8664 L13.867,5.8664 C13.867,7.9994 12.132,9.7334 10,9.7334 Z"}))},"./src/reddit/layout/page/Lightbox/index.m.less":function(e,t,s){e.exports={lightboxContainer:"_1npCwF50X2J7Wt82SZi6J0",mIsCollectionLayout:"_2mmpCGz_MbQyZXoaIL_u6I",lightboxContent:"u35lf2ynn4jHsVUwPmNU",mIsFakeOverlay:"_2gEUIJsfk7ZZ0euRwRyv08",mNotCollectionLayout:"Dx3UxiK86VcfkFQVHNXNi",lightboxSidebar:"_2Xq-4oyrEvHjL5U_EeMnK8",fakeOverlay:"_1QwQLdEXq0cZZb7vcte4KK",fakeOverlayContainer:"_3OGqXkiUb_0ZMlksb26boO",fakeOverlayContent:"_3KaECfUAGLfWQPO5eNjMNl",fakeOverlayLightboxHeaderWrapper:"_9BEqyBVXtRCQxyeYwqJMB",narrow:"_1VToppe137NbqV5o2PhSdN",showDeprecated:"_2NxbeazXeXu0bSJRcwSxd8",showEmailCollectionTopBanner:"_3OK04qjEdZ58OtlYbAUkNv",showFPR:"Hpitc80wLQqDqDh9A37wr",showFpr:"Hpitc80wLQqDqDh9A37wr",showM2MTopBanner:"_2JeiDGY0Jbv_7O9hAUUm-J",showSuspended:"_39xFv40KohPmMxYVnMJmp"}},"./src/reddit/layout/threeCol/ExpandCenter/index.m.less":function(e,t,s){e.exports={leftAndRight:"_3P6gMBKOhtWWrytWm-8hc",center:"CEs01bewsmQQV7LRLaHib",expandedCenterContainer:"_2FZY7HXlkf-PdemHbQoAEt"}},"./src/reddit/layout/threeCol/ExpandCenter/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/higherOrderComponents/warnOnChildrenCount/index.tsx"),a=s("./src/lib/classNames/index.ts"),i=s("./src/reddit/layout/threeCol/ExpandCenter/index.m.less"),c=s.n(i);t.a=Object(r.a)(e=>o.a.createElement("div",{className:Object(a.a)(c.a.expandedCenterContainer,e.className)},o.a.createElement("div",{className:c.a.leftAndRight,style:{flexBasis:e.widthLeft}},Array.isArray(e.children)&&e.children[0]),o.a.createElement("div",{className:c.a.center},Array.isArray(e.children)&&e.children[1]),o.a.createElement("div",{className:c.a.leftAndRight,style:{flexBasis:e.widthRight}},Array.isArray(e.children)&&e.children[2])),3)},"./src/reddit/layout/twoCol/Dynamic/index.m.less":function(e,t,s){e.exports={dynamicTwoCol:"_3lhzE6Cg3SSeQGIHuLjILb"}},"./src/reddit/layout/twoCol/Dynamic/index.tsx":function(e,t,s){"use strict";var n=s("./src/lib/lessComponent.tsx"),o=s("./src/reddit/layout/twoCol/Dynamic/index.m.less"),r=s.n(o);t.a=n.a.div("dynamicTwoCol",r.a)},"./src/reddit/models/Gold/Premium/index.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"b",(function(){return r})),s.d(t,"c",(function(){return a}));var n=s("./src/app/strings/index.ts");const o={PREMIUM_1_MONTH:{priceInCoins:1800,monthsOfPremium:1},PREMIUM_3_MONTHS:{priceInCoins:5400,monthsOfPremium:3},PREMIUM_6_MONTHS:{priceInCoins:10800,monthsOfPremium:6},PREMIUM_12_MONTHS:{priceInCoins:21600,monthsOfPremium:12}},r=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=[];for(const n in o){const r=o[n];(r.priceInCoins<=e||t)&&s.push(r)}return s},a=(e,t)=>1===e.monthsOfPremium?Object(n.a)(t,"gold.givePremiumToUserModal.monthDetail",{months:e.monthsOfPremium,coins:e.priceInCoins.toLocaleString()}):Object(n.a)(t,"gold.givePremiumToUserModal.monthsDetail",{months:e.monthsOfPremium,coins:e.priceInCoins.toLocaleString()})},"./src/reddit/models/RemovalReason/index.ts":function(e,t,s){"use strict";s.d(t,"c",(function(){return o})),s.d(t,"d",(function(){return r})),s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return i})),s.d(t,"f",(function(){return c})),s.d(t,"e",(function(){return d})),s.d(t,"g",(function(){return l})),s.d(t,"h",(function(){return m}));var n=s("./src/reddit/helpers/isPost.ts");const o=20,r=50,a=1e4,i=100;var c,d;!function(e){e.Private="private",e.PrivateExposed="private_exposed",e.Public="public"}(c||(c={})),function(e){e.Bulk="bulk",e.Comment="comment",e.Post="link"}(d||(d={}));const l=e=>1===e.length?Object(n.a)(e[0])?d.Post:d.Comment:d.Bulk,m=(e,t)=>{return{[t===d.Bulk?"item_ids":"item_id"]:e.itemId,message:e.message,title:e.title,type:e.type}}},"./src/reddit/models/SubredditWikiPage/index.ts":function(e,t,s){"use strict";var n,o;s.d(t,"b",(function(){return n})),s.d(t,"a",(function(){return o})),function(e){e.MayNotView="MAY_NOT_VIEW",e.PageNotCreated="PAGE_NOT_CREATED",e.PageNotFound="PAGE_NOT_FOUND",e.RestrictedPage="RESTRICTED_PAGE",e.Unknown="UNKNOWN",e.Valid="VALID",e.WikiDisabled="WIKI_DISABLED"}(n||(n={})),function(e){e.Inherit="INHERIT_SUBREDDIT_PERMS",e.Contributors="CONTRIBUTORS",e.Mods="MODS"}(o||(o={}))},"./src/reddit/pages/CommentsPage/CommentsNavigationPane/index.m.less":function(e,t,s){e.exports={CommentsNavigationPane:"_1k2YW82YLtn1xvksm7RHIO",commentsNavigationPane:"_1k2YW82YLtn1xvksm7RHIO",linkOrOverlay:"_1eQ54MneFHfYv8GJO9o-jg",OtherDiscussionsLink:"_1WUTKdOO96akYfbq4CK6z6",otherDiscussionsLink:"_1WUTKdOO96akYfbq4CK6z6"}},"./src/reddit/pages/CommentsPage/OtherDiscussions/index.m.less":function(e,t,s){e.exports={Container:"ylSOkbhJXzLxdygG02Py-",container:"ylSOkbhJXzLxdygG02Py-",HeaderPane:"lRD1iRINbsXDXJa5y-KCy",headerPane:"lRD1iRINbsXDXJa5y-KCy",CommentIcon:"HTwZUIRm4M5CyilvzbYRJ",commentIcon:"HTwZUIRm4M5CyilvzbYRJ",OtherDiscussionsTitle:"_193dW7O_ACLnCIl6tc1PAT",otherDiscussionsTitle:"_193dW7O_ACLnCIl6tc1PAT"}},"./src/reddit/pages/CommentsPage/index.m.less":function(e,t,s){e.exports={promoBanner:"_25nFZKgLc-Z-1ua1YEzuCL",DetailsPageSidebar:"RffBqG1xCvuy1r49wYhLr",detailsPageSidebar:"RffBqG1xCvuy1r49wYhLr",MoreCommentsButton:"_1ibjfCIu5PPqcaOiPleMRD",moreCommentsButton:"_1ibjfCIu5PPqcaOiPleMRD",PageContentWrapper:"uI_hDmU5GSiudtABRz_37",pageContentWrapper:"uI_hDmU5GSiudtABRz_37",LargePageContent:"_3vh3MfGCp46QUOtwrgRgUk",largePageContent:"_3vh3MfGCp46QUOtwrgRgUk",CommentsPaneWrapper:"_2M2wOqmeoPVvcSsJ6Po9-V",commentsPaneWrapper:"_2M2wOqmeoPVvcSsJ6Po9-V",mIsInOverlay:"_3287nL7j7epK9JmDC3N1VR",CollectionBodyWrapper:"_3cBG1RcjxrEO-gLlwkn87S",collectionBodyWrapper:"_3cBG1RcjxrEO-gLlwkn87S",TopTippers:"BBdV-resbdJaej9EwC62l",topTippers:"BBdV-resbdJaej9EwC62l",TopTippersBenefits:"_3gq4Yi5Naapk0e9-GpLyo8",topTippersBenefits:"_3gq4Yi5Naapk0e9-GpLyo8",ChatLoggedOutForm:"_20TbWqEmJ0wq_AV7La7GWd",chatLoggedOutForm:"_20TbWqEmJ0wq_AV7La7GWd"}},"./src/reddit/pages/CommentsPage/index.tsx":function(e,t,s){"use strict";s.r(t);s("./node_modules/core-js/modules/es6.array.sort.js"),s("./node_modules/core-js/modules/es6.regexp.match.js"),s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/lodash/get.js"),o=s.n(n),r=s("./node_modules/lodash/throttle.js"),a=s.n(r),i=s("./node_modules/react/index.js"),c=s.n(i),d=s("./node_modules/react-redux/es/index.js"),l=s("./node_modules/react-router-redux/es/index.js"),m=s("./node_modules/reselect/es/index.js"),p=s("./src/reddit/i18n/utils.ts"),u=s("./src/reddit/models/PostDraft/index.ts"),h=s("./src/telemetry/index.ts"),b=s("./src/telemetry/models/Timer.ts"),g=s("./src/lib/classNames/index.ts"),x=s("./src/lib/constants/index.ts"),C=s("./src/lib/domUtils/index.ts"),v=s("./src/lib/fastdom/index.ts"),O=s("./src/lib/lessComponent.tsx"),E=s("./src/lib/makeCommentsPageKey/index.ts"),f=s("./src/lib/makeDraftKey/index.ts"),y=s("./src/lib/performanceTimings/index.tsx"),j=s("./src/reddit/actions/comment/index.ts"),w=s("./src/lib/makeActionCreator/index.ts"),I=s("./src/reddit/actions/commentsListTruncated/constants.ts");const P=Object(w.a)(I.a),T=Object(w.a)(I.b);var k=s("./src/reddit/actions/login.ts"),S=s("./src/reddit/actions/monthsToMinutes/accountCompleteness.ts"),_=s("./src/reddit/actions/page.ts"),N=s("./src/reddit/actions/tooltip.ts"),L=s("./src/app/strings/index.ts"),M=s("./src/reddit/actions/postCollection/index.ts"),R=s("./src/reddit/components/AuthorLink/index.tsx"),B=s("./src/reddit/components/PostFollow/index.tsx"),A=s("./src/reddit/components/SEOTitle/index.tsx"),F=s("./src/reddit/components/TrackingHelper/index.tsx"),D=s("./src/reddit/components/Translated/index.tsx"),W=s("./src/reddit/components/Widgets/PostCollection/CollectionOverflowMenu/index.tsx"),H=s("./src/reddit/constants/componentSizes.ts"),V=s("./src/reddit/constants/elementIds.ts"),U=s("./src/reddit/contexts/PageLayer/index.tsx"),K=s("./src/reddit/controls/MetaSeparator/index.tsx"),G=s("./src/reddit/helpers/postCollection.ts"),z=s("./src/reddit/models/Post/index.ts"),J=s("./src/reddit/models/PostCollection/index.ts"),q=s("./src/reddit/selectors/postCollection.ts"),Y=s("./src/reddit/selectors/posts.ts"),Q=(s("./node_modules/core-js/modules/web.dom.iterable.js"),s("./node_modules/react-router-dom/esm/react-router-dom.js")),Z=s("./src/lib/prettyPrintNumber/index.ts"),X=s("./src/lib/timezone/index.ts"),$=s("./src/reddit/actions/modal.ts"),ee=s("./src/reddit/components/ClassicPost/Thumbnail.tsx"),te=s("./src/reddit/components/Collection/PostAndPostEventMeta/index.tsx"),se=s("./src/reddit/components/PostContainer/index.tsx"),ne=s("./src/reddit/components/Widgets/PostCollection/PostItem/OverflowMenu/index.tsx"),oe=s("./src/reddit/helpers/path/index.ts"),re=s("./src/reddit/helpers/postEvent.ts"),ae=s("./src/reddit/helpers/trackers/postCollection.ts"),ie=s("./src/reddit/models/PostCreationForm/index.ts"),ce=s("./src/reddit/selectors/activeModalId.ts"),de=s("./src/reddit/selectors/user.ts"),le=s("./src/reddit/components/Collection/PostItem/index.m.less"),me=s.n(le);function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}let ue,he;const be=e=>"".concat(e,"--collectionItem"),ge=e=>{const{activeModalId:t,addEventStartTime:s,eventFactory:n,isFutureEvent:o,isNightmodeOn:r,isOverlay:a,isSelectedPost:i,language:d,onPostSelection:l,onRemovePost:m,onStartEventNow:p,onPostTitleClick:u,post:h,shouldShowCollectionPostEdits:b,shouldShowThumbnail:x,style:C,toggleEditStartTimeModal:v,updateSelectedPostRef:O,isProfilePage:E}=e;return c.a.createElement(se.a,{className:Object(g.a)(me.a.postContainer,{[me.a.isNightmodeOn]:r,[me.a.isSelectedPost]:i,[me.a.isProfilePage]:E}),isOverlay:a,makePostContainerId:be,post:h,onClick:l,eventFactory:n,style:C},c.a.createElement("div",{ref:i&&O||void 0},c.a.createElement("div",{className:Object(g.a)(me.a.postContent,{[me.a.active]:i})},x&&c.a.createElement(ee.a,{className:me.a.timelineThumbnail,classNameInnerThumbnail:Object(g.a)(me.a.timelineThumbnailOverride,me.a.commonThumbnailOverride),post:h}),c.a.createElement("div",{className:me.a.postBodyWrapper},c.a.createElement("div",{className:me.a.postBody,"data-click-id":"body"},c.a.createElement(Q.a,{to:Object(oe.b)(h.permalink),className:me.a.postTitle,style:{WebkitBoxOrient:"vertical"},title:h.title,onClick:u},h.title)),c.a.createElement("div",{className:me.a.bottomline},c.a.createElement(te.b,{post:h,language:d}),b&&c.a.createElement(ne.a,{onRemoveClick:m,dropdownId:"collection-post-item-".concat(h.id),isFutureEvent:o,onStartEventNow:p,onEditStartTime:v,onAddEventStartTime:v,shouldShowAddEventStartTime:!Object(re.a)(h)}))))),t===Object(ie.s)(h.id,a,ie.j.COLLECTION_INFO_POST)&&ue&&c.a.createElement(ue,{onChange:s,onClose:v,schedule:Object(X.c)(h),shouldShowDeleteButton:!1}))},xe=ee.a,Ce=e=>{const{activeModalId:t,addEventStartTime:s,eventFactory:n,galleryThumbnail:o,isFutureEvent:r,isNightmodeOn:a,isOverlay:i,isSelectedPost:d,language:l,onPostSelection:m,onRemovePost:p,onStartEventNow:u,post:h,shouldShowCollectionPostEdits:b,style:x,toggleEditStartTimeModal:C,updateSelectedPostRef:v,isProfilePage:O}=e,E=o&&o.url||"",f=h.isSpoiler||h.isNSFW,y=h.isScoreHidden;return c.a.createElement(se.a,{className:Object(g.a)(me.a.galleryPostContainer,{[me.a.isSelectedPost]:d,[me.a.isNightmodeOn]:a,[me.a.isProfilePage]:O}),isOverlay:i,makePostContainerId:be,post:h,onClick:m,eventFactory:n,style:x},c.a.createElement("div",{className:me.a.scrollToContainer,ref:d&&v||void 0},E?c.a.createElement("div",{className:Object(g.a)(me.a.galleryPostImage,{[me.a.blurBackground]:f}),style:{backgroundImage:"url('".concat(E,"')")}}):c.a.createElement(xe,{className:me.a.galleryThumbnailPlaceholder,thumbnailContainerClassName:me.a.thumbnailContainerClassName,classNameInnerThumbnail:Object(g.a)(me.a.galleryPostPlaceholderThumbnailOverride,me.a.commonThumbnailOverride),post:h}),a&&c.a.createElement("div",{className:me.a.gallerySeparator}),d&&c.a.createElement("div",{className:me.a.gallerySelectedBorder}),c.a.createElement("div",{className:me.a.galleryPostOverlay},c.a.createElement("div",{className:Object(g.a)(me.a.galleryBottomLine,{[me.a.isScoreHidden]:y})},!y&&c.a.createElement(te.a,{"data-click-id":"score"},Object(L.c)(l,"posts.points.noun",h.score,{count:Object(Z.b)(h.score)})),b&&c.a.createElement(ne.a,{onRemoveClick:p,dropdownId:"collection-post-item-".concat(h.id),isFutureEvent:r,onStartEventNow:u,onEditStartTime:C,onAddEventStartTime:C,shouldShowAddEventStartTime:!Object(re.a)(h)})))),t===Object(ie.s)(h.id,i,ie.j.COLLECTION_INFO_POST)&&ue&&c.a.createElement(ue,{onChange:s,onClose:C,schedule:Object(X.c)(h),shouldShowDeleteButton:!1}))};class ve extends c.a.PureComponent{constructor(){super(...arguments),this.onPostSelection=(e,t)=>{const{onClickPost:s,postId:n,sendEvent:o}=this.props;o(Object(ae.h)(n)),s&&s(e,t)},this.onRemovePost=()=>{const{post:e,sendEvent:t}=this.props;this.props.onRemovePostFromCollection(),t(Object(ae.p)(e.id))},this.onStartEventNow=()=>{const{post:e,sendEvent:t}=this.props;this.props.onStartEventNow(),t(Object(ae.i)(e.id))},this.onPostTitleClick=e=>{const{post:t}=this.props;e.preventDefault(),this.onPostSelection(e,t)}}render(){const{displayLayout:e,post:t}=this.props;return t?e===J.a.TIMELINE?c.a.createElement(ge,pe({},this.props,{onPostSelection:this.onPostSelection,onRemovePost:this.onRemovePost,onStartEventNow:this.onStartEventNow,onPostTitleClick:this.onPostTitleClick})):c.a.createElement(Ce,pe({},this.props,{onPostSelection:this.onPostSelection,onRemovePost:this.onRemovePost,onStartEventNow:this.onStartEventNow})):c.a.createElement("div",{className:me.a.postContainer})}}var Oe=Object(U.t)({currentProfileName:U.h,isCommentsPage:U.w,isProfilePostListing:U.I,isProfilePage:U.H,pageLayer:e=>e})(Object(d.b)(()=>Object(m.c)({activeModalId:ce.a,galleryThumbnail:q.e,isFutureEvent:q.i,language:de.S,layout:U.M,post:Y.J,shouldShowCollectionPostEdits:q.s,subredditOrProfile:Y.U}),(e,t)=>{let{collectionId:n,postId:o,isSelectedPost:r,isOverlay:a}=t;return{onRemovePostFromCollection:()=>e(Object(M.g)(n,o,r)),onStartEventNow:async()=>{he||(he=await Promise.resolve().then(s.bind(null,"./src/reddit/actions/events.ts"))),e(he.startEventNowRequested(o))},toggleEditStartTimeModal:async()=>{ue&&he||([ue,he]=await Promise.all([s.e("schedulePickerModal").then(s.bind(null,"./src/reddit/components/PostCreationForm/SchedulePickerModal/index.tsx")).then(e=>e.default),Promise.resolve().then(s.bind(null,"./src/reddit/actions/events.ts"))])),e($.i(Object(ie.s)(o,a,ie.j.COLLECTION_INFO_POST)))},addEventStartTime:t=>{he&&e(he.editEventTimeRequested(o,t))}}})(Object(F.b)(ve))),Ee=s("./src/reddit/components/Collection/index.m.less"),fe=s.n(Ee);const ye=e=>c.a.createElement(R.a,{author:e.author,className:fe.a.author,"data-click-id":"user",isAuthorDeleted:e.isDeleted,isUnstyled:!0},"u/".concat(e.author)),je=100,we=e=>{return e.isOverlay?H.o+H.c:H.g+H.c},Ie=e=>({top:we(e),maxHeight:"calc(100vh - ".concat(H.g+(e.isOverlay?H.o:0)+H.c+5,"px)")});class Pe extends c.a.Component{constructor(){super(...arguments),this.selectedPostRef=null,this.onClickPost=(e,t)=>{this.props.onOpenPost(t)},this.updateSelectedPostRef=e=>{this.selectedPostRef=e}}componentDidMount(){const e=document.getElementById(V.b);if(e){const t=this.selectedPostRef;let s;s=t?t.offsetTop-je:0,v.a.write(()=>{Object(C.c)(e,s)})}}render(){const{collection:e,displayLayout:t,followPost:s,isNightmodeOn:n,isOverlay:o,language:r,post:a,postId:i,shouldShowThumbnail:d,isProfilePage:l}=this.props;if(!a||!e)return null;const{author:m="",description:p="",postIds:u=[],id:h}=e;return Object(G.a)(a)&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:Object(g.a)(fe.a.collectionTitleWrapper,{[fe.a.isProfilePage]:l})},c.a.createElement("div",{className:fe.a.collectionMetaData},c.a.createElement("span",{className:fe.a.collectionBy},c.a.createElement(D.a,{msgId:"collection.collectionBy"})),c.a.createElement(ye,{author:m,isDeleted:Object(z.h)(m)}),c.a.createElement(K.a,{isSmall:!0}),c.a.createElement("span",{className:fe.a.postCount},Object(L.c)(r,"postCreation.postsCount",u.length))),c.a.createElement("div",{className:fe.a.collectionTitleOptions},c.a.createElement("span",{className:fe.a.collectionTitle},c.a.createElement(A.b,{type:A.a.Collection},e.title)),s&&c.a.createElement(B.a,{post:s,isEventFollow:l}),c.a.createElement(W.a,{className:fe.a.overflowMenu,collectionId:h,isSubmitPage:!1,permalink:e.permalink,shouldShowCreatePost:!0}))),c.a.createElement("div",{className:fe.a.postListWrapper},c.a.createElement("div",{id:V.b,style:Ie(this.props),className:fe.a.collectionList},p&&p.trim()&&c.a.createElement("div",{className:fe.a.collectionDescription},p),c.a.createElement("div",{className:Object(g.a)({[fe.a.galleryContainer]:t===J.a.GALLERY})},u.map(e=>c.a.createElement(Oe,{collectionId:h,postId:e,key:e,isSelectedPost:i===e,updateSelectedPostRef:this.updateSelectedPostRef,isOverlay:o,isNightmodeOn:n,onClickPost:this.onClickPost,shouldShowThumbnail:d,displayLayout:t}))))))}}var Te=Object(U.t)({isProfilePage:U.H,pageLayer:e=>e})(Object(d.b)(()=>Object(m.c)({collection:q.n,displayLayout:q.a,followPost:(e,t)=>{let{postId:s}=t;const n=Object(q.n)(e,{postId:s}),o=n&&(n.primaryPostId||n.postIds[0]);return o&&Object(Y.J)(e,{postId:o})||null},post:Y.J,shouldShowThumbnail:(e,t)=>{let{postId:s}=t;const n=Object(q.n)(e,{postId:s});return!(!n||!n.id)&&Object(q.t)(e,{collectionId:n.id})}}),(e,t)=>({onOpenPost:t=>e(Object(M.f)(t))}))(Object(F.b)(Pe))),ke=s("./src/reddit/components/BannerAd/index.tsx"),Se=s("./src/reddit/components/BlankPost/index.tsx"),_e=s("./src/reddit/connectors/PostViewable/index.ts"),Ne=s("./src/reddit/featureFlags/index.ts"),Le=s("./src/reddit/selectors/brandSafety.ts"),Me=s("./src/reddit/components/CommentsPageAd/index.m.less"),Re=s.n(Me);const Be=Object(m.c)({canShowAds:(e,t)=>{const s=Object(Le.a)(e,t),n=!Ne.d.rabbitHole(e)&&!Object(U.H)(t.pageLayer)&&!Object(de.y)(e),o=e.meta.isSessionSeo&&!Object(de.J)(e);return s&&n&&(o||Object(de.G)(e))},ads:e=>e.commentsPage.ads}),Ae=Object(_e.a)(Be),Fe=Object(U.t)(),De=O.a.wrapped(ke.a,"BannerAd",Re.a),We=(e,t)=>{let s="";return t&&(s+="overlay-"),s+="comment-".concat(e)},He=O.a.div("CommentsPageAdContainer",Re.a);class Ve extends c.a.Component{constructor(){super(...arguments),this.container=null,this.state={enoughSpace:!1,hasBeenAssessed:!1},this.checkAvailableSpace=a()(()=>{v.a.read(()=>{if(this.container){const e=x.f[0],t=this.container.clientWidth;!this.state.enoughSpace&&this.state.hasBeenAssessed||v.a.write(()=>{this.setState({enoughSpace:t>e,hasBeenAssessed:!0})})}})},x.F)}componentDidMount(){this.props.canShowAds&&(this.checkAvailableSpace(),window.addEventListener("resize",this.checkAvailableSpace))}componentWillUnmount(){window.removeEventListener("resize",this.checkAvailableSpace)}render(){if(!this.props.canShowAds)return null;const{isOverlay:e,refreshKey:t,listingName:s,placement:n,onPostViewable:o}=this.props;return c.a.createElement(He,{innerRef:e=>{this.container=e}},this.props.ads.length>0&&c.a.createElement(Se.a,{post:this.props.ads[0],onPostViewable:o}),this.state.enoughSpace&&c.a.createElement(De,{id:We(n,e),sizes:[x.f],placement:n,listingName:s,refreshKey:t,dataBeforeContent:Object(L.a)("en","posts.sponsored")}))}}var Ue=Fe(Ae(Ve)),Ke=s("./src/reddit/components/ContentGate/index.tsx"),Ge=s("./src/reddit/components/Hovercards/AuthorHovercard/index.tsx"),ze=s("./node_modules/lodash/noop.js"),Je=s.n(ze),qe=s("./src/lib/makeListingKey/index.ts"),Ye=s("./src/reddit/actions/monthsToMinutes/initHomeFeed.ts"),Qe=s("./src/reddit/actions/subreddit.ts"),Ze=s("./src/reddit/components/ListingPostList/index.tsx"),Xe=s("./src/config.ts"),$e=s("./src/reddit/controls/Button/index.tsx"),et=s("./src/reddit/i18n/components.tsx"),tt=s("./src/reddit/components/M2M/HomeUpsellBanner/index.m.less"),st=s.n(tt);const nt="".concat(Xe.a.assetPath,"/img/snoomoji/snoo.png");var ot=e=>{const{borderClassName:t,className:s,isCompact:n,onSeeMoreClick:o}=e;return c.a.createElement("div",{className:Object(g.a)(st.a.container,s),"data-redditstyle":!0},c.a.createElement("div",{className:Object(g.a)(st.a.border,t)}),!n&&c.a.createElement("div",{className:st.a.line}),c.a.createElement("div",{className:st.a.layout},!n&&c.a.createElement("div",{className:st.a.image},c.a.createElement("img",{className:st.a.snoo,src:nt})),c.a.createElement("div",{className:st.a.text},c.a.createElement("div",{className:st.a.homeTitle},c.a.createElement(et.c,null,"Recommended posts for you")),c.a.createElement("div",{className:st.a.homeDescription},c.a.createElement(et.c,null,"Based on other posts you've viewed"))),!n&&c.a.createElement($e.f,{className:st.a.seeMore,"data-redditstyle":!0,onClick:o},c.a.createElement(et.c,null,"See more"))))},rt=s("./src/reddit/constants/page.ts"),at=s("./src/reddit/constants/postLayout.ts"),it=s("./src/reddit/helpers/trackers/lightbox.ts"),ct=s("./src/reddit/helpers/trackers/screenview.ts");const dt=e=>e.commentsListTruncated;var lt=s("./src/reddit/selectors/dismissedTruncationList.ts"),mt=s("./src/reddit/selectors/experiments/listingBelowAll.ts"),pt=s("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),ut=s("./src/reddit/selectors/monthsToMinutes.ts"),ht=s("./src/lib/CSSVariableProvider/withTheme.tsx"),bt=s("./src/reddit/constants/listings.ts"),gt=s("./src/reddit/controls/InternalLink/index.tsx"),xt=s("./src/reddit/icons/svgs/ArrowRight/index.tsx"),Ct=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),vt=s("./src/reddit/components/RecommendedPostList/Footer/index.m.less"),Ot=s.n(vt);var Et=Object(ht.a)(e=>{const{className:t,onClick:s,shouldDisplaySeeMore:n,shouldNavigateToHome:o,subredditOrProfile:r}=e,{primaryColor:a}=r,i=!o&&a||Object(Ct.a)(Object.assign({},e,{redditStyle:!0})).button,d=n?"See more":"Continue browsing";return c.a.createElement(gt.a,{className:Object(g.a)(Ot.a.footer,t),onMouseDown:s,to:o?bt.c[bt.b.Home]:r.url,style:{backgroundColor:i}},c.a.createElement("div",{className:Ot.a.background}),c.a.createElement("div",{className:Ot.a.layout},o?c.a.createElement(et.c,null,"See more recommended"):c.a.createElement(et.c,null,d," in ",c.a.createElement(et.b,{name:"subredditName"},r.displayText)),c.a.createElement(xt.a,{className:Ot.a.arrow})))}),ft=s("./src/reddit/components/RecommendedPostList/index.m.less"),yt=s.n(ft);const jt=Object(m.a)((e,t)=>{let{isOverlay:s}=t;return s},dt,lt.b,mt.b,pt.f,(e,t,s,n,o)=>{const r=Object(mt.a)(n),a=!Object(pt.e)(o);return!!(t&&r&&!s||a&&!e)}),wt=Object(m.c)({isLoggedIn:de.I,m2mDataLoaded:ut.d,m2mHomeMultiName:ut.e,m2mHomeRedirectVariant:pt.f,shouldShowHomeUpsell:ut.y,shouldShowSubredditUpsell:jt});class It extends c.a.Component{constructor(e){super(e),this.isHomeUpsellVisible=()=>this.props.isOverlay?this.state.shouldShowHomeUpsell:this.props.shouldShowHomeUpsell,this.scrollContainer=()=>this.props.isOverlay?document.getElementById(V.d):null,this.onViewed=(e,t)=>Object(ct.d)(this.listingKey(),x.N.TOP,t,e,x.Ob.WEEK),this.onFooterClick=e=>{this.isHomeUpsellVisible()&&(e.preventDefault(),this.props.goToHomeFeed()),this.props.sendEvent(Object(it.c)("recommended_footer"))},this.loadMoreHomeFeedPosts=()=>{const{loadMorePosts:e,m2mHomeMultiName:t}=this.props;t&&e(t)},this.state={shouldShowHomeUpsell:e.shouldShowHomeUpsell}}listingKey(){const{m2mHomeMultiName:e,subredditOrProfile:t}=this.props;return this.isHomeUpsellVisible()?Object(qe.a)(e,x.N.HOT):Object(qe.a)(t.name,x.N.TOP,{t:x.Ob.WEEK})}renderHomeBanner(){return c.a.createElement(ot,{borderClassName:yt.a.homeUpsellBannerBorder,className:yt.a.homeUpsellBanner,onSeeMoreClick:this.props.goToHomeFeed})}renderSmallBanner(){const{subredditOrProfile:e}=this.props,{name:t}=e;return c.a.createElement("div",{className:yt.a.smallBanner},c.a.createElement(et.c,null,"More posts from the ",c.a.createElement(et.b,{name:"name"},t)," community"))}renderTextBanner(){const{subredditOrProfile:e}=this.props,{name:t}=e;return c.a.createElement("span",{className:yt.a.textBanner},c.a.createElement(et.c,null,"More from ",c.a.createElement(et.b,{name:"name"},t)))}renderBanner(){return this.isHomeUpsellVisible()?this.renderHomeBanner():this.renderSmallBanner()}render(){const{contentContainerRef:e,isLoggedIn:t,m2mDataLoaded:s,m2mHomeRedirectVariant:n,shouldShowSubredditUpsell:o,subredditOrProfile:r}=this.props,a=this.isHomeUpsellVisible();if(t||(!a||!s)&&!o)return null;const i=a&&Object(pt.a)(n);return c.a.createElement("div",{className:Object(g.a)(yt.a.container,{[yt.a.redditStyle]:a})},this.renderBanner(),c.a.createElement(Ze.a,{className:yt.a.postList,redditStyle:a,disablePlaceholder:!i,forcedLayout:at.g.Large,getScrollContainer:this.scrollContainer,isTruncated:!0,listingKey:this.listingKey(),listingName:rt.d.PostDetail,listingViewed:this.onViewed,loadMoreClassName:yt.a.loadMore,noPostsComponent:()=>null,onLoadMore:i?this.loadMoreHomeFeedPosts:Je.a,preventScrollOnMount:!0,inSubredditOrProfile:!a,scrollContentContainerRef:e}),!i&&c.a.createElement(Et,{className:yt.a.footer,"data-redditstyle":a,onClick:this.onFooterClick,shouldNavigateToHome:a,subredditOrProfile:r}))}}var Pt=Object(d.b)(wt,e=>({goToHomeFeed:()=>e(Object(Ye.b)({shouldPrepareData:!1})),loadMorePosts:t=>e(Object(Qe.u)({sort:x.N.HOT,subredditName:t}))}))(Object(F.b)(It)),Tt=s("./src/reddit/constants/history.ts"),kt=s("./src/reddit/constants/keycodes.ts"),St=s("./src/reddit/constants/posts.ts"),_t=s("./src/reddit/constants/screenWidths.ts"),Nt=s("./src/reddit/contexts/TrackCommentsPageClick.ts"),Lt=s("./src/reddit/featureFlags/profileCollections.ts"),Mt=s("./src/reddit/models/Comment/index.ts"),Rt=s("./src/reddit/models/Media/index.ts"),Bt=s("./src/reddit/models/Subreddit/index.ts"),At=s("./src/reddit/selectors/comments.ts"),Ft=s("./src/reddit/selectors/discoveryUnit.ts"),Dt=s("./src/reddit/selectors/experiments/chatPost.ts"),Wt=s("./src/reddit/selectors/experiments/postSeo.ts"),Ht=s("./src/reddit/selectors/meta.ts"),Vt=s("./src/reddit/selectors/moderatorPermissions.ts"),Ut=s("./src/reddit/selectors/subreddit.ts"),Kt=s("./src/reddit/selectors/tooltip.ts"),Gt=s("./src/reddit/actions/dismissedTruncationList/constants.ts");const zt=Object(w.a)(Gt.a);var Jt=s("./src/higherOrderComponents/makeAsync.tsx"),qt=s("./src/lib/loadWithRetries/index.ts"),Yt=s("./src/reddit/components/RichTextEditor/Placeholder.tsx"),Qt=s("./src/reddit/helpers/styles/mixins/loading.ts"),Zt=s("./src/reddit/components/CommentCreation/Loader.m.less"),Xt=s.n(Zt);const $t=e=>{let{isTopLevelComment:t,children:s}=e;return c.a.createElement("div",{children:s,className:Object(g.a)(Xt.a.spacer,{[Xt.a.isTopLevelComment]:t})})},es=()=>c.a.createElement("div",{className:Object(g.a)(Xt.a.byline,Object(Qt.a)({isLoading:!0}))}),ts=Object(Jt.a)({ErrorComponent:e=>{let{isTopLevelComment:t}=e;return c.a.createElement($t,{isTopLevelComment:t},c.a.createElement(es,null),c.a.createElement(Yt.a,{isLoading:!1,toolbarPosition:"bottom"}))},getComponent:()=>Object(qt.a)(()=>Promise.all([s.e("vendors~ChatMessageInput~FlairEdit~MembershipPaywallPage~PostCreation~RichTextEditor"),s.e("vendors~PostCreation~RichTextEditor"),s.e("ChatMessageInput~MembershipPaywallPage~RichTextEditor"),s.e("PostDraft~RichTextEditor~StructuredStyles"),s.e("RichTextEditor")]).then(s.bind(null,"./src/reddit/components/CommentCreation/index.tsx")).then(e=>e.default)),LoadingComponent:e=>{let{isTopLevelComment:t}=e;return c.a.createElement($t,{isTopLevelComment:t},c.a.createElement(es,null),c.a.createElement(Yt.a,{isLoading:!0,toolbarPosition:"bottom"}))}});var ss=e=>c.a.createElement(ts,e),ns=s("./src/reddit/components/CommentCreation/LoggedOutCommentForm/index.tsx"),os=s("./node_modules/lodash/isEqual.js"),rs=s.n(os),as=s("./src/reddit/selectors/experiments/goldAwardedCommentHighlight.ts"),is=s("./src/reddit/constants/comments.ts"),cs=s("./src/reddit/constants/elementClassNames.ts"),ds=s("./src/lib/objectSelector/index.ts"),ls=s("./src/reddit/icons/fonts/helpers.tsx"),ms=s("./src/reddit/icons/fonts/Expand/index.m.less"),ps=s.n(ms);var us,hs,bs=O.a.wrapped(e=>c.a.createElement("i",{className:"".concat(Object(ls.b)("expand")," ").concat(e.className)}),"Expand",ps.a),gs=s("./src/reddit/components/Comments/Comment/ExpandButton/index.m.less"),xs=s.n(gs),Cs=O.a.wrapped(e=>c.a.createElement("button",e,c.a.createElement(bs,null)),"Component",xs.a),vs=s("./node_modules/lodash/defer.js"),Os=s.n(vs),Es=s("./src/lib/makeCommentPermalink/index.ts"),fs=s("./src/reddit/actions/gold/modals.ts"),ys=s("./src/reddit/actions/reportFlow.ts"),js=s("./src/reddit/helpers/correlationIdTracker.ts"),ws=s("./src/reddit/helpers/hasModPostPermissions/index.ts"),Is=s("./src/reddit/components/CommentModModeDropdown/index.tsx"),Ps=s("./src/reddit/components/Comments/Comment/Flatlist/breakpoints.m.less"),Ts=s.n(Ps);!function(e){e.HideIfVWSmaller="HideIfVWSmaller",e.HideIfVWLarger="HideIfVWLarger"}(us||(us={})),function(e){e.LoggedInUser="LoggedInUserGroup",e.Moderator="ModeratorGroup"}(hs||(hs={}));const ks=(e,t)=>{const s=Ts.a[t],n=Ts.a[e];return Object(g.a)(s,n)},Ss=e=>Object(g.a)(Ts.a["depth".concat(Math.min(3*Math.ceil(e.depth/3),10))],{[Ts.a.isInOverlay]:e.isInOverlay,[Ts.a.isModModeEnabled]:e.isModModeEnabled});var _s=s("./src/reddit/components/Comments/Comment/ModToolsFlatlist/index.tsx"),Ns=s("./src/reddit/components/ConfirmUserActionModal/index.tsx"),Ls=s("./src/reddit/components/DistinguishCommentDropdown/index.tsx"),Ms=s("./src/reddit/selectors/economics.ts");const Rs=Object(Jt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>Promise.all([s.e("vendors~CoinsPurchaseModal~EconomicsCommunityTipJar~EconomicsEntryPointsCommentFlatlistSupportCTA~Ec~61cbc843"),s.e("EconomicsCommunityTipJar~EconomicsEntryPointsCommentFlatlistSupportCTA~EconomicsEntryPointsPostFlatl~ad08f508"),s.e("EconomicsCommunityTipJar~EconomicsEntryPointsCommentFlatlistSupportCTA~EconomicsEntryPointsPostFlatl~c734f0e1"),s.e("EconomicsEntryPointsCommentFlatlistSupportCTA")]).then(s.bind(null,"./src/reddit/components/Economics/EntryPoints/CommentFlatlistSupportCTA/index.tsx")).then(e=>e.default)});var Bs=Object(d.b)(()=>Object(m.c)({featureEnabled:Ne.d.spSupport,userAcceptsSupport:(e,t)=>{const s=e.comments.models[t.contentId];return!!s&&Object(Ms.i)(e,{contentId:s.id,subredditId:s.subredditId})}}))((function(e){return e.featureEnabled&&e.userAcceptsSupport?c.a.createElement(Rs,e):null})),As=s("./src/reddit/components/ModActionsMenu/index.tsx"),Fs=s("./src/reddit/components/ModModeReports/helpers.ts"),Ds=s("./src/reddit/components/OverflowMenu/index.tsx"),Ws=s("./src/reddit/components/ReportFlow/index.tsx"),Hs=s("./src/reddit/components/ShareMenu/index.tsx"),Vs=s("./src/reddit/components/ViewReportsDropdown/index.tsx"),Us=s("./src/reddit/controls/CheckboxMenuItem/index.tsx"),Ks=s("./src/reddit/helpers/trackers/modTools.ts"),Gs=s("./src/reddit/layout/row/Inline/index.tsx"),zs=s("./src/reddit/components/PostOverflowMenu/index.tsx"),Js=s("./src/reddit/icons/fonts/Comment/index.tsx"),qs=s("./src/reddit/icons/fonts/Gild/index.tsx"),Ys=s("./src/reddit/icons/fonts/IgnoreReport/index.tsx"),Qs=s("./src/reddit/icons/fonts/ModActions/index.tsx"),Zs=s("./src/reddit/icons/fonts/Report/index.tsx"),Xs=s("./src/reddit/icons/fonts/Save/index.tsx"),$s=s("./src/reddit/icons/svgs/Pencil/index.tsx"),en=s("./src/reddit/icons/svgs/Trash2/index.tsx"),tn=s("./src/reddit/components/Comments/Comment/Flatlist/index.m.less"),sn=s.n(tn);const nn=O.a.wrapped(Js.a,"CommentIcon",sn.a),on=O.a.wrapped(Zs.a,"Report",sn.a),rn=O.a.wrapped(Ys.a,"IgnoreReport",sn.a),an=O.a.wrapped(As.a,"ModActionsMenu",sn.a),cn=O.a.div("OverflowMenuSpacer",sn.a),dn=O.a.wrapped(Ds.a,"DropdownRow",sn.a),ln=O.a.wrapped(Gs.a,"Flatlist",sn.a),mn=O.a.button("Button",sn.a),pn=O.a.wrapped(_s.c,"ModToolsFlatlist",sn.a),un=O.a.wrapped(Vs.a,"ViewReportsDropdown",sn.a),hn=e=>"Comment-".concat(e,"--Modal--DeleteComment"),bn=e=>"Distinguish--Dropdown--".concat(e),gn=e=>"".concat(e,"-overflow-menu"),xn=e=>"View--Reports--".concat(e),Cn=Object(m.c)({currentUser:de.i,isConfirmModalOpen:(e,t)=>{let{comment:s}=t;return Object(ce.a)(e)===hn(s.id)},isDistinguishDropdownOpen:(e,t)=>{let{comment:s}=t;return Object(Kt.b)(bn(s.id))(e)},isPendingDeletion:(e,t)=>{let{comment:s}=t;return Object(At.A)(e,{commentId:s.id})},isReportsDropdownOpen:(e,t)=>{let{comment:s}=t;return Object(Kt.b)(xn(s.id))(e)},isLoggedIn:de.J,postIsArchived:(e,t)=>{let{comment:s}=t;return Object(Y.D)(e,{postId:s.postId})},postIsLocked:(e,t)=>{let{comment:s}=t;return Object(Y.E)(e,{postId:s.postId})},postPermalink:(e,t)=>{let{comment:s}=t;return Object(Y.I)(e,{postId:s.postId})},reportFlowIsOpen:(e,t)=>{let{comment:s}=t;return e.reportFlow.postOrCommentId===s.id},sendRepliesToggled:(e,t)=>{let{comment:s}=t;return Object(At.G)(e,{commentId:s.id})},subredditAboutInfo:(e,t)=>{let{subreddit:s}=t;return s?Object(Ut.y)(e,{subredditName:s.name}):void 0},subredditOrProfile:(e,t)=>{let{comment:s}=t;return Object(Y.U)(e,{postId:s.postId})}});class vn extends c.a.Component{constructor(){super(...arguments),this.sendCommentEventWithName=e=>this.props.sendEvent(Object(it.b)(this.props.comment.postId,"comment_".concat(e))),this.sendCommentModEventWithName=e=>this.props.sendEvent(Object(Ks.b)(e,this.props.comment.id)),this.sendCommentReportEvent=e=>this.props.sendEvent(Object(Ks.f)(e,this.props.comment.id)),this.handleSave=()=>{this.props.comment.isSaved?this.sendCommentModEventWithName("unsave"):this.sendCommentModEventWithName("save"),this.props.onToggleSave()},this.handleEdit=()=>{this.props.sendEvent(Object(Ks.e)("edit",this.props.comment.id)),this.props.handleEdit()},this.handleGild=async()=>{Object(js.d)(js.a.GildingFlow),this.props.onGildClick();const{clickGildEvent:e}=await Promise.resolve().then(s.bind(null,"./src/reddit/helpers/trackers/gild.ts"));this.props.sendEvent(e(this.props.comment.id))},this.handleDelete=()=>{this.props.sendEvent(Object(Ks.e)("delete",this.props.comment.id)),this.props.toggleDeleteCommentModal()},this.handleReportClick=()=>{this.props.sendEvent(Object(Ks.b)("report",this.props.comment.id)),this.props.onReportClick()},this.handleDistinguishToggle=()=>{this.props.sendEvent(Object(Ks.b)("mod_distinguish_menu",this.props.comment.id)),this.props.onToggleDistinguishDropdown()},this.sendCommentDistinguishEvent=e=>this.props.sendEvent(Object(Ks.c)(e,this.props.comment.id))}render(){const{comment:e,className:t,currentUser:s,deleteComment:n,depth:o,handleReply:r,isLoggedIn:a,isPendingDeletion:d,language:l,onDistinguishComment:m,onIgnoreReports:u,onToggleReportsDropdown:h,moderatorPermissions:b,modModeEnabled:x,postIsArchived:C,postIsLocked:v,postPermalink:O,renderedInOverlay:E,sendEvent:f,subreddit:y,subredditAboutInfo:j,toggleDeleteCommentModal:w,toggleSendReplies:I,trackClick:P}=this.props,T=Object(ws.a)(b),k=!!s&&s.displayText===e.author,S=!!s&&s.isEmployee,_=!(j&&j.userIsBanned)&&(v||C||T&&a||e.isLocked?T&&a:a),N=Object(Fs.a)(e),L=T&&!x&&k&&!e.bannedBy,M=k&&S&&!e.bannedBy,R=L||M,B=s&&e.isGildable,A=[];_&&A.push({breakpointGroup:hs.LoggedInUser,icon:c.a.createElement(nn,null),key:"reply",onClick:()=>{r(),Os()(()=>P("reply")())},text:Object(p.c)("Reply")}),s&&!k&&A.push(c.a.createElement(Bs,{className:sn.a.supportButton,contentId:e.id,key:"support-cta",subredditId:e.subredditId,targetName:e.author})),B&&A.push({breakpointGroup:hs.LoggedInUser,icon:c.a.createElement(qs.a,null),isIconOverflowOnly:!0,key:"award",onClick:this.handleGild,text:Object(p.c)("Give Award")}),A.push(c.a.createElement(Hs.a,{dropdownId:"".concat(e.id,"-comment-share-menu"),key:"share",permalink:Object(Es.a)(O,e.id),sendEventWithName:this.sendCommentEventWithName,subreddit:y},c.a.createElement(mn,{onClick:()=>this.sendCommentEventWithName("share")},c.a.createElement(et.c,null,"share")))),k||A.push({breakpointGroup:hs.LoggedInUser,icon:c.a.createElement(Zs.a,null),isIconOverflowOnly:!0,key:"report",onClick:this.handleReportClick,text:Object(p.c)("Report")}),A.push({breakpointGroup:hs.LoggedInUser,icon:e.isSaved?c.a.createElement(zs.e,null):c.a.createElement(Xs.a,null),isIconOverflowOnly:!0,key:"save",onClick:this.handleSave,text:e.isSaved?Object(p.c)("Unsave"):Object(p.c)("Save")}),k&&A.push({breakpointGroup:hs.LoggedInUser,icon:c.a.createElement($s.a,null),isIconOverflowOnly:!0,key:"edit",onClick:this.handleEdit,text:Object(p.c)("Edit")});const F=A.map(e=>c.a.isValidElement(e)?e:c.a.createElement(mn,{className:ks(e.breakpointGroup,us.HideIfVWSmaller),disabled:d,key:e.key,onClick:e.onClick},!e.isIconOverflowOnly&&e.icon,e.text)),D=A.map(e=>c.a.isValidElement(e)?null:c.a.createElement(dn,{className:ks(e.breakpointGroup,us.HideIfVWLarger),displayText:e.text,iconWrapperClassName:sn.a.iconWrapper,key:e.key,onClick:e.onClick,textClassName:sn.a.dropdownRowText},e.icon));return c.a.createElement(i.Fragment,null,c.a.createElement(ln,{className:Object(g.a)(Ss({depth:o,isInOverlay:E,isModModeEnabled:T&&x}),t)},F,c.a.createElement(cn,{className:k?void 0:ks(hs.LoggedInUser,us.HideIfVWLarger)},c.a.createElement(Ds.b,{className:sn.a.overflowMenu,disabled:d,dropdownId:gn(e.id),onClick:()=>f(Object(Ks.b)("comment_overflow_menu",e.id))},D,k&&c.a.createElement(c.a.Fragment,null,c.a.createElement(dn,{displayText:Object(p.c)("Delete comment"),iconWrapperClassName:sn.a.iconWrapper,onClick:this.handleDelete,textClassName:sn.a.dropdownRowText},c.a.createElement(en.b,null)),c.a.createElement(Us.a,{text:Object(p.c)("Send me reply notifications"),onClick:I,isSelected:this.props.sendRepliesToggled})))),this.props.isConfirmModalOpen&&c.a.createElement(Ns.a,{actionText:Object(p.c)("delete"),cancelActionText:Object(p.c)("keep"),headerText:Object(p.c)("Delete comment"),modalText:Object(p.c)("Are you sure you want to delete your comment?"),onConfirm:n,toggleModal:w,trackClick:()=>{},withOverlay:!0}),T&&c.a.createElement(c.a.Fragment,null,x&&c.a.createElement(pn,{className:ks(hs.Moderator,us.HideIfVWSmaller),comment:e,isCommentAuthor:k,language:l}),c.a.createElement(an,{className:x?ks(hs.Moderator,us.HideIfVWLarger):void 0,dropdownId:"".concat(e.id,"-mod-actions-menu"),inCommentFlatlist:!0,onClick:()=>f(Object(Ks.b)("comment_mod_action_menu",e.id))},c.a.createElement(Qs.a,null),c.a.createElement(Is.a,{comment:e,language:l,tooltipId:"".concat(e.id,"-mod-actions-menu")}))),Object(Fs.c)(e)&&!x&&c.a.createElement(_s.b,{text:"".concat(N),onClick:()=>{h(),this.sendCommentModEventWithName("comment_report_menu")},selected:this.props.isReportsDropdownOpen,id:xn(e.id)},c.a.createElement(un,{model:e,onIgnoreReports:()=>{u(),this.sendCommentReportEvent(e.ignoreReports?"restore_reports":"ignore_reports")},tooltipId:xn(e.id)}),e.ignoreReports?c.a.createElement(rn,null):c.a.createElement(on,null)),R&&c.a.createElement(_s.b,{onClick:this.handleDistinguishToggle,selected:this.props.isDistinguishDropdownOpen},c.a.createElement(_s.a,null),c.a.createElement(Ls.a,{isAdminDistinguished:e.isAdmin,isDropdownOpen:this.props.isDistinguishDropdownOpen,isModDistinguished:e.isMod,isStickied:e.isStickied,isTopLevelComment:!e.parentId,isUserEmployee:S,isUserMod:T,onDistinguishComment:m,sendEventWithName:this.sendCommentDistinguishEvent,tooltipId:bn(e.id)}))),this.props.reportFlowIsOpen&&c.a.createElement(Ws.a,{withOverlay:!0,commentId:this.props.comment.id,overlayCustomStyles:Ws.b,postId:this.props.comment.postId}))}}var On=Object(d.b)(Cn,(e,t)=>{let{comment:s,commentsPageKey:n,language:o}=t;return{deleteComment:()=>n&&e(Object(j.db)(o,s.id,s.postId)),handleDelete:()=>{e(Object($.i)(hn(s.id))),e(Object(N.g)({tooltipId:gn(s.id)}))},handleEdit:()=>{const t=s.media&&s.media.rteMode;n&&e(Object(j.V)({commentId:s.id,draftKey:Object(f.a)(u.c.edit,s.id),text:s.bodyMD||"",commentMode:t,commentsPageKey:n}))},handleReply:()=>n&&e(Object(j.ob)({parentCommentId:s.id,commentsPageKey:n})),onDistinguishComment:(t,n)=>e(Object(j.S)(s.id,t,n)),onGildClick:()=>e(Object(fs.d)(s.id)),onIgnoreReports:()=>e(Object(j.pb)(s.id)),onReportClick:()=>e(Object(ys.j)(s.id)),onToggleSave:()=>e(Object(j.gb)(s.id)),onToggleDistinguishDropdown:()=>e(Object(N.g)({tooltipId:bn(s.id)})),onToggleReportsDropdown:()=>e(Object(N.g)({tooltipId:xn(s.id)})),toggleDeleteCommentModal:()=>e(Object($.i)(hn(s.id))),toggleSendReplies:()=>e(Object(j.hb)(s.id))}})(Object(F.b)(vn)),En=s("./src/reddit/components/Comments/Comment/TopMeta/index.tsx"),fn=s("./src/reddit/components/GildModal/getGildModalId.ts"),yn=s("./src/reddit/components/GildModal/Loader.tsx"),jn=s("./src/reddit/components/ModModeReports/index.tsx"),wn=s("./src/reddit/components/RichTextJson/index.tsx"),In=s("./src/reddit/components/VerticalVotes/index.tsx"),Pn=s("./src/reddit/helpers/getRichTextContent.ts"),Tn=s("./src/reddit/constants/componentTestIds.ts"),kn=s("./src/reddit/controls/ErrorText/index.tsx"),Sn=s("./src/reddit/controls/InvisibleScreenReaderText/index.tsx"),_n=s("./src/reddit/models/Vote/index.ts"),Nn=s("./src/reddit/selectors/gild.ts"),Ln=s("./src/reddit/reducers/comments/visitHighlightingFilter/index.ts"),Mn=s("./src/reddit/selectors/moderatingComments.ts"),Rn=s("./src/reddit/components/Comments/Comment/index.m.less"),Bn=s.n(Rn);function An(){return(An=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var Fn=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const Dn=O.a.wrapped(Cs,"ExpandButton",Bn.a),Wn=O.a.wrapped(kn.b,"ErrorText",Bn.a),Hn=O.a.wrapped(In.a,"VerticalVotes",Bn.a),Vn=O.a.wrapped(En.a,"TopMeta",Bn.a),Un=O.a.div("CommentContentWrapper",Bn.a),Kn=O.a.div("CommentWrapper",Bn.a),Gn=O.a.div("CommentBody",Bn.a),zn=O.a.wrapped(ss,"CommentCreation",Bn.a),Jn=O.a.wrapped(zn,"EditCommentForm",Bn.a),qn=Object(U.t)(),Yn=Object(d.b)(()=>Object(m.c)({comment:(e,t)=>Object(At.n)(e,t),currentProfileModPermissions:U.g,depth:(e,t)=>Object(At.j)(e,t),collapsed:Mn.b,collapsedBecauseCrowdControl:Mn.a,flair:At.e,focused:At.u,gildModalIsOpen:(e,t)=>{let{commentId:s}=t;const n=Object(fn.b)(s);return Object(Nn.c)(e,n)},isEditing:At.z,isLoggedIn:de.J,isPendingDeletion:At.A,language:de.S,moderatorPermissions:(e,t)=>{const s=Object(At.n)(e,t);return s?Object(Vt.j)(e,{subredditId:s.subredditId}):null},modModeEnabled:U.O,errorMsgs:At.E,replyFormOpen:At.H,subreddit:U.q,subredditType:At.J,highlightComment:(e,t)=>{let{commentId:s}=t;const n=Object(At.q)(e);if(n===Ln.a.None)return!1;const o=Object(At.n)(e,{commentId:s});if(!o)return!1;const r=Object(de.q)(e),a=!!Object(Vt.i)(e,{postId:o.postId}),i=Object(Y.J)(e,{postId:o.postId});if(!i||!i.previousVisits||i.previousVisits.length<1)return!1;const c=n===Ln.a.Last?i.previousVisits[i.previousVisits.length-1]:i.previousVisits[0];return(a||r)&&o.created>c}}),(e,t)=>{let{commentId:s,commentsPageKey:n,scrollToAndRemeasure:o,trackClick:r}=t;return{onCollapseClick:()=>e(Object(j.nb)({commentId:s,commentsPageKey:n,scrollToAndRemeasure:o})),onIgnoreReports:()=>e(Object(j.pb)(s)),onVoteClick:t=>{const[n,o]=t===_n.a.upvoted?[Object(j.rb)(s),"upvote_comment"]:[Object(j.T)(s),"downvote_comment"];r(o)(),e(n)}}}),Qn=Object(ds.b)(e=>({renderingObjectInfo:e.comment,pageLayer:e.pageLayer})),Zn=qn(Yn(e=>{const{childrenInfo:t,clearHovered:s,comment:n,commentsPageKey:o,collapsed:r,collapsedBecauseCrowdControl:a,currentProfileModPermissions:d,depth:l,errorMsgs:m,flair:h,focused:b,gildModalIsOpen:x,highlightComment:C,isActive:v,isEditing:O,isLoggedIn:E,isPendingDeletion:y,language:w,moderatorPermissions:I,modModeEnabled:P,onCollapseClick:T,onIgnoreReports:k,onLineMouseOver:S,onVoteClick:_,replyFormOpen:N,subreddit:M,trackClick:R,renderedInOverlay:B,subredditType:A}=e,F=!O&&!n.isDeleted&&!!m&&m.length>0,D=Object(f.a)(u.c.edit,n.id),W=Object(f.a)(u.c.replyToComment,n.id),H=Object(ws.a)(I),V=n.authorIsContractor&&A===Bt.b.EmployeesOnly,U=n.isLocked;return c.a.createElement(Kn,{className:Object(g.a)("Comment ".concat(n.id),{[Bn.a.focused]:b,[Bn.a.topLevel]:!l})},r&&c.a.createElement(Dn,{className:n.id,onClick:()=>{s(),T(),R("collapse")()},onMouseOver:()=>S(n.id),onMouseOut:s}),!r&&!n.isDeleted&&c.a.createElement(Hn,{compact:!0,downvoteButtonClassName:Bn.a.voteButton,downvoteClassName:Bn.a.upDownVote,model:n,onVoteClick:_,upvoteButtonClassName:Bn.a.voteButton,upvoteClassName:Bn.a.upDownVote}),c.a.createElement(Un,{className:Object(g.a)({[Bn.a.highlightComment]:C,[Bn.a.isActive]:v,[Bn.a.isCollapsed]:r,[Bn.a.isLocked]:U,[Bn.a.isPendingDeletion]:y,[Bn.a.isRemoved]:!!n.bannedBy})},c.a.createElement(Sn.a,null,Object(L.a)(w,"comment.level",{level:l+1})),c.a.createElement(Vn,{childrenInfo:t,className:Object(g.a)({[Bn.a.collapsed]:r}),collapsed:r,collapsedBecauseCrowdControl:a,comment:n,commentsPageKey:o,flair:h,language:w,renderedInOverlay:B,renderContractorBadge:V}),!r&&c.a.createElement(i.Fragment,null,O&&c.a.createElement(Jn,{autofocus:!0,commentsPageKey:o,depth:l,draftType:u.c.edit,draftKey:D,rtJson:Object(Pn.a)(n),mediaMetadata:n.media&&n.media.mediaMetadata||void 0,isTopLevelComment:!1,parentCommentId:n.id,submitAction:e=>Object(j.eb)({language:w,id:n.id,commentsPageKey:o,depth:l,draftKey:D,formData:e}),submitButtonText:Object(p.c)("save edits")}),!O&&!n.isDeleted&&c.a.createElement(Gn,{"data-test-id":Tn.d},c.a.createElement(wn.a,{content:Object(Pn.a)(n),mediaMetadata:n.media&&n.media.mediaMetadata,rtJsonElementProps:Qn(e)})),P&&H&&Object(Fs.c)(n)&&c.a.createElement(jn.a,{language:w,onIgnoreReports:k,reportable:n}),!O&&!n.isDeleted&&E&&c.a.createElement(On,{comment:n,commentsPageKey:o,depth:l,language:w,collapsedBecauseCrowdControl:a,modModeEnabled:P,moderatorPermissions:d||I,renderedInOverlay:B,subreddit:M,trackClick:R}),F&&m.map(e=>c.a.createElement(Wn,{language:w},e)),N&&c.a.createElement(zn,{autofocus:!0,commentsPageKey:o,depth:l,draftType:u.c.replyToComment,draftKey:W,isTopLevelComment:!1,parentCommentId:n.id,submitAction:(e,t)=>{var{validate:s}=e,r=Fn(e,["validate"]);return s?Object(j.sb)({commentsPageKey:o,draftKey:W,language:w,parentCommentDepth:l,parentCommentId:n.id,formData:r,editorMode:t}):Object(j.jb)({commentsPageKey:o,draftKey:W,language:w,parentCommentDepth:l,parentCommentId:n.id,formData:r,editorMode:t})},submitButtonText:Object(p.c)("Reply")}))),x&&c.a.createElement(yn.a,null))}));var Xn=e=>c.a.createElement(Nt.a.Consumer,null,t=>c.a.createElement(Zn,An({},e,{trackClick:t}))),$n=s("./src/reddit/components/LinkOrOverlayLink/index.tsx"),eo=s("./src/reddit/contexts/InsideOverlay.tsx"),to=s("./src/reddit/components/Comments/ContinueThreadLink/index.m.less"),so=s.n(to);const no=O.a.div("Wrapper",so.a),oo=O.a.wrapped(xt.a,"ArrowRight",so.a),ro=O.a.wrapped($n.a,"LinkOrOverlayLink",so.a),ao=O.a.span("HoverSpan",so.a),io=Object(m.c)({language:de.S,permalink:(e,t)=>Object(At.m)(e,{commentId:Object(At.s)(e,t).parentId})});var co=Object(d.b)(io)(Object(eo.b)(e=>{let{isActive:t,isOverlay:s,permalink:n}=e;return c.a.createElement(no,{className:Object(g.a)({[so.a.isActive]:t})},c.a.createElement(ro,{isOverlay:!!s,to:Object(oe.b)(n)},c.a.createElement(ao,null,c.a.createElement(et.c,null,"Continue this thread"))," ",c.a.createElement(oo,null)))})),lo=s("./src/reddit/components/Comments/MoreCommentsItem/index.m.less"),mo=s.n(lo);const po=O.a.div("MoreCommentsItemWrapper",mo.a),uo=O.a.p("MoreComments",mo.a),ho=O.a.wrapped(uo,"MoreCommentsInteractive",mo.a),bo=Object(m.c)({moreCommentsItem:At.B,moreCommentsPending:At.C,language:de.S});var go=Object(d.b)(bo,(e,t)=>({moreCommentsClicked:()=>e(Object(j.Z)(t.commentsPageKey,t.moreCommentsId))}))(e=>{let{language:t,isActive:s,moreCommentsClicked:n,moreCommentsItem:o,moreCommentsPending:r}=e;return c.a.createElement(po,null,r?c.a.createElement(uo,null,c.a.createElement(et.c,null,"loading...")):c.a.createElement(Nt.a.Consumer,null,e=>c.a.createElement(ho,{className:Object(g.a)({[mo.a.isActive]:s}),onClick:()=>{n(),e("load_more_comment")()}},Object(L.c)(t,"comment.moreReply",o.numComments,{numComments:o.numComments}))))}),xo=s("./node_modules/lodash/times.js"),Co=s.n(xo),vo=s("./src/reddit/components/Comments/ThreadLines/index.m.less"),Oo=s.n(vo);const Eo=O.a.wrapped(e=>c.a.createElement("div",e,c.a.createElement("i",{className:cs.n})),"Line",Oo.a),fo=O.a.div("LineContainer",Oo.a),yo=O.a.div("ShortLineContainer",Oo.a);var jo=e=>{const{collapsed:t,depth:s,onLineClick:n,onLineMouseOver:o,onLineMouseOut:r,onShortLineClick:a,parentNodeIds:i,type:d}=e;return c.a.createElement(fo,null,Co()(s+1,e=>e===s?d!==is.a.Comment||t?null:c.a.createElement(yo,{key:i[e]},c.a.createElement(Eo,{className:i[e],onClick:a,onMouseOver:()=>o(i[e]),onMouseOut:()=>r(i[e])})):c.a.createElement(Eo,{className:i[e],key:i[e],onClick:n(e),onMouseOver:()=>o(i[e]),onMouseOut:()=>r(i[e])})))},wo=s("./src/reddit/components/Comments/CommentListNode/index.m.less"),Io=s.n(wo);const Po=O.a.div("CommentListNodeWrapper",Io.a),To=e=>{const t=document.querySelectorAll(".".concat(e));if(t&&t.length)for(let s=0;s<t.length;s++)t[s].classList.add(cs.g)},ko=()=>{const e=document.querySelectorAll(".".concat(cs.g));if(e&&e.length)for(let t=0;t<e.length;t++)e[t].classList.remove(cs.g)};var So=Object(d.b)(()=>Object(m.c)({collapsed:(e,t)=>{let{commentLink:s,commentsPageKey:n}=t;return Object(Mn.b)(e,{commentId:s.id,commentsPageKey:n})},commentListNode:(e,t)=>Object(At.l)(e,t),depth:(e,t)=>Object(At.j)(e,t),isActive:(e,t)=>{let{commentLink:s}=t;return!!e.shortcuts.activeCommentId&&s.id===e.shortcuts.activeCommentId},isCommentHighlightExperiment:(e,t)=>{let{commentLink:s}=t;const n=Object(At.l)(e,{commentLink:s});return s.type===is.a.Comment&&!!n&&!!n.awardCountsById&&!!Object(as.a)(e)},isNightmodeOn:de.U}),(e,t)=>{let{commentLink:s,commentsPageKey:n,scrollToAndRemeasure:o}=t;return{onLineClick:t=>()=>{e(Object(j.K)({commentLink:s,commentsPageKey:n,lineDepth:t,scrollToAndRemeasure:o}))},onShortLineClick:()=>e(Object(j.nb)({commentId:s.id,commentsPageKey:n,scrollToAndRemeasure:o}))}})(e=>{const{childrenInfo:t,className:s,collapsed:n,commentLink:o,commentsPageKey:r,depth:a,isActive:i,isCommentHighlightExperiment:d,isHidden:l,isNightmodeOn:m,onLineClick:p,onShortLineClick:u,parentNodeIds:h,renderedInOverlay:b,scrollToAndRemeasure:x}=e;return c.a.createElement(Po,{className:Object(g.a)(s,{[Io.a.isHidden]:l,[Io.a.isAwarded]:d,[Io.a.isNightmodeOn]:m}),id:o.id,style:{paddingLeft:a*(H.x+H.w)+(o.type===is.a.Comment?H.x:0)},tabIndex:-1},c.a.createElement(jo,{collapsed:n,depth:a,onLineClick:p,onLineMouseOver:To,onLineMouseOut:ko,onShortLineClick:u,type:o.type,parentNodeIds:h}),_o({childrenInfo:t,clearHovered:ko,commentLink:o,commentsPageKey:r,onLineMouseOver:To,isActive:i,renderedInOverlay:b,scrollToAndRemeasure:x}))});const _o=e=>{let{childrenInfo:t,clearHovered:s,commentLink:n,commentsPageKey:o,isActive:r,onLineMouseOver:a,renderedInOverlay:i,scrollToAndRemeasure:d}=e;switch(n.type){case is.a.Comment:return c.a.createElement(Xn,{childrenInfo:t,clearHovered:s,commentId:n.id,commentsPageKey:o,isActive:r,onLineMouseOver:a,renderedInOverlay:i,scrollToAndRemeasure:d});case is.a.MoreComments:return c.a.createElement(go,{commentsPageKey:o,isActive:r,moreCommentsId:n.id});case is.a.ContinueThread:return c.a.createElement(co,{id:n.id,isActive:r})}};var No=s("./src/reddit/components/Comments/helpers/hiddenComments.ts"),Lo=s("./src/reddit/components/Comments/States/index.tsx"),Mo=s("./src/reddit/components/Scroller/Simple.tsx"),Ro=s("./src/reddit/helpers/commentList/index.ts"),Bo=s("./src/lib/LRUCache/index.ts"),Ao=s("./src/reddit/components/Comments/index.m.less"),Fo=s.n(Ao);const Do=H.g+10,Wo=65,Ho=O.a.wrapped(Mo.b,"Scroller",Fo.a),Vo=Object(m.c)({allCollapsed:At.a,commentLinks:At.k,commentThreadLinkSet:At.p,language:de.S,measureScrollFPS:Ne.d.measureScrollFPS,moreComments:At.b,postPermalink:Y.I}),Uo=Object(d.b)(Vo,(e,t)=>({onCommentEnteredViewport:t=>e(Object(j.L)(t)),onCommentLeftViewport:(t,s)=>e(Object(j.Q)(t,s))})),Ko=new Bo.a(500),Go=new Bo.a(500),zo=(e,t)=>{const s="entered-".concat(e);let n=Ko.get(s);return void 0===n&&(n=()=>{t.onCommentEnteredViewport(e)},Ko.set(s,n)),n},Jo=(e,t)=>{const s="left-".concat(e);let n=Go.get(s);return void 0===n&&(n=s=>{t.onCommentLeftViewport(e,s)},Go.set(s,n)),n};class qo extends c.a.Component{constructor(e){super(e),this.getParentNodeIds=e=>{const{commentLinks:t,commentThreadLinkSet:s}=this.props;if(this.parentNodeIdsMap[e.id])return this.parentNodeIdsMap[e.id];const n=s[e.id].depth,o=t.findIndex(t=>t.id===e.id);if(0===n||0===o)return this.parentNodeIdsMap[e.id]=[e.id],this.parentNodeIdsMap[e.id];const r=t[o-1],a=this.parentNodeIdsMap[r.id].slice();return this.parentNodeIdsMap[e.id]=a.filter(e=>!!s[e]&&s[e].depth<n),this.parentNodeIdsMap[e.id].push(e.id),this.parentNodeIdsMap[e.id]},this.getChildrenInfo=e=>this.childrenInfoMap[e]||void 0,this.parentNodeIdsMap={},No.c(),this.childrenInfoMap={}}componentWillMount(){const{commentLinks:e,allCollapsed:t,commentThreadLinkSet:s,moreComments:n}=this.props;this.timerId&&h.c.cancel(this.timerId),e.length&&(this.timerId=h.c.start()),this.findHiddenNodes(e,t,s,n)}componentDidMount(){this.timerId&&Object(h.b)(x.l.Redesign,{type:"mount",component:"commentsList",duration:h.c.end(this.timerId)})}componentWillReceiveProps(e){const{allCollapsed:t,commentsPageKey:s,commentLinks:n,commentThreadLinkSet:o,moreComments:r}=e;(s!==this.props.commentsPageKey||n.length>this.props.commentLinks.length||!rs()(t,this.props.allCollapsed))&&this.findHiddenNodes(n,t,o,r)}shouldComponentUpdate(e){const{commentsPageKey:t,commentLinks:s,allCollapsed:n}=this.props;return e.commentsPageKey!==t||e.commentLinks.length>s.length||!rs()(e.allCollapsed,n)||e.commentLinks.some((e,t)=>e.id!==s[t].id)}componentWillUpdate(e){this.timerId&&h.c.cancel(this.timerId),e.commentLinks.length&&(this.timerId=h.c.start())}componentDidUpdate(e){this.timerId&&Object(h.b)(x.l.Redesign,{type:"mount",component:"commentsList",duration:h.c.end(this.timerId)})}componentWillUnmount(){this.timerId&&h.c.cancel(this.timerId)}findHiddenNodes(e,t,s,n){if(!t||!Object.keys(t).length)return;let o=null,r=1/0,a=0,i=!1;No.c();for(let c=0;c<e.length;c++){const d=e[c];o&&(s[d.id].depth>r?(No.a(d.id),a+=Object(Ro.d)(d,n),d.type===is.a.ContinueThread&&(i=!0)):(this.childrenInfoMap[o]={numChildren:a,hasContinueThread:i},o=null,r=1/0,a=0,i=!1)),!o&&t[d.id]&&(o=d.id,r=s[d.id].depth)}}render(){return this.props.commentLinks.length?this.renderList():this.renderEmptyState()}getScrollChild(e,t){const{commentsPageKey:s,onCommentEnteredViewport:n,onCommentLeftViewport:o,renderedInOverlay:r}=this.props,a=zo(e.id,{onCommentEnteredViewport:n,onCommentLeftViewport:o}),i=Jo(e.id,{onCommentEnteredViewport:n,onCommentLeftViewport:o});return{estHeight:No.b(e.id)?0:Wo,id:e.id,trackOnEnteredViewport:a,trackOnExitedViewport:i,render:t=>{let{placeholderRecommended:n,height:o,width:a,scrollToAndRemeasure:i}=t;return n?c.a.createElement("div",{style:{height:o,backgroundColor:"#fff"}}):c.a.createElement(So,{childrenInfo:this.getChildrenInfo(e.id),commentLink:e,commentsPageKey:s,id:e.id,isHidden:No.b(e.id),scrollToAndRemeasure:i,renderedInOverlay:!!r,parentNodeIds:this.getParentNodeIds(e)})}}}renderList(){const{className:e,commentLinks:t,commentsPageKey:s,measureScrollFPS:n,renderedInOverlay:o}=this.props;let r;if(n){r="comments-".concat(o?"lightbox":"page")}const a=t.map((e,t)=>this.getScrollChild(e,t));return c.a.createElement(Ho,{className:Object(g.a)(Fo.a.Scroller,e),disableScrollCache:o,key:s,getContainer:()=>o?document.getElementById(V.d):null,preventScrollOnMount:!0,scrollToChildPadding:Do,trackingName:r},a)}renderEmptyState(){return this.props.commentId?c.a.createElement(Lo.g,{link:this.props.postPermalink}):c.a.createElement(Lo.c,null)}}var Yo=Uo(qo),Qo=s("./src/reddit/components/CommentsChat/index.tsx"),Zo=s("./src/reddit/components/CommentsChat/MessageInput/Loader.tsx"),Xo=(s("./node_modules/core-js/modules/es6.regexp.search.js"),s("./src/reddit/actions/post.ts")),$o=s("./src/reddit/actions/toaster.ts"),er=s("./src/lib/makeApiRequest/index.ts"),tr=s("./src/lib/omitHeaders/index.ts"),sr=s("./src/reddit/constants/headers.ts"),nr=s("./src/reddit/models/Toast/index.ts");const or=(e,t)=>async(s,n,o)=>{let{apiContext:r}=o;const a=await(async(e,t,s)=>Object(er.b)(Object(tr.a)(e,[sr.a]),{endpoint:"".concat(e.apiUrl,"/api/set_suggested_sort/"),method:x.bb.POST,data:{api_type:"json",id:t,sort:s}}))(r(),e,t),i="error-block-".concat(t),c="success-block-".concat(t);if(a.ok){s(Object(Xo.E)({[e]:{suggestedSort:t}}));const n=t?Object(p.c)("Suggested sort is on."):Object(p.c)("Suggested sort is off.");s($o.e({id:c,kind:nr.b.SuccessCommunityGreen,text:n}))}else s($o.e({id:i,kind:nr.b.Error,text:Object(p.c)("Try again later"),buttonText:Object(p.c)("Retry"),buttonAction:or(e,t)}))};var rr=s("./src/reddit/components/InfoTextTooltip/index.tsx"),ar=s("./src/reddit/components/OverlayAwareTooltip/index.tsx"),ir=s("./src/reddit/controls/Dropdown/index.tsx"),cr=s("./src/reddit/controls/Dropdown/Row.tsx"),dr=s("./src/reddit/controls/ToggleSwitch/index.tsx"),lr=s("./src/reddit/selectors/telemetry.ts");s("./src/telemetry/models/Event.ts");const mr=(e,t,s,n,o)=>r=>({source:"comment_sort",action:"click",noun:e,actionInfo:{pageType:t?"post_detail":"home"},listing:Object(lr.listing)(r,void 0,{oldSort:s,sort:n,source:o}),userSubreddit:Object(lr.userSubreddit)(r)}),pr=(e,t)=>s=>({source:"comment_highlighting",action:t,noun:e}),ur=e=>({subreddit:Object(lr.subreddit)(e),userSubreddit:Object(lr.userSubreddit)(e)}),hr=e=>t=>Object.assign({source:"contest_mode",action:"click",noun:e?"enable":"disable"},ur);var br=s("./src/reddit/icons/svgs/Dropdown/index.tsx"),gr=s("./src/reddit/icons/svgs/Info/index.tsx"),xr=s("./src/reddit/components/CommentSort/CommentSort.m.less"),Cr=s.n(xr);const vr=Object(ar.a)(ir.a),Or=O.a.wrapped(br.b,"DropdownTriangle",Cr.a),Er=O.a.div("HighlightWrapper",Cr.a),fr=O.a.div("Title",Cr.a),yr=e=>e===Ln.a.First?Object(p.c)("First Visit"):e===Ln.a.Last?Object(p.c)("Last Visit"):"None";class jr extends c.a.Component{constructor(){super(...arguments),this.track=()=>{const{trackHighlight:e,selectedSort:t}=this.props;if(t!==Ln.a.None){e(t===Ln.a.Last?"since_last_visit":"since_first_visit","view")}},this.onDropdownClick=(e,t)=>{this.props.trackHighlight(e,"click"),this.props.changeHighlightSort(t)},this.onDropdownClickFirst=()=>{this.onDropdownClick("since_first_visit",Ln.a.First)},this.onDropdownClickLast=()=>{this.onDropdownClick("since_last_visit",Ln.a.Last)},this.onDropdownClickNone=()=>{this.onDropdownClick("do_not_highlight",Ln.a.None)}}componentDidMount(){this.track()}componentWillUpdate(e){e.selectedSort!==this.props.selectedSort&&this.track()}render(){const{highlightIsOpen:e,id:t,onOpen:s,selectedSort:n}=this.props;return c.a.createElement(Er,null,c.a.createElement(fr,{onClick:s},Object(p.c)("highlight comments since")),c.a.createElement(cr.b,{className:Object(g.a)(Cr.a.HighlightPicker,Cr.a.Row),displayText:yr(n),id:t,onClick:s}),c.a.createElement(Or,{onClick:s}),c.a.createElement(vr,{isOpen:e,renderContentsHidden:!0,tooltipId:t},c.a.createElement(cr.b,{displayText:yr(Ln.a.First),isSelected:n===Ln.a.First,onClick:this.onDropdownClickFirst}),c.a.createElement(cr.b,{displayText:yr(Ln.a.Last),isSelected:n===Ln.a.Last,onClick:this.onDropdownClickLast}),c.a.createElement(cr.b,{displayText:yr(Ln.a.None),isSelected:n===Ln.a.None,onClick:this.onDropdownClickNone})))}}var wr=jr;const Ir="CommentSort--SortPicker",Pr="CommentSort--HighlightPicker",Tr="CommentSort--Tooltip",kr=Object(ar.a)(ir.a),Sr=O.a.button("ContestMode",Cr.a),_r=O.a.wrapped(br.b,"DropdownTriangle",Cr.a),Nr=O.a.wrapped(gr.a,"Info",Cr.a),Lr=O.a.wrapped(cr.b,"Row",Cr.a),Mr=O.a.button("SetSort",Cr.a),Rr=O.a.button("SortLink",Cr.a),Br=O.a.div("Title",Cr.a),Ar=O.a.wrapped(dr.a,"ToggleSwitch",Cr.a),Fr=O.a.wrapped($n.a,"ViewFullLinkOrOverlayLink",Cr.a),Dr=O.a.wrapped(rr.c,"Tooltip",Cr.a),Wr=Object(m.c)({commentPermalink:(e,t)=>{let{commentId:s}=t;return s&&Object(At.m)(e,{commentId:s})},contestModeIsEnabled:Y.A,contestModeModalIsOpen:Object(ce.b)("CommentSort--ContestMode--Modal"),dropdownIsOpen:Object(Kt.b)(Ir),highlightIsOpen:Object(Kt.b)(Pr),hasModeratorPostPermissions:(e,t)=>{let{postId:s}=t;const n=Object(Vt.i)(e,{postId:s});return!!n&&n.posts},postPermalink:Y.I,showCommentHighlighter:(e,t)=>{let{postId:s}=t;const n=Object(de.q)(e),o=!!Object(Vt.i)(e,{postId:s}),r=Object(Y.J)(e,{postId:s});return(o||n)&&!!r&&!!r.previousVisits&&r.previousVisits.length>0},selectedHighlightSort:At.q});class Hr extends c.a.Component{constructor(){super(...arguments),this.tooltipTargetElement=null,this.sendCommentSortEvent=(e,t,s,n)=>this.props.sendEvent(mr(e,this.props.isOverlay,t,s,n)),this.onOpenDropdownClick=()=>{this.props.onOpenDropdown(),this.sendCommentSortEvent("sorting",void 0,this.props.sort,"post_detail")},this.onSortOptionClick=e=>this.sendCommentSortEvent("sort_by",this.props.sort,e,"post_detail"),this.clearSortOnClick=()=>{this.props.onSetSuggestedSort(null),this.sendCommentSortEvent("clear_suggested_sort",this.props.sort)},this.setSortOnClick=()=>{const e=this.props.suggestedSort||void 0;this.props.onSetSuggestedSort(this.props.sort),this.sendCommentSortEvent("set_suggested_sort",e,this.props.sort)},this.setTooltipTargetRef=e=>this.tooltipTargetElement=e,this.onOpenHighlightSelector=()=>{this.props.onOpenHighlightDropdown(pr("dropdown","click"))},this.setContestMode=()=>{this.props.sendEvent(hr(!this.props.contestModeIsEnabled)),this.props.setContestMode(!this.props.contestModeIsEnabled)}}render(){const{changeHighlightSort:e,className:t,commentPermalink:s,contestModeModalIsOpen:n,contestModeIsEnabled:o,dropdownIsOpen:r,elementRef:a,hideTooltip:i,highlightIsOpen:d,hasModeratorPostPermissions:l,isOverlay:m,location:u,postPermalink:h,selectedHighlightSort:b,showCommentHighlighter:C,sort:v,suggestedSort:O,showTooltip:E,toggleContestModeModal:f}=this.props,y=!u.search.includes(x.q.CONFIDENCE),j=v===x.q.CONFIDENCE&&y,w=l&&!j,I=Object(p.c)(" (suggested)"),P=O&&v===O&&!j?x.s[v]+I:x.s[v],T=o?Object(p.c)("End contest mode?"):Object(p.c)("Start contest?"),k=o?Object(p.c)("End"):Object(p.c)("Start"),S=o?Object(p.c)("Ending contest mode will make comment vote scores visible and disable random comment ordering."):Object(p.c)("Starting a contest will hide comment vote scores and randomize the order of the comments for non-mods."),_=o&&!l;return c.a.createElement("div",{className:Object(g.a)(t,Cr.a.container,{[Cr.a.hideCommentSort]:!C&&_}),ref:a},!_&&c.a.createElement(Br,{onClick:this.onOpenDropdownClick},Object(p.c)("Sort by")),!_&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Lr,{className:Object(g.a)(Cr.a.SortPicker,Cr.a.Row),onClick:this.onOpenDropdownClick,displayText:P,id:Ir,noHover:!0,skipRoleAttr:!0}),c.a.createElement(_r,{onClick:this.onOpenDropdownClick}),c.a.createElement(kr,{isOpen:r,tooltipId:Ir},[x.q.CONFIDENCE,x.q.TOP,x.q.NEW,x.q.CONTROVERSIAL,x.q.OLD,x.q.QA].map(e=>{const t=s||h,n=Object(oe.b)(t);return c.a.createElement(Fr,{isOverlay:m,key:e,onClick:()=>this.onSortOptionClick(e),role:"menuitem",tabIndex:-1,to:"".concat(n,"?sort=").concat(e)},c.a.createElement(cr.b,{displayText:O&&e===O?x.s[e]+I:x.s[e],isSelected:v===e,skipRoleAttr:!0}))}))),w&&!_&&(O?c.a.createElement(Rr,{onClick:v!==O?this.setSortOnClick:this.clearSortOnClick},v!==O?Object(p.c)("Set new suggested sort"):Object(p.c)("Clear suggested sort")):c.a.createElement(Mr,null,c.a.createElement(Rr,{onClick:this.setSortOnClick},Object(p.c)("Set as suggested sort")),c.a.createElement("span",{id:Tr,onMouseEnter:E,onMouseLeave:i},c.a.createElement(Dr,{text:Object(p.c)("Suggested sort defaults Redditors to a specific way of sorting comments within this post"),tooltipId:Tr}),c.a.createElement(Nr,null)))),l&&c.a.createElement(Sr,{onClick:this.props.toggleContestModeModal},Object(p.c)("Contest"),c.a.createElement(Ar,{on:o})),C&&c.a.createElement(wr,{changeHighlightSort:e,highlightIsOpen:d,id:Pr,onOpen:this.onOpenHighlightSelector,selectedSort:b,trackHighlight:pr}),n&&c.a.createElement(Ns.a,{actionText:k,headerText:T,modalText:S,onConfirm:this.setContestMode,toggleModal:f,withOverlay:!0}))}}var Vr=Object(d.b)(Wr,(e,t)=>{let{postId:s}=t;return{changeHighlightSort:t=>e(Object(j.J)({sort:t})),onOpenDropdown:()=>e(Object(N.g)({tooltipId:Ir})),onOpenHighlightDropdown:t=>{e(Object(N.g)({tooltipId:Pr})),t()},onSetSuggestedSort:t=>e(or(s,t)),hideTooltip:()=>e(Object(N.h)()),setContestMode:t=>e(Object(Xo.I)(t,s)),showTooltip:()=>e(Object(N.g)({tooltipId:Tr})),toggleContestModeModal:()=>e(Object($.i)("CommentSort--ContestMode--Modal"))}})(Object(F.b)(Hr)),Ur=s("./src/lib/memoizeByReference/index.ts"),Kr=s("./src/reddit/components/Economics/CommunityTipJar/async.tsx"),Gr=s("./src/reddit/components/Governance/CommunityCard/index.tsx");var zr=Object(Jt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>s.e("GovernanceLeaderboard").then(s.bind(null,"./src/reddit/components/Governance/Leaderboard/index.tsx")).then(e=>e.default)}),Jr=s("./src/reddit/components/IdCard/index.tsx"),qr=s("./src/reddit/components/SidebarPostList/index.tsx"),Yr=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),Qr=s("./src/reddit/helpers/name/index.ts"),Zr=s("./src/reddit/helpers/trackers/discoveryUnit.ts"),Xr=s("./src/reddit/components/M2M/SidebarPostFeed/index.m.less"),$r=s.n(Xr);const ea=Object(m.a)((e,t)=>t.subredditName,ut.z,ut.e,(e,t,s)=>t?Object(qe.a)(s,x.N.HOT):Object(qe.a)(e,x.N.TOP)),ta=Object(m.c)({discoveryUnit:ut.x,listingKey:ea,m2mDataLoaded:ut.d,m2mHomeMultiName:ut.e,posts:(e,t)=>{const s=ea(e,t);return Object(Y.O)(e,{listingKey:s})},shouldShowHomeUpsell:ut.z,subreddit:Ut.B});class sa extends c.a.Component{constructor(e){super(e),this.trackViewed=()=>{const{discoveryUnit:e,subreddit:t}=this.props;e&&this.props.sendEvent(Object(Zr.g)(e,t))},this.trackTitleSubredditClicked=()=>{const{discoveryUnit:e,subreddit:t}=this.props;e&&this.props.sendEvent(Object(Zr.H)(e,t))},this.trackPostClicked=e=>{const{discoveryUnit:t,subreddit:s}=this.props;t&&this.props.sendEvent(Object(Zr.w)(t,e,void 0,s))},this.trackPostViewed=e=>{const{discoveryUnit:t,subreddit:s}=this.props;t&&this.props.sendEvent(Object(Zr.B)(t,e,void 0,s))},this.trackFooterClicked=()=>{const{discoveryUnit:e,subreddit:t}=this.props;e&&this.props.sendEvent(Object(Zr.t)(e,t))},this.isHomeUpsellVisible=()=>this.props.isOverlay?this.state.shouldShowHomeUpsell:this.props.shouldShowHomeUpsell,this.onFooterClick=e=>{const{goToHomeFeed:t}=this.props;this.isHomeUpsellVisible()&&(e.preventDefault(),t()),this.trackFooterClicked()},this.state={shouldShowHomeUpsell:e.shouldShowHomeUpsell}}componentDidMount(){this.trackViewed()}render(){const{children:e,className:t,listingKey:s,m2mDataLoaded:n,m2mHomeMultiName:o,posts:r,subreddit:a,subredditName:i}=this.props;if(!n||!a||0===r.length)return null;const d=this.isHomeUpsellVisible(),l=Object(Qr.b)(a&&(a.displayText||a.name)||i),m=d?o:i;return c.a.createElement(Yr.a,{className:t,contentOnly:!0,redditStyle:d},d?c.a.createElement(ot,{isCompact:!0}):c.a.createElement("div",{className:$r.a.subredditTitle},c.a.createElement(et.c,null,"Top posts in "),c.a.createElement(gt.a,{className:$r.a.subredditLink,onMouseDown:this.trackTitleSubredditClicked,to:a.url},l)),c.a.createElement(qr.a,{className:$r.a.posts,listingKey:s,listingName:m||"",onPostClick:this.trackPostClicked,onPostVisible:this.trackPostViewed},c.a.createElement("div",{className:$r.a.ad},e)),c.a.createElement(Et,{className:$r.a.footer,onClick:this.onFooterClick,shouldDisplaySeeMore:!0,shouldNavigateToHome:d,subredditOrProfile:a}))}}var na=Object(d.b)(ta,e=>({goToHomeFeed:()=>e(Object(Ye.b)({shouldPrepareData:!1}))}))(Object(F.b)(sa)),oa=s("./src/reddit/components/ProfileIdCard/index.tsx"),ra=s("./src/reddit/components/SidebarAd/BaseSidebarAdDoNotUseOrYoureFired.tsx"),aa=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};var ia=Object(d.b)((e,t)=>{let{postId:s,commentsPageKey:n}=t;return{canShowAd:Object(Le.a)(e,{postId:s})&&!Object(de.y)(e),waitForProgrammatic:Object(At.d)(e,{commentsPageKey:n})}})(e=>{var{canShowAd:t,postId:s,commentsPageKey:n}=e,o=aa(e,["canShowAd","postId","commentsPageKey"]);return t?c.a.createElement(ra.a,o):null}),ca=s("./src/reddit/components/SidebarFooter/index.tsx"),da=s("./src/reddit/components/SidebarSpacer/index.tsx"),la=s("./src/reddit/components/SidebarStickyBottom/index.tsx"),ma=s("./src/reddit/components/Widgets/AdRules/index.m.less"),pa=s.n(ma);const ua=O.a.div("Rule",pa.a),ha=O.a.div("RuleIndex",pa.a),ba=O.a.div("RuleTitle",pa.a),ga=["Keep language civil","Comments must be relevant to the Promoted Post and contribute to discussion","Comments can offer feedback or criticism, but personal or other attacks on the advertiser or its products may be removed","No impersonating or masquerading as celebrities, brands, or other users. To verify yourself in a Promoted Post's thread, message the user promoting the post"];var xa=e=>c.a.createElement(Yr.a,{className:e.className,title:Object(p.c)("Rules for Reddit Ads"),redditStyle:!0},ga.map((e,t)=>c.a.createElement(ua,{key:t},c.a.createElement(ha,null,t+1,"."),c.a.createElement(ba,null,Object(p.c)(e))))),Ca=s("./src/reddit/components/Widgets/ConnectedAccounts/index.tsx"),va=s("./src/reddit/components/Widgets/Widget/index.tsx"),Oa=s("./src/reddit/featureFlags/component.tsx"),Ea=s("./src/reddit/helpers/createBannerProperties/index.ts"),fa=s("./src/reddit/components/CommentsPageSidebar/index.m.less"),ya=s.n(fa);const ja=Object(Oa.a)("spPoints",Gr.a),wa=Object(Oa.a)("spLeaderboard",zr),Ia=Object(m.c)({isLoggedIn:de.J,m2mHomeRedirectVariant:pt.f,postSEOV2IdCardVariant:Wt.i,shouldShowHomeUpsell:ut.z,widgets:Object(ds.a)(Ut.u)});class Pa extends c.a.Component{constructor(e){super(e),this.isHomeUpsellVisible=()=>this.props.isOverlay?this.state.shouldShowHomeUpsell:this.props.shouldShowHomeUpsell,this.getSubredditOrProfileNameIdentifier=Object(Ur.a)((e,t)=>({name:e,type:t})),this.state={isMounted:!1,shouldShowHomeUpsell:e.shouldShowHomeUpsell}}componentDidMount(){this.setState({isMounted:!0})}shouldComponentUpdate(e,t){return this.props.subredditName!==e.subredditName||!rs()(this.props.widgets,e.widgets)}renderFooter(e){const{commentsPageKey:t,isOverlay:s,subredditName:n,post:o,postSEOV2IdCardVariant:r}=this.props,a=!Object(Wt.a)(r)&&!Object(Wt.e)(r);return s?c.a.createElement(c.a.Fragment,null,c.a.createElement(ia,{postId:o.id,isOverlay:s,listingName:n,placement:x.c.BELOW_THE_FOLD,placementIndex:e,position:Ea.a.BOTTOM,refreshKey:o.id,sizes:x.m,commentsPageKey:t}),c.a.createElement(ca.a,null)):c.a.createElement(la.a,{adComponent:a?c.a.createElement(ia,{postId:o.id,isOverlay:s,listingName:n,placement:x.c.BELOW_THE_FOLD,placementIndex:e,position:Ea.a.BOTTOM,refreshKey:o.id,sizes:x.m,commentsPageKey:t}):null})}render(){const{className:e,commentsPageKey:t,isLoggedIn:s,isOverlay:n,m2mHomeRedirectVariant:o,post:r,postSEOV2IdCardVariant:a,subredditId:i,subredditName:d,widgets:l}=this.props;let m=0;const p=Object(Wt.a)(a)||Object(Wt.e)(a),u=Object(z.l)(r)&&Object(pt.e)(o),h=this.isHomeUpsellVisible(),b=c.a.createElement(ia,{postId:r.id,redditStyle:h,isOverlay:n,listingName:d,placement:x.c.ABOVE_THE_FOLD,placementIndex:m++,position:Ea.a.FIRST,refreshKey:r.id,sizes:x.h,commentsPageKey:t});return c.a.createElement("div",{className:Object(g.a)(ya.a.outerWrapper,e)},Object(z.j)(r)?c.a.createElement(oa.a,{profileName:d,isOverlay:n||!1}):c.a.createElement(Jr.e,{commentsPageKey:t,isCommentsPage:!0,isOverlay:n,listingName:d,postId:r.id,rememberPosition:r.numComments>0,isMinimal:p}),u&&c.a.createElement(da.a,null,c.a.createElement(na,{"data-redditstyle":h,isOverlay:n,subredditName:d},c.a.createElement("div",{className:ya.a.inFeedAd},b))),c.a.createElement(Kr.a,{className:ya.a.communityTipJar,subredditId:i}),c.a.createElement(Ca.a,{subredditOrProfile:this.getSubredditOrProfileNameIdentifier(d,r.belongsTo.type)}),c.a.createElement(ja,{className:ya.a.communityTokens,subredditId:i,uniqueId:r.id}),c.a.createElement(wa,{className:ya.a.leaderboard,subredditId:i,uniqueId:r.id}),!u&&b,s&&l.map((e,t)=>c.a.createElement(da.a,{key:"widgetSpacer".concat(t)},c.a.createElement(va.a,{subredditName:d,widget:e}))),r.isSponsored&&c.a.createElement(da.a,null,c.a.createElement(xa,null)),this.renderFooter(m++))}}var Ta=Object(d.b)(Ia)(Pa),ka=s("./src/reddit/components/CommentsWrapper/index.m.less"),Sa=s.n(ka);const{fbt:_a}=s("./node_modules/fbt/lib/FbtPublic.js"),Na=3,La=Object(m.c)({hasDismissedTruncation:lt.b,isLoggedIn:de.I,isPostSEOEligible:Wt.d,listingBelowAllVariant:mt.b,m2mHomeRedirectVariant:pt.f,postSEOV2TruncatedVariant:Wt.j,shouldShowHomeUpsell:ut.y}),Ma=Object(d.b)(La),Ra=e=>e.shouldShowHomeUpsell?"1000px":"500px";class Ba extends c.a.Component{constructor(e){super(e),this.isHomeUpsellVisible=()=>this.props.isOverlay?this.state.shouldShowHomeUpsell:this.props.shouldShowHomeUpsell,this.state={shouldShowHomeUpsell:e.shouldShowHomeUpsell}}render(){const{apiPending:e,children:t,className:s,handleViewAllCommentsClick:n,hasDismissedTruncation:o,innerRef:r,isCommentsListTruncated:a,isLoggedIn:i,isOverlay:d,listingBelowAllVariant:l,m2mHomeRedirectVariant:m,numberOfComments:p,onClick:u,subredditOrProfile:h}=this.props,b=this.isHomeUpsellVisible(),x=!i,C=!Object(pt.e)(m)&&b,v=Object(mt.a)(l),O=!(!h||Object(Bt.d)(h)),E=a&&O&&(p>=Na&&(!d||b)||v&&!o)&&(C||v||x),f=E&&!e,y=E?Sa.a.TruncatedComments:"";return c.a.createElement("div",{onClick:u,ref:r},c.a.createElement("div",{className:Object(g.a)(Sa.a.ContentWrapper,s,y),style:{"--commentswrapper-gradient-color":Object(Ct.a)(this.props).body,maxHeight:E?Ra(Object.assign({},this.props,{shouldShowHomeUpsell:b,shouldTruncateComments:E})):"unset"}},t),f&&c.a.createElement($e.f,{className:Sa.a.MoreCommentsButton,onClick:n,"data-redditstyle":!0},b?_a._("Load more responses",null,{hk:"3ZM07I"}):_a._("View entire discussion ({number of comments} comments)",[_a._param("number of comments",Object(Z.b)(p))],{hk:"2OrRQp"})))}}var Aa=Object(ht.a)(Ma(Ba)),Fa=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const Da=Object(Jt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>s.e("EconomicsTopTippersPostLeaderboard").then(s.bind(null,"./src/reddit/components/Economics/FTUE/TopTippersBenefits/index.tsx")).then(e=>e.default)});const Wa=Object(m.c)({featureEnabled:Ne.d.spTopTippers});var Ha=Object(d.b)(Wa)((function(e){const{featureEnabled:t}=e,s=Fa(e,["featureEnabled"]);return e.featureEnabled?c.a.createElement(Da,s):null})),Va=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const Ua=Object(Jt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>s.e("EconomicsTopTippersPostLeaderboard").then(s.bind(null,"./src/reddit/components/Economics/TopTippers/PostLeaderboard/index.tsx")).then(e=>e.default)});const Ka=Object(m.c)({featureEnabled:Ne.d.spTopTippers});var Ga=Object(d.b)(Ka)((function(e){const{featureEnabled:t}=e,s=Va(e,["featureEnabled"]);return e.featureEnabled?c.a.createElement(Ua,s):null})),za=s("./src/reddit/components/HeaderImage/index.tsx"),Ja=s("./src/reddit/components/Hovercards/helpers.ts"),qa=s("./src/reddit/constants/colors.ts"),Ya=s("./src/reddit/icons/fonts/Archived/index.tsx"),Qa=s("./src/reddit/components/InfoBanners/BannerBase/index.tsx"),Za=s("./src/reddit/components/InfoBanners/CommentThreadArchivedBanner/index.m.less"),Xa=s.n(Za),$a=()=>c.a.createElement(Qa.a,{className:Xa.a.BannerBase,color:qa.a.locked,icon:c.a.createElement(Ya.a,{className:Xa.a.ArchivedIcon}),subtitle:Object(p.c)("New comments cannot be posted and votes cannot be cast"),title:Object(p.c)("This thread is archived")}),ei=s("./src/lib/linkMatchers/customLinks.ts"),ti=s("./src/reddit/components/InfoBanners/CommentThreadLockedBanner/index.m.less"),si=s.n(ti);const ni=c.a.createElement(e=>c.a.createElement("svg",{className:e.className,id:e.id,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M16,9H15V7A5,5,0,0,0,5,7V9H4a1,1,0,0,0-1,1v7a1,1,0,0,0,1,1H16a1,1,0,0,0,1-1V10A1,1,0,0,0,16,9ZM7,7a3,3,0,0,1,6,0V9H7Z"})),{className:si.a.lockIcon});var oi=e=>{let{subredditOrProfile:t}=e;const s=t?Object(p.c)("This thread has been locked by the moderators of ".concat(Object(p.b)("communityname",(e=>Object(Bt.d)(e)?ei.d.profile:ei.d.subreddit)(t)+t.name))):Object(p.c)("This thread has been locked");return c.a.createElement(Qa.a,{className:si.a.bannerBase,color:qa.a.locked,icon:ni,subtitle:Object(p.c)("New comments cannot be posted"),title:s})},ri=s("./src/reddit/components/InfoBanners/ContestModeEnabledBanner/index.m.less"),ai=s.n(ri);const ii=O.a.wrapped(e=>c.a.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},c.a.createElement("g",null,c.a.createElement("path",{d:"M32,7.8l0.5-5.3h-25L8,7.8c-3.2,0.8-5.5,3.7-5.5,7.2v0.1c0,4,3.1,7.2,7,7.4l0,0c0.3,2.8,2.7,5,5.5,5h0.1 c1.3,0,2.4,1.1,2.4,2.4v0.1c0,1.3-1.1,2.4-2.4,2.4H15c-2.7,0-4.9,2.2-4.9,4.9v0.1h20v-0.1c0-2.7-2.2-4.9-4.9-4.9h-0.1 c-1.3,0-2.4-1.1-2.4-2.4v-0.1c0-1.3,1.1-2.4,2.4-2.4H25c2.8,0,5.2-2.2,5.5-5l0,0c3.9-0.2,7-3.4,7-7.4v-0.1 C37.5,11.5,35.2,8.6,32,7.8z M4.5,15.1v-0.1c0-2.4,1.6-4.4,3.7-5.1l1.1,10.7C6.6,20.1,4.5,17.9,4.5,15.1z M35.5,15.1 c0,2.8-2.1,5.1-4.8,5.4l1.1-10.7c2.2,0.7,3.7,2.8,3.7,5.1V15.1z"}))),"TrophyIcon",ai.a);var ci=Object(ht.a)(e=>{const{hasModeratorPostPermissions:t,theme:s}=e,n=t?Object(p.c)("Comments are in random ordering and vote scores are hidden to non-mods"):Object(p.c)("Comments are in random ordering and vote scores are hidden");return c.a.createElement(Qa.a,{className:ai.a.contestModeEnabled,color:s&&s.newCommunityTheme.linkText,icon:c.a.createElement(ii,null),subtitle:n,title:Object(p.c)("This post has contest mode enabled")})}),di=s("./src/reddit/components/InfoBanners/QuarantinedSubredditBanner/index.tsx"),li=s("./src/reddit/components/JumpToContent/index.tsx"),mi=s("./src/reddit/components/PostContent/index.tsx"),pi=s("./src/reddit/components/PostTopMeta/index.tsx"),ui=s("./src/reddit/components/SubredditNav/index.tsx"),hi=s("./src/reddit/helpers/getSubredditErrorProps/index.ts"),bi=s("./src/reddit/helpers/getSubredditUrl/index.ts"),gi=s("./src/reddit/helpers/history/index.ts"),xi=s("./src/reddit/layout/page/Lightbox/index.m.less"),Ci=s.n(xi);const vi=e=>c.a.createElement("div",{tabIndex:e.tabIndex,ref:e.innerRef,className:Object(g.a)(Ci.a.lightboxContainer,{[Ci.a.mIsCollectionLayout]:e.isCollectionLayout,[Ci.a.fakeOverlayContainer]:e.isFakeOverlay&&!e.isCollectionLayout})},e.children),Oi=e=>c.a.createElement("div",{className:Object(g.a)(Ci.a.lightboxContent,{[Ci.a.mNotCollectionLayout]:!e.isCollectionLayout,[Ci.a.mIsFakeOverlay]:e.isFakeOverlay,[Ci.a.fakeOverlayContent]:e.isFakeOverlay&&!e.isCollectionLayout})},e.children),Ei=e=>c.a.createElement("div",{className:Object(g.a)(Ci.a.lightboxSidebar,{[Ci.a.mIsFakeOverlay]:e.isFakeOverlay,[Ci.a.mIsCollectionLayout]:e.isCollectionLayout})},e.children);class fi extends c.a.PureComponent{constructor(){super(...arguments),this.container=null,this.setContainerRef=e=>{this.container=e,this.props.containerRef&&this.props.containerRef(e)}}render(){const{content:e,contentBanner:t,isCollectionLayout:s,isFakeOverlay:n,sidebar:o}=this.props;return c.a.createElement(vi,{innerRef:this.setContainerRef,isCollectionLayout:s,isFakeOverlay:n,tabIndex:-1},c.a.createElement(Oi,{isCollectionLayout:s,isFakeOverlay:n,redditStyle:!0},t,e),o&&c.a.createElement(Ei,{isCollectionLayout:s,isFakeOverlay:n},o))}}var yi=fi,ji=s("./src/lib/DeprecatedBrowserProvider/index.tsx"),wi=s("./src/reddit/components/AlertBanner/heights.ts"),Ii=s("./src/reddit/components/AppRouter/index.tsx"),Pi=s("./src/reddit/components/LightboxHeader/index.tsx"),Ti=s("./src/reddit/models/Theme/index.ts");function ki(){return(ki=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var Si=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const _i=Object(d.b)(()=>Object(m.c)({isM2MTopBannerVariant:pt.c,showAccountCompletenessBanner:e=>Object(pt.c)(e)&&Object(ut.k)(e),showFPR:de.H,showSuspended:de.O})),Ni=Object(ht.a)(e=>{var{className:t,isCollectionLayout:s,theme:n}=e,o=Si(e,["className","isCollectionLayout","theme"]);const r=Object(Ct.a)(Object.assign({theme:n},o));return c.a.createElement("div",ki({className:Object(g.a)(Ci.a.fakeOverlay,t),style:{"--fakelightbox-overlay-background":Object(Ti.g)(r.canvas,r.canvasImgUrl,r.canvasImgPosition),"--fakelightbox-overlay-max-width":"".concat(s?H.i:H.j,"px")}},o))});class Li extends c.a.Component{constructor(){super(...arguments),this.renderWrapper=e=>{const t={showM2MTopBanner:this.props.isM2MTopBannerVariant&&this.props.showAccountCompletenessBanner,browserInfo:e,showSuspended:this.props.showSuspended,showFPR:this.props.showFPR};return c.a.createElement(Ii.a,{className:Object(g.a)(Ci.a.fakeOverlayLightboxHeaderWrapper,{[Ci.a.narrow]:!this.props.isCollectionLayout},Object(wi.b)(Ci.a,t))},c.a.createElement(Pi.a,{post:this.props.post,onCloseClick:this.props.handleFakeLightboxClick}))}}render(){const{props:e}=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ni,{isCollectionLayout:!e.isCollectionLayout,onClick:e.handleFakeLightboxOverlayClick}),c.a.createElement(ji.a.Consumer,null,this.renderWrapper),c.a.createElement(yi,e))}}var Mi=_i(Li),Ri=s("./src/reddit/layout/page/Listing/index.tsx"),Bi=s("./src/reddit/models/MonthsToMinutes/index.ts"),Ai=s("./src/reddit/actions/otherDiscussions/constants.ts");const Fi=(e,t)=>Object.assign({},Object(lr.defaults)(e),{media:Object(lr.media)(e,t),profile:Object(lr.profile)(e),subreddit:Object(lr.subreddit)(e)||Object(lr.subredditByPostOrCommentId)(e,t)});var Di=s("./src/reddit/pages/CommentsPage/CommentsNavigationPane/index.m.less"),Wi=s.n(Di);const Hi=Object(d.b)(()=>Object(m.c)({headComment:At.y,otherDiscussionsCount:Y.y,post:At.F}));var Vi=Object(F.b)(Hi(e=>{let{commentId:t,headComment:s,isOverlay:n,otherDiscussionsCount:o,post:r,postId:a,sendEvent:i}=e;if(!r)return null;const d=void 0!==t,l=r.permalink,m=o>0,p=Object(oe.b)(Object(Ai.e)(l));return d||m?c.a.createElement("div",{className:Wi.a.CommentsNavigationPane},d&&c.a.createElement("div",null,c.a.createElement($n.a,{className:Wi.a.linkOrOverlay,isOverlay:n,to:Object(oe.b)(l)},c.a.createElement(et.c,null,"View all comments")),s&&null!==s.parentId&&c.a.createElement($n.a,{className:Wi.a.linkOrOverlay,isOverlay:n,to:Object(oe.b)(s.permalink+"?context=8&depth=9")},c.a.createElement(et.c,null,"Show parent comments"))),m&&c.a.createElement($n.a,{className:Wi.a.OtherDiscussionsLink,isOverlay:n,onClick:()=>i((e=>t=>Object.assign({source:"post",action:"click",noun:"other_discussions",post:Object(lr.post)(t,e)},Fi(t,e)))(a)),to:p},c.a.createElement(et.c,null,"View discussions in ",c.a.createElement(et.b,{name:"otherDiscussionsCount"},o)," other",c.a.createElement(et.a,{name:"communities",singular:" community",plural:" communities",count:o})))):null})),Ui=s("./src/reddit/selectors/listings.ts"),Ki=s("./src/reddit/pages/CommentsPage/OtherDiscussions/index.m.less"),Gi=s.n(Ki);const zi=O.a.div("Container",Gi.a),Ji=Object(d.b)(()=>Object(m.c)({apiError:(e,t)=>{let{postId:s}=t;return Object(Ui.c)(e,{listingKey:Object(qe.a)(s,null,{isOtherDiscussions:!0})})},apiPending:(e,t)=>{let{postId:s}=t;return Object(Ui.d)(e,{listingKey:Object(qe.a)(s,null,{isOtherDiscussions:!0})})},otherDiscussionsCount:Y.y}));var qi=Object(F.b)(Ji(e=>{let{apiError:t,apiPending:s,commentSort:n,isOverlay:o,language:r,otherDiscussionsCount:a,postId:i,postPermalink:d,sendEvent:l}=e;const m=Object(qe.a)(i,null,{isOtherDiscussions:!0}),p=a>0?a:0;return c.a.createElement(zi,null,c.a.createElement("div",{className:Object(g.a)(Gi.a.HeaderPane,Wi.a.CommentsNavigationPane)},c.a.createElement("div",{className:Gi.a.OtherDiscussionsTitle},c.a.createElement(et.c,null,c.a.createElement(et.b,{name:"otherDiscussionsCount"},p)," other",c.a.createElement(et.a,{name:"discussions",singular:" discussion",plural:" discussions",count:a}))),c.a.createElement($n.a,{className:Wi.a.OtherDiscussionsLink,isOverlay:o,onClick:()=>l((e=>t=>Object.assign({source:"other_discussions",action:"click",noun:"dismiss",post:Object(lr.post)(t,e)},Fi(t,e)))(i)),to:Object(oe.b)(d)},c.a.createElement(Js.a,{className:Gi.a.CommentIcon,role:"presentation"}),c.a.createElement(et.c,null,"Return to comments"))),t&&c.a.createElement(Lo.e,{apiError:t,commentId:null,language:r,postId:i,sort:n}),s&&!t&&c.a.createElement(Lo.f,null),!s&&!t&&c.a.createElement(Ze.a,{enableElementHiding:!1,forcedLayout:at.g.Compact,listingKey:m,listingName:rt.d.OtherDiscussions,listingViewed:(e,t)=>Object(ct.d)(m,n,t,e),noPostsComponent:()=>c.a.createElement(Lo.b,null),inSubredditOrProfile:!1,preventScrollOnMount:!0}))})),Yi=s("./src/reddit/pages/CommentsPage/withPageSorting.tsx"),Qi=s("./src/reddit/pages/CommentsPage/index.m.less"),Zi=s.n(Qi);function Xi(){return(Xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}s.d(t,"CommentsPage",(function(){return ac}));var $i=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const ec=e=>{let{condition:t,wrap:s,children:n}=e;return t?s(n):n},tc=80,sc=200,nc=80,oc=32;class rc extends c.a.Component{constructor(e){super(e),this.collectionPostWrapperRef=null,this.didRenderLoading=!1,this.needsUpdatedMeasurements=!0,this.scrollY=null,this.recheckScrollTimer=-1,this.postPaused=!0,this.setPostScrollItemRef=e=>{this.postScrollItemRef=e,setTimeout(this.handleScroll)},this.handleScroll=a()(()=>{if(!this.scrollContainerEl)return;this.needsUpdatedMeasurements&&this.updateMeasurements();const{didScrollPastPost:e,scrollContainerEl:t,scrollPostThreshold:s,props:{userHovercardIsOpen:n,onToggleTooltip:o,post:r,postId:a}}=this;clearTimeout(this.recheckScrollTimer),this.recheckScrollTimer=-1;const i=t===window?t.scrollY:t?t.scrollTop:0,c=null!==this.scrollY&&Math.abs(i-this.scrollY)>tc,d=r&&r.media&&r.media.type===Rt.n.EMBED?r.media.provider:null,l=r&&r.media&&Rt.d.has(r.media.type)&&(!d||!Rt.q.has(d));this.scrollY=i,!e&&void 0!==s&&i>=s&&(this.didScrollPastPost=!0,this.props.canTriggerACBanner&&this.props.showACBanner()),e&&void 0!==s&&i<s&&(this.didScrollPastPost=!1,n&&v.a.write(()=>{o(Object(Ja.b)({itemId:a,tooltipIdPrefix:Ge.a,tooltipType:pi.c.StickyPost}))})),l&&this.postScrollItemRef&&(this.postPaused||!c&&!this.didScrollPastPost?this.postPaused&&!this.didScrollPastPost&&(c?this.recheckScrollTimer=setTimeout(this.handleScroll,4*x.F):(this.postPaused=!1,v.a.write(this.postScrollItemRef.focusContent))):(this.postPaused=!0,v.a.write(this.postScrollItemRef.pauseContent)))},x.F),this.sendEventWithName=e=>()=>this.props.sendEvent(Object(it.b)(this.props.postId,e)),this.updateWindowHeight=()=>{this.needsUpdatedMeasurements=!0,this.handleScroll()},this.updateCommentSortRef=e=>{this.commentSortRef=e,this.needsUpdatedMeasurements=!0},this.updateCommentFormRef=e=>{this.commentFormRef=e,this.needsUpdatedMeasurements=!0},this.updateCollPostWrapperRef=e=>{this.collectionPostWrapperRef=e},this.handleViewAllCommentsClick=()=>{const{dismissTruncation:e,expandCommentsList:t,listingBelowAllVariant:s,post:n}=this.props;if(t(),Object(mt.a)(s)){const t=n&&Object(z.l)(n)&&n&&n.belongsTo.id;t&&e(t)}this.sendEventWithName("view_all_comments")()},this.handleFakeLightboxClick=()=>{const e=Object(bi.a)(this.props.subredditOrProfile);this.props.goToSubredditPage(e)},this.handleFakeLightboxOverlayClick=()=>{this.handleFakeLightboxClick(),this.sendEventWithName("post__click__overlay")()},this.handleContentClick=()=>{this.props.isCommentsListTruncated&&this.props.expandCommentsList()},this.handleFindKeyPress=e=>{const t=e.key===kt.b.F||e.keyCode===kt.a.F,s=e.ctrlKey||e.metaKey;t&&s&&this.props.expandCommentsList()},this.setLayoutRef=e=>{this.setState({layoutRef:e})},this.didScrollPastPost=e.shouldScrollToComments&&!!e.post&&!!e.post.numComments,this.state={layoutRef:null}}componentWillMount(){const{commentId:e,setCommentFocus:t}=this.props;e&&t(e)}componentDidMount(){const{commentFormRef:e,commentSortRef:t,props:{isLoggedIn:s,isOverlay:n,post:o,shouldScrollToComments:r}}=this;n?(this.scrollContainerEl=document.getElementById(V.d),r&&(e||t)&&o&&o.numComments?this.scrollToComments():v.a.write(()=>{setTimeout(()=>{Object(C.c)(this.scrollContainerEl,0)})})):this.scrollContainerEl=window,this.needsUpdatedMeasurements=!0,this.addListeners(),this.checkAndSendScreenview(),v.a.read(()=>{this.props.isOverlay||Object(y.d)(y.c.CommentsPage,s)}),this.sendChatPostExposureEvent()}componentWillReceiveProps(e){e.postId!==this.props.postId&&(this.didRenderLoading=!1),e.commentId&&e.commentId!==this.props.commentId&&this.props.setCommentFocus(e.commentId)}componentWillUpdate(e){this.removeListeners(e)}componentDidUpdate(e){if(this.needsUpdatedMeasurements=!0,this.addListeners(),this.checkAndSendScreenview(),e.postId!==this.props.postId){const e=this.props.post&&Object(G.a)(this.props.post);this.props.post&&this.props.post.numComments?v.a.read(this.handleScroll):v.a.write(()=>{e||Object(C.c)(this.scrollContainerEl,0),v.a.read(this.handleScroll)}),this.props.isOverlay&&!e&&v.a.write(()=>{setTimeout(()=>{Object(C.c)(this.scrollContainerEl,0)})});const t=this.collectionPostWrapperRef;if(e&&t){const e=H.c+(this.props.isOverlay?H.o:0),s=t.getBoundingClientRect().top;let n;const o=(n=this.props.isOverlay?document.getElementById(V.d):document.getElementsByTagName("body")[0])&&n.getBoundingClientRect().top,r=Math.abs(o-s),a=this.props.isOverlay?oc:r-e;(this.props.isOverlay?n&&n.scrollTop||0:window.pageYOffset)>=a&&v.a.write(()=>{setTimeout(()=>{this.props.isOverlay?Object(C.c)(n,a):Object(C.c)(document,a)})})}}this.truncateCommentList()}componentWillUnmount(){this.removeListeners(),this.needsUpdatedMeasurements=!1,this.scrollContainerEl=void 0}truncateCommentList(){const{dismissedSubreddits:e,listingBelowAllVariant:t,subredditOrProfile:s,truncateCommentsList:n}=this.props;if(Object(mt.a)(t)){const t=s&&s.id;t&&!e.includes(t)&&n()}}updateMeasurements(){this.needsUpdatedMeasurements=!1,this.windowHeight=window.innerHeight,this.commentFormRef?this.scrollPostThreshold=this.commentFormRef.offsetTop:this.commentSortRef?this.scrollPostThreshold=this.commentSortRef.offsetTop:this.scrollPostThreshold=sc}addListeners(){const{isOverlay:e}=this.props;e&&window.addEventListener("resize",this.updateWindowHeight),this.props.isCommentsListTruncated&&window.addEventListener("keydown",this.handleFindKeyPress),this.scrollContainerEl&&this.scrollContainerEl.addEventListener("scroll",this.handleScroll)}removeListeners(e){const{isOverlay:t}=this.props;t&&window.removeEventListener("resize",this.updateWindowHeight),e&&this.props.isCommentsListTruncated!==e.isCommentsListTruncated&&window.removeEventListener("keydown",this.handleFindKeyPress),this.scrollContainerEl&&this.scrollContainerEl.removeEventListener("scroll",this.handleScroll)}scrollToComments(){v.a.read(()=>{const e=document.getElementById(V.d);if(e){let t,s;this.commentFormRef?(t=this.commentFormRef.offsetTop-nc,s=this.commentFormRef.offsetParent):this.commentSortRef?(t=this.commentSortRef.offsetTop-nc,s=this.commentSortRef.offsetParent):t=0,s&&(t+=s.offsetTop),v.a.write(()=>{Object(C.c)(e,t),this.needsUpdatedMeasurements=!0,setTimeout(()=>v.a.read(this.handleScroll))})}})}shouldSendScreenview(){const{apiError:e,apiPending:t,commentsPageKey:s}=this.props;return h.c.has(s)&&(e||!t||this.listLongEnoughForScreenView())}listLongEnoughForScreenView(){return!!this.commentSortRef&&this.commentSortRef.getBoundingClientRect().bottom>window.innerHeight}checkAndSendScreenview(){v.a.read(()=>{const{commentId:e,commentsPageKey:t,postId:s,sendEvent:n,sort:o}=this.props;if(!this.shouldSendScreenview())return;const r=h.c.end(t);n(Object(ct.b)(t,s,e,b.TimerType.InApp,r,o))})}sendChatPostExposureEvent(){const{sendChatPostExposureEvent:e,hasModeratorPostPermissions:t,isChatPost:s}=this.props;e(s,t)}isCommentPermalink(){return void 0!==this.props.commentId}renderPageError(){const{contentGateInfo:e,currentUserShowNSFW:t,isOverlay:s,post:n,subredditName:o}=this.props,r=!(!n||!n.isNSFW||t),a=Object(hi.a)(e,r,o);if(!a)return null;let i=c.a.createElement(Ke.b,a);return s&&(i=c.a.createElement(yi,{content:i})),i}render(){const{apiError:e,apiPending:t,closeLocation:s,commentsPageKey:n,isNightmodeOn:o,isLoggedIn:r,isOverlay:a,language:i,post:d,postId:l,postSEOV2IdCardVariant:m,sendEvent:p,subredditName:u,subredditOrProfile:h,profileCollectionsEnabled:b}=this.props,C=Object(Wt.e)(m);if(!d){if(t)return c.a.createElement(Lo.f,null);const s=this.renderPageError();return s||(e?c.a.createElement(Lo.d,null):c.a.createElement(Lo.f,null))}{const e=this.renderPageError();if(e)return e}const v=this.isCommentPermalink(),O=d.belongsTo.type===St.a.PROFILE,E=Object(G.a)(d)&&(!O||b),f=!r;return c.a.createElement(cc,{closeLocation:s,commentsPageKey:n,containerRef:this.setLayoutRef,handleFakeLightboxClick:this.handleFakeLightboxClick,handleFakeLightboxOverlayClick:this.handleFakeLightboxOverlayClick,isLoggedIn:r,isOverlay:a,isSwapVariant:C,post:d,subredditOrProfile:h,shouldFitPageToContent:f,isCollectionLayout:E},h&&h.isQuarantined&&c.a.createElement(di.a,{subredditName:h.name}),c.a.createElement(li.a,null),c.a.createElement("div",{className:Object(g.a)(Zi.a.PageContentWrapper,{[Zi.a.LargePageContent]:E,[Zi.a.ChatPage]:this.props.isChatPostExperiment}),key:"PostContentWrapper"},E&&c.a.createElement(Te,{isOverlay:a,language:i,isNightmodeOn:o,postId:l}),c.a.createElement(ec,{condition:E,wrap:e=>c.a.createElement("div",{ref:this.updateCollPostWrapperRef,className:Zi.a.CollectionBodyWrapper},e)},c.a.createElement(mi.a,{isCommentPermalink:v,isExclusivePost:!0,isOverlay:a,postId:l,redditStyle:a,scrollerItemRef:this.setPostScrollItemRef,sendEvent:p}),h&&c.a.createElement(Ga,{className:Zi.a.TopTippers,contentId:l,creatorId:d.authorId,subredditId:h.id}),h&&c.a.createElement(Ha,{className:Zi.a.TopTippersBenefits,contentId:l,creatorId:d.authorId,subredditId:h.id}),c.a.createElement(Ue,{listingName:u||"",isOverlay:a,placement:x.c.ABOVE_THE_FOLD,postId:l}),this.renderCommentPanes())),h&&!Object(Bt.d)(h)&&c.a.createElement(Pt,Xi({},this.props,{contentContainerRef:this.state.layoutRef,subredditOrProfile:h})))}renderCommentPanes(){const{apiError:e,apiPending:t,canCommentAsModerator:s,commentId:n,commentsPageKey:o,contestModeIsEnabled:r,fullyLoaded:a,hasModeratorPostPermissions:i,headComment:d,isChatPostExperiment:l,isLoggedIn:m,isOverlay:h,language:b,location:x,onOtherDiscussions:C,openLoginModal:v,openRegisterModal:O,origin:y,post:w,postId:I,replyComment:P,sendEvent:T,sort:k,subredditAboutInfo:S,subredditOrProfile:_}=this.props;if(!w)return null;const N=this.isCommentPermalink(),L=[],M=w.isLocked&&!s,R=!(N||w.isArchived||S&&S.userIsBanned);if(M)L.push(c.a.createElement(oi,{key:"commentThreadBanner",subredditOrProfile:_}));else if(w.isArchived)L.push(c.a.createElement($a,{key:"commentThreadBanner"}));else if(R&&!l&&!C)if(m){const e=Object(f.a)(u.c.replyToPost,I);L.push(c.a.createElement(ss,{autofocus:!1,isTopLevelComment:!0,depth:0,draftKey:e,draftType:u.c.replyToPost,editorElementRef:this.updateCommentFormRef,key:"form"+e,parentCommentId:"replyToPost",submitAction:(t,s)=>{var{validate:n}=t,r=$i(t,["validate"]);return n?j.tb(b,I,o,e,r,s):j.lb(b,I,o,e,r,s)},submitButtonText:Object(p.c)("comment")}))}else L.push(c.a.createElement(ns.a,{key:"loggedOutCommentForm",language:b,location:x,openLoginModal:v,openRegisterModal:O,origin:y}));if(r&&L.push(c.a.createElement(ci,{hasModeratorPostPermissions:i,key:"contestModeBanner"})),!l&&!C&&L.push(c.a.createElement(Vr,{commentId:n,elementRef:this.updateCommentSortRef,isOverlay:h,key:"commentSort",location:x,postId:I,sort:k,suggestedSort:w.suggestedSort}),c.a.createElement(Vi,{commentId:n,commentsPageKey:o,isOverlay:h,key:"commentNavigation",postId:I})),!t||d||l||C)if(!e||d||C)if(C)L.push(c.a.createElement(qi,{commentSort:k,key:"otherDiscussions",language:b,postId:I,isOverlay:h,postPermalink:w.permalink}));else if(l){if(_&&_.id){const e=P?Object(f.a)(u.c.replyToComment,P.id):Object(f.a)(u.c.replyToPost,I),s=n?Object(E.a)(I):o;L.push(c.a.createElement(Qo.default,{commentId:n,commentsPageKey:s,draftKey:e,isLoading:t&&!d||!a&&t,key:"commentsChat",postId:I,renderedInOverlay:h,subredditId:_.id},t=>{let{scrollToBottom:n}=t;return m?c.a.createElement(Zo.a,{key:"chatCommentsForm",language:b,postId:I,replyComment:P,draftKey:e,commentsPageKey:s,isEditing:!1,scrollToBottom:n,sendEvent:T}):c.a.createElement(ns.a,{key:"loggedOutCommentForm",className:Zi.a.ChatLoggedOutForm,language:b,location:x,openLoginModal:v,openRegisterModal:O,origin:y})}))}}else L.push(c.a.createElement("div",{className:Object(g.a)(Zi.a.CommentsPaneWrapper,{[Zi.a.mIsInOverlay]:h}),key:"commentsPaneWrapper"},c.a.createElement(Aa,Xi({},this.props,{isCommentsListTruncated:this.props.isCommentsListTruncated,handleViewAllCommentsClick:this.handleViewAllCommentsClick,numberOfComments:w.numComments,onClick:this.handleContentClick}),c.a.createElement(Yo,{commentId:n,commentsPageKey:o,postId:I,renderedInOverlay:h})))),e&&d?L.push(c.a.createElement(Lo.e,{key:"commentsErrorState",language:b,postId:I,commentId:n,sort:k,apiError:e})):!a&&t&&L.push(c.a.createElement(Lo.a,{key:"commentsPlaceholder"}));else L.push(c.a.createElement(Lo.e,{language:b,postId:I,commentId:n,sort:k,apiError:e}));else this.didRenderLoading=!0,L.push(c.a.createElement(Lo.a,{key:"commentsPlaceholder"}));return c.a.createElement(Nt.a.Provider,{value:this.sendEventWithName},L)}}const ac=Object(U.t)()(Object(d.b)(()=>Object(m.c)({apiError:At.c,apiPending:At.d,canCommentAsModerator:(e,t)=>{let{postId:s}=t;const n=Object(Y.U)(e,{postId:s});return!!(n&&n.id&&e.moderatingSubreddits[n.id])},canTriggerACBanner:ut.l,comment:At.n,communityBannerDiscoveryUnit:Ft.c,contentGateInfo:(e,t)=>{let{subredditName:s}=t;return Object(de.f)(e,s)},contestModeIsEnabled:Y.A,currentUserShowNSFW:de.X,dismissedSubreddits:lt.a,fullyLoaded:At.v,hasModeratorPostPermissions:Vt.b,headComment:At.y,isChatPost:Dt.e,isChatPostExperiment:Dt.d,isCommentsListTruncated:dt,isLoggedIn:de.J,isNightmodeOn:de.U,isTooltipOpen:(e,t)=>!!Object(Kt.a)(e),language:de.S,listingBelowAllVariant:mt.b,m2mHomeRedirectVariant:pt.f,m2mIsEnabled:ut.w,origin:Ht.g,post:At.F,postSEOV2IdCardVariant:Wt.i,profileCollectionsEnabled:Lt.a,replyComment:At.t,subredditAboutInfo:(e,t)=>{let{subredditName:s}=t;return s?Object(Ut.y)(e,{subredditName:s}):void 0},subredditOrProfile:Y.U,userHovercardIsOpen:(e,t)=>Object(Kt.b)(Object(Ja.b)({itemId:t.postId,tooltipIdPrefix:Ge.a,tooltipType:pi.c.StickyPost}))(e),userPrefs:de.lb}),(e,t)=>({dismissTruncation:t=>e(zt({subredditId:t})),expandCommentsList:()=>e(P()),setCommentFocus:t=>e(j.M({commentListNodeId:t})),fullyLoadComments:()=>e(Object(_.A)(t.postId,void 0,{subredditName:t.subredditName})),onHideTooltip:()=>e(Object(N.h)()),onToggleTooltip:t=>e(Object(N.g)({tooltipId:t})),openLoginModal:()=>e(Object(k.e)()),openRegisterModal:()=>e(Object(k.f)()),showACBanner:()=>e(S.b(Bi.a.BannerVisible)),goToSubredditPage:t=>e(Object(l.b)(t)),sendChatPostExposureEvent:(t,s)=>e((e,n)=>Object(Dt.g)(n(),t,s)),truncateCommentsList:()=>e(T())}))(Object(F.b)(rc))),ic=O.a.wrapped(Ta,"DetailsPageSidebar",Zi.a),cc=e=>{const{children:t,commentsPageKey:s,containerRef:n,handleFakeLightboxClick:o,handleFakeLightboxOverlayClick:r,isCollectionLayout:a,isLoggedIn:i,isOverlay:d,isSwapVariant:l,post:m,shouldFitPageToContent:p,subredditOrProfile:u}=e;if(!i&&!d)return c.a.createElement(Mi,{containerRef:n,content:t,isCollectionLayout:a,handleFakeLightboxClick:o,handleFakeLightboxOverlayClick:r,isFakeOverlay:!0,post:m,sidebar:u&&c.a.createElement(Ta,{commentsPageKey:s,isOverlay:!0,post:m,subredditName:u.name,subredditId:u.id})});if(d)return c.a.createElement(yi,{containerRef:n,content:t,isCollectionLayout:a,sidebar:u&&c.a.createElement(Ta,{commentsPageKey:s,isOverlay:!0,post:m,subredditName:u.name,subredditId:u.id})});const h=i||a?H.j:_t.a;return c.a.createElement(Ri.a,{containerRef:n,maxWidth:H.j,fitPageToContent:p,content:t,disableFullscreen:!0,isPageSwapped:l,isCollectionLayout:a,navBar:u&&c.a.Children.toArray([c.a.createElement(za.a,{disableFullscreen:!0,headerText:u.name,maxWidth:h,prefixedHeaderText:u.displayText,subredditOrProfile:u,url:u.url}),!Object(Bt.d)(u)&&c.a.createElement(ui.a,{disableFullscreen:!0,homeUrl:u.url,maxWidth:h,subredditId:u.id})]),sidebar:u&&c.a.createElement(ic,{commentsPageKey:s,post:m,subredditName:u.name,subredditId:u.id})})};t.default=Object(Yi.a)(e=>{const{state:t}=e.location,s=o()(t,Tt.a.IsOverlay,!1),n=o()(t,Tt.a.CloseLocation,null),r=o()(t,Tt.a.ScrollOnLoad,!1);r&&Object(gi.c)(Tt.a.ScrollOnLoad);const{partialCommentId:a,partialPostId:i,subredditName:d}=e.match.params,l=Object(z.m)(i),m=a&&Object(Mt.e)(a);return c.a.createElement(ac,{closeLocation:n,commentId:m,commentsPageKey:e.commentsPageKey,isOverlay:s,location:e.location,onOtherDiscussions:e.onOtherDiscussions,postId:l,shouldScrollToComments:r,sort:e.sort,subredditName:d})})},"./src/reddit/pages/CommentsPage/withPageSorting.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return v}));s("./node_modules/core-js/modules/es6.regexp.match.js");var n=s("./node_modules/lodash/fromPairs.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./node_modules/react-redux/es/index.js"),c=s("./node_modules/reselect/es/index.js"),d=s("./src/lib/extractQueryParams/index.ts"),l=s("./src/lib/makeCommentsPageKey/index.ts"),m=s("./src/reddit/actions/otherDiscussions/constants.ts"),p=s("./src/reddit/helpers/getCommentsPageSort/index.ts"),u=s("./src/reddit/models/Comment/index.ts"),h=s("./src/reddit/models/Post/index.ts");const b=e=>{const{partialPostId:t}=e.match.params;return t&&Object(h.m)(t)},g=(e,t,s)=>{const n=b(e),r=(e=>{const{partialCommentId:t}=e.match.params;return t&&Object(u.e)(t)})(e),a=(e=>{const{location:{search:t}}=e;return o()([...Object(d.a)(t)])})(e),i={depth:a.depth&&parseInt(a.depth,10)||void 0,context:a.context&&parseInt(a.context,10)||void 0,hasSortParam:t,sort:s};return Object(l.a)(n,r,i)},x=Object(c.c)({commentsPageSort:(e,t)=>{const s=b(t);return Object(p.a)(e,s)}}),C=Object(i.b)(x);function v(e){return C(t=>{const{hasSortParam:s,sortToUse:n}=t.commentsPageSort,o=g(t,s,n),r=Object(m.d)(t.match.path),i=Object.assign({},t,{commentsPageKey:o,hasSortParam:s,onOtherDiscussions:r,sort:n});return a.a.createElement(e,i)})}},"./src/reddit/selectors/experiments/adSidebar.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s("./src/reddit/constants/experiments.ts"),o=s("./src/reddit/helpers/chooseVariant/index.ts");const r=e=>{const t=Object(o.c)(e,{experimentEligibilitySelector:o.a,experimentName:n.a});return!!t&&!Object(n.ac)(t)}},"./src/reddit/selectors/experiments/goldAwardedCommentHighlight.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var n=s("./src/reddit/constants/experiments.ts"),o=s("./src/reddit/helpers/chooseVariant/index.ts"),r=s("./src/reddit/selectors/user.ts");const a=e=>!!(e=>{const t=Object(o.c)(e,{experimentEligibilitySelector:e=>Object(r.J)(e),experimentName:n.L});return Object(n.ac)(t)?void 0:t})(e)},"./src/reddit/selectors/experiments/publicAwarding.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s("./src/reddit/constants/experiments.ts"),o=s("./src/reddit/helpers/chooseVariant/index.ts");const r=e=>{const t=Object(o.c)(e,{experimentEligibilitySelector:o.a,experimentName:n.mb});return Object(n.ac)(t)?void 0:t}},"./src/reddit/selectors/premium.ts":function(e,t,s){"use strict";s.d(t,"c",(function(){return n})),s.d(t,"d",(function(){return o})),s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return a}));const n=e=>!!e.givePremium.givePremiumModalAccountName,o=e=>e.givePremium.givePremiumModalAccountName,r=e=>e.givePremium.api.error||"",a=e=>e.givePremium.api.pending},"./src/reddit/selectors/tracking.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));const n=(e,t)=>{let{listingKey:s}=t;return e.tracking.viewportDataLoaded[s]}}}]);
//# sourceMappingURL=CommentsPage.b28f43d1dae042b3876f.js.map