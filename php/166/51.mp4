(window.webpackJsonp=window.webpackJsonp||[]).push([["Governance~Reddit"],{"./assets/fonts/NotoMono/font.less":function(e,t,n){},"./src/graphql/operations/AllUserMultireddits.json":function(e){e.exports=JSON.parse('{"id":"0a5fcd52ba67"}')},"./src/graphql/operations/CommentToxicity.json":function(e){e.exports=JSON.parse('{"id":"445164f0825f"}')},"./src/graphql/operations/CommunityAwardsBlacklistStatus.json":function(e){e.exports=JSON.parse('{"id":"7af03aa4c24e"}')},"./src/graphql/operations/CreateCommunityAward.json":function(e){e.exports=JSON.parse('{"id":"38852e4f82b0"}')},"./src/graphql/operations/CreateGlobalAward.json":function(e){e.exports=JSON.parse('{"id":"13b32e3769d6"}')},"./src/graphql/operations/CreateLayer.json":function(e){e.exports=JSON.parse('{"id":"eb0c351cea1c"}')},"./src/graphql/operations/CreateModAward.json":function(e){e.exports=JSON.parse('{"id":"a04c85b4e964"}')},"./src/graphql/operations/CreateSubredditTags.json":function(e){e.exports=JSON.parse('{"id":"639d65a32e0e"}')},"./src/graphql/operations/DeleteAward.json":function(e){e.exports=JSON.parse('{"id":"4d31f6356d57"}')},"./src/graphql/operations/DeleteTags.json":function(e){e.exports=JSON.parse('{"id":"85a644f8353a"}')},"./src/graphql/operations/DisableAward.json":function(e){e.exports=JSON.parse('{"id":"5e453976052b"}')},"./src/graphql/operations/ExperimentVariants.json":function(e){e.exports=JSON.parse('{"id":"34910619f1e9"}')},"./src/graphql/operations/FetchBlockedRedditorsInfo.json":function(e){e.exports=JSON.parse('{"id":"1e9183c00f76"}')},"./src/graphql/operations/FetchGlobalTags.json":function(e){e.exports=JSON.parse('{"id":"1d3331c579e0"}')},"./src/graphql/operations/FetchSubredditTags.json":function(e){e.exports=JSON.parse('{"id":"8e39ae6fa332"}')},"./src/graphql/operations/FocusVerticalSubredditRecommendations.json":function(e){e.exports=JSON.parse('{"id":"35d8420541e9"}')},"./src/graphql/operations/Frontpage.json":function(e){e.exports=JSON.parse('{"id":"4e259c6807b1"}')},"./src/graphql/operations/GetPostRequirements.json":function(e){e.exports=JSON.parse('{"id":"4231b7734ef9"}')},"./src/graphql/operations/ManageableAwards.json":function(e){e.exports=JSON.parse('{"id":"08c803ef139c"}')},"./src/graphql/operations/ModeratedSubreddits.json":function(e){e.exports=JSON.parse('{"id":"3c148c0b5100"}')},"./src/graphql/operations/MultiredditListing.json":function(e){e.exports=JSON.parse('{"id":"46239e7b80d5"}')},"./src/graphql/operations/OtherDiscussions.json":function(e){e.exports=JSON.parse('{"id":"d27ea4b87c95"}')},"./src/graphql/operations/RedditorMultireddits.json":function(e){e.exports=JSON.parse('{"id":"3d04e2bb92b5"}')},"./src/graphql/operations/RichTextPostContent.json":function(e){e.exports=JSON.parse('{"id":"fc24b7b690ad"}')},"./src/graphql/operations/SinglePost.json":function(e){e.exports=JSON.parse('{"id":"d7025c83e7d6"}')},"./src/graphql/operations/SubredditAbout.json":function(e){e.exports=JSON.parse('{"id":"7d0ee544a263"}')},"./src/graphql/operations/SubredditDifficulty.json":function(e){e.exports=JSON.parse('{"id":"1479a476a03b"}')},"./src/graphql/operations/SubredditModels.json":function(e){e.exports=JSON.parse('{"id":"d98849822078"}')},"./src/graphql/operations/SubredditPage.json":function(e){e.exports=JSON.parse('{"id":"22fa45a73511"}')},"./src/graphql/operations/SubredditPostFlairStyleTemplates.json":function(e){e.exports=JSON.parse('{"id":"9a87d9b91dc4"}')},"./src/graphql/operations/SubredditPosts.json":function(e){e.exports=JSON.parse('{"id":"4e6eefe1c093"}')},"./src/graphql/operations/SubredditRecommendations.json":function(e){e.exports=JSON.parse('{"id":"43275c35dbb6"}')},"./src/graphql/operations/SubredditRules.json":function(e){e.exports=JSON.parse('{"id":"0df127946e72"}')},"./src/graphql/operations/SubredditStyles.json":function(e){e.exports=JSON.parse('{"id":"8d0e34deaa32"}')},"./src/graphql/operations/SubredditTopContent.json":function(e){e.exports=JSON.parse('{"id":"473d4cedb300"}')},"./src/graphql/operations/SubredditTypeaheadSearch.json":function(e){e.exports=JSON.parse('{"id":"20edc5ee12df"}')},"./src/graphql/operations/TopSubreddits.json":function(e){e.exports=JSON.parse('{"id":"9e9ef4c82a00"}')},"./src/graphql/operations/UpdatePostRequirements.json":function(e){e.exports=JSON.parse('{"id":"8732ab4560ce"}')},"./src/graphql/operations/UpdateSubredditTagStates.json":function(e){e.exports=JSON.parse('{"id":"70f7ff70f03e"}')},"./src/graphql/operations/UpdateSubredditTagStatesRelevance.json":function(e){e.exports=JSON.parse('{"id":"ee43ccb6e5eb"}')},"./src/graphql/operations/UsableAwards.json":function(e){e.exports=JSON.parse('{"id":"745201a7132e"}')},"./src/graphql/operations/UsableAwardsForProfile.json":function(e){e.exports=JSON.parse('{"id":"0ed9ee84b867"}')},"./src/graphql/operations/UserDataExportEligibility.json":function(e){e.exports=JSON.parse('{"id":"3817c69d7a39"}')},"./src/lib/CSSVariableProvider/withTheme.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./src/lib/CSSVariableProvider/index.tsx");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){return t=>s.a.createElement(o.b.Consumer,null,n=>s.a.createElement(e,i({theme:n},t)))}},"./src/lib/FocusTrap/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r=['input:not([type="hidden"]):not([disabled])',"select:not([disabled])","textarea:not([disabled])","a[href]","button:not([disabled])",'[tabindex]:not([tabindex="-1"]):not([disabled])',"audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join();class s{constructor(e){this.active=!1,this.onKeyDown=e=>{if("Tab"===e.key||9===e.keyCode){const[t,n]=this.getTabbableNodes();if(!t||!n)return;e.shiftKey&&e.target===t?(e.preventDefault(),this.tryToFocusNode(n)):e.shiftKey||e.target!==n||(e.preventDefault(),this.tryToFocusNode(t))}},this.container=e}activate(){this.active||(this.active=!0,document.addEventListener("keydown",this.onKeyDown,!0))}deactivate(){this.active&&(document.removeEventListener("keydown",this.onKeyDown,!0),this.active=!1)}getTabbableNodes(){const e=this.container.querySelectorAll(r);return[e[0],e[e.length-1]]}tryToFocusNode(e){e!==document.activeElement&&e.focus&&e.focus()}}},"./src/lib/addAllowQuarantinedParam/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/addQueryParams/index.ts");t.a=e=>Object(r.a)(e,{allow_quarantined:!0})},"./src/lib/assertNever.ts":function(e,t,n){"use strict";function r(e){throw new Error("Unexpected object: ".concat(e))}n.d(t,"a",(function(){return r}))},"./src/lib/base64/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));window.atob;const r=window.btoa},"./src/lib/bigNumberUtils/percent.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/bignumber.js/bignumber.js");function s(e,t){const n=new r.BigNumber(e),s=new r.BigNumber(t),o=new r.BigNumber(n.dividedBy(s)),i=new r.BigNumber("100").multipliedBy(o);return new r.BigNumber(i).toNumber()}},"./src/lib/constants/specialMembership.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="custom"},"./src/lib/eventTools/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return a}));var r,s=n("./src/lib/constants/index.ts");function o(e,t){const n=e*s.Bb,o=t*s.Bb,i=Date.now();return i<n?r.Future:i>=n&&i<=o?r.Live:r.Past}function i(e,t){return o(e,t)===r.Future}function c(e){return function(e,t){const n=e/t;return n>=0?Math.floor(n):Math.ceil(n)}(e*s.Bb-Date.now(),s.w)}function a(e){const t=e*s.Bb,n=new Date,r=new Date(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()&&n.getDate()===r.getDate()}!function(e){e.Future="before",e.Live="now",e.Past="after"}(r||(r={}))},"./src/lib/filterQueryParams/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.search.js");var r=n("./node_modules/lodash/omit.js"),s=n.n(r),o=n("./node_modules/url/url.js"),i=n.n(o);t.a=(e,t)=>{const n=i.a.parse(e,!0);return n.search=void 0,n.query=Object.assign({},s()(n.query,t)),i.a.format(n)}},"./src/lib/forceHttps/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.replace.js");t.a=function(e){return e.startsWith("http")?e.replace(/^http:\/\//i,"https://"):"https://".concat(e)}},"./src/lib/formatApiError/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/app/strings/index.ts"),s=n("./src/app/strings/sources/error.js");function o(e,t,n){return t?t.fields&&t.fields.length?t.fields.map(e=>e.msg).join(", "):t.type&&s.a[t.type]?Object(r.a)(e,"error.".concat(t.type)):401===n?Object(r.a)(e,"error.authentication"):Object(r.a)(e,"error.generic"):""}},"./src/lib/formatEmojiName/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));const r=":",s=/^:[A-Za-z0-9_-]{1,24}:$/;function o(e){return s.test(e)?e:"".concat(r).concat(e).concat(r)}},"./src/lib/getParsedUserAgent/index.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return u}));var r=n("./node_modules/ua-parser-js/src/ua-parser.js"),s=n.n(r);const o=e=>"mobile"===u(e).device.type,i=e=>"mobile"!==u(e).device.type,c=e=>"Chrome"===u(e).browser.name,a=e=>"Firefox"===u(e).browser.name,d=e=>"Opera"===u(e).browser.name;function u(e){return new s.a(e).getResult()}},"./src/lib/getUrlQueryParams/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/extractQueryParams/index.ts");function s(){return Object(r.a)(window.location.href)}},"./src/lib/isAdHocMultireddit/index.ts":function(e,t,n){"use strict";const r=/^(all|mod)(\b|$)/;t.a=e=>{const t=e.toLowerCase();return!r.test(t)&&(t.indexOf("+")>-1&&-1===t.indexOf("-"))}},"./src/lib/isFakeSubreddit/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/constants/page.ts");const s=[r.a,r.b,r.d.Frontpage,r.d.All,r.d.Mod,r.d.Friends,r.d.Popular,r.d.Topic].concat(["random","randnsfw","myrandom"]);t.a=e=>{const t=e.toLowerCase();return s.includes(t)||t.indexOf("+")>-1||t.indexOf("-")>-1}},"./src/lib/isPinnedAdminPost/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts");t.a=(e,t)=>e&&t===r.B.ADMIN},"./src/lib/listingSort/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./src/lib/constants/index.ts");const s=e=>e===r.N.TOP||e===r.N.CONTROVERSIAL,o=e=>{let{timeSort:t}=e;return(t=s(e.sort)?t||r.Pb:void 0)===e.timeSort?e:Object.assign({},e,{timeSort:t})},i=e=>{const[t,n]=e.split("_");return o({sort:t,timeSort:n})},c=e=>{const{sort:t,timeSort:n}=o(e);return t+(n?"_".concat(n):"")}},"./src/lib/loginHref/index.ts":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./node_modules/history/esm/history.js");t.a=(e,t,n)=>{const o=Object(s.e)(e),i=encodeURIComponent("".concat(t).concat(o));return"".concat(r.a.accountManagerOrigin).concat(n||"/login","?dest=").concat(i)}},"./src/lib/makeCollectionCommentsPageKey/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js");t.a=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s="collectionCommentsPage--[collection:'".concat(e,"']");return t&&(s+="--[post:'".concat(t,"']")),n&&(s+="--[rootComment:'".concat(n,"']")),r&&(r.sort&&r.hasSortParam&&(s+="--[sort:'".concat(r.sort,"']")),r.context&&(s+="--[context:".concat(r.context,"]")),r.depth&&(s+="--[depth:".concat(r.depth,"]"))),s}},"./src/lib/makeCommentPermalink/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/redditId/index.ts");t.a=(e,t)=>{let n=e;return"/"!==n.substr(-1)&&(n+="/"),n+=Object(r.c)(t)}},"./src/lib/makeCommentsPageKey/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js");t.a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="commentsPage--[post:'".concat(e,"']");return t&&(r+="--[rootComment:'".concat(t,"']")),n&&(n.sort&&n.hasSortParam&&(r+="--[sort:'".concat(n.sort,"']")),n.context&&(r+="--[context:".concat(n.context,"]")),n.depth&&(r+="--[depth:".concat(n.depth,"]"))),r}},"./src/lib/makeDraftKey/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/reddit/models/PostDraft/index.ts");function s(e,t){return"".concat(r.c[e],"_").concat(t)}},"./src/lib/makeExplorePageKey/index.ts":function(e,t,n){"use strict";function r(e){return"Explore--[categoryName:".concat(e.categoryName,"]")}n.d(t,"a",(function(){return r}))},"./src/lib/makeGqlRequest/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/omit.js"),s=n.n(r),o=(n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./src/lib/addQueryParams/index.ts")),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/constants/headers.ts"),a=n("./src/lib/env/index.ts"),d=n("./src/lib/logs/errors.ts"),u=n("./src/lib/makeApiRequest/index.ts"),l=n("./src/lib/makeRequest/index.ts"),b=n("./src/reddit/constants/headers.ts"),p=n("./src/reddit/customMiddleware/gqlContext.ts"),m=n("./src/reddit/singleton/tracing/index.ts");n.d(t,"a",(function(){return g}));const f=(e,t)=>{const n=Object.assign({},t,{headers:Object.assign({},t.headers||{},e.headers)}),r=Object(a.b)()?[b.a]:[b.a,c.c];n.headers=s()(n.headers,r);const i=m.a.getTracingHeaders();return n.headers=Object.assign({},n.headers,i),n.endpoint=(e=>Object(o.a)(e,{request_timestamp:Date.now().toString()}))(n.endpoint),n},O=(e,t,n)=>{const{errors:r}=n.body;r&&r.length&&Object(d.a)({context:e,endpoint:t.endpoint,error:r.map(e=>e.message).join("\n"),type:i.p.GQL})};function g(e,t,n){const r=n&&n.traceRequestName?n.traceRequestName:"gql_api_call";return m.a.recordRpcSpanAsync(r,async()=>{const r=Object(p.b)(e),s=Object.assign({},n?Object.assign({},n):{},{data:t,method:i.bb.POST,endpoint:r.apiUrl,type:"json"}),o=f(r,s);return r.onBeforeRequest(o),Object(l.b)(o).then(e=>(r.onResponse(e,{allowSetEmptyLoid:t.allowSetEmptyLoid}),!e.ok&&(Object(u.d)(r,s,e),e.status>=400)?Object.assign({},e,{error:{type:Object(u.e)(e.status)}}):e.body.errors?(O(r,Object.assign({},s,{operation:t.id||t.query}),e),Object.assign({},e,{ok:!1,error:{type:i.D.BAD_REQUEST,fields:e.body.errors.map(e=>({msg:e.message||""}))}})):(e.ok&&e.body,Object.assign({},e,{error:null}))))})}},"./src/lib/makeListingKey/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./src/lib/isAdHocMultireddit/index.ts"),s=n("./src/lib/isFakeSubreddit/index.ts");const o=e=>e.includes("--[sort:");t.a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e||"";return Object(s.a)(o)&&Object(r.a)(o)&&(o=o.split("+").sort().join("+")),t&&(o+="--[sort:'".concat(t,"']")),n.after&&(o+="--[after:'".concat(n.after,"']")),n.before&&(o+="--[before:'".concat(n.before,"']")),n.category&&(o+="--[category:'".concat(n.category,"']")),n.categoryId&&(o+="--[category:'".concat(n.categoryId,"']")),n.t&&(o+="--[t:'".concat(n.t,"']")),n.geo_filter&&(o+="--[geo_filter:'".concat(n.geo_filter,"']")),n.isOtherDiscussions&&(o+="--[onOtherDiscussions]"),n.subredditName&&(o+="--[subredditName:'".concat(n.subredditName,"']")),n.topicName&&(o+="--[topic:'".concat(n.topicName,"']")),o.toLowerCase()}},"./src/lib/makeOnboardingSubredditsKey/index.ts":function(e,t,n){"use strict";t.a=e=>{let t="onboarding";return e.city&&(t+="--[city:'".concat(e.city,"']")),e.country&&(t+="--[country:'".concat(e.country,"']")),e.region&&(t+="--[region:'".concat(e.region,"']")),t.toLowerCase()}},"./src/lib/makeOverviewConversationsItemKey/index.ts":function(e,t,n){"use strict";t.a=(e,t)=>{return"overviewConversations--[profile:'".concat(t,"']--[post:'").concat(e,"']")}},"./src/lib/makePostCreationPageKey/index.ts":function(e,t,n){"use strict";function r(e){let t="PostCreationPage";return e.subredditName&&(t+="--[subreddit:".concat(e.subredditName,"]")),e.profileName&&(t+="--[profile:".concat(e.profileName,"]")),e.collectionId&&(t+="--[collection:".concat(e.collectionId,"]")),t}n.d(t,"a",(function(){return r}))},"./src/lib/makePostDraftPageKey/index.ts":function(e,t,n){"use strict";function r(e){let t="PostDraftPage";return e.draftId&&(t+="--[draftId:".concat(e.draftId,"]")),t}n.d(t,"a",(function(){return r}))},"./src/lib/makeSearchKey/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return l}));n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r,s=n("./src/lib/constants/index.ts"),o=n("./src/reddit/constants/parameters.ts");!function(e){e.Trending="trending",e.PromotedTrend="promoted_trend"}(r||(r={}));const i=e=>{return c(e).join(",")},c=e=>{let t;return"string"==typeof e?t=decodeURIComponent(e).split(",").filter(s.Yb).sort():Array.isArray(e)&&(t=e.filter(s.Yb).sort()),t&&0!==t.length||(t=[s.Jb.Posts,s.Jb.Subreddits,s.Jb.Users]),t},a=new Set(["f","n","0"]),d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=e.toLowerCase();return!(0===t.length||"off"===t||a.has(t[0]))},u=e=>e?"1":"",l=e=>{const t=e.sort&&Object(s.Xb)(e.sort)?e.sort:s.zb,n=e.t&&s.Tb.has(e.t)?e.t:s.Ab,r=c(e.type),i={ad:e.ad,q:e.q,sort:t,t:n,type:r};return void 0!==e.include_over_18&&(i.include_over_18=u(d(e.include_over_18))),void 0!==e.restrict_sr&&(i.restrict_sr=u(d(e.restrict_sr))),e.is_multi&&(i.is_multi=u(d(e.is_multi))),e.category&&(i.category=e.category),e[o.b]&&(i.category_name=e.category_name),e[o.r]&&(i.source=e.source),i};t.b=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e||"!";return t&&(r="".concat(r,"--[user:").concat(t,"]")),n.include_over_18&&(r="".concat(r,"--[include_over_18:").concat(n.include_over_18,"]")),n.q&&(r="".concat(r,"--[q:").concat(n.q,"]")),n.restrict_sr&&(r="".concat(r,"--[restrict_sr:").concat(n.restrict_sr,"]")),n.sort&&(r="".concat(r,"--[sort:").concat(n.sort,"]")),n.t&&(r="".concat(r,"--[t:").concat(n.t,"]")),n.category&&(r="".concat(r,"--[c:").concat(n.category,"]")),n.type&&(r="".concat(r,"--[type:").concat(i(n.type),"]")),r.toLowerCase()}},"./src/lib/objectSelector/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n("./node_modules/lodash/isEqual.js"),s=n.n(r);function o(e){let t=null;return(n,r)=>{const o=e(n,r);return s()(o,t)?t:(t=o,o)}}const i=e=>{const t=o(e);return e=>t(e,null)}},"./src/lib/omitKey/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("./node_modules/core-js/modules/es6.symbol.js");var r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};function s(e,t){if(t in e){const n=t;e[n];return r(e,["symbol"==typeof n?n:n+""])}return e}},"./src/lib/permalinkToOverlayLocation/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/history/esm/history.js"),s=n("./src/lib/LRUCache/index.ts"),o=n("./src/reddit/constants/history.ts"),i=n("./src/reddit/helpers/path/index.ts");const c=new s.a(250);t.a=(e,t)=>{let n;if(!(n=c.get(e+t))){const s=Object(i.b)(e);(n=Object(r.c)(s)).state=Object.assign({},n.state,{[o.a.IsOverlay]:!0,[o.a.ScrollOnLoad]:t}),c.set(e+t,n)}return n}},"./src/lib/search/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./src/lib/addQueryParams/index.ts");const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return decodeURIComponent(e).replace(/\+/g," ")},o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return encodeURIComponent(e)},i=(e,t,n)=>{return Object(r.a)(e,n).replace(/(\?|&)(q=)([^&]*)/,(e,n,r)=>e?"".concat(n).concat(r).concat(t):e)}},"./src/lib/truncateText/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("./node_modules/core-js/modules/es7.string.trim-right.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js");const r=/\s*[,-:;\u2013\u2014]\s*$/;function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e.length<=t||t<0)return e;if((e=e.trim().replace(/\s+/g," ")).length<=t)return e;t-=n.length;let s=e.lastIndexOf(" ",t);return s=s>0?s:t,e.slice(0,s).replace(r,"").trimRight()+n}},"./src/lib/uploadToS3/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/loadWithRetries/index.ts"),o=n("./src/lib/makeRequest/index.ts");const i=(e,t)=>{const n=new FormData;return t.fields.forEach(e=>{e.value&&n.append(e.name,e.value)}),n.append("file",e),n};t.a=async(e,t,c)=>{const a=(()=>Object(s.a)(()=>Promise.all([n.e("vendors~ExportTheme~ImportTheme~xml2js"),n.e("vendors~xml2js"),n.e("xml2js")]).then(n.t.bind(null,"./node_modules/xml2js/lib/xml2js.js",7))).then(e=>e.default))(),d=await Object(o.b)({data:i(e,t),endpoint:t.action,method:r.bb.POST,type:null,setup:c});if("string"!=typeof d.body)return d;try{(await a).parseString(d.body,(e,t)=>{d.body=t})}catch(u){d.body=u}return d}},"./src/reddit/actions/ads/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u}));const r="AD_BRAND_SAFETY_STATUS_RECEIVED",s="FETCH_COMMENTS_PAGE_ADS_COMPLETED",o="FETCH_COMMENTS_PAGE_ADS_FAILED",i="FETCH_SIDEBAR_PROMOTED_POSTS_COMPLETED",c="FETCH_SIDEBAR_PROMOTED_POSTS_FAILED",a="REFRESH_SIDEBAR_PROMOTED_POST_COMPLETED",d="REFRESH_SIDEBAR_PROMOTED_POST_FAILED",u="RESET_SIDEBAR_PROMOTED_POSTS"},"./src/reddit/actions/ads/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/config.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts");const c=async(e,t,n)=>{const r={count:t};return n&&(r.subreddit=n),Object(i.b)(e,{type:"json",endpoint:"".concat(s.a.gatewayUrl,"/desktopapi/v1/sidebar_ads"),method:o.bb.POST,data:r})};var a=n("./src/reddit/helpers/adCount/index.ts"),d=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),u=n("./src/reddit/selectors/brandSafety.ts"),l=n("./src/reddit/selectors/platform.ts"),b=n("./src/reddit/selectors/posts.ts"),p=n("./src/reddit/actions/ads/constants.ts");n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return I}));const m=Object(r.a)(p.a),f=e=>async(t,n)=>{const r=n();Object(u.c)(r)&&Object(u.d)(r)===e.isViewSafe||t(m(e))},O=Object(r.a)(p.d),g=Object(r.a)(p.e),j=Object(r.a)(p.f),h=Object(r.a)(p.g),y=(Object(r.a)(p.h),Object(r.a)(p.b)),_=(Object(r.a)(p.c),e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=Object(a.b)(o,e),u=i.length;if(0===u)return;switch(e){case d.a.COMMENTS:case d.a.COMMENTS_OVERLAY:if(!Object(l.n)(o,{page:o.platform.currentPage}))return;break;case d.a.FRONTPAGE:case d.a.MULTIREDDIT:case d.a.SEARCH_RESULTS:case d.a.SUBREDDIT:{const e=o.listings.activeKey,t=Object(b.O)(o,{listingKey:e});if(!t||!t.length)return;break}default:return void 0}const p=Object(l.e)(o);let m;if((m=p?await c(s(),u,p):await c(s(),u)).body&&m.body.length){const e=m.body,n={};for(let t=0;t<e.length;t++)n[i[t]]=e[t];t(O(n))}else t(g(m.error))}),E=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=await c(s(),1);o.body&&o.body.length?t(j({[e]:o.body[0]})):t(h(o.error))},I=e=>async(t,n,r)=>{let{apiContext:c}=r;const a=Object(l.e)(n()),d=await(async(e,t,n,r)=>{const c={count:t,subreddit:r,post_id:n};return Object(i.b)(e,{type:"json",endpoint:"".concat(s.a.gatewayUrl,"/desktopapi/v1/comments_page_ads"),method:o.bb.POST,data:c})})(c(),1,e,a);d.body&&d.body.length?t(y(d.body)):t(g(d.error))}},"./src/reddit/actions/apiRequestHeaders.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/lib/makeActionCreator/index.ts");const s="API_REQUEST_HEADERS__set";Object(r.a)(s)},"./src/reddit/actions/apiRequestState.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return b}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/models/ApiRequestState/index.ts");const o="API_REQUEST_STATE__STARTED",i="API_REQUEST_STATE__COMPLETED",c="API_REQUEST_STATE__FAILED",a="API_REQUEST_STATE__RELEASED";function d(e){return{type:o,payload:{apiRequestStatus:s.a.Pending,apiRequestId:e}}}function u(e){return{type:i,payload:{apiRequestStatus:s.a.Complete,apiRequestId:e}}}function l(e,t){return{type:c,payload:{apiRequestStatus:s.a.Failed,apiRequestId:e,apiError:t}}}const b=Object(r.a)(a)},"./src/reddit/actions/authorFlair.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n("./src/lib/makeActionCreator/index.ts");const s="IN_CONTEXT_AUTHOR_FLAIR_UPDATED",o=Object(r.a)(s)},"./src/reddit/actions/badge.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"i",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return S})),n.d(t,"m",(function(){return T}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/governance/errorToast.ts"),o=n("./src/reddit/endpoints/governance/badges.ts");const i="BADGE__BADGE_MODAL_OPENED",c="BADGE__BADGE_APPLICATION_SUCCESS",a="BADGE__BADGE_APPLICATION_FAILURE",d="BADGE__SUBREDDIT_BADGES_FETCH_SUCCESS",u="BADGE__SUBREDDIT_BADGES_FETCH_FAILURE",l="BADGE__SUBREDDIT_BADGES_FETCH_PENDING",b="BADGE__USER_BADGES_FETCH_SUCCESS",p="BADGE__USER_BADGES_FETCH_FAILURE",m="BADGE__USER_BADGES_FETCH_PENDING",f=Object(r.a)(i),O=Object(r.a)(c),g=Object(r.a)(a),j=(Object(r.a)("BADGE__BADGE_APPLICATION_PENDING"),Object(r.a)(d)),h=Object(r.a)(u),y=Object(r.a)(l),_=Object(r.a)(b),E=Object(r.a)(p),I=Object(r.a)(m),v=e=>{let{badgeIds:t,subredditId:n}=e;return async(e,r,i)=>{let{apiContext:c}=i;const a=r(),d=a.user.account;if(d){const r=(a.users.appliedBadges[d.id]||{})[n]||[],i=t.length?t[0]:r[0],u=!!t.length;e(O({badgeIds:t,subredditId:n,userId:d.id}));const l=await Object(o.a)(c(),n,i,u);l.ok||(e(g({badgeIds:t,subredditId:n,error:l.error,previousBadgeIds:r,userId:d.id})),Object(s.a)(e,l.error))}}},S=e=>{let{subredditId:t,userIds:n}=e;return async(e,r,s)=>{let{apiContext:i}=s;e(y({subredditId:t}));const c=await Object(o.b)(i(),t,n);c.ok?e(j(Object.assign({},c.body,{subredditId:t}))):e(h({subredditId:t,error:c.error}))}},T=e=>{let{subredditId:t}=e;return async(e,n,r)=>{let{apiContext:s}=r;const i=n().user.account;if(i){e(I({subredditId:t}));const n=await Object(o.c)(s(),t,i.id);n.ok?e(_(Object.assign({},n.body,{subredditId:t}))):e(E({subredditId:t,error:n.error}))}}}},"./src/reddit/actions/blockedRedditors.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/graphql/operations/FetchBlockedRedditorsInfo.json"),o=n("./src/lib/makeGqlRequest/index.ts");const i=(e,t)=>Object(o.a)(e,Object.assign({},s,{variables:t}),{traceRequestName:"get_blocked_redditors_info"});var c=n("./src/reddit/selectors/blockedRedditors.ts");n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return j}));const a="BLOCKED_REDDITORS_LIST__ADD",d="BLOCKED_REDDITORS_LIST__REMOVE",u="BLOCKED_REDDITORS_LIST__FAILED",l="BLOCKED_REDDITORS_LIST__LOADED",b="BLOCKED_REDDITORS_LIST__PENDING",p=Object(r.a)(a),m=Object(r.a)(d),f=Object(r.a)(u),O=Object(r.a)(l),g=Object(r.a)(b),j=()=>async(e,t,n)=>{let{gqlContext:r}=n;const s=t(),o=Object(c.a)(s);if(Object(c.b)(s)||o.timestamp&&Date.now()-o.timestamp<36e6)return;let a=!1,d="";do{e(g());const t={after:d,pageSize:100},n=await i(r(),t);if(n&&n.ok){const{data:{identity:t}}=n.body;if(t&&t.blockedRedditorsInfo){const{pageInfo:n,edges:r}=t.blockedRedditorsInfo;if(e(O(r.map(e=>e.node.id))),n){const{hasNextPage:e,endCursor:t}=n;a=e,d=t||""}}else a=!1}else{a=!1;const t=n.error?n.error.type:"unknown error";e(f({message:t}))}}while(a)}},"./src/reddit/actions/bulkActions/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));const r="BULKACTION_PENDING",s="BULKACTION_LOADED",o="BULKACTION_FAILED"},"./src/reddit/actions/category.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"l",(function(){return O})),n.d(t,"h",(function(){return j})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return _})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return T})),n.d(t,"d",(function(){return C})),n.d(t,"k",(function(){return D}));var r=n("./node_modules/lodash/isEmpty.js"),s=n.n(r),o=n("./node_modules/react-router-redux/es/index.js"),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/reddit/constants/categories.tsx"),a=n("./src/reddit/endpoints/category/categoryList.ts"),d=n("./src/reddit/endpoints/category/subreddits.ts"),u=n("./src/reddit/helpers/localStorage/index.ts"),l=n("./src/reddit/selectors/category.ts");const b="CATEGORY__LIST_PENDING",p="CATEGORY__LIST_LOADED",m="CATEGORY__LIST_FAILED",f=Object(i.a)(b),O=Object(i.a)(p),g=Object(i.a)(m),j=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t(),o=Object(l.k)(s),i=Object(l.j)(s);if(o||i)return;e(f());const c=await Object(a.a)(r());if(c.ok){const{categories:t,categoryIds:n}=Object(a.b)(c.body);e(O({categories:t,categoryIds:n}))}else e(g(c.error))},h="CATEGORY__SUBREDDITS_PENDING",y="CATEGORY__SUBREDDITS_LOADED",_="CATEGORY__SUBREDDITS_FAILED",E=Object(i.a)(h),I=Object(i.a)(y),v=Object(i.a)(_),S=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(l.p)(i,{id:e}),a=Object(l.o)(i,{id:e});if(c||a)return;n(E({categoryId:e}));const u=await Object(d.a)(o(),e,t);if(u.ok){const t=Object(d.b)(u.body);n(I(Object.assign({categoryId:e},t)))}else n(v({categoryId:e,error:u.error}))},T=e=>async(t,n,r)=>{let{apiContext:i}=r;await t(S(e));const a=n(),d=Object(l.n)(a,{id:e});if(!d)return;const{name:u}=d,b=Object(l.d)()(a,{categoryName:u});s()(b)||t(Object(o.b)(Object(c.e)(b)))},C="CATEGORY__RANK_SET",w=Object(i.a)(C),D=e=>async(t,n)=>{const r=Object(l.m)(n(),{id:e});t(w({categoryId:e,rank:r+1})),Object(u.G)(Object(l.h)(n()))}},"./src/reddit/actions/chat/constants.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.anybody="Everyone",e.account_age_30_days="Accounts older than 30 days",e.nobody="Nobody"}(r||(r={}))},"./src/reddit/actions/chat/init.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return u}));var r=n("./src/chat/reducers/subscribe.ts"),s=n("./src/lib/loadWithRetries/index.ts"),o=n("./src/lib/makeActionCreator/index.ts");let i;let c;const a="CHAT__INITED",d=Object(o.a)(a),u=async(e,t,o)=>c?{chatStore:c,firstInit:!1}:(c=await(async(e,t,r)=>{const o=Date.now(),i=await Object(s.a)(()=>Promise.all([n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/initializer.ts"))).then(e=>e.default);return(await i(t(),o,r)).store})(0,t,o),await(async(e,t,o)=>{if(!i){const c=(await Object(s.a)(()=>Promise.all([n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/reddit/actions/chat/proxy.ts"))).then(e=>e.default))(t,o),a=Object(r.b)(e,c);i=e.subscribe(a)}})(c,e,t),e(d()),{chatStore:c,firstInit:!0})},"./src/reddit/actions/chat/sendbirdProxy.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/endpoints/chat/index.ts");const o="SENDBIRD_PROXY__SET_CONFIG",i=Object(r.a)(o),c=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=await Object(s.h)(r());o.ok&&await e(i(o.body))}},"./src/reddit/actions/chat/subredditChannel.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"m",(function(){return f})),n.d(t,"l",(function(){return _})),n.d(t,"i",(function(){return E})),n.d(t,"k",(function(){return I})),n.d(t,"j",(function(){return S})),n.d(t,"b",(function(){return C}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/endpoints/chat/index.ts"),o=n("./src/reddit/models/SubredditChannel/index.ts"),i=n("./src/reddit/selectors/chat.ts"),c=n("./src/reddit/selectors/user.ts");const a="SUBREDDIT_CHANNELS__REQUESTED",d="SUBREDDIT_CHANNELS__ADDED",u="SUBREDDIT_CHANNELS__FAILED",l="SUBREDDIT_CHANNEL__ADDED",b="SUBREDDIT_CHANNEL__SELECTED",p="SUBREDDIT_CHANNEL__EDITED",m="SUBREDDIT_CHANNEL__REMOVED",f=Object(r.a)(b),O=Object(r.a)(a),g=Object(r.a)(u),j=Object(r.a)(d),h=Object(r.a)(l),y=Object(r.a)("SUBREDDIT_CHANNEL__FAILED"),_=e=>async(t,n,r)=>{let{apiContext:c}=r;const{user:{account:a,session:d}}=n();if(!a||!d)return;t(O({subredditId:e}));const u=Object(i.d)(n(),{subredditId:e}),l=await Object(s.i)(c(),e,u);if(l.ok){const{rooms:n,subreddit_chat_enabled:r,user_subreddit_chat_enabled:s}=l.body,i=Object(o.d)(n);t(j({collection:i,subredditId:e,isSubredditWhitelisted:!!r,isUserSubredditChatEnabled:!!s}))}else if(l.error){const{error:n}=l;t(g({error:n,subredditId:e}))}},E=(e,t)=>async(n,r,i)=>{let{apiContext:c}=i;const{user:{account:a,session:d}}=r();if(!a||!d)return;const u=await Object(s.d)(c(),d,t);if(u.ok){const r=Object(o.e)(Object.assign({},u.body,t));return await n(h({channel:r,subredditId:e})),r}n(y(u.error))},I=(e,t)=>async(n,r,o)=>{let{apiContext:i}=o;const{channelSendbirdUrl:c}=e,{user:{session:a}}=r();if(!a)return;const d=await Object(s.f)(i(),c,a,t);d.ok?n(v({channel:e,editedSubredditChannelData:t})):n(y(d.error))},v=Object(r.a)(p),S=e=>async(t,n,r)=>{let{apiContext:o}=r;const{channelId:i,channelSendbirdUrl:a}=e,d=n();if(!Object(c.J)(d))return;const u=await Object(s.e)(o(),a);u.ok?t(T(i)):t(y(u.error))},T=Object(r.a)(m),C="SUBREDDIT_CHANNELS__ENABLED";Object(r.a)(C)},"./src/reddit/actions/chat/subredditSettings.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/endpoints/chat/index.ts"),o=n("./src/reddit/selectors/user.ts");const i="CHAT_SUBREDDIT_SETTINGS__SET",c=Object(r.a)(i),a=Object(r.a)("CHAT_SUBREDDIT_SETTINGS__SET_FAILED"),d=async(e,t,n)=>{try{if(n)return await e(c(Object.assign({subredditId:t},n))),n}catch(r){a(r)}},u=e=>async(t,n,r)=>{let{apiContext:i}=r;try{const r=n();if(!Object(o.J)(r))return;const c=await Object(s.g)(i(),e);return d(t,e,c)}catch(c){a(c)}},l=(e,t)=>async(n,r,i)=>{let{apiContext:c}=i;try{const i=r();if(!Object(o.J)(i))return;const a=await Object(s.j)(c(),e,t);a.ok&&d(n,e,a.body)}catch(u){a(u)}}},"./src/reddit/actions/chat/toggle.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return m}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/lib/loadWithRetries/index.ts"),o=n("./src/chat/constants/container.ts"),i=n("./src/reddit/actions/chat/init.ts"),c=n("./src/reddit/helpers/trackers/authorHovercard.ts");const a=()=>Object(s.a)(()=>Promise.all([n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/actions/meta.ts"))).then(e=>e.setExternalData),d=()=>Object(s.a)(()=>Promise.all([n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/actions/container.ts"))).then(e=>e.sizeChanged);async function u(e,t,n,s){const[{chatStore:u,firstInit:l},b]=await Promise.all([Object(i.c)(e,t,n),d()]),p=t(),m=await a(),f=Object(c.h)(p,s);u.dispatch(m(f)),u.getState().container.size!==o.a.EMBED&&u.dispatch(b(o.a.EMBED)),!l&&u.dispatch(Object(r.c)(n))}const l=()=>async(e,t)=>Promise.all([Object(i.c)(e,t),d()]).then(e=>{let[{chatStore:t,firstInit:n},r]=e;t.getState().container.size!==o.a.EMBED||n?t.dispatch(r(o.a.EMBED)):t.dispatch(r(o.a.HIDDEN))}),b=(e,t)=>async(r,o)=>{const i=(await(()=>Object(s.a)(()=>Promise.all([n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/helpers/urls/index.ts"))).then(e=>e.channelUserIdUrl))())(e);await u(r,o,i,t)},p=(e,t)=>async(r,o)=>{const i=(await(()=>Object(s.a)(()=>Promise.all([n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/helpers/urls/index.ts"))).then(e=>e.channelUrl))())(e,t);await u(r,o,i)},m=e=>async(t,r)=>{if(!i.b)return;const o=await(()=>Object(s.a)(()=>Promise.all([n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/actions/theme.ts"))).then(e=>e.switchTheme))();i.b.dispatch(o(e))}},"./src/reddit/actions/chat/unreadCount.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h}));var r,s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/chat/endpoints/sendbird/index.ts"),c=n("./src/reddit/selectors/chat.ts"),a=n("./src/reddit/selectors/user.ts");!function(e){e.SYNC="UNREAD_COUNT__SYNC",e.REQUEST_FAILED="UNREAD_COUNT__REQUEST_FAILED",e.REQUEST_PENDING="UNREAD_COUNT__REQUEST_PENDING",e.REQUEST_SUCCESS="UNREAD_COUNT__REQUEST_SUCCESS"}(r||(r={}));const{SYNC:d,REQUEST_FAILED:u,REQUEST_PENDING:l,REQUEST_SUCCESS:b}=r,p=Object(o.a)(d),m=Object(o.a)(u),f=Object(o.a)(l),O=Object(o.a)(b);let g;const j=5*s.cb,h=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();if(!Object(a.J)(s)||!Object(c.e)(s))return clearTimeout(g);g||e((()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t(),{session:o}=s.user;if(o&&Object(a.J)(s)&&Object(c.e)(s)){e(f());const t=await Object(i.i)(r(),o);t&&t.ok?e(O({basicChannelCount:t.body.unread_count||0,subredditChannelCount:t.body.subreddit_unread_count||0})):e(m({error:t.error}))}})()),g=setTimeout(()=>{e(h())},j)}},"./src/reddit/actions/chat/userSettings.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/toaster.ts"),o=n("./src/config.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeApiRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/reddit/constants/headers.ts");var u=n("./src/reddit/featureFlags/index.ts"),l=n("./src/reddit/helpers/trackers/chat.ts"),b=n("./src/reddit/i18n/utils.ts"),p=n("./src/reddit/models/Toast/index.ts"),m=n("./src/telemetry/index.ts"),f=n("./src/reddit/actions/chat/constants.ts");n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return I}));const O=Object(r.a)("USER_SETTINGS__FETCH_PENDING"),g=Object(r.a)("USER_SETTINGS__FETCH_FAILURE"),j="USER_SETTINGS__UPDATE_SUCCESS",h=Object(r.a)(j),y=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();if(!u.d.userInChatUserSettings(s))return;e(O());const l=await(e=>Object(c.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(o.a.sendbirdServiceUrl,"/").concat("api/v1","/chat/me/settings"),method:i.bb.GET}))(r());if(l.ok){const t=Object.assign({},l.body);e(h({invitePolicy:f.a[t.invite_policy]}))}else e(g(l.error))},_=Object(r.a)("USER_SETTINGS__SAVE_PENDING"),E=Object(r.a)("USER_SETTINGS__SAVE_FAILURE"),I=e=>async(t,n,r)=>{let{apiContext:O}=r;const g=n();if(!u.d.userInChatUserSettings(g))return;const{invitePolicy:j}=e,y=Object.keys(f.a).find(e=>f.a[e]===j);if(y){t(_());const e=await(async(e,t)=>Object(c.b)(Object(a.a)(t,[d.a]),{endpoint:"".concat(o.a.sendbirdServiceUrl,"/").concat("api/v1","/chat/me/settings"),method:i.bb.PUT,data:JSON.stringify({invite_policy:e})}))(y,O());if(Object(m.a)(Object(l.f)(y)(g)),e.ok){const e=f.a[y];t(h({invitePolicy:e})),t(Object(s.e)({kind:p.b.SuccessCommunity,text:Object(b.c)("Changes saved")}))}else t(E(e.error))}}},"./src/reddit/actions/claimgold.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/toaster.ts"),o=n("./src/reddit/models/Toast/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeApiRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/reddit/constants/headers.ts"),u=n("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts");var l=async(e,t)=>{const{code:n}=t,r={api_type:"json",code:n,raw_json:1};return Object(c.b)(Object(a.a)(e,[d.a]),{method:i.bb.POST,endpoint:"".concat(e.apiUrl,"/api/claimgold"),data:r}).then(e=>e.ok?Object.assign({},e):Object.assign({},e,{error:Object(u.a)(e)}))},b=n("./src/reddit/helpers/genericServerError/index.ts"),p=n("./src/reddit/i18n/utils.ts"),m=n("./src/reddit/selectors/claimgold.ts"),f=n("./src/reddit/selectors/user.ts");n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"i",(function(){return y})),n.d(t,"g",(function(){return _})),n.d(t,"j",(function(){return E})),n.d(t,"f",(function(){return I})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return T})),n.d(t,"h",(function(){return C}));const O="CLAIMGOLD__OPEN_CLAIMGOLD_MODAL",g="CLAIMGOLD__CLOSE_CLAIMGOLD_MODAL",j=Object(r.a)(O),h=Object(r.a)(g),y=()=>async(e,t)=>{const n=t();Object(m.b)(n)?e(h()):e(j())},_="CLAIMGOLD_UPDATE_CODE",E=Object(r.a)(_),I="CLAIM_GOLD__TRIGGER_LOADER",v="CLAIM_GOLD__CLAIM_GOLD_PENDING",S="CLAIM_GOLD__CLAIM_GOLD_SUCCESSFUL",T="CLAIM_GOLD__CLAIM_GOLD_FAILED",C=()=>async(e,t,n)=>{let{apiContext:r}=n;const s={code:t().claimGold.code};e(x());try{const t=await l(r(),s);t.error?e(A(t)):e(k())}catch(o){e(A(o))}},w=Object(r.a)(I),D=Object(r.a)(v),x=()=>async(e,t)=>{e(D()),window.setTimeout(()=>{t().claimGold.api.pending&&e(w())},2e3)},P=Object(r.a)(T),A=e=>async(t,n)=>{const r=Object(f.S)(n());await t(P(Object.assign({},e,{error:e.error||Object(b.a)(r)})));const i=n().claimGold.api.error;i&&t(Object(s.e)({kind:o.b.Error,duration:s.a,text:i}))},R=Object(r.a)(S),k=()=>async(e,t)=>{e(R()),e(Object(s.e)({kind:o.b.SuccessCommunity,text:Object(p.c)("You have redeemed your gift code successfully")}))}},"./src/reddit/actions/comment/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./src/config.ts"),s=n("./src/telemetry/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/lib/makeCommentsPageKey/index.ts"),a=n("./src/lib/makeDraftKey/index.ts"),d=n("./src/reddit/actions/economics/helpers/async.ts"),u=n("./src/reddit/actions/login.ts"),l=n("./src/reddit/actions/modal.ts"),b=n("./src/reddit/actions/postCreation/editorContent.ts"),p=n("./src/reddit/actions/shortcuts.ts"),m=n("./src/reddit/actions/toaster.ts"),f=n("./src/reddit/actions/vote.ts"),O=n("./src/reddit/constants/adEvents.ts"),g=n("./src/reddit/constants/modals.ts"),j=n("./src/lib/makeApiRequest/index.ts"),h=n("./src/lib/omitHeaders/index.ts"),y=n("./src/reddit/constants/headers.ts"),_=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),E=n("./src/reddit/models/RichTextJson/addEmotesAsImagesParam.ts"),I=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const v=(e,t)=>Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:Object(_.a)("".concat(e.apiUrl,"/api/save")),method:o.bb.POST,data:{id:t}}),S=(e,t)=>Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:Object(_.a)("".concat(e.apiUrl,"/api/unsave")),method:o.bb.POST,data:{id:t}}),T=(e,t)=>Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:Object(_.a)("".concat(e.apiUrl,"/api/lock")),method:o.bb.POST,data:{id:t}}),C=(e,t)=>Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:Object(_.a)("".concat(e.apiUrl,"/api/unlock")),method:o.bb.POST,data:{id:t}}),w=(e,t)=>Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:"".concat(e.apiUrl,"/api/ignore_reports"),method:o.bb.POST,data:{id:t}}),D=(e,t)=>Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:"".concat(e.apiUrl,"/api/unignore_reports"),method:o.bb.POST,data:{id:t}});var x=n("./src/graphql/operations/CommentToxicity.json"),P=n("./src/lib/makeGqlRequest/index.ts"),A=n("./src/reddit/components/RichTextEditor/RTEState/index.tsx"),R=n("./src/reddit/helpers/genericServerError/index.ts"),k=n("./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts"),N=n("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts"),L=n("./src/reddit/models/PostCreationForm/index.ts");const M=(e,t,n,r)=>{let s,o;if(r===L.h.MARKDOWN)s=n.text,o=null;else{s=null;let e=null;n.rteState&&(e=A.a.toRichTextJSON(n.rteState).document),o=JSON.stringify({document:e})}return Object(P.a)(e,Object.assign({},x,{variables:{subredditName:t,markdown:s,richText:o}})).then(e=>!e.ok||e.body.data.isValidComment)},U=async(e,t,n,r,s,i)=>{const c={api_type:"json",return_rtjson:!0,thing_id:n};if(i===L.h.MARKDOWN)c.text=r.text;else{c.text=null;let e=null;r.rteState&&(e=A.a.toRichTextJSON(r.rteState).document),c.richtext_json=JSON.stringify({document:e})}return Object(j.b)(Object(h.a)(e,[y.a]),{method:o.bb.POST,endpoint:Object(_.a)(Object(E.a)(Object(I.a)("".concat(e.apiUrl,"/api/comment.json")))),data:c}).then(e=>e.ok?e.body.json?e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(N.a)(e)}):Object.assign({},e,{body:{comment:Object(k.a)(e.body.json.data.things[0].data,s)}}):Object.assign({},e,{body:{comment:Object(k.a)(e.body,s)}}):Object.assign({},e,{error:e.error||Object(R.a)(t)}))};var F=n("./src/reddit/endpoints/post/index.tsx"),B=n("./src/reddit/endpoints/post/convert.ts"),G=n("./src/reddit/endpoints/publicAccessNetwork/index.ts"),q=n("./src/reddit/featureFlags/index.ts"),V=n("./src/reddit/helpers/commentList/index.ts"),H=n("./src/reddit/helpers/dom/index.ts"),K=n("./src/reddit/helpers/pixels.ts"),W=n("./src/reddit/helpers/stewards.ts"),J=n("./src/reddit/selectors/telemetry.ts");var Y=n("./src/reddit/helpers/trackers/commentsPage.ts"),z=n("./src/reddit/i18n/utils.ts"),Q=n("./src/reddit/models/Comment/index.ts"),X=n("./src/reddit/models/Post/index.ts"),$=n("./src/reddit/models/PostDraft/index.ts"),Z=n("./src/reddit/models/RichTextJson/index.ts"),ee=n("./src/reddit/models/RichTextJson/nodeMakers.ts"),te=n("./src/reddit/models/Toast/index.ts"),ne=n("./src/reddit/models/Vote/index.ts"),re=n("./src/reddit/selectors/comments.ts"),se=n("./src/reddit/selectors/moderatingComments.ts"),oe=n("./src/reddit/selectors/platform.ts"),ie=n("./src/reddit/selectors/posts.ts"),ce=n("./src/reddit/selectors/user.ts");n.d(t,"C",(function(){return ae})),n.d(t,"ib",(function(){return ue})),n.d(t,"n",(function(){return le})),n.d(t,"R",(function(){return be})),n.d(t,"gb",(function(){return pe})),n.d(t,"L",(function(){return Oe})),n.d(t,"Q",(function(){return ge})),n.d(t,"X",(function(){return je})),n.d(t,"v",(function(){return he})),n.d(t,"u",(function(){return ye})),n.d(t,"t",(function(){return _e})),n.d(t,"Z",(function(){return Se})),n.d(t,"rb",(function(){return Te})),n.d(t,"T",(function(){return Ce})),n.d(t,"i",(function(){return we})),n.d(t,"h",(function(){return De})),n.d(t,"d",(function(){return xe})),n.d(t,"e",(function(){return Pe})),n.d(t,"c",(function(){return Ae})),n.d(t,"b",(function(){return Re})),n.d(t,"j",(function(){return ke})),n.d(t,"m",(function(){return Ne})),n.d(t,"N",(function(){return Le})),n.d(t,"M",(function(){return Me})),n.d(t,"W",(function(){return qe})),n.d(t,"nb",(function(){return Ve})),n.d(t,"K",(function(){return Ke})),n.d(t,"H",(function(){return We})),n.d(t,"cb",(function(){return Je})),n.d(t,"pb",(function(){return Ye})),n.d(t,"S",(function(){return ze})),n.d(t,"E",(function(){return Qe})),n.d(t,"G",(function(){return Xe})),n.d(t,"F",(function(){return $e})),n.d(t,"D",(function(){return Ze})),n.d(t,"mb",(function(){return tt})),n.d(t,"kb",(function(){return nt})),n.d(t,"qb",(function(){return ot})),n.d(t,"tb",(function(){return it})),n.d(t,"lb",(function(){return ct})),n.d(t,"sb",(function(){return at})),n.d(t,"jb",(function(){return dt})),n.d(t,"Y",(function(){return ut})),n.d(t,"p",(function(){return lt})),n.d(t,"o",(function(){return bt})),n.d(t,"k",(function(){return pt})),n.d(t,"f",(function(){return mt})),n.d(t,"l",(function(){return ft})),n.d(t,"O",(function(){return gt})),n.d(t,"s",(function(){return yt})),n.d(t,"P",(function(){return _t})),n.d(t,"ob",(function(){return Et})),n.d(t,"ab",(function(){return It})),n.d(t,"bb",(function(){return vt})),n.d(t,"fb",(function(){return St})),n.d(t,"q",(function(){return Tt})),n.d(t,"I",(function(){return wt})),n.d(t,"r",(function(){return Dt})),n.d(t,"A",(function(){return xt})),n.d(t,"z",(function(){return Pt})),n.d(t,"B",(function(){return At})),n.d(t,"g",(function(){return Rt})),n.d(t,"V",(function(){return Nt})),n.d(t,"U",(function(){return Ft})),n.d(t,"eb",(function(){return Bt})),n.d(t,"x",(function(){return Gt})),n.d(t,"w",(function(){return qt})),n.d(t,"y",(function(){return Vt})),n.d(t,"db",(function(){return Jt})),n.d(t,"hb",(function(){return Yt})),n.d(t,"a",(function(){return zt})),n.d(t,"J",(function(){return Qt}));const ae="COMMENT__STICKIED_COMMENT_SUCCESS",de={},ue=Object(i.a)(ae),le="COMMENT__MUTATED",be=Object(i.a)(le),pe=e=>async(t,n,r)=>{let{apiContext:s}=r;if(!Object(ce.J)(n()))return t(Object(u.f)()),void t(Object(l.k)({actionSource:l.a.Save,redirectUrl:Object(re.m)(n(),{commentId:e})}));const o=n().comments.models[e];if(!o)return;const i=o.isSaved?S:v;if(t(be({[e]:{isSaved:!o.isSaved}})),(await i(s(),e)).ok){const n=o.isSaved?Object(z.c)("Comment unsaved successfully"):Object(z.c)("Comment saved successfully"),r=Object(z.c)("Undo");t(Object(m.e)({text:n,kind:te.b.Undo,buttonText:r,buttonAction:pe(e)}))}else t(be({[e]:{isSaved:o.isSaved}}))},me=e=>"viewing-comment-".concat(e),fe=r.a.telemetry.commentConsumedThreshold,Oe=e=>async(t,n)=>{const o=n();if(!Object(re.n)(o,{commentId:e})||Math.random()>r.a.telemetry.commentSampleRate)return;(e=>{let{state:t,commentId:n}=e;Object(s.a)(Object.assign({source:"comment",action:"view",noun:"comment"},J.defaults(t),{profile:J.profile(t),post:J.post(t,n),media:J.media(t,n),subreddit:J.subreddit(t),comment:J.comment(t,n)}))})({state:o,commentId:e}),s.c.start(me(e));const i=setTimeout(()=>(e=>{let{state:t,commentId:n}=e;return Object(s.a)(Object.assign({source:"comment",action:"consume",noun:"comment"},J.defaults(t),{profile:J.profile(t),post:J.post(t,n),media:J.media(t,n),subreddit:J.subreddit(t),comment:J.comment(t,n)}))})({state:o,commentId:e}),fe);de[e]=i},ge=(e,t)=>async(n,r)=>{const o=r(),i=me(e);if(Object(re.n)(o,{commentId:e})&&s.c.has(i)){const n=s.c.end(i);!t&&n<fe&&(clearTimeout(de[e]),delete de[e])}},je=e=>async(t,n,r)=>{let{apiContext:s}=r;if(!Object(ce.J)(n()))return void t(Object(l.i)(g.a.LOGIN_MODAL_ID));const o=n().comments.models[e];if(!o)return;const i=o.isLocked?C:T;t(be({[e]:{isLocked:!o.isLocked}})),(await i(s(),e)).ok||t(be({[e]:{isLocked:o.isLocked}}))},he="COMMENT__MORECOMMENTS_PENDING",ye="COMMENT__MORECOMMENTS_LOADED",_e="COMMENT__MORECOMMENTS_FAILED",Ee=Object(i.a)(he),Ie=Object(i.a)(ye),ve=Object(i.a)(_e),Se=(e,t)=>async(n,s,i)=>{let{apiContext:c}=i;const a=s(),u=a.moreComments.models[t],l=a.platform.currentPage,b=l&&l.routeMatch,p=b&&b.match,{partialPostId:m}=p?p.params:null;if(!m)return;const f=Object(X.m)(m);n(Ee({moreCommentsId:u.id}));const O=await((e,t,n)=>Object(j.b)(e,{data:n,endpoint:Object(I.a)(Object(E.a)("".concat(r.a.gatewayUrl,"/desktopapi/v1/morecomments/").concat(t))),method:o.bb.POST,type:"json"}))(c(),f,{token:u.token});if(O.ok){const t=O.body,r=Object(V.a)(t,f,a);n(Ie(Object.assign({key:e,moreCommentsItem:u,shouldCollapse:r},t)));const s=a.posts.models[f];s&&"subreddit"===s.belongsTo.type&&t.comments&&await n(Object(d.a)({commentIds:Object.keys(O.body.comments),postIds:[s.id],skip:["communityDetails","subscription"],subredditId:s.belongsTo.id}))}else n(ve(Object.assign({moreCommentsItem:u},O.error)))},Te=Object(f.b)(V.b,ne.a.upvoted),Ce=Object(f.b)(V.b,ne.a.downvoted),we="COMMENT__FOCUSED_TOGGLED",De="COMMENT__FOCUSED_SET",xe="COMMENT__COLLAPSED_TOGGLED",Pe="COMMENT__COLLAPSED_UNSET",Ae="COMMENTS__HIDDEN_TOGGLED",Re="COMMENTS__HIDDEN_SET",ke="COMMENT_FORM_FOCUS_CHANGED",Ne="COMMENT_MARKED_UNCOLLAPSED",Le=Object(i.a)(we),Me=Object(i.a)(De),Ue=Object(i.a)(xe),Fe=Object(i.a)(Pe),Be=(Object(i.a)(Re),Object(i.a)(Ae),Object(i.a)(ke)),Ge=Object(i.a)(Ne),qe=e=>{let{hasFocus:t,draftKey:n}=e;return async(e,r)=>{!r().comments.drafts[n]||e(Be({hasFocus:t,draftKey:n}))}},Ve=e=>{let{commentId:t,commentsPageKey:n,scrollToAndRemeasure:r}=e;return async(e,s)=>{const o=s(),i=Object(Q.f)(t),c=Object(re.o)(o,{commentLink:i,commentsPageKey:n}),a=Object(se.b)(o,{commentId:t,commentsPageKey:n}),d=c.depth;e(Ue({commentId:t,commentsPageKey:n,isCollapsed:a})),a||0!==d||r(t,!0),Object(p.r)()}},He=e=>{let{commentId:t,commentsPageKey:n}=e;return async(e,r)=>{e(Fe({commentId:t,commentsPageKey:n}))}},Ke=e=>{let{commentLink:t,commentsPageKey:n,lineDepth:r,scrollToAndRemeasure:s}=e;return async(e,o)=>{const i=o(),c=Object(V.e)(n,t,r,i),a=Object(se.b)(i,{commentId:t.id,commentsPageKey:n});e(Ue({commentId:c,commentsPageKey:n,isCollapsed:a})),0===r&&s(c,!0),Object(p.r)()}},We=e=>async(t,n,r)=>{let{apiContext:s}=r;const i=n(),c=i.comments.models[e],a=i.user.account?i.user.account.displayText:null;c&&a&&(t(be({[e]:{isApproved:!0,approvedBy:a,bannedBy:null,isRemoved:!1,isSpam:!1,modNote:null,modReasonBy:null,modRemovalReason:null,numReports:0,wasPreviouslyRemovedBySteward:Object(W.a)(c)}})),(await((e,t)=>Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:Object(_.a)("".concat(e.apiUrl,"/api/approve")),method:o.bb.POST,data:{id:t}}))(s(),e)).ok||t(be({[e]:{isApproved:c.isApproved,approvedBy:null,bannedBy:c.bannedBy,isRemoved:c.isRemoved,isSpam:c.isSpam,modNote:c.modNote,modReasonBy:c.modReasonBy,modRemovalReason:c.modRemovalReason,numReports:c.numReports||null,wasPreviouslyRemovedBySteward:c.wasPreviouslyRemovedBySteward}})),Object(p.r)())},Je=(e,t)=>async(n,r,s)=>{let{apiContext:i}=s;const c=r(),a=c.comments.models[e],d=c.user.account?c.user.account.displayText:null;a&&d&&(n(be({[e]:{approvedBy:null,bannedBy:d,isApproved:!1,isRemoved:!t,isSpam:t,wasPreviouslyRemovedBySteward:Object(W.a)(a)}})),(await((e,t,n)=>Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:Object(_.a)("".concat(e.apiUrl,"/api/remove")),method:o.bb.POST,data:{id:t,spam:n}}))(i(),e,t)).ok||n(be({[e]:{approvedBy:a.approvedBy,bannedBy:a.bannedBy,isApproved:a.isApproved,isRemoved:a.isRemoved,isSpam:a.isSpam,wasPreviouslyRemovedBySteward:a.wasPreviouslyRemovedBySteward}})),Object(p.r)())},Ye=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().comments.models[e];if(!o)return;const i=o.ignoreReports?D:w;t(be({[e]:{ignoreReports:!o.ignoreReports}})),(await i(s(),e)).ok||t(be({[e]:{ignoreReports:o.ignoreReports}}))},ze=(e,t,n)=>async(r,s,i)=>{let{apiContext:a}=i;const d=s(),u=d.comments.models[e];if(!u)return;const l=u.postId,b=d.postStickiedComments.data[l],p=o.g[t];r(be({[e]:{distinguishType:t,isAdmin:t===o.B.ADMIN,isMod:t===o.B.MODERATOR,isStickied:!!n}})),n&&b&&b!==e&&r(be({[b]:{isStickied:!1}})),(await((e,t,n,r)=>Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:Object(_.a)("".concat(e.apiUrl,"/api/distinguish/").concat(n)),method:o.bb.POST,data:{id:t,sticky:r}}))(a(),e,p,n||null)).ok?n&&r(ue({id:e,postId:l,commentsPageKey:Object(c.a)(l,null,Object.assign({sort:o.q.CONFIDENCE},d.platform.currentPage.queryParams))})):(r(be({[e]:{distinguishType:u.distinguishType,isAdmin:u.isAdmin,isMod:u.isMod,isStickied:u.isStickied}})),r(be({[b]:{isStickied:d.comments.models[b].isStickied}})))},Qe="COMMENT__SUBMIT_COMMENT_PENDING",Xe="COMMENT__SUBMIT_REPLY_TO_POST_SUCCESS",$e="COMMENT__SUBMIT_REPLY_TO_COMMENT_SUCCESS",Ze="COMMENT__SUBMIT_COMMENT_FAILURE",et=Object(i.a)(Qe),tt=Object(i.a)(Xe),nt=Object(i.a)($e),rt=Object(i.a)(Ze),st=(e,t,n,r)=>{const s=r.ok&&r.body,o=s&&s.comment&&s.comment.id;Y.f(e,n,t,o)},ot="Toxicity_Warning__Modal",it=(e,t,n,r,s,o,i)=>async(c,a,d)=>{let{gqlContext:u}=d;const b=a(),p=Object(oe.f)(b);let m="";if(p&&(m=p.name),q.d.enableToxicityWarning(b)){if(!(await M(u(),m,s,o)))return void c(Object(l.i)(ot))}c(ct(e,t,n,r,s,o,i))},ct=(e,t,n,r,s,o,i,c)=>async(a,d,u)=>{let{apiContext:b}=u;a(Object(l.g)(ot));const m=d(),f=m.comments.submit.pending[r];if(!m.user.account||f)return;a(et({draftKey:r,draft:s}));const g=m.user.account.displayText,j=s.commentMode;let h;if((h=c?await Object(G.f)(b(),t,s,g):await U(b(),e,t,s,g,j)).ok){a(tt(Object.assign({},h.body,{headCommentId:Object(re.x)(m,{commentsPageKey:n}),commentsPageKey:n,draftKey:r})));const e=Object(ie.J)(d(),{postId:t});Object(K.a)(e.events,O.a.CommentSubmitted)}else a(rt({draftKey:r,error:h.error}));st(d(),n,o,h),i||Object(p.r)()},at=e=>async(t,n,r)=>{let{gqlContext:s}=r;const{language:o,parentCommentId:i,commentsPageKey:c,parentCommentDepth:a,draftKey:d,formData:u,editorMode:b}=e,p=n(),m=Object(oe.f)(p);let f="";if(m&&(f=m.name),q.d.enableToxicityWarning(p)){if(!(await M(s(),f,u,b)))return void t(Object(l.i)(ot))}t(dt({commentsPageKey:c,draftKey:d,language:o,parentCommentDepth:a,parentCommentId:i,formData:u,editorMode:b}))},dt=e=>async(t,n,r)=>{let{apiContext:s}=r;const{language:o,parentCommentId:i,commentsPageKey:c,parentCommentDepth:a,draftKey:d,formData:u,editorMode:b}=e;t(Object(l.g)(ot));const m=n(),f=m.comments.submit.pending[d];if(!m.user.account||f)return;t(et({draftKey:d,draft:u}));const O=m.user.account.displayText,g=u.commentMode,j=await U(s(),o,i,u,O,g);j.ok?t(nt(Object.assign({},j.body,{parentCommentId:i,commentsPageKey:c,draftKey:d,depth:a+1}))):t(rt({draftKey:d,error:j.error})),st(n(),c,b,j),Object(p.r)()},ut=e=>async(t,n,r)=>{let{apiContext:s}=r;n().comments.models[e]&&(await((e,t)=>Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:"".concat(e.apiUrl,"/api/show_comment"),method:o.bb.POST,data:{id:t}}))(s(),e)).ok&&t((e=>async(t,n,r)=>{let{apiContext:s}=r;t(Ge({commentId:e}))})(e))},lt="COMMENT__COMMENT_REPLY_FORM_OPENED",bt="COMMENT__COMMENT_REPLY_FORM_CANCELLED",pt="COMMENT__COMMENT_FORM_MUTATED",mt="COMMENT__COMMENT_DRAFT_CLEARED",ft="COMMENT__COMMENT_FORM_SWITCHED_MODE",Ot=Object(i.a)(lt),gt=Object(i.a)(bt),jt=Object(i.a)(pt),ht=(Object(i.a)(mt),Object(i.a)(ft)),yt="INITIALIZE_COMMENT_EDITOR_MODE",_t=(Object(i.a)(yt),(e,t,n)=>async(r,s,o)=>{let{apiContext:i}=o;const c=e===L.h.RICH_TEXT;if(!t||"object"==typeof t&&Object(Z.F)(t))r(ht({editorMode:e,draftKey:n,content:c?Z.i:""})),r(Object(b.c)(e));else{r(Object(b.b)(n));const s=await Object(B.a)(i(),e,c?t:JSON.stringify(t));if(s.ok){const t=s.body.output;r(Object(b.a)(n)),r(ht({editorMode:e,draftKey:n,content:t})),r(Object(b.c)(e))}else r(Object(b.a)(n)),r(Object(m.e)({duration:m.a,kind:te.b.Error,text:Object(z.c)("Something went wrong")}))}}),Et=e=>{let{commentsPageKey:t,parentCommentId:n,singleOpen:r}=e;return async(e,s)=>{const o=s(),i=Object(a.a)($.c.replyToComment,n);if(!Object(ce.J)(s()))return e(Object(u.f)()),void e(Object(l.k)({actionSource:l.a.Reply,redirectUrl:Object(re.m)(s(),{commentId:n})}));const c=o.comments.replyFormOpen[t],d=c&&c[n];if((d||c&&r)&&(Object.keys(c).forEach(n=>c[n]&&e(gt({parentCommentId:n,commentsPageKey:t}))),d))return;let b="",p=null;const m=o.user.prefs.commentMode,f=Object(H.d)();if(f){const e=f.filter(e=>!!e&&10!==e.charCodeAt(0));if(m===L.h.MARKDOWN)b=e.map(e=>"> ".concat(e,"\n")).join("");else{const t=e.map(e=>ee.s(e,null)).map(e=>ee.l([e])),n=ee.s("",null),r=ee.l([n]);p={document:[ee.c(t),r]}}}const O=o.comments.drafts[i];let g;g=f?{commentMode:m,draftType:$.c.replyToComment,rtJson:p,text:"".concat(b,"\n")}:O||{commentMode:m,draftType:$.c.replyToComment,rtJson:p,text:""},e(Ot({parentCommentId:n,commentsPageKey:t,draftKey:i,formData:g}))}},It=e=>async(t,n)=>{t(He(e)),t(Nt(e))},vt=e=>{let{parentCommentId:t,commentsPageKey:n}=e;return async(e,r)=>{e(gt({parentCommentId:t,commentsPageKey:n})),e(Et({parentCommentId:t,commentsPageKey:n})),e(He({commentId:t,commentsPageKey:n}))}},St=(e,t)=>n=>n(jt({draftKey:e,formData:t})),Tt="COMMENT__DISABLE_AUTOFOCUS",Ct=Object(i.a)(Tt),wt=e=>t=>t(Ct({draftKey:e})),Dt="COMMENT__EDIT_COMMENT_ENABLED",xt="COMMENT__REQUEST_EDIT_PENDING",Pt="COMMENT__REQUEST_EDIT_FAILURE",At="COMMENT__REQUEST_EDIT_SUCCESS",Rt="COMMENT__COMMENT_EDIT_FORM_CANCELLED",kt=Object(i.a)(Dt),Nt=e=>{let{commentId:t,commentMode:n,commentsPageKey:r,draftKey:s,text:o}=e;return async(e,i)=>{const c=i();c.user.account&&(Y.c(c),e(kt({commentId:t,commentsPageKey:r,draftKey:s,formData:{text:o,commentMode:n,rteState:null,draftType:$.c.edit,hasFocus:!0}})))}},Lt=Object(i.a)(xt),Mt=Object(i.a)(Pt),Ut=Object(i.a)(At),Ft=Object(i.a)(Rt),Bt=e=>{let{language:t,id:n,commentsPageKey:r,depth:s,draftKey:i,formData:c}=e;return async(e,s,a)=>{let{apiContext:d}=a;const u=s();if(!u.user.account)return;e(Lt({draftKey:i})),Y.d(u);const l=u.user.account.displayText||"",b=c.commentMode,p=await(async(e,t,n,r,s,i,c)=>{const a={api_type:"json",return_rtjson:!0,thing_id:n};if(c===L.h.MARKDOWN)a.text=s.text;else{a.text=null;let e=null;s.rteState&&(e=A.a.toRichTextJSON(s.rteState).document),a.richtext_json=JSON.stringify({document:e})}return Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:Object(_.a)(Object(I.a)(Object(E.a)("".concat(e.apiUrl,"/api/editusertext")))),method:o.bb.POST,data:a}).then(e=>e.ok?e.body.json?e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(N.a)(e)}):Object.assign({},e,{body:{comment:Object(k.a)(e.body.json.data.things[0].data,i)}}):Object.assign({},e,{body:{comment:Object(k.a)(e.body,i)}}):Object.assign({},e,{error:e.error||Object(R.a)(t)}))})(d(),t,n,0,c,l,b);if(p.ok){const t=p.body;e(Ut({commentId:n,commentsPageKey:r,draftKey:i})),e(be({[n]:Object.assign({},t.comment)}))}else e(Mt({draftKey:i,error:p.error}))}},Gt="COMMENT__REQUEST_DELETE_PENDING",qt="COMMENT__REQUEST_DELETE_FAILURE",Vt="COMMENT__REQUEST_DELETE_SUCCESS",Ht=Object(i.a)(Gt),Kt=Object(i.a)(qt),Wt=Object(i.a)(Vt),Jt=(e,t,n)=>async(r,s,i)=>{let{apiContext:c}=i;const a=s();if(!a.user.account)return;r(Ht({id:t})),Y.a(t,a);const d=await((e,t,n)=>Object(j.b)(Object(h.a)(e,[y.a]),{endpoint:Object(_.a)("".concat(e.apiUrl,"/api/del")),method:o.bb.POST,data:{id:t}}).then(e=>e.ok?e.body.json&&e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(N.a)(e)}):Object.assign({},e,{body:{}}):Object.assign({},e,{error:e.error||Object(R.a)(n)})))(c(),t,e);d.ok?r(Wt({id:t,postId:n})):r(Kt({id:t,error:d.error}))},Yt=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=!n().comments.models[e].sendReplies;t(be({[e]:{sendReplies:o}})),(await Object(F.p)(s(),e,o)).ok||t(be({[e]:{sendReplies:!o}}))},zt="COMMENT__CHANGE_HIGHLIGHT_FILTER",Qt=Object(i.a)(zt)},"./src/reddit/actions/comment/list.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return d}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/helpers/trackers/commentList.ts");const o="COMMENTLIST__MARKED_END",i="COMMENTLIST__UNMARKED_END",c=Object(r.a)(o),a=Object(r.a)(i),d=(e,t)=>async(n,r)=>{const o=r();e in o.profileCommentsPage.fetchedTokens?e in o.profileCommentsPage.commentIds?n(a({listingKey:e})):Object(s.a)(o,e):n(c({listingKey:e,listingName:t}))}},"./src/reddit/actions/comment/websocket.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/comment/index.ts"),o=(n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/lodash/first.js")),i=n.n(o),c=n("./node_modules/lodash/isArray.js"),a=n.n(c),d=n("./src/lib/constants/index.ts"),u=n("./src/reddit/helpers/isComment.ts"),l=n("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),b=n("./src/reddit/models/Comment/index.ts"),p=n("./src/reddit/models/Flair/index.ts"),m=n("./src/reddit/models/PostCreationForm/index.ts"),f=n("./src/reddit/models/Vote/index.ts");const O=e=>{if(void 0!==e.author&&void 0!==e.author_fullname&&void 0!==e.attribs&&void 0!==e.created_utc&&void 0!==e.name&&void 0!==e.subreddit_id&&void 0!==e.body&&void 0!==e.context&&void 0!==e.link_id&&void 0!==e.score){const t=j(e.attribs);return{allAwardings:[],associatedAward:e.associated_award?Object(l.b)(e.associated_award):void 0,author:e.author,authorId:e.author_fullname,body:e.body_html,bodyMD:e.body,collapsed:Boolean(e.collapsed),collapsedBecauseCrowdControl:Boolean(e.collapsed_in_crowd_control),created:e.created_utc,distinguishType:g(t),id:e.name,isAdmin:t===b.c.Admin,isGildable:!1!==e.can_gild,isOp:t===b.c.Submitter,isMod:t===b.c.Moderator,markdown:e.body,media:{type:"rtjson",richtextContent:e.rtjson||{document:[{c:[{e:"text",t:e.body}],e:"par"}]},rteMode:m.h.RICH_TEXT},parentId:e.parent_id&&Object(u.a)(e.parent_id)?e.parent_id:null,permalink:e.context,postId:e.link_id,score:e.score,subredditId:e.subreddit_id,approvedAtUTC:null,approvedBy:null,bannedAtUTC:null,bannedBy:null,collapsedReason:null,deletedBy:null,editedAt:null,ignoreReports:!1,isApproved:!1,isLocked:!1,isDeleted:!1,isRemoved:!1,isScoreHidden:!1,isSpam:!1,isStickied:!1,isSaved:!1,modReports:[],modReportsDismissed:[],numReports:0,postAuthor:null,postTitle:null,sendReplies:!0,userReports:[],userReportsDismissed:[],voteState:f.a.notVoted}}},g=e=>{switch(e){case b.c.Admin:return d.B.ADMIN;case b.c.Moderator:return d.B.MODERATOR;case b.c.Alumni:return d.B.ALUMNI_ADMIN;default:return""}},j=e=>i()((e||[]).filter(e=>a()(e)&&e.length>=2).sort(e=>e[0]).map(e=>e[1]))||b.c.None;const h=(e,t,n)=>{const r={[t]:{}},{author:s,author_flair_background_color:o,author_flair_richtext:i,author_flair_template_id:c,author_flair_text:a,author_flair_text_color:d,author_flair_type:u}=n;if(s&&u){if(u===p.f.Richtext){if(!o||!i)return;return{[t]:{[s]:{type:u,backgroundColor:o,cssClass:void 0,richtext:i,templateId:c,textColor:d}}}}if(u===p.f.Text){if(!a)return r;return{[t]:{[s]:{type:u,backgroundColor:o,cssClass:void 0,text:a,templateId:c,textColor:d}}}}}};n("./node_modules/core-js/modules/web.dom.iterable.js");var y=n("./src/lib/env/index.ts");const _=new Map,E=e=>e;var I;!function(e){e.NEW_COMMENT="new_comment",e.UPDATE_COMMENT="update_comment",e.DELETE_COMMENT="delete_comment",e.REMOVE_COMMENT="remove_comment"}(I||(I={}));const v={backoffTime:2e3,connectionAttempts:0,jitterAmount:3e3,maximumRetries:9},S=(e,t)=>{const n=E(t),r=_.get(n);r&&r.socket&&(r.isClosePlanned=!0,r.socket.close())},T=(e,t,n,r)=>{const s=E(t),o=_.get(s);if(o&&(o.socket.readyState===WebSocket.CONNECTING||o.socket.readyState===WebSocket.OPEN))return;const i={socket:new WebSocket(e),retries:n,uniqueId:t,url:e,isClosePlanned:!1};_.set(s,i),i.socket.addEventListener("open",()=>{i.retries=Object.assign({},v)}),i.socket.addEventListener("message",D.bind(null,r)),i.socket.addEventListener("close",C.bind(null,s,r)),i.socket.addEventListener("error",x.bind(null,s)),window&&window.addEventListener("beforeunload",S.bind(null,e,t))},C=(e,t,n)=>{const r=_.get(e);r&&(r.isClosePlanned?_.delete(e):w(e,t))},w=(e,t)=>{const n=_.get(e);if(!n)return;const{retries:{backoffTime:r,connectionAttempts:s,jitterAmount:o,maximumRetries:i},socket:c,uniqueId:a,url:d}=n;if(_.delete(e),s<i&&c.readyState!==WebSocket.OPEN){const e=r*Math.pow(2,s),i=Math.random()*o-o/2,c=Math.round(e+i),u=Object.assign({},n.retries,{connectionAttempts:s+1});setTimeout(()=>{T(d,a,u,t)},c),y.a&&console.debug("Connection reset, retrying in ".concat(c,"ms"))}},D=(e,t)=>{if(t&&t.data)try{e(JSON.parse(t.data))}catch(t){y.a&&console.error(t)}},x=(e,t)=>{const n=_.get(e);n&&n.isClosePlanned&&n.socket&&n.socket.readyState===WebSocket.CLOSED?_.delete(e):y.a&&console.error(t)};var P=n("./src/reddit/selectors/comments.ts"),A=n("./src/reddit/selectors/moderatorPermissions.ts"),R=n("./src/reddit/selectors/user.ts");n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return N})),n.d(t,"c",(function(){return F})),n.d(t,"d",(function(){return B}));const k="COMMENT__LIVECOMMENTS__NEWCOMMENT",N="COMMENT__LIVECOMMENTS__UPDATECOMMENT",L=Object(r.a)(k),M=Object(r.a)(N),U={},F=(e,t,n,r)=>async(o,i)=>{(e=>{const{cb:t,url:n,uniqueId:r}=e;T(n,r,Object.assign({},v),t)})({uniqueId:n,url:t,cb:t=>{switch(t.type){case I.NEW_COMMENT:{const n=t.payload.name,s=O(t.payload),c=i(),a=Object(P.n)(c,{commentId:n}),d=!(!n||!U[n]);if(s&&!d){const n=h(0,r,t.payload),i=t.payload.total_comment_count;if(void 0===a){const t=Object(P.x)(c,{commentsPageKey:e});o(L({authorFlair:n,comment:s,commentsPageKey:e,headCommentId:t,numComments:i}))}else o(M({authorFlair:n,comment:s,commentsPageKey:e,numComments:i}))}break}case I.UPDATE_COMMENT:{const n=t.payload.name,s=i(),c=Object(P.n)(s,{commentId:n}),a=O(t.payload);if(c&&a){const n=h(0,r,t.payload),s=t.payload.total_comment_count;o(M({authorFlair:n,comment:a,commentsPageKey:e,numComments:s}))}break}case I.DELETE_COMMENT:{const e=t.payload.name,n=i(),r=Object(P.n)(n,{commentId:e});if(r&&!r.isDeleted){const e=Object(R.S)(n);o(Object(s.db)(e,r.id,r.postId))}else U[e]=I.DELETE_COMMENT;break}case I.REMOVE_COMMENT:{const e=t.payload.link_id,n=t.payload.name,r=i(),c=Object(P.n)(r,{commentId:n}),a=(r.user.account&&r.user.account.id)===(c&&c.authorId),d=!!e&&!!Object(A.i)(r,{postId:e});if(!c||c.isRemoved&&c.isDeleted||a||d)U[n]=I.REMOVE_COMMENT;else{const e=Object(R.S)(r);o(Object(s.db)(e,c.id,c.postId))}break}}}})},B=(e,t)=>async()=>{S(0,t)}},"./src/reddit/actions/commentsListTruncated/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r="COMMENTS_LIST__EXPANDED",s="COMMENTS_LIST__TRUNCATED"},"./src/reddit/actions/communityFlairs/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i}));const r="TOP_COMMUNITY_FLAIR__FETCH_FAILURE",s="TOP_COMMUNITY_FLAIR__FETCH_PENDING",o="TOP_COMMUNITY_FLAIR__FETCH_SUCCESS",i="COMMUNITY_FLAIR__ADD_FLAIRS"},"./src/reddit/actions/contentGate.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return y})),n.d(t,"m",(function(){return _})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return I})),n.d(t,"l",(function(){return v})),n.d(t,"p",(function(){return S})),n.d(t,"i",(function(){return T}));var r=n("./src/config.ts"),s=n("./node_modules/js-cookie/src/js.cookie.js"),o=n.n(s),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/reddit/constants/cookie.ts"),a=n("./src/reddit/endpoints/user/preferences.ts"),d=n("./src/reddit/selectors/user.ts");const u="CONTENTGATE__VISITED_GOLD_SUBREDDIT",l="CONTENTGATE__VISITED_PRIVATE_SUBREDDIT",b="CONTENTGATE__VISITED_QUARANTINED_SUBREDDIT",p="CONTENTGATE__SET_OVER_18_PREF",m="CONTENTGATE__VISITED_BANNED_SUBREDDIT",f="CONTENTGATE__VISITED_NONEXISTENT_SUBREDDIT",O="CONTENTGATE__VISITED_DELETED_PROFILE",g="CONTENTGATE__VISITED_SUSPENDED_PROFILE",j=Object(i.a)(p),h=Object(i.a)(m),y=Object(i.a)(f),_=Object(i.a)(u),E=Object(i.a)(l),I=Object(i.a)(b),v=Object(i.a)(O),S=Object(i.a)(g),T=()=>async(e,t,n)=>{let{apiContext:s}=n;const i=t();if(Object(d.J)(i)&&i.platform.currentPage)await Object(a.f)(s());else{const e=new Date;e.setFullYear(e.getFullYear()+2),o.a.set(c.g,"1",{expires:e,domain:r.a.cookieDomain})}e(j({over18:!0}))}},"./src/reddit/actions/dashboard.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return d}));var r=n("./src/lib/makeActionCreator/index.ts");const s="DASHBOARD__COMPONENT_SELECTED",o="DASHBOARD__SUBREDDIT_SELECTED",i="DASHBOARD__SUBREDDIT_LOADED",c=Object(r.a)(s),a=Object(r.a)(o),d=Object(r.a)(i)},"./src/reddit/actions/discoveryUnit.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/lib/makeListingKey/index.ts"),i=n("./src/reddit/actions/category.ts"),c=n("./src/reddit/actions/pages/subreddit.ts"),a=n("./src/lib/addQueryParams/index.ts"),d=n("./src/lib/makeApiRequest/index.ts"),u=n("./src/lib/omitHeaders/index.ts"),l=n("./src/lib/stringInterpolate/index.ts"),b=n("./src/reddit/constants/headers.ts"),p=n("./src/reddit/helpers/r2/normalizePostFromR2/index.ts"),m=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const f=e=>{const t=[],n={};return e.data.children.forEach(e=>{const r=Object(p.a)(e.data);t.push(r.id),n[r.id]=r}),{postIds:t,posts:n}};var O=n("./src/reddit/models/DiscoveryUnit/index.ts"),g=n("./src/reddit/selectors/category.ts"),j=n("./src/reddit/selectors/discoveryUnit.ts"),h=n("./src/reddit/selectors/listings.ts"),y=n("./src/reddit/selectors/posts.ts");n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return v})),n.d(t,"h",(function(){return w})),n.d(t,"f",(function(){return D})),n.d(t,"e",(function(){return x})),n.d(t,"d",(function(){return P})),n.d(t,"i",(function(){return N})),n.d(t,"j",(function(){return M})),n.d(t,"g",(function(){return U})),n.d(t,"k",(function(){return F}));var _=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const E="DISCOVERY_UNIT__LIST_PENDING",I="DISCOVERY_UNIT__LIST_LOADED",v="DISCOVERY_UNIT__LIST_FAILED",S=Object(s.a)(E),T=Object(s.a)(I),C=Object(s.a)(v),w=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t(),o=Object(j.i)(s),i=Object(j.h)(s);if(o||i)return;e(S());const c=await(e=>Promise.resolve({ok:!0,error:null,status:200,headers:{},details:"",body:{global:{discovery_config_v1:{discovery_units:[{id:"xd_66",enabled:!0,layout:"large",parameters:{sort:"hot"},surface:"explore",unit_name:"posts_in_category_rails_hero",unit_type:"listing",url:"/api/posts_in_category.json"},{id:"xd_67",enabled:!0,layout:"large",surface:"explore",unit_name:"posts_in_subreddit_hero",unit_type:"listing",url:"/r/%{subredditName}/hot.json"},{id:"xd_68",enabled:!0,layout:"large",parameters:{sort:"hot"},surface:"explore",unit_name:"posts_in_category_rails_small",unit_type:"listing",url:"/api/posts_in_category.json"},{id:"xd_69",enabled:!0,layout:"large",surface:"explore",unit_name:"posts_in_subreddit_small",unit_type:"listing",url:"/r/%{subredditName}/hot.json"},{id:"xd_70",enabled:!0,layout:"large",surface:"search",unit_name:"search_posts",unit_type:"community_category",url:"/api/posts_in_category.json"},{id:"xd_71",enabled:!0,layout:"large",surface:"search",unit_name:"search_subreddits",unit_type:"community_category",url:"/api/subreddits_in_category.json"},{id:"xd_72",enabled:!0,layout:"large",surface:"subreddit_listing",unit_name:"community_banner_posts",unit_type:"subreddit_listing",url:"/r/%{subredditName}/top.json"},{id:"xd_83",enabled:!0,layout:"large",surface:"subreddit_listing",unit_name:"best_of_community",unit_type:"subreddit_listing",url:"/r/%{subredditName}/top.json"},{id:"xd_88",enabled:!0,layout:"large",surface:"front_page",title:"Similar communities to %{subredditName}",unit_name:"chaining_similar_subreddits_posts",unit_type:"listing"},{id:"xd_89",enabled:!0,layout:"large",surface:"front_page",title:"Mildy similar posts",unit_name:"chaining_similar_posts",unit_type:"listing"},{id:"xd_91",enabled:!0,layout:"large",surface:"comments",title:"Posts in subreddit %{subredditName}",unit_name:"posts_in_subreddit_vertical",unit_type:"listing"},{id:"xd_92",enabled:!0,layout:"large",surface:"comments",title:"Posts in recommended home",unit_name:"posts_in_rec_home",unit_type:"listing"},{id:"xd_93",enabled:!0,layout:"large",surface:"popular",title:"Trending posts",unit_name:"trending_posts",unit_type:"listing"},{id:"xd_94",enabled:!0,layout:"large",surface:"popular",title:"Top popular for the month",unit_name:"top_month_posts",unit_type:"listing"},{id:"xd_95",enabled:!0,layout:"large",surface:"popular",title:"Geopopular posts",unit_name:"geopopular_posts",unit_type:"listing"},{id:"xd_96",enabled:!0,layout:"small",surface:"subreddit_listing",unit_name:"top_week_posts",unit_type:"subreddit_listing",url:"/r/%{subredditName}/top.json"},{id:"xd_97",enabled:!0,layout:"large",surface:"subreddit_listing",unit_name:"top_week_posts_large",unit_type:"subreddit_listing",url:"/r/%{subredditName}/top.json"}]}}}}))(r());if(c.ok){const{discoveryUnits:t}=(e=>{return{discoveryUnits:e.global.discovery_config_v1.discovery_units.reduce((e,t)=>{const n={enabled:t.enabled,experiment:t.experiment,id:t.id,index:t.index,layout:t.layout,options:t.options,parameters:t.parameters,subtitle:t.subtitle,subtitleIcon:t.subtitle_icon,surface:t.surface,title:t.title,unitName:t.unit_name,unitType:t.unit_type,url:t.url};return e[n.id]=n,e},{})}})(c.body);e(T({discoveryUnits:t}))}else e(C({error:c.error}))},D="DISCOVERY_UNIT__UNIT_DATA_PENDING",x="DISCOVERY_UNIT__UNIT_DATA_LOADED",P="DISCOVERY_UNIT__UNIT_DATA_FAILED",A=Object(s.a)(D),R=Object(s.a)(x),k=Object(s.a)(P),N=(e,t)=>async(n,s,i)=>{let{apiContext:c}=i;const a=s(),l=Object(o.a)(e,r.N.HOT,{category:t}),p=Object(h.h)(a,{listingKey:l}),O=!!a.listings.listingOrder.fetchedTokens[l];if(p||O)return;n(A({key:l}));const g=await((e,t)=>Object(d.b)(Object(u.a)(e,[b.a]),{endpoint:Object(m.a)("".concat(e.apiUrl,"/api/posts_in_category.json?category=").concat(t)),method:r.bb.GET}))(c(),t);if(g.ok){const{postIds:e,posts:t}=f(g.body),r=e.length>0?e.length-1:0;n(R({key:l,meta:a.meta,postIds:e,posts:t,token:e[r]}))}else n(k({key:l,error:g.error}))},L=(e,t,n)=>async(s,i,c)=>{let{apiContext:p}=c;const g=i(),h=((e,t)=>Object(o.a)(e.unitName,r.N.HOT,Object.assign({},e.parameters,t)))(e,t),y=Object(j.g)(g,{listingKey:h,shouldLoadMore:n});if(!y)return;const{fetchedToken:E}=y;if(s(A({fetchedToken:E,key:h})),!e.url)return void s(R({fetchedToken:"",key:h,meta:g.meta,token:""}));const{category:I}=t,v=_(t,["category"]),S=Object.assign({},v,{after:E,category_id:I}),T=await((e,t,n)=>{let s=t.url;return t.parameters&&(s=Object(a.a)(Object(l.a)(s,t.parameters),t.parameters)),n&&(s=Object(a.a)(Object(l.a)(s,n),n)),Object(d.b)(Object(u.a)(e,[b.a]),{endpoint:Object(m.a)("".concat(e.apiUrl).concat(s)),method:r.bb.GET})})(p(),e,S);if(T.ok)switch(e.unitName){case O.h:case O.k:case O.i:case O.l:case O.n:case O.o:{const{postIds:e,posts:t}=f(T.body);s(R({fetchedToken:E,key:h,meta:g.meta,postIds:e,posts:t,token:e[e.length-1]}));break}}else s(k({key:h,error:T.error}))},M=e=>async(t,n,s)=>{let{apiContext:i}=s;const a=Object(o.a)(e,r.N.HOT);Object(y.C)(n(),{listingKey:a}).length>0||await t(Object(c.i)(a,e,{},!0))},U=(e,t,n,r)=>async(s,o,c)=>{let a,{apiContext:d}=c;if(await s(i.h()),!n&&!(a=Object(g.i)(o(),{categoryName:t})))return;const u=n||a&&a.id;await Promise.all([s(L(e,{category:u},r)),s(i.i(u))])},F=(e,t,n)=>async(r,s,o)=>{let{apiContext:i}=o;await Promise.all([r(M(t)),r(L(e,{subredditName:t},n))])}},"./src/reddit/actions/dismissedTruncationList/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="DISMISSED_TRUNCATION_LIST__ADD_SUBREDDIT_ID"},"./src/reddit/actions/economics/ftue/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r="ECONOMICS__FTUE__TIPPING_HIGHLIGHT_VIEWED",s="ECONOMICS__FTUE__TOP_TIPPERS_VIEWED"},"./src/reddit/actions/economics/helpers/async.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>async t=>{const r=await(()=>Promise.all([n.e("vendors~EconHelperActions~Reddit"),n.e("EconHelperActions")]).then(n.bind(null,"./src/reddit/actions/economics/helpers/index.ts")).then(e=>e.fetchAll))();await t(r(e))}},"./src/reddit/actions/economics/paymentSystems/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c}));const r="ECONOMICS__PAYMENT_SYSTEM__CARD_DELETE_SUCCESS",s="ECONOMICS__PAYMENT_SYSTEM__PAYPAL_DELETE_SUCCESS",o="ECONOMICS__PAYMENT_SYSTEM__INFO_FAILURE",i="ECONOMICS__PAYMENT_SYSTEM__INFO_FETCHED",c="ECONOMICS__PAYMENT_SYSTEM__INFO_PENDING"},"./src/reddit/actions/economics/subredditPremium/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return m}));const r="ECONOMICS__SUBREDDIT_PREMIUM__ALL_SUBREDDIT_SUBSCRIPTIONS_SUCCESS",s="ECONOMICS__SUBREDDIT_PREMIUM__BADGE_APPLIED",o="ECONOMICS__SUBREDDIT_PREMIUM__BADGE_MANAGEMENT_BADGE_TYPE_CHANGED",i="ECONOMICS__SUBREDDIT_PREMIUM__BADGE_MANAGEMENT_MODAL_OPENED",c="ECONOMICS__SUBREDDIT_PREMIUM__BADGE_MANAGEMENT_VIEW_CHANGED",a="ECONOMICS__SUBREDDIT_PREMIUM__EDITOR_PRODUCTS_FETCH_SUCCESS",d="ECONOMICS__SUBREDDIT_PREMIUM__GIFT_MEMBERSHIP_MODAL_OPENED",u="ECONOMICS__SUBREDDIT_PREMIUM__PURCHASE_MODAL_OPENED",l="ECONOMICS__SUBREDDIT_PREMIUM__SUBREDDIT_INFO_SUCCESS",b="ECONOMICS__SUBREDDIT_PREMIUM__SUBSCRIPTION_CANCEL_SUCCESS",p="ECONOMICS__SUBREDDIT_PREMIUM__SUBSCRIPTION_DATA_SUCCESS",m="ECONOMICS__SUBREDDIT_PREMIUM__UPLOAD_MODAL_OPENED"},"./src/reddit/actions/economics/support/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r="ECONOMICS__SUPPORT__SUPPORT_MODAL_OPENED",s="ECONOMICS__SUPPORT__TOTAL_SUPPORT_INCREASED"},"./src/reddit/actions/economics/tips/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="ECONOMICS__TIPS__TIP_DETAILS_SUCCESS"},"./src/reddit/actions/emailCollection/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return O}));var r=n("./node_modules/lodash/once.js"),s=n.n(r),o=n("./src/reddit/actions/modal.ts"),i=n("./src/reddit/actions/notificationBanner.ts"),c=n("./src/reddit/actions/preferences.ts"),a=n("./src/reddit/components/NotificationBanners/bannerIds.ts"),d=n("./src/reddit/components/Settings/modalIds.ts"),u=n("./src/reddit/constants/experiments.ts"),l=n("./src/reddit/helpers/localStorage/index.ts"),b=n("./src/reddit/selectors/experiments/emailCollection.ts");const p=s()(l.c),m=()=>async(e,t)=>{const n=t();p();let r=Object(b.a)(n);if(r&&(await e(Object(c.x)()),r=Object(b.a)(t())))switch(r){case u.H.Modal:e(Object(o.h)(d.c));break;case u.H.Banner:case u.H.Footer1:case u.H.Footer2:e(Object(i.d)({notificationBannerId:a.a.EmailCollectionBannerId}));break;default:return}},f=()=>async(e,t)=>{const n=t(),r=Object(b.a)(n);if(r)switch(Object(l.b)(),r){case u.H.Modal:e(Object(o.g)(d.c));break;case u.H.Banner:case u.H.Footer1:case u.H.Footer2:e(Object(i.c)({notificationBannerId:a.a.EmailCollectionBannerId}));break;default:return}},O=()=>async(e,t)=>{e(Object(b.d)(Object(b.a)(t()))?f():Object(o.g)(d.c))}},"./src/reddit/actions/emailVerificationTooltip.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n("./src/lib/makeActionCreator/index.ts");const s="EMAIL_VERIFICATION_TOOLTIP_TOGGLED",o=Object(r.a)(s)},"./src/reddit/actions/embedAndImage.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c}));var r=n("./src/lib/makeActionCreator/index.ts");const s="EMBEDS__UNLOADABLE",o="EMBEDS__LOADABLE",i=Object(r.a)(s),c=Object(r.a)(o)},"./src/reddit/actions/emoji.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/forEach.js"),s=n.n(r),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/omitHeaders/index.ts"),a=n("./src/lib/uploadToS3/index.ts"),d=n("./src/reddit/constants/headers.ts");const u=async(e,t)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/emojis/all"),method:o.bb.GET,type:"json"}).then(e=>(e.ok&&(e.body=(e=>{let t;const n=s()(e,(e,n)=>("snoomojis"!==n&&(t=n),s()(e,(t,n)=>{e[n]={name:n,userFlairAllowed:t.user_flair_allowed,postFlairAllowed:t.post_flair_allowed,modFlairOnly:t.mod_flair_only,url:t.url}})));return{[t]:{emojis:n[t],snoomojis:n.snoomojis}}})(e.body)),e));var l=n("./src/lib/makeActionCreator/index.ts"),b=n("./src/reddit/actions/imageUploads.ts"),p=n("./src/reddit/actions/toaster.ts"),m=n("./src/reddit/helpers/getGenericUploadError.ts"),f=n("./src/reddit/helpers/getS3KeyFromUrl/index.ts"),O=n("./src/reddit/helpers/media/index.ts"),g=n("./src/reddit/i18n/utils.ts"),j=n("./src/reddit/models/Emoji/index.ts"),h=n("./src/reddit/models/Image/index.tsx"),y=n("./src/reddit/models/Toast/index.ts"),_=n("./src/reddit/selectors/emojis.ts"),E=n("./src/reddit/selectors/subreddit.ts");n.d(t,"i",(function(){return I})),n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return T})),n.d(t,"h",(function(){return D})),n.d(t,"g",(function(){return x})),n.d(t,"f",(function(){return P})),n.d(t,"a",(function(){return N})),n.d(t,"q",(function(){return U})),n.d(t,"p",(function(){return B})),n.d(t,"l",(function(){return G})),n.d(t,"m",(function(){return q})),n.d(t,"j",(function(){return V})),n.d(t,"k",(function(){return H})),n.d(t,"b",(function(){return K})),n.d(t,"n",(function(){return J})),n.d(t,"e",(function(){return Y})),n.d(t,"o",(function(){return Q}));const I="STRUCTURED_STYLES__NEW_EMOJI_ADDED",v=Object(l.a)(I),S="STRUCTURED_STYLES__EMOJI_DELETE_LOADED",T="STRUCTURED_STYLES__EMOJI_DELETE_FAILED",C=Object(l.a)(S),w=Object(l.a)(T),D="GET_ALL_EMOJIS_PENDING",x="GET_ALL_EMOJIS_LOADED",P="GET_ALL_EMOJIS_FAILED",A=Object(l.a)(D),R=Object(l.a)(x),k=Object(l.a)(P),N="STRUCTURED_STYLES__EMOJIS_ENABLED_SETTING_LOADED",L=Object(l.a)(N),M=e=>({text:"Failed to save emoji",buttonText:"Retry",buttonAction:B(e)}),U=e=>{let{imageData:t,subredditId:n}=e;return async(e,r,s)=>{const u=r(),l=Object(E.S)(u,{subredditId:n}).name;e(Object(b.k)(t));const p=t.file,m=await Object(O.g)(p),f=await(async(e,t,n,r)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/emoji_asset_upload_s3.json"),method:o.bb.POST,data:{filepath:n,mimetype:r}}))(s.apiContext(),l,p.name,m);let g=!1;if(f.ok){const n=await(async(e,t,n)=>Object(a.a)(n,t))(s.apiContext(),f.body.s3UploadLease,p);if(n.ok){if(!r().imageUploads[t.id])return Object(h.d)(t),!1;const s=decodeURIComponent(n.body.PostResponse.Location),o=f.body.websocketUrl,i=Object(h.n)(t,s,o);e(Object(b.j)(i)),g=!0}else{const r=Object(h.k)(t,n.error);e(Object(b.i)(r))}}else{const n=Object(h.k)(t,f.error);e(Object(b.i)(n))}return g}},F=(e,t)=>async(n,r,s)=>{const{imageData:a,subredditId:u,emojiName:l,settings:m}=e,O=Object(f.a)(a.url),g=r(),j=Object(E.S)(g,{subredditId:u}).name,y=await(async(e,t,n,r,s)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/emoji.json"),method:o.bb.POST,data:{s3_key:n,name:r,mod_flair_only:s.modFlairOnly,post_flair_allowed:s.postFlairAllowed,user_flair_allowed:s.userFlairAllowed}}))(s.apiContext(),j,O,l,m);if(!y.ok){const r=Object(h.k)(a,y.error);n(Object(b.i)(r)),n(Object(p.e)(M(e))),t&&t.close()}return y.ok},B=e=>async(t,n,r)=>{const{imageData:s,subredditId:o,emojiName:i,settings:c}=e;if(t(Object(b.k)(s)),!s.websocketUrl)return t(Object(p.e)({text:"Could not upload emoji"}));let a;const d=new WebSocket(s.websocketUrl);return d.onopen=async()=>{a=await F(e,d)(t,n,r)},d.onmessage=n=>{const r=JSON.parse(n.data);if("success"===r.type){a=!0;const e=r.payload.emoji_url,n=Object(h.o)(s,e);t(Object(b.l)(n));const d=Object(j.e)(i,n.url,o,c);t(v(d)),t(G(o))}else{const n=Object(m.a)(i),r=Object(h.k)(s,n);t(Object(b.i)(r)),t(Object(p.e)(M(e)))}d.close()},d.onerror=n=>{a=!1;const r=Object(m.a)(i),o=Object(h.k)(s,r);t(Object(b.i)(o)),t(Object(p.e)(M(e))),d.close()},a},G=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n();if(Object(_.a)(o,e))return;const i=Object(E.S)(o,{subredditId:e}).name;t(A(e));const c=await u(s(),i);if(c.ok){const n=c.body;t(R({subredditId:e,data:n}))}else t(k({subredditId:e,error:c.error}))},q=e=>async(t,n,r)=>{let{apiContext:s}=r;n().emojis[e]||await t(G(e))},V=(e,t)=>async(n,r,s)=>{let{apiContext:a}=s;const u=r(),l=Object(E.S)(u,{subredditId:t}).name,b=await(async(e,t,n)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(n,"/emoji/").concat(t),method:o.bb.DELETE,type:"json"}))(a(),e,l);if(b.ok){n(C({emojiName:e,subredditId:t})),n(p.e({kind:y.b.SuccessCommunityGreen,text:Object(g.c)("Emoji successfully deleted")}))}else n(w(b.error)),n(p.e({kind:y.b.Error,text:Object(g.c)("Something went wrong")}))},H=(e,t)=>async(n,r,s)=>{let{apiContext:a}=s;const u=r(),l=Object(E.S)(u,{subredditId:e}).name;if((await(async(e,t,n)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/enable_emojis_in_sr.json"),method:o.bb.POST,data:{subreddit:t,enable:n}}))(a(),l,t)).ok){n(L({subredditId:e,emojisEnabled:t}))}else n(p.e({kind:y.b.Error,text:Object(g.c)("Try again later")}))},K="EMOJI_CUSTOM_SIZE_UPDATED",W=Object(l.a)(K),J=(e,t)=>async(n,r,s)=>{let{apiContext:a}=s;const u=r(),l=Object(E.S)(u,{subredditId:e}).name;(await(async(e,t,n)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/emoji_custom_size"),method:o.bb.POST,data:n}))(a(),l,t)).ok?n(W({subredditId:e,emojiCustomSize:t})):n(p.e({kind:y.b.Error,text:Object(g.c)("Try again later")}))},Y="EMOJI_PERMISSIONS_UPDATED",z=Object(l.a)(Y),Q=(e,t,n,r)=>async(s,a,u)=>{let{apiContext:l}=u;const b=a(),m=Object(E.S)(b,{subredditId:r}).name;(await(async(e,t,n,r)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(n,"/emoji_permissions.json"),method:o.bb.POST,data:{name:t,post_flair_allowed:r.postFlairAllowed,user_flair_allowed:r.userFlairAllowed,mod_flair_only:r.modFlairOnly}}))(l(),e,m,n)).ok?(s(z({emojiName:e,isSnoomoji:t,settings:n,subredditId:r})),s(p.e({kind:y.b.SuccessCommunityGreen,text:Object(g.c)("Emoji permissions updated")}))):s(p.e({kind:y.b.Error,text:Object(g.c)("Try again later")}))}},"./src/reddit/actions/events.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/app/strings/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/toaster.ts"),c=n("./src/lib/makeApiRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/reddit/constants/headers.ts");var u=(e,t,n,r,o)=>Object(c.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/event_post_time.json"),method:s.bb.POST,data:{id:t,event_start:n,event_end:r,event_tz:o}});var l=(e,t)=>Object(c.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/start_event_post.json"),method:s.bb.POST,data:{id:t}}),b=n("./src/reddit/models/Toast/index.ts"),p=n("./src/reddit/selectors/posts.ts");n.d(t,"START_EVENT_NOW_SUCCESS",(function(){return m})),n.d(t,"startEventNowSuccess",(function(){return f})),n.d(t,"startEventNowRequested",(function(){return O})),n.d(t,"EDIT_EVENT_TIME_SUCCESS",(function(){return g})),n.d(t,"editEventTimeSuccess",(function(){return j})),n.d(t,"editEventTimeRequested",(function(){return h}));const m="START_EVENT_NOW_SUCCESS",f=Object(o.a)(m),O=e=>async(t,n,s)=>{let{apiContext:o}=s;const c=await l(o(),e),a=n();if(c.ok){t(f({postId:e}));const s=n(),o=Object(p.J)(s,{postId:e}),c=o&&o.title||"";t(Object(i.e)({kind:b.b.SuccessMod,text:Object(r.a)(s.user.language,"events.eventStartedSuccessfully",{title:c})}))}else t(Object(i.e)({kind:b.b.Error,text:Object(r.a)(a.user.language,"error.type.generic")}))},g="EDIT_EVENT_TIME_SUCCESS",j=Object(o.a)(g),h=(e,t)=>async(n,o,c)=>{let{apiContext:a}=c;const d=await u(a(),e,t.startDate,t.endDate,t.timezoneName),l=o();if(d.ok){const t=d.body,c=14400,a=Math.round(t.event_start/s.Bb);let u=t.event_end;const l={eventStart:a,eventEnd:u=u&&Math.round(u/s.Bb)||a+c,eventIsLive:t.event_is_live};n(j({postId:e,eventInfo:l}));const m=o(),f=Object(p.J)(m,{postId:e}),O=f&&f.title||"";n(Object(i.e)({kind:b.b.SuccessMod,text:Object(r.a)(m.user.language,"events.eventTimeUpdatedSuccessfully",{title:O})}))}else n(Object(i.e)({kind:b.b.Error,text:Object(r.a)(l.user.language,"error.type.generic")}))}},"./src/reddit/actions/experiments.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./src/lib/makeActionCreator/index.ts");n("./src/reddit/endpoints/user/index.ts"),n("./src/reddit/models/Post/index.ts"),n("./src/reddit/selectors/telemetry.ts");const s="EXPERIMENTS__REQUEST_LOADED",o=(Object(r.a)("EXPERIMENTS__REQUEST_PENDING"),Object(r.a)("EXPERIMENTS__REQUEST_FAILED"),Object(r.a)(s),"EXPERIMENTS__SET_EXPERIMENT_OVERRIDE"),i=Object(r.a)(o)},"./src/reddit/actions/exportImportStyles.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return _}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/loadWithRetries/index.ts"),o=n("./src/reddit/actions/structuredStyles/index.ts"),i=n("./src/reddit/actions/toaster.ts"),c=n("./src/reddit/i18n/utils.ts"),a=n("./src/reddit/models/StructuredStyles/index.ts"),d=n("./src/reddit/models/Toast/index.ts"),u=n("./src/reddit/selectors/subreddit.ts");const l="STRUCTURED_STYLES__EXPORT_THEME_PENDING",b="STRUCTURED_STYLES__EXPORT_THEME_LOADED",p="STRUCTURED_STYLES__EXPORT_THEME_FAILED",m=Object(r.a)(l),f=Object(r.a)(b),O=Object(r.a)(p),g=Object(r.a)("STRUCTURED_STYLES__IMPORT_THEME_PENDING"),j=Object(r.a)("STRUCTURED_STYLES__IMPORT_THEME_LOADED"),h=Object(r.a)("STRUCTURED_STYLES__IMPORT_THEME_FAILED"),y=e=>async(t,r)=>{t(m());const o=r(),a=Object(u.S)(o,{subredditId:e}).name,l=o.structuredStyles.models[e],b=await Object(s.a)(()=>Promise.all([n.e("vendors~ExportTheme~ImportTheme~xml2js"),n.e("vendors~ExportTheme~ImportTheme"),n.e("ExportTheme")]).then(n.bind(null,"./src/reddit/helpers/exportTheme/index.ts"))).then(e=>e.default),p=await b(l,a);p.ok?(t(f()),t(Object(i.e)({kind:d.b.SuccessMod,text:Object(c.c)("Theme successfully exported")}))):(t(O(p.error)),t(Object(i.e)({kind:d.b.Error,text:Object(c.c)("Sorry, theme failed to export")})))},_=e=>async(t,r)=>{t(g());const u=await Object(s.a)(()=>Promise.all([n.e("vendors~ExportTheme~ImportTheme~xml2js"),n.e("vendors~ExportTheme~ImportTheme"),n.e("ImportTheme")]).then(n.bind(null,"./src/reddit/helpers/importTheme/index.ts"))).then(e=>e.default),l=await u(e);l.ok?(t(j()),t(Object(i.e)({kind:d.b.SuccessMod,text:Object(c.c)("Theme successfully imported")})),0!==Object.keys(l.attributes).length&&t(Object(o.d)(Object(a.i)(l.attributes)))):(t(h(l.error)),t(Object(i.e)({kind:d.b.Error,text:Object(c.c)("Sorry, theme failed to import")})))}},"./src/reddit/actions/externalAccount.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/addQueryParams/index.ts"),o=n("./src/reddit/actions/toaster.ts"),i=n("./src/reddit/constants/parameters.ts"),c=n("./src/lib/constants/index.ts"),a=n("./src/lib/makeApiRequest/index.ts"),d=n("./src/lib/omitHeaders/index.ts"),u=n("./src/reddit/constants/headers.ts"),l=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");const b=e=>{return e.reduce((e,t)=>(e[t.provider]=t,e),{})};var p=n("./src/reddit/i18n/utils.ts"),m=n("./src/reddit/models/Toast/index.ts"),f=n("./src/reddit/models/User/index.ts"),O=n("./src/reddit/selectors/externalAccount.ts"),g=n("./src/reddit/selectors/platform.ts"),j=n("./src/reddit/selectors/subreddit.ts"),h=n("./src/reddit/selectors/user.ts");n.d(t,"l",(function(){return y})),n.d(t,"k",(function(){return _})),n.d(t,"j",(function(){return E})),n.d(t,"i",(function(){return I})),n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return S})),n.d(t,"o",(function(){return A})),n.d(t,"p",(function(){return R})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return N})),n.d(t,"a",(function(){return L})),n.d(t,"n",(function(){return B})),n.d(t,"e",(function(){return G})),n.d(t,"f",(function(){return q})),n.d(t,"d",(function(){return V})),n.d(t,"m",(function(){return J}));const y="USER_EXTERNAL_ACCOUNT_ACCOUNTS_PENDING",_="USER_EXTERNAL_ACCOUNT_ACCOUNTS_LOADED",E="USER_EXTERNAL_ACCOUNT_ACCOUNTS_FAILED",I="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_PENDING",v="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_LOADED",S="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_FAILED",T=Object(r.a)(y),C=Object(r.a)(_),w=Object(r.a)(E),D=Object(r.a)(I),x=Object(r.a)(v),P=Object(r.a)(S),A=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=Object(h.i)(o),p=e||i&&Object(f.f)(i);if(!p)return;if(Object(O.d)(o,{username:p}))return;t(T(p));const m=await((e,t)=>Object(a.b)(Object(d.a)(e,[u.a]),{endpoint:Object(l.a)("".concat(e.apiUrl,"/api/v1/external_account/user/").concat(t,".json")),method:c.bb.GET}))(s(),p);if(m.ok){const e=b(m.body);t(C({username:p,accountsData:e}))}else t(w(m.error))},R=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t(),o=Object(g.e)(s);if(!o)return;const i=s.externalAccount.api.subreddit.fetched[o],p=s.externalAccount.api.subreddit.pending[o];if(i||p)return;const m=Object(j.y)(s,{subredditName:o});if(!(m&&m.hasExternalAccount))return;e(D(o));const f=await((e,t)=>Object(a.b)(Object(d.a)(e,[u.a]),{endpoint:Object(l.a)("".concat(e.apiUrl,"/api/v1/external_account/subreddit/").concat(t,".json")),method:c.bb.GET}))(r(),o);if(f.ok){const t=b(f.body);e(x({subredditName:o,accountsData:t}))}else e(P(f.error))},k="EXTERNAL_ACCOUNT_DISCONNECT_PENDING",N="EXTERNAL_ACCOUNT_DISCONNECT_SUCCESS",L="EXTERNAL_ACCOUNT_DISCONNECT_FAILED",M=Object(r.a)(k),U=Object(r.a)(N),F=Object(r.a)(L),B=e=>async(t,n,r)=>{let{apiContext:s}=r;t(M({provider:e}));const o=Object(h.i)(n()),i=Object(f.f)(o),b=await((e,t)=>Object(a.b)(Object(d.a)(e,[u.a]),{endpoint:Object(l.a)("".concat(e.apiUrl,"/api/v1/external_account/").concat(t,"/disconnect.json")),method:c.bb.POST}))(s(),e);b.ok?t(U({provider:e,username:i})):t(F({provider:e,error:b.error}))},G="OAUTH_FLOW_URL_PENDING",q="OAUTH_FLOW_URL_SUCCESS",V="OAUTH_FLOW_URL_FAILED",H=Object(r.a)(G),K=Object(r.a)(q),W=Object(r.a)(V),J=e=>async(t,n,r)=>{let{apiContext:b}=r;t(H({provider:e}));const f=Object(s.a)(window.location.href,{[i.c]:e}),O=await((e,t,n)=>Object(a.b)(Object(d.a)(e,[u.a]),{endpoint:Object(l.a)("".concat(e.apiUrl,"/api/v1/external_account/").concat(t,"/connect.json")),method:c.bb.POST,data:{redirect_url:n}}))(b(),e,f);if(O.ok){const{redirect_url:n}=O.body;t(K({provider:e})),window.location.href=n}else t(W({provider:e,error:O.error})),t(Object(o.e)({kind:m.b.Error,text:Object(p.c)("Something went wrong. Just don't panic.")}))}},"./src/reddit/actions/flairManagement/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r="FLAIR_PREVIEW_EXAMPLE_POST_CREATED",s="FLAIR_PREVIEW_EXAMPLE_POST_DELETED"},"./src/reddit/actions/focusedVerticals/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/focusedVerticals/constants.ts"),o=n("./src/lib/makeGqlRequest/index.ts"),i=n("./src/graphql/operations/FocusVerticalSubredditRecommendations.json"),c=n("./src/reddit/featureFlags/index.ts"),a=n("./src/reddit/helpers/graphql/normalizeSubredditAboutFromGql/index.ts"),d=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),u=n("./src/reddit/selectors/focusedVerticalSuggestion.ts");n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return g}));const l=Object(r.a)(s.e),b=Object(r.a)(s.d),p=Object(r.a)(s.f),m=Object(r.a)(s.h),f=Object(r.a)(s.g),O=()=>async(e,t,n)=>{let{gqlContext:r}=n;const s=t(),m=Object(u.d)(s),f=Object(u.c)(s),O=Object(u.e)(s),g=c.d.focusedVerticalsExperiment(s),j=s.user.temporaryGQL.isLoggedIn;if(m||f&&!O||!g||!j)return;e(p());let h=!1;try{const t=await(e=>Object(o.a)(e,Object.assign({},i)))(r());if(t.ok&&t.body){const{data:n}=t.body,r=n.focusVerticalSubredditRecommendations;if(r&&r.recommendations&&r.recommendations.length&&r.interactedSubreddits&&r.interactedSubreddits.length&&r.interactedSubreddits.length===r.recommendations.length){const t=[...r.recommendations,...r.interactedSubreddits],n=Object(d.d)(t),s=Object(a.b)(t),o=Object(d.e)(r.recommendations),i={recommendedSubredditIds:r.recommendations.map(e=>e.id),interactedSubredditIds:r.interactedSubreddits.map(e=>e.id),subreddits:n,subredditsAboutInfo:s,subredditTopContent:o};e(l(i))}h=!0}}catch(y){h=!1}h||e(b({error:{type:"Focused vertical experiment GQL API failed or caught by try and catch"}}))},g=()=>async(e,t,n)=>e(O())},"./src/reddit/actions/frontpage.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return E})),n.d(t,"d",(function(){return T}));var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/lib/getParsedUserAgent/index.ts"),i=n("./src/reddit/constants/parameters.ts"),c=n("./src/reddit/endpoints/page/frontpage.ts"),a=n("./src/reddit/endpoints/page/subredditPage.ts"),d=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),u=n("./src/lib/makeActionCreator/index.ts"),l=n("./src/lib/makeListingKey/index.ts"),b=n("./src/lib/constants/index.ts"),p=n("./src/reddit/constants/page.ts"),m=n("./src/reddit/constants/postLayout.ts"),f=n("./src/reddit/contexts/PageLayer/index.tsx"),O=n("./src/reddit/helpers/filterListingResponse/index.ts"),g=n("./src/reddit/selectors/frontpage.ts"),j=n("./src/reddit/selectors/monthsToMinutes.ts"),h=n("./src/reddit/selectors/user.ts");const y="FRONTPAGE__MORE_POSTS_PENDING",_="FRONTPAGE__MORE_POSTS_LOADED",E="FRONTPAGE__MORE_POSTS_FAILED",I=Object(u.a)(y),v=Object(u.a)(_),S=Object(u.a)(E),T=e=>async(t,n,r)=>{let{apiContext:u,gqlContext:y}=r;const _=n(),E=Object(g.a)(_),{sort:T=E}=e,C=_.platform.currentPage?_.platform.currentPage.queryParams:{},w=Object(l.a)(p.b,T,C),D=_.listings.postOrder.loadMore[w],x=C[i.t]?C[i.t].toUpperCase():"",P=x in b.Ob&&b.Ob[x];if(D){const e=_.listings.postOrder.api.pending[w],n=_.listings.postOrder.fetchedTokens,r=!(!n[w]||!n[w][D.token]);if(!e&&!r){t(I({key:w,fetchedToken:D.token}));const e=!!_.platform.currentPage&&!!_.platform.currentPage.queryParams.useMockData,n=Object.assign({after:D.token,dist:D.dist},s()(C,i.j),{isMobile:Object(o.e)(_.meta.userAgent),sort:T,t:Object(d.a)(T,P),layout:m.e[Object(f.M)(_,{})],useMockData:e}),r=Object(j.e)(_),l=Object(j.g)(_),b=r&&l;if(!b){const e=_.platform.lastPage,t=e&&e.url;t&&(n.clickUrl=t)}const p=b?()=>Object(a.a)(u(),r,n):()=>Object(c.a)(y(),Object(c.c)(_,Object.assign({},n,{limit:m.a})),Object(h.Q)(_)),g=await p(),E=Object.assign({},g.body,Object(O.a)(_,w,g.body));g.ok?t(v(Object.assign({key:w,fetchedToken:D.token,meta:_.meta},E))):t(S(Object.assign({key:w,error:g.error,fetchedToken:D.token},E)))}}}},"./src/reddit/actions/global.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/sentry/index.ts"),o=n("./src/reddit/actions/monthsToMinutes.ts"),i=n("./src/reddit/actions/publicAccessNetwork/userSettings.ts"),c=(n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./src/lib/localStorageAvailable/index.ts")),a=n("./src/reddit/actions/modal.ts"),d=n("./src/reddit/constants/modals.ts"),u=n("./src/reddit/constants/spezModal.ts"),l=n("./src/reddit/featureFlags/index.ts"),b=n("./src/reddit/selectors/activeModalId.ts"),p=n("./src/reddit/selectors/runTimeEnvVars.ts");const m=async(e,t)=>{const n=t();if(l.d.spezModal(n)&&Object(c.a)()&&!Object(b.a)(n))try{const t=Date.now(),r=localStorage.getItem(u.f);if((r?parseInt(r,10):0)>(Object(p.c)(n)?0:u.d))return;localStorage.setItem(u.f,t.toString()),localStorage.getItem(u.f)&&e(Object(a.h)(d.a.SPEZ_MODAL))}catch(r){}};var f=n("./src/reddit/helpers/monthsToMinutes/index.ts"),O=n("./src/reddit/selectors/user.ts");n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return h}));const g="LOCAL_STORAGE_LOADED",j=Object(r.a)(g),h=e=>async(t,n)=>{let r=n();Object(O.J)(r)?Object(f.b)():t(Object(o.h)()),t(Object(i.a)()),(r=n()).user.loid.loid||r.meta.isBot||s.c.captureMessage("User has no LOID set");const{localStorageData:c}=e;c&&t(j(c)),t(m)}},"./src/reddit/actions/gold/communityAwards.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return j})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return v})),n.d(t,"g",(function(){return S})),n.d(t,"h",(function(){return P})),n.d(t,"f",(function(){return k}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/i18n/utils.ts"),i=n("./src/reddit/actions/modal.ts"),c=n("./src/reddit/actions/toaster.ts"),a=n("./src/reddit/models/Gold/Award.ts"),d=n("./src/reddit/models/Toast/index.ts"),u=n("./src/reddit/selectors/activeModalId.ts"),l=n("./src/reddit/selectors/communityAwards.ts"),b=n("./src/reddit/selectors/profile.ts"),p=n("./src/reddit/selectors/user.ts"),m=n("./src/reddit/endpoints/gold/communityAwards.ts"),f=n("./src/reddit/constants/gold.ts"),O=n("./src/reddit/actions/gold/constants.ts");const g=(e,t,n,r,s,i,c,a)=>async(d,u,l)=>{let{gqlContext:b}=l;d(y());try{if((await Object(m.a)(b(),e,t,n,r,s,i,c,a)).error){const e=Object(o.c)("There was an error creating the award. Please try again.");await d(E(e))}}catch(p){const e=Object(o.c)("There was an error creating the award. Please try again.");await d(E(e))}},j=(e,t,n,r,s,i,c,a)=>async(d,u,l)=>{let{gqlContext:b}=l;d(y());try{if((await Object(m.c)(b(),e,t,n,r,s,i,c,a)).error){const e=Object(o.c)("There was an error creating the award. Please try again.");await d(E(e))}}catch(p){const e=Object(o.c)("There was an error creating the award. Please try again.");await d(E(e))}},h=e=>{let{awardSubType:t,coinPrice:n,coinReward:r,daysOfDripExtension:s,daysOfPremium:i,endsAt:c,iconHeight:a,iconUrl:d,iconWidth:u,isNew:l,name:b,startsAt:p}=e;return async(e,f,O)=>{let{gqlContext:g}=O;e(y());try{if((await Object(m.b)({awardSubType:t,coinPrice:n,coinReward:r,context:g(),daysOfPremium:i,daysOfDripExtension:s,endsAt:c,iconUrl:d,iconWidth:u,iconHeight:a,isNew:l,name:b,startsAt:p})).error){const t=Object(o.c)("There was an error creating the award. Please try again.");await e(E(t))}}catch(j){const t=Object(o.c)("There was an error creating the award. Please try again.");await e(E(t))}}},y=Object(s.a)(O.e),_=Object(s.a)(O.d),E=e=>async(t,n)=>{await t(_(e)),t(Object(c.e)({kind:d.b.Error,duration:c.a,text:e}))},I=Object(s.a)(O.f),v=e=>{let{award:t,subredditId:n}=e;return async(e,s)=>{const o=s();e(I({award:t,subredditId:n})),Object(u.a)(o)===f.a&&e(Object(i.i)(f.a));const a=Object(p.S)(o);e(Object(c.e)({kind:d.b.SuccessCommunity,text:Object(r.a)(a,"communityAwards.creationModal.successfullyCreated")}))}},S=e=>async(t,n,r)=>{let{gqlContext:s}=r;const i=n(),c=!!i.awards.manageable.order[e];if(!Object(l.c)(i,{subredditId:e})&&!c){t(T({subredditId:e}));try{const[n,r]=await Promise.all([Object(m.i)(s(),e),Object(m.f)(s(),e)]);if(!n.ok){const e=Object(o.c)("There was an error loading awards list. Please try again.");return void(await t(D(e)))}if(r.ok&&!r.body.data.subreddit.isAwardCreationAllowed)return void(await t(x({subredditId:e,disabled:!0})));const i=n.body;await t(C({awards:i.data.subreddit.manageableAwards,subredditId:e}))}catch(a){const e=Object(o.c)("There was an error loading awards list. Please try again.");t(D(e))}}},T=Object(s.a)(O.E),C=Object(s.a)(O.D),w=Object(s.a)(O.C),D=e=>async(t,n)=>{await t(w(e)),t(Object(c.e)({kind:d.b.Error,duration:c.a,text:e}))},x=Object(s.a)(O.a),P=e=>async(t,n,r)=>{let{gqlContext:s}=r;const o=n();if(!!!o.awards.usable.order[e]){t(A({subredditOrProfileId:e}));try{const n=Object(b.p)(o,{profileId:e});if(n){const r=await Object(m.k)(s(),n.name);if(r.ok){const n=r.body;return void(await t(R({awards:n.data.profile.usableAwards,subredditOrProfileId:e})))}}else{const n=await Object(m.j)(s(),e);if(n.ok){const r=n.body;return void(await t(R({awards:r.data.subreddit.usableAwards,subredditOrProfileId:e})))}}}catch(i){}await t(R({awards:a.h,subredditOrProfileId:e}))}},A=Object(s.a)(O.M),R=Object(s.a)(O.L),k=(Object(s.a)(O.K),Object(s.a)(O.h),Object(s.a)(O.i),Object(s.a)(O.g),(e,t)=>async(n,s,o)=>{let{gqlContext:i}=o;n(N());const a=Object(p.S)(s());try{if((await Object(m.h)(i(),t)).error){const e=Object(r.a)(a,"communityAwards.errors.awardDisableError");await n(U(e))}else{await n(L({awardId:t,subredditId:e}));const o=Object(l.a)(s(),t);if(!o)return;const i=Object(r.a)(a,"communityAwards.disableModal.successfullyDisabled",{awardName:o.name});n(Object(c.e)({kind:d.b.SuccessCommunity,duration:c.a,text:i}))}}catch(u){const e=Object(r.a)(a,"communityAwards.errors.awardDisableError");await n(U(e))}}),N=Object(s.a)(O.k),L=Object(s.a)(O.l),M=Object(s.a)(O.j),U=e=>async(t,n)=>{await t(M(e)),t(Object(c.e)({kind:d.b.Error,duration:c.a,text:e}))}},"./src/reddit/actions/gold/constants.ts":function(e,t,n){"use strict";n.d(t,"H",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"G",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"F",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return f})),n.d(t,"j",(function(){return O})),n.d(t,"E",(function(){return g})),n.d(t,"D",(function(){return j})),n.d(t,"C",(function(){return h})),n.d(t,"a",(function(){return y})),n.d(t,"M",(function(){return _})),n.d(t,"L",(function(){return E})),n.d(t,"K",(function(){return I})),n.d(t,"w",(function(){return v})),n.d(t,"A",(function(){return S})),n.d(t,"v",(function(){return T})),n.d(t,"x",(function(){return C})),n.d(t,"z",(function(){return w})),n.d(t,"y",(function(){return D})),n.d(t,"B",(function(){return x})),n.d(t,"p",(function(){return P})),n.d(t,"o",(function(){return A})),n.d(t,"s",(function(){return R})),n.d(t,"r",(function(){return k})),n.d(t,"n",(function(){return N})),n.d(t,"q",(function(){return L})),n.d(t,"m",(function(){return M})),n.d(t,"J",(function(){return U})),n.d(t,"I",(function(){return F})),n.d(t,"t",(function(){return B})),n.d(t,"u",(function(){return G}));const r="GIVE_PREMIUM__OPEN_GIVE_PREMIUM_MODAL",s="GIVE_PREMIUM__CLOSE_GIVE_PREMIUM_MODAL",o="GILD__OPEN_GILD_MODAL",i="GILD__CLOSE_GILD_MODAL",c="GILD__OPEN_FRAMED_GILD",a="COMMUNITY_AWARDS__CREATE_AWARD_PENDING",d="COMMUNITY_AWARDS__CREATE_AWARD_SUCCESSFUL",u="COMMUNITY_AWARDS__CREATE_AWARD_FAILED",l="COMMUNITY_AWARDS__DELETE_AWARD_PENDING",b="COMMUNITY_AWARDS__DELETE_AWARD_SUCCESSFUL",p="COMMUNITY_AWARDS__DELETE_AWARD_FAILED",m="COMMUNITY_AWARDS__DISABLE_AWARD_PENDING",f="COMMUNITY_AWARDS__DISABLE_AWARD_SUCCESSFUL",O="COMMUNITY_AWARDS__DISABLE_AWARD_FAILED",g="COMMUNITY_AWARDS__MANAGEABLE_AWARDS_PENDING",j="COMMUNITY_AWARDS__MANAGEABLE_AWARDS_LOADED",h="COMMUNITY_AWARDS__MANAGEABLE_AWARDS_FAILED",y="COMUNITY_AWARDS__BLACKLIST_STATUS_LOADED",_="COMMUNITY_AWARDS__USABLE_AWARDS_PENDING",E="COMMUNITY_AWARDS__USABLE_AWARDS_LOADED",I="COMMUNITY_AWARDS__USABLE_AWARDS_FAILED",v="GIVE_PREMIUM__GIVE_PREMIUM_PENDING",S="GIVE_PREMIUM__GIVE_PREMIUM_SUCCESSFUL",T="GIVE_PREMIUM__GIVE_PREMIUM_FAILED",C="GIVE_PREMIUM__SELECT_PACKAGE",w="GIVE_PREMIUM__SET_IS_ANONYMOUS",D="GIVE_PREMIUM__SET_INCLUDE_MESSAGE",x="GIVE_PREMIUM__UPDATE_MESSAGE",P="GILD__SET_IS_ANONYMOUS",A="GILD__SET_INCLUDE_MESSAGE",R="GILD__UPDATE_MESSAGE",k="GILD__TRIGGER_LOADER",N="GILD__GILD_PENDING",L="GILD__GILD_SUCCESSFUL",M="GILD__GILD_FAILED",U="GIVE_AWARD__SELECT_AWARD",F="AWARDS__REPORT_AWARD",B="AWARDS__GIVE_AWARD_TOOLTIP_CLOSED",G="AWARDS__GIVE_AWARD_TOOLTIP_OPENED"},"./src/reddit/actions/gold/modals.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"f",(function(){return E}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/messageIframeParent/index.ts"),o=n("./src/reddit/helpers/isPost.ts"),i=n("./src/reddit/selectors/gild.ts"),c=n("./src/reddit/helpers/correlationIdTracker.ts"),a=n("./src/reddit/actions/gold/communityAwards.ts"),d=n("./src/reddit/components/GildModal/getGildModalId.ts"),u=n("./src/reddit/selectors/posts.ts"),l=n("./src/reddit/selectors/subreddit.ts"),b=n("./src/telemetry/index.ts"),p=n("./src/reddit/actions/gold/constants.ts");const m=Object(r.a)(p.H),f=Object(r.a)(p.c),O=()=>async(e,t)=>{const r=t();e(f()),Object(c.b)(c.a.GiftPremiumFlow);const{clickCloseModalEvent:s}=await n.e("givePremiumTrackers").then(n.bind(null,"./src/reddit/helpers/trackers/givePremium.ts"));Object(b.a)(s()(r))},g=Object(r.a)(p.G),j=(e,t)=>async(n,r)=>{const s=r(),i=Object(d.a)(e,t);n(g({thingId:e,gildModalId:i}));const c=Object(l.K)(s,{thingId:e});if(c)Object(a.h)(c.id);else if(Object(o.a)(e)){const t=Object(u.J)(s,{postId:e});if(!t)return;Object(a.h)(t.belongsTo.id)}else;},h=Object(r.a)(p.b),y=Object(r.a)(p.F),_=()=>async(e,t)=>{const r=t(),o=Object(i.d)(r);if(Object(i.h)(r)){const e="close.gild";Object(s.a)({type:e})}e(h());const{clickCloseGildModalEvent:a}=await Promise.resolve().then(n.bind(null,"./src/reddit/helpers/trackers/gild.ts"));Object(b.a)(a(o)(r)),Object(c.b)(c.a.GildingFlow)},E=()=>async()=>{Object(s.a)({type:"login.gild"})}},"./src/reddit/actions/goldPurchaseModals/coinPurchaseModal.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return j})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return y})),n.d(t,"h",(function(){return _})),n.d(t,"k",(function(){return E})),n.d(t,"j",(function(){return I})),n.d(t,"d",(function(){return v})),n.d(t,"i",(function(){return T}));var r=n("./src/app/strings/index.ts"),s=n("./src/config.ts"),o=n("./src/lib/formatApiError/index.ts"),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/reddit/actions/goldPurchaseModals/payment.ts"),a=n("./src/reddit/endpoints/gold/purchase.ts"),d=n("./src/reddit/helpers/correlationIdTracker.ts"),u=n("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),l=n("./src/reddit/models/Gold/Award.ts"),b=n("./src/reddit/models/Gold/Coins/index.ts"),p=n("./src/reddit/selectors/goldPurchaseModals.ts"),m=n("./src/reddit/selectors/user.ts");const f="COIN_PURCHASE_MODAL__OPEN_COIN_PURCHASE_MODAL",O="COIN_PURCHASE_MODAL__CLOSE_COIN_PURCHASE_MODAL",g=Object(i.a)(f),j=Object(i.a)(O),h="COIN_PURCHASE_MODAL__OPEN_COIN_PURCHASE_MODAL_TO_GILD",y=Object(i.a)(h),_=(e,t,n,r)=>async s=>{s(y({thingId:n}));const o=Object(b.b)(e,t),i=Object(d.c)(d.a.GoldPayment);s(C({coinPackage:o,correlationId:i,isOldReddit:r}))},E=(e,t)=>async(n,s,i)=>{let{apiContext:u}=i;const l=s(),b=t.coins,f=t.pennies,O=Object(d.c)(d.a.GoldPayment),g=Object(m.S)(l);let j,h;n(Object(c.stripeTokenPending)());const y=Object(p.v)(l);if(y||(j=await n(Object(c.validateAndCreateStripeToken)(e)),h=Object(p.r)(l),j))try{const e=await Object(a.g)({coins:b,context:u(),correlationId:O,language:g,pennies:f,rememberCard:h,savedCardId:y||void 0,token:j});if(e.error){const t=Object(o.a)(g,e.error,e.status);return void n(Object(c.stripeApiError)(t))}return void n(Object(c.paymentCompleted)({coins:e.body.coins?e.body.coins:0,confirmed:!1}))}catch(_){const e=Object(o.a)(g,_);n(Object(c.stripeApiError)(e))}else n(Object(c.stripeApiError)(Object(r.a)(g,"error.type.genericCardValidation")))},I=(e,t,s)=>async(i,b,f)=>{let{apiContext:O}=f;const g=b(),h=t.coins,y=t.pennies,_=Object(d.c)(d.a.GoldPayment),E=Object(m.S)(g);let I,v;i(Object(c.stripeTokenPending)());const S=Object(p.v)(g);if(S||(I=await i(Object(c.validateAndCreateStripeToken)(e)),v=Object(p.r)(g),I))try{const{gildModalThingId:e,isAnonymous:t,includeMessage:d,message:b,selectedAward:p}=g.gild;if(!e||!p.id)return void i(Object(c.stripeApiError)(Object(r.a)(E,"gold.errors.unknowngild")));const m=p.id,f={gildType:m,includeMessage:d,isAnonymous:t,message:b},T=await Object(a.f)({coins:h,context:O(),correlationId:_,gildParams:f,isOldReddit:s,language:E,pennies:y,rememberCard:v,savedCardId:S||void 0,thingId:e,token:I});if(T.error){const e=Object(o.a)(E,T.error,T.status);return void i(Object(c.stripeApiError)(e))}{const{gildSuccessful:t}=await n.e("gildActions").then(n.bind(null,"./src/reddit/actions/gold/gild.ts"));i(j()),i(Object(c.paymentCompleted)({confirmed:!1}));const{all_awardings:r,coins:s}=T.body;return void i(t({awardId:m,awardings:r&&r.length?Object(u.a)(r).map(e=>({award:Object(l.d)(e),total:e.count})):[],coins:s,id:e}))}}catch(T){const e=Object(o.a)(E,T);i(Object(c.stripeApiError)(e))}else i(Object(c.stripeApiError)(Object(r.a)(E,"error.type.genericCardValidation")))},v="COIN_PURCHASE_MODAL__PAYMENT_BLOB_CREATED",S=Object(i.a)(v),T=e=>{let{coinPackage:t,correlationId:n}=e;return async(e,r,i)=>{let{apiContext:d}=i;e(g({coinPackage:t}));const u=r(),l=s.a.paypal.buttons["coins".concat(t.coins)]||s.a.paypal.buttons.coins500,b=Object(m.S)(u);try{const t=await Object(a.d)({buttonId:l,context:d(),correlationId:n,language:b});if(t.error){const n=Object(o.a)(b,t.error,t.status);e(Object(c.paypalApiError)(n))}else e(S(t))}catch(p){const t=Object(o.a)(b,p);e(Object(c.paypalApiError)(t))}}},C=e=>{let{coinPackage:t,correlationId:n,isOldReddit:i}=e;return async(e,d,u)=>{let{apiContext:l}=u;e(g({coinPackage:t}));const b=d(),p=s.a.paypal.buttons["coinsGild".concat(t.coins)]||s.a.paypal.buttons.coinsGild500,f=Object(m.S)(b),{gildModalThingId:O,isAnonymous:j,message:h,selectedAward:y}=b.gild,_=y.id;if(O&&_)try{const t=await Object(a.c)({buttonId:p,context:l(),correlationId:n,gildTypeName:_,isAnonymous:j,isOldReddit:i,language:f,message:h,thingId:O});if(t.error){const n=Object(o.a)(f,t.error,t.status);e(Object(c.paypalApiError)(n))}else e(S(t))}catch(E){const t=Object(o.a)(f,E);e(Object(c.paypalApiError)(t))}else e(Object(c.paypalApiError)(Object(r.a)(f,"gold.errors.unknowngild")))}}},"./src/reddit/actions/goldPurchaseModals/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"p",(function(){return j})),n.d(t,"q",(function(){return h})),n.d(t,"r",(function(){return y}));const r="GOLD_PAYMENT__CARD_NAME_EMPTY",s="GOLD_PAYMENT__CARD_NAME_INPUT",o="GOLD_PAYMENT__DELETE_SAVED_CARD",i="GOLD_PAYMENT__FETCHED_STRIPE_INFO",c="GOLD_PAYMENT__PAYMENT_COMPLETED",a="GOLD_PAYMENT__PAYPAL_API_ERROR",d="GOLD_PAYMENT__SAVED_CARDS_PENDING",u="GOLD_PAYMENT__SELECT_PAYMENT_METHOD",l="GOLD_PAYMENT__SELECT_SAVED_CARD",b="GOLD_PAYMENT__STRIPE_API_ERROR",p="GOLD_PAYMENT__STRIPE_ELEMENT_CHANGE",m="GOLD_PAYMENT__CARD_ERROR",f="GOLD_PAYMENT__STRIPE_TOKEN_PENDING",O="GOLD_PAYMENT__TOGGLE_REMEMBER_CARD",g="UPDATE_CARD_MODAL__CLOSE_UPDATE_CARD_MODAL",j="UPDATE_CARD_MODAL__UPDATE_CARD_FAILED",h="UPDATE_CARD_MODAL__UPDATE_CARD_PENDING",y="UPDATE_CARD_MODAL__UPDATE_CARD_SUCCESSFUL"},"./src/reddit/actions/goldPurchaseModals/payment.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"selectPaymentMethod",(function(){return u})),n.d(t,"paymentCompleted",(function(){return l})),n.d(t,"cardNameInput",(function(){return b})),n.d(t,"cardNameEmpty",(function(){return p})),n.d(t,"cardElementChange",(function(){return m})),n.d(t,"stripeTokenPending",(function(){return f})),n.d(t,"stripeTokenError",(function(){return O})),n.d(t,"stripeApiError",(function(){return g})),n.d(t,"paypalApiError",(function(){return j})),n.d(t,"validateAndCreateStripeToken",(function(){return h})),n.d(t,"toggleRememberCard",(function(){return y})),n.d(t,"selectSavedCard",(function(){return _})),n.d(t,"_deleteSavedCard",(function(){return E})),n.d(t,"deleteSavedCard",(function(){return I})),n.d(t,"loadSavedCards",(function(){return T}));var r=n("./src/lib/sentry/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/endpoints/gold/purchase.ts"),i=n("./src/reddit/actions/goldPurchaseModals/constants.ts"),c=n("./src/app/strings/index.ts"),a=n("./src/reddit/selectors/goldPurchaseModals.ts"),d=n("./src/reddit/selectors/user.ts");const u=Object(s.a)(i.i),l=Object(s.a)(i.f),b=Object(s.a)(i.b),p=Object(s.a)(i.a),m=Object(s.a)(i.l),f=Object(s.a)(i.n),O=Object(s.a)(i.m),g=Object(s.a)(i.k),j=Object(s.a)(i.g),h=e=>async(t,n)=>{const r=n(),s=Object(a.j)(r),{token:o,error:i}=await e.createToken({name:s});if(s.trim()){if(!i&&o)return o;t(O(i||void 0))}else{const e=Object(d.S)(r),n=Object(c.a)(e,"gold.checkoutForm.yourCardsNameFieldIsIncomplete");t(p({message:n}))}},y=Object(s.a)(i.o),_=Object(s.a)(i.j),E=Object(s.a)(i.d),I=e=>async(t,n,s)=>{let{apiContext:i}=s;t(E(e));try{const t=await Object(o.a)(i(),e);if(t.error)throw new Error(t.error.type)}catch(c){r.c.captureException(c)}},v=Object(s.a)(i.h),S=Object(s.a)(i.e),T=()=>async(e,t,n)=>{let{apiContext:s}=n;e(v());const i=t(),c=Object(d.S)(i);try{const t=await Object(o.b)(s(),c);if(t.error)throw new Error(t.error.type);const n=t.body.map(e=>({brand:e.brand,cardId:e.card_id,expirationMonth:e.exp_month,expirationYear:e.exp_year,last4:e.last4}));e(S(n)),n[0]&&e(_(n[0].cardId))}catch(a){r.c.captureException(a),e(S([]))}}},"./src/reddit/actions/goldPurchaseModals/premiumPurchaseModal.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return h}));var r=n("./src/config.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/app/strings/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/formatApiError/index.ts"),a=n("./src/reddit/actions/goldPurchaseModals/payment.ts"),d=n("./src/reddit/endpoints/gold/purchase.ts"),u=n("./src/reddit/helpers/correlationIdTracker.ts"),l=n("./src/reddit/selectors/user.ts");const b="PREMIUM_PURCHASE_MODAL__OPEN_PREMIUM_PURCHASE_MODAL",p="PREMIUM_PURCHASE_MODAL__CLOSE_PREMIUM_PURCHASE_MODAL",m=Object(s.a)(b),f=Object(s.a)(p),O=e=>async(t,n,r)=>{let{apiContext:s}=r;const b=n(),p=i.lb,m=Object(u.c)(u.a.GoldPayment),f=Object(l.S)(b);t(Object(a.stripeTokenPending)());const O=await t(Object(a.validateAndCreateStripeToken)(e));if(O)try{const e=await Object(d.h)({context:s(),correlationId:m,language:f,pennies:p,token:O});if(e.error){const n=Object(c.a)(f,e.error);t(Object(a.stripeApiError)(n))}else t(Object(a.paymentCompleted)({confirmed:!1}))}catch(g){const e=Object(c.a)(f,g);t(Object(a.stripeApiError)(e))}else t(Object(a.stripeApiError)(Object(o.a)(f,"error.type.genericCardValidation")))},g="PREMIUM_PURCHASE_MODAL__PAYMENT_BLOB_CREATED",j=Object(s.a)(g),h=e=>async(t,n,s)=>{let{apiContext:o}=s;t(m());const i=n(),u=Object(l.S)(i),b=r.a.paypal.buttons.premium;try{const n=await Object(d.e)({buttonId:b,context:o(),correlationId:e,language:u});if(n.error){const e=Object(c.a)(u,n.error);t(Object(a.paypalApiError)(e))}else t(j(n))}catch(p){const e=Object(c.a)(u,p);t(Object(a.paypalApiError)(e))}}},"./src/reddit/actions/governance/communityDetails.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/endpoints/governance/community.ts"),o=n("./src/reddit/actions/governance/constants.ts");const i=Object(r.a)(o.a),c=e=>{let{subredditId:t}=e;return async(e,n,r)=>{let{apiContext:o}=r;const c=await Object(s.a)(o(),{subredditId:t});c.ok&&e(i(Object.assign({subredditId:t},c.body)))}}},"./src/reddit/actions/governance/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return O})),n.d(t,"o",(function(){return g})),n.d(t,"p",(function(){return j})),n.d(t,"q",(function(){return h})),n.d(t,"r",(function(){return y})),n.d(t,"s",(function(){return _})),n.d(t,"t",(function(){return E})),n.d(t,"u",(function(){return I})),n.d(t,"v",(function(){return v})),n.d(t,"w",(function(){return S})),n.d(t,"x",(function(){return T}));const r="GOVERNANCE__COMMUNITY_DETAILS_SUCCESS",s="GOVERNANCE__NEW_SUBREDDIT_SUGGESTED",o="GOVERNANCE__NEW_TOP_MOD_SUGGESTED",i="GOVERNANCE__OPT_OUT_IN_PENDING",c="GOVERNANCE__OPT_OUT_MODAL_OPENED",a="GOVERNANCE__PROPOSAL_CREATION_FAILURE",d="GOVERNANCE__PROPOSAL_CREATION_PENDING",u="GOVERNANCE__PROPOSAL_CREATION_SUCCESS",l="GOVERNANCE__PROPOSAL_OPTION_VOTE_FAILURE",b="GOVERNANCE__PROPOSAL_OPTION_VOTE_PENDING",p="GOVERNANCE__PROPOSAL_OPTION_VOTE_SUCCESS",m="GOVERNANCE__PUBLIC_WALLET_INFO_FAILURE",f="GOVERNANCE__PUBLIC_WALLET_INFO_PENDING",O="GOVERNANCE__PUBLIC_WALLET_INFO_SUCCESS",g="GOVERNANCE__RELEASE_NOTES_MODAL_OPENED",j="GOVERNANCE__RELEASE_NOTES_SUCCESS",h="GOVERNANCE__TRANSFER_FAILURE",y="GOVERNANCE__TRANSFER_MODAL_OPENED",_="GOVERNANCE__TRANSFER_PENDING",E="GOVERNANCE__TRANSFER_SUCCESS",I="GOVERNANCE__WALLETS_FETCH_FAILURE",v="GOVERNANCE__WALLETS_FETCH_PENDING",S="GOVERNANCE__WALLETS_FETCH_SUCCESS",T="GOVERNANCE__WALLET_REGISTRATION_MODAL_OPENED"},"./src/reddit/actions/governance/errorToast.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./src/reddit/actions/toaster.ts"),s=n("./src/reddit/helpers/governanceErrorText/index.ts"),o=n("./src/reddit/models/Toast/index.ts");function i(e,t){e(Object(r.e)({duration:5e3,kind:o.b.Error,text:Object(s.a)(t)}))}},"./src/reddit/actions/governance/publicWalletsFetched.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/endpoints/governance/wallet.ts"),o=n("./src/reddit/actions/governance/constants.ts");const i=Object(r.a)(o.m),c=Object(r.a)(o.n),a=Object(r.a)(o.l);t.a=e=>async(t,n,r)=>{let{apiContext:o}=r;t(i({subredditId:e.subredditId}));const d=await Object(s.b)(o(),e);d.ok?t(c(Object.assign({subredditId:e.subredditId},d.body))):t(a({error:d.error}))}},"./src/reddit/actions/grantUserFlair/constants.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"k",(function(){return c})),n.d(t,"j",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m}));const r="SUBREDDIT__FLAIRED_USERS_PENDING",s="SUBREDDIT__FLAIRED_USERS_LOADED",o="SUBREDDIT__FLAIRED_USERS_FAILED",i="SUBREDDIT__FLAIRED_USERS_SEARCH_PENDING",c="SUBREDDIT__FLAIRED_USERS_SEARCH_LOADED",a="SUBREDDIT__FLAIRED_USERS_SEARCH_FAILED",d="SUBREDDIT__FLAIRED_USERS_OWNFLAIR_CHANGED",u="SUBREDDIT__FLAIRED_USERS_AUTHORFLAIR_ADDED",l="SUBREDDIT__FLAIRED_USERS_AUTHORFLAIR_CHANGED",b="SUBREDDIT__FLAIRED_USERS_DELETE_PENDING",p="SUBREDDIT__FLAIRED_USERS_DELETE_COMPLETED",m="SUBREDDIT__FLAIRED_USERS_DELETE_FAILED"},"./src/reddit/actions/harbergerTax/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return b}));const r="HARBERGER_TAX__BANNER_MANAGE_MODAL_OPENED",s="HARBERGER_TAX__BANNER_PURCHASE_MODAL_OPENED",o="HARBERGER_TAX__BANNER_CRYPTO_MANAGE_MODAL_OPENED",i="HARBERGER_TAX__BANNER_CRYPTO_PURCHASE_MODAL_OPENED",c="HARBERGER_TAX__BANNER_PURCHASE_FAILURE",a="HARBERGER_TAX__BANNER_PURCHASE_PENDING",d="HARBERGER_TAX__BANNER_PURCHASE_SUCCESS",u="HARBERGER_TAX__BANNER_UPDATE_FAILURE",l="HARBERGER_TAX__BANNER_UPDATE_PENDING",b="HARBERGER_TAX__BANNER_UPDATE_SUCCESS"},"./src/reddit/actions/header.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return p}));var r=n("./src/lib/makeActionCreator/index.ts");const s="HEADER__SUBSCRIPTIONS_PINNED",o="HEADER__SUBSCRIPTIONS_UNPINNED",i=Object(r.a)(s),c=Object(r.a)(o),a="HEADER__DROPDOWN_CLOSED",d="HEADER__DROPDOWN_OPENED",u="HEADER__DROPDOWN_TOGGLED",l=Object(r.a)(a),b=Object(r.a)(d),p=Object(r.a)(u)},"./src/reddit/actions/imageUploads.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"j",(function(){return f})),n.d(t,"l",(function(){return O})),n.d(t,"i",(function(){return g})),n.d(t,"h",(function(){return j})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return _})),n.d(t,"m",(function(){return E}));n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/sentry/index.ts"),o=n("./src/lib/uploadToS3/index.ts"),i=n("./src/reddit/helpers/getGenericUploadError.ts"),c=n("./src/reddit/models/Image/index.tsx"),a=n("./src/reddit/selectors/imageUploads.ts");const d="IMAGE_UPLOADS__IMAGE_UPLOAD_PENDING",u="IMAGE_UPLOADS__IMAGE_UPLOAD_LOADED",l="IMAGE_UPLOADS__IMAGE_UPLOAD_SAVED",b="IMAGE_UPLOADS__IMAGE_UPLOAD_FAILED",p="IMAGE_UPLOADS__IMAGE_UPLOAD_CANCELED",m=Object(r.a)(d),f=Object(r.a)(u),O=Object(r.a)(l),g=Object(r.a)(b),j=Object(r.a)(p),h=async(e,t,n,r)=>{if(!t.ok)throw Object(c.k)(n,t.error);let s,i=t.body;"s3UploadLease"in i&&(i=i.s3UploadLease,s=t.body.websocketUrl);const a=await Object(o.a)(n.file,i);if(a.ok){if(!e.imageUploads[n.id])return void Object(c.d)(n);const t=decodeURIComponent(a.body.PostResponse.Location);return Object(c.n)(n,t,s,r)}throw Object(c.k)(n,a.error)};function y(e){return e.split("/").pop()}const _=(e,t)=>new Promise((n,r)=>{const o=Object(a.b)(e,t);if(!o.length)return n(null);const i=o[0].websocketUrl;if(!i)return r(new Error("ImageUploads: No websocket URL found"));const c={};for(let e=0;e<o.length;e++){const t=o[e],n=y(t.url);c[n]=t}const d=o.length,u=new WebSocket(i);u.onopen=e=>{u.onerror=null,n({websocket:u,imagesByKey:c,imageCount:d})},u.onerror=e=>{u.close();const t=new Error("ImageUploads: Failed to connect to websocket");s.c.captureException(t),r()}}),E=e=>(t,n,r)=>{let{apiContext:o}=r;return new Promise((n,r)=>{const{websocket:o}=e;let{imageCount:a,imagesByKey:d}=e;function u(){for(const e in d){const n=d[e],r=Object(c.o)(n,n.url);t(O(r))}n(),o.close()}d=Object.assign({},d);let l=setTimeout(u,6e4);o.onmessage=e=>{clearTimeout(l);const r=JSON.parse(e.data);if(r&&"success"===r.type){const e=r.payload.url,n=y(e),s=d[n];if(!s)return;a-=1,delete s[n];const o=Object(c.o)(s,e);t(O(o))}else{const e=y(r.payload.image_key),n=d[e];if(!n)return;a-=1,delete n[e];const s=Object(i.a)(r.payload.image_key),o=Object(c.k)(n,s);t(g(o))}a?l=setTimeout(u,6e4):(o.close(),n())},o.onerror=e=>{clearTimeout(l);const n=Object(i.a)("websocket");for(const r in d){const e=d[r],s=Object(c.k)(e,n);t(g(s))}o.close();const a=new Error("ImageUploads: WebSocket connection failed before all messages received");s.c.captureException(a),r()}})}},"./src/reddit/actions/inContextModeration.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c}));var r=n("./src/lib/makeActionCreator/index.ts");const s="INCONTEXT__BANNED",o="INCONTEXT__MUTED",i=Object(r.a)(s),c=Object(r.a)(o)},"./src/reddit/actions/inFeedChaining.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return T})),n.d(t,"e",(function(){return w}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/telemetry/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/lib/makeListingKey/index.ts"),c=n("./src/reddit/actions/discoveryUnit.ts"),a=n("./src/reddit/actions/subreddit/similarSubreddit.ts"),d=n("./src/reddit/actions/subreddit/subredditPosts.ts"),u=n("./src/reddit/actions/toaster.ts"),l=n("./src/reddit/constants/inFeedChaining.ts"),b=n("./src/reddit/constants/page.ts"),p=n("./src/reddit/endpoints/subreddit/similar.ts"),m=n("./src/reddit/helpers/localStorage/index.ts"),f=n("./src/reddit/helpers/trackers/discoveryUnit.ts"),O=n("./src/reddit/i18n/utils.ts"),g=n("./src/reddit/models/Toast/index.ts"),j=n("./src/reddit/selectors/inFeedChaining.ts"),h=n("./src/reddit/selectors/posts.ts"),y=n("./src/reddit/selectors/subreddit.ts");const _="FEED_CHAINING__CHAIN_LOADED",E=Object(o.a)(_),I=e=>{const t=Date.now()-e,n=Object(m.s)();return Object.keys(n).filter(e=>n[e].when>=t).map(e=>n[e])},v=e=>{let{listingName:t,listingKey:n,postId:o}=e;return async(e,u)=>{if(!o)return;if(!(t===b.g||t===b.c))return;0===I(s.db).length&&Object(m.U)(!1);let O=u();if(Object(j.d)(O,{listingKey:n,postId:o})||Object(j.a)(O).length>=l.a||Object(m.A)()||I(s.w).length>=l.a)return;const g=Object(h.x)(O,{listingKey:n,postId:o});if(g&&g.isSponsored)return;await e(Object(c.h)()),O=u();const _=Object(j.b)(O,{listingName:t});if(!_)return;const v=Object(h.U)(O,{postId:o});if(!v||Object(j.e)(O,{subredditId:v.id})||(e=>{return I(s.w).some(t=>t.subredditId===e)})(v.id))return;const S={subredditIds:[v.id],count:l.b,variant:p.a.Factorization};await e(Object(a.b)(S));const T=Object(a.a)(S);O=u();const C=Object(y.x)(O,{key:T});0!==C.length?(await Promise.all(C.map(t=>e((e=>async(t,n)=>{const r=s.Ob.DAY.toUpperCase(),o=Object(i.a)(e,s.N.TOP,{t:r});Object(h.C)(n(),{listingKey:o}).length>0||await t(Object(d.a)({range:r,sort:s.H.TOP,subredditName:e}))})(t.name)))),O=u(),Object(j.f)(O,{postId:o}).length<l.c?Object(r.a)(Object(f.b)(_,"other",v)(O)):(Object(m.a)(o,v.id),Object(r.a)(Object(f.c)(_,v)(O)),e(E({listingKey:n,postId:o})))):Object(r.a)(Object(f.b)(_,"no_chaining",v)(O))}},S="FEED_CHAINING__CHAIN_TOGGLED",T=(Object(o.a)(S),"FEED_CHAINING__CHAINING_TOGGLED"),C=Object(o.a)(T),w=()=>async e=>{Object(m.U)(!0),e(C({isDismissed:!0})),e(Object(u.e)(Object(u.d)(Object(O.c)("You'll see this less often."),g.b.Undo,Object(O.c)("Undo"),async()=>{Object(m.U)(!1),e(C({isDismissed:!1}))})))}},"./src/reddit/actions/jsApi.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n("./src/lib/makeActionCreator/index.ts");const s="JSAPI__CONSUMER_SUBSCRIBED",o=Object(r.a)(s)},"./src/reddit/actions/layers.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/toaster.ts"),o=n("./src/lib/makeGqlRequest/index.ts"),i=n("./src/graphql/operations/CreateLayer.json");var c=n("./src/reddit/endpoints/post/create.ts"),a=n("./src/reddit/i18n/utils.ts"),d=n("./src/reddit/models/Toast/index.ts"),u=n("./src/reddit/selectors/layers.ts");n.d(t,"a",(function(){return l})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"j",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"h",(function(){return j})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return _})),n.d(t,"i",(function(){return E})),n.d(t,"l",(function(){return I}));const l="SUBREDDIT__CREATE_LAYER",b=Object(r.a)(l),p="SUBREDDIT__SAVE_LAYER_DRAFT",m=Object(r.a)(p),f="SUBREDDIT__OPEN_LAYER_DRAFT",O=Object(r.a)(f),g="SUBREDDIT__DELETE_LAYER_DRAFT",j=Object(r.a)(g),h="SUBREDDIT__LAYER_SUBMIT_SUCCEEDED",y=Object(r.a)(h),_="SUBREDDIT__LAYER_SUBMIT_FAILED",E=Object(r.a)(_),I=e=>async(t,n,r)=>{let{gqlContext:l}=r;const b=new WebSocket(e),p=Object(u.a)(n()),m=()=>{t(E());const e=Object(s.d)(Object(a.c)("Layer upload Error"),d.b.Error);t(Object(s.e)(e)),b.close()};b.onmessage=async e=>{const n=JSON.parse(e.data),r="success"===n.type?n.payload.redirect:"",u=Object(c.d)(r);if(u&&p){if((await((e,t,n)=>Object(o.a)(e,Object.assign({},i,{variables:{postId:t,box:n}})))(l(),u,p)).ok){t(y());const e=Object(s.d)(Object(a.c)("Layer has been successfully created"),d.b.SuccessCommunityGreen);return t(Object(s.e)(e)),void b.close()}m()}else m()},b.onerror=m}},"./src/reddit/actions/leaderboard/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i}));const r="LEADERBOARD__DATE_RANGE_CHANGED",s="LEADERBOARD__DATE_RANGE_FETCH_FAILURE",o="LEADERBOARD__DATE_RANGE_FETCH_PENDING",i="LEADERBOARD__DATE_RANGE_FETCH_SUCCESS"},"./src/reddit/actions/login.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return p}));var r=n("./src/reddit/actions/modal.ts"),s=n("./src/reddit/actions/preferences.ts"),o=n("./src/reddit/constants/modals.ts"),i=n("./src/reddit/constants/postLayout.ts");const c=e=>async(t,n)=>{t(Object(r.i)(e)),!n().user.prefs.layout&&t(Object(s.u)(i.d.Card))},a=()=>async(e,t)=>{e(c(o.a.LOGIN_MODAL_ID))},d=()=>async e=>{e(c(o.a.REGISTER_MODAL_ID))},u=()=>async e=>{e(c(o.a.CHANGE_PASSWORD_MODAL_ID))},l=()=>async e=>{e(c(o.a.ENABLE_TWO_FACTOR))},b=()=>async e=>{e(c(o.a.DISABLE_TWO_FACTOR))},p=()=>async e=>{e(c(o.a.TWO_FACTOR_BACKUP_CODES))}},"./src/reddit/actions/media.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts"),a=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),d=n("./src/reddit/models/Media/index.ts"),u=n("./src/reddit/actions/video.ts");n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"f",(function(){return j}));const l="MEDIA__SET_MUTE",b=Object(r.a)(l),p="MEDIA__SET_VOLUME",m=Object(r.a)(p),f=(e,t)=>async(n,r)=>{n(b(e)),!e&&t&&n(Object(u.F)(t))},O="MEDIA__EMBED_HEIGHT_MEASURED",g=Object(r.a)(O),j=e=>{let{height:t,isDeleted:n,postId:r}=e;return async(e,u,l)=>{let{apiContext:b}=l;const p=u(),{media:m}=p.posts.models[r];e(g({height:t,isDeleted:n,postId:r})),null!==m&&m.type===d.n.EMBED&&m.provider===d.t.Twitter&&m.height!==t&&await((e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:Object(a.a)("".concat(e.apiUrl,"/api/set_twitter")),method:s.bb.POST,data:{height:n,link:t}}))(b(),r.substr(3),t)}}},"./src/reddit/actions/meta.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n("./src/lib/makeActionCreator/index.ts");const s="META__GEO_CHANGED",o=Object(r.a)(s),i="META__META_RECEIVED";Object(r.a)(i)},"./src/reddit/actions/modMode.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./node_modules/js-cookie/src/js.cookie.js"),s=n.n(r),o=n("./src/config.ts"),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/reddit/constants/cookie.ts");const a="MOD_MODE_TOGGLED",d=Object(i.a)(a),u=e=>async(t,n,r)=>{let i,{apiContext:a}=r;if(void 0!==e)i=e;else{i="false"===s.a.get(c.c)}s.a.set(c.c,i,{domain:o.a.cookieDomain});(document.cookie.match(/mod_mode_enabled=/g)||[]).length>1&&s.a.set(c.c,"",{expires:0,path:"/"});t(d({enabled:i}))}},"./src/reddit/actions/modQueue/constants.ts":function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"i",(function(){return s})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"n",(function(){return d})),n.d(t,"m",(function(){return u})),n.d(t,"l",(function(){return l})),n.d(t,"q",(function(){return b})),n.d(t,"p",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"w",(function(){return f})),n.d(t,"v",(function(){return O})),n.d(t,"u",(function(){return g})),n.d(t,"t",(function(){return j})),n.d(t,"s",(function(){return h})),n.d(t,"r",(function(){return y})),n.d(t,"k",(function(){return _})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return I})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return S}));const r="MODQUEUE_PENDING",s="MODQUEUE_LOADED",o="MODQUEUE_FAILED",i="EDITED_PENDING",c="EDITED_LOADED",a="EDITED_FAILED",d="REPORTS_PENDING",u="REPORTS_LOADED",l="REPORTS_FAILED",b="SPAM_PENDING",p="SPAM_LOADED",m="SPAM_FAILED",f="UNMODERATED_PENDING",O="UNMODERATED_LOADED",g="UNMODERATED_FAILED",j="UNDOACTION_PENDING",h="UNDOACTION_LOADED",y="UNDOACTION_FAILED",_="MORE_MODERATED_SUBREDDITS_LOADED",E="ALL_MODERATED_COMMUNITIES_LOADED",I="ADD_SELECTED_ITEMS",v="BULK_SELECT_ITEMS",S="BULK_UNSELECT_ITEMS"},"./src/reddit/actions/modal.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"a",(function(){return j})),n.d(t,"k",(function(){return h}));var r=n("./src/lib/makeActionCreator/index.ts"),s=(n("./src/reddit/actions/media.ts"),n("./src/reddit/constants/modals.ts")),o=n("./src/reddit/endpoints/user/index.ts"),i=n("./src/reddit/helpers/localStorage/index.ts"),c=n("./src/reddit/selectors/activeModalId.ts"),a=n("./src/reddit/selectors/user.ts");const d="MODAL_TOGGLED",u=Object(r.a)(d),l="CLOSE_ALL_MODALS",b=Object(r.a)(l),p="REDESIGN_MODAL_CLOSED",m=(Object(r.a)(p),e=>async(t,n,r)=>{Object(c.b)(e)(n())&&t(u(e))}),f=e=>async(t,n,r)=>{Object(c.b)(e)(n())||t(u(e))},O=()=>async(e,t,n)=>{Object(i.T)(s.a.REDESIGN_MODAL,!0),Object(a.J)(t())&&Object(o.e)(n.apiContext())},g="SET_ACCOUNT_MANAGER_MODAL_DATA";var j;!function(e){e.Explore="explore",e.HeaderLogin="header_login",e.HeaderSignup="header_signup",e.Hide="hide",e.IdCard="id_card",e.Post="post",e.PromoBanner="promo",e.Reply="reply",e.Report="report",e.SubredditLeaderboard="subreddit_leaderboard",e.Save="save",e.Subscribe="subscribe",e.Vote="vote"}(j||(j={}));const h=Object(r.a)(g)},"./src/reddit/actions/moderatingSubreddits.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return p}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/profile/index.ts"),o=n("./src/reddit/endpoints/moderator/moderatingSubreddits.ts"),i=n("./src/reddit/models/User/index.ts"),c=n("./src/reddit/selectors/user.ts");const a="MOD_PERMS__REQUEST_LOADED",d=Object(r.a)("MOD_PERMS__REQUEST_PENDING"),u=Object(r.a)(a),l=Object(r.a)("MOD_PERMS__REQUEST_FAILED"),b=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();if(!s.user.account)return;if(s.isModeratorWithPostPerms)return;e(d());const i=await Object(o.a)(r());i.ok?e(u(i.body)):e(l(i.error))},p=()=>async(e,t)=>{const n=Object(c.i)(t());if(n){const t=Object(i.f)(n);await e(Object(s.b)(t))}}},"./src/reddit/actions/moderationLog/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));const r="SUBREDDIT__MODERATION_LOG_LOADED",s="SUBREDDIT__ALL_MODERATORS_LOADED"},"./src/reddit/actions/monthsToMinutes.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"j",(function(){return f})),n.d(t,"d",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"h",(function(){return h}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/constants/localStorage.ts"),o=n("./src/reddit/helpers/localStorage/index.ts"),i=n("./src/reddit/models/MonthsToMinutes/index.ts"),c=n("./src/reddit/selectors/monthsToMinutes.ts");const a="M2M_SUBSCRIPTIONS_NAMES_LOADED",d=(Object(r.a)(a),"M2M_APPLY_LOGGED_OUT_VOTE"),u=Object(r.a)(d),l="M2M_LOADED_FROM_LOCAL_STORAGE",b=Object(r.a)(l),p="M2M_EXPAND_ACCOUNT_COMPLETENESS",m=(Object(r.a)(p),"M2M_COLLAPSE_ACCOUNT_COMPLETENESS"),f=Object(r.a)(m),O="M2M_INIT_FROM_EMPTY_LOCAL_STORAGE",g=Object(r.a)(O),j=e=>({accountCompleteness:{collapsed:!1,step:i.a.Initial},homeFeed:{similar:[],topBanner:{isClosed:!1,viewsCount:0},views:e.homeFeed.views,votes:{}},postsCount:0,subreddits:e.subreddits,subscriptions:[],tooltip:{},views:e.views,votes:{comments:{},posts:{}}}),h=()=>async(e,t)=>{const n=t();try{const t=Object(o.n)(s.u);if(!t)return void e(g());const{loggedOutV4:r,loggedOutV5:a}=t;let d=null;if(a?d=a:r&&(d=(e=>({accountCompleteness:{collapsed:!1,step:i.a.Initial},homeFeed:{similar:[],topBanner:{isClosed:!1,viewsCount:0},views:e.homeFeed.views,votes:e.homeFeed.votes},postsCount:0,subreddits:e.subreddits,subscriptions:e.subscriptions,tooltip:{},views:e.views,votes:{comments:e.votes.comments,posts:e.votes.posts}}))(r)),!d)return void e(g());Object(c.w)(n)||(d=j(d)),e(b(d))}catch(r){e(g())}}},"./src/reddit/actions/monthsToMinutes/accountCompleteness.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n("./src/lib/makeActionCreator/index.ts");const s="M2M_SET_STEP",o=Object(r.a)(s)},"./src/reddit/actions/monthsToMinutes/homeFeed.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return g})),n.d(t,"a",(function(){return j})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return y})),n.d(t,"i",(function(){return _}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/discoveryUnit.ts"),o=n("./src/reddit/endpoints/category/subreddits.ts"),i=n("./src/reddit/endpoints/subreddit/similar.ts"),c=n("./src/reddit/models/MonthsToMinutes/index.ts"),a=n("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),d=n("./src/reddit/selectors/monthsToMinutes.ts"),u=n("./src/reddit/selectors/subreddit.ts");const l="M2M_SUBREDDIT_VOTED",b=Object(r.a)(l),p="M2M_SIMILAR_SUBREDDITS_LOADED",m=Object(r.a)(p),f=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=await Object(i.b)(s(),e);if(o.error)throw new Error(o.error.type);return o.body},O=()=>async(e,t)=>{const n=t();if(!Object(d.o)(n))return;if(Object(d.c)(n)!==c.a.Initial)return;const r=Object(d.F)(n);if(r.length>=c.c)return;const s=r.map(e=>Object(u.G)(n,e)).filter(Boolean),l=c.c-s.length;try{const t=await e(f({count:l,subredditIds:s,variant:i.a.Factorization}));let r;if(Object(a.c)(n))r=Object(o.b)(t);else{const n=await e(f({count:l,subredditIds:s,variant:i.a.CustomModRelevant})),c=Object(i.c)([t,n],l);r=Object(o.b)(c)}r.subredditIds.length>0&&e(m(r))}catch(b){}},g=()=>async(e,t)=>{const n=t();if(Object(d.n)(n))return;const r=Object(d.A)(n);if(0===r.length)return;const o=r.filter(Boolean).join("+");await e(Object(s.j)(o))},j="M2M_CLOSE_HOME_FEED_TOP_BANNER",h=Object(r.a)(j),y="M2M_VIEW_HOME_FEED_TOP_BANNER",_=Object(r.a)(y)},"./src/reddit/actions/monthsToMinutes/initHomeFeed.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return g}));var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/monthsToMinutes/accountCompleteness.ts"),i=n("./src/reddit/actions/page.ts"),c=n("./src/reddit/actions/subscription/index.ts"),a=n("./src/reddit/constants/posts.ts"),d=n("./src/reddit/helpers/monthsToMinutes/index.ts"),u=n("./src/reddit/models/MonthsToMinutes/index.ts"),l=n("./src/reddit/selectors/monthsToMinutes.ts"),b=n("./src/reddit/selectors/subreddit.ts"),p=n("./src/reddit/selectors/subscriptions.ts");const m="M2M_SET_HOME_FEED",f=Object(s.a)(m),O=()=>async(e,t)=>{let n=t();if(!Object(l.n)(n)){const r=Object(p.b)(n),s=Object(l.A)(n);if(r.length<u.c)for(const t of s){const r={name:t,type:a.a.SUBREDDIT};Object(b.cb)(n,{identifier:r})||await e(Object(c.d)([r],!0))}e(f(s)),n=t(),Object(d.d)(n)}},g=e=>{let{shouldPrepareData:t=!0}=e;return async e=>{t&&e(O()),e(Object(o.b)(u.a.HomeVisited)),e(Object(i.y)()),e(Object(r.b)("/"))}}},"./src/reddit/actions/monthsToMinutes/post.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return O}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/monthsToMinutes/accountCompleteness.ts"),i=n("./src/reddit/actions/monthsToMinutes/homeFeed.ts"),c=n("./src/reddit/actions/monthsToMinutes/initHomeFeed.ts"),a=n("./src/reddit/actions/pages/subreddit.ts"),d=n("./src/reddit/models/MonthsToMinutes/index.ts"),u=n("./src/reddit/models/Subreddit/index.ts"),l=n("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),b=n("./src/reddit/selectors/monthsToMinutes.ts"),p=n("./src/reddit/selectors/posts.ts");const m="M2M_POST_VIEWED",f=Object(s.a)(m),O=e=>async(t,n)=>{let s=n();if(!Object(b.w)(s))return;const m=Object(p.U)(s,{postId:e});if(m&&t(f({postId:e,subredditName:m.name})),Object(b.p)(s)){await t(Object(i.g)()),s=n();const e=Object(l.f)(s);if(e&&m&&!Object(u.d)(m))if(Object(b.l)(s)){t(Object(o.b)(d.a.BannerVisible)),await t(Object(c.c)()),s=n();const e=Object(b.e)(s);e&&await t(Object(a.h)(e,{sort:r.N.HOT}))}else Object(l.e)(e)&&await t(Object(a.h)(m.name,{sort:r.N.TOP}))}}},"./src/reddit/actions/monthsToMinutes/reset.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/page.ts"),o=n("./src/reddit/helpers/monthsToMinutes/index.ts"),i=n("./src/reddit/selectors/monthsToMinutes.ts");const c="M2M_RESET",a=Object(r.a)(c),d=()=>async(e,t)=>{const n=Object(i.n)(t());e(a()),Object(o.a)(),n&&e(Object(s.y)())}},"./src/reddit/actions/multireddit/constants.ts":function(e,t,n){"use strict";n.d(t,"q",(function(){return r})),n.d(t,"r",(function(){return s})),n.d(t,"s",(function(){return o})),n.d(t,"t",(function(){return i})),n.d(t,"u",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"h",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"m",(function(){return f})),n.d(t,"k",(function(){return O})),n.d(t,"n",(function(){return g})),n.d(t,"o",(function(){return j})),n.d(t,"p",(function(){return h})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return E})),n.d(t,"A",(function(){return I})),n.d(t,"B",(function(){return v})),n.d(t,"z",(function(){return S})),n.d(t,"y",(function(){return T})),n.d(t,"v",(function(){return C})),n.d(t,"w",(function(){return w})),n.d(t,"x",(function(){return D})),n.d(t,"d",(function(){return x}));const r="MULTIREDDIT__MORE_POSTS_FAILED",s="MULTIREDDIT__MORE_POSTS_LOADED",o="MULTIREDDIT__MORE_POSTS_PENDING",i="MULTIREDDIT__MY_MULTIREDDITS_PENDING",c="MULTIREDDIT__MY_MULTIREDDITS_RECEIVED",a="MULTIREDDIT__CREATE_FAILURE",d="MULTIREDDIT__CREATE_PENDING",u="MULTIREDDIT__CREATE_SUCCESS",l="MULTIREDDIT__DELETE_PENDING",b="MULTIREDDIT__DELETE_SUCCESS",p="MULTIREDDIT__DELETE_FAILURE",m="MULTIREDDIT__DUPLICATE_PENDING",f="MULTIREDDIT__DUPLICATE_SUCCESS",O="MULTIREDDIT__DUPLICATE_FAILURE",g="MULTIREDDIT__EDIT_FAILURE",j="MULTIREDDIT__EDIT_PENDING",h="MULTIREDDIT__EDIT_SUCCESS",y="MULTIREDDIT__ADD_SUBREDDIT_FAILURE",_="MULTIREDDIT__ADD_SUBREDDIT_PENDING",E="MULTIREDDIT__ADD_SUBREDDIT_SUCCESS",I="MULTIREDDIT__SUBREDDIT_RECOMMENDATIONS_PENDING",v="MULTIREDDIT__SUBREDDIT_RECOMMENDATIONS_SUCCESS",S="MULTIREDDIT__SUBREDDIT_RECOMMENDATIONS_FAILURE",T=10,C="MULTIREDDIT__REMOVE_SUBREDDIT_FAILURE",w="MULTIREDDIT__REMOVE_SUBREDDIT_PENDING",D="MULTIREDDIT__REMOVE_SUBREDDIT_SUCCESS";var x;!function(e){e.InvalidSrQuarantine="INVALID_SR_QUARANTINE",e.TooManySubreddits="MULTI_TOO_MANY_SUBREDDITS"}(x||(x={}))},"./src/reddit/actions/multireddit/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./node_modules/react-router-redux/es/index.js"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/linkMatchers/customLinks.ts"),a=n("./src/lib/makeActionCreator/index.ts"),d=n("./src/lib/makeListingKey/index.ts"),u=n("./src/reddit/actions/modal.ts"),l=n("./src/reddit/actions/page.ts"),b=n("./src/reddit/actions/toaster.ts"),p=n("./src/reddit/constants/parameters.ts"),m=n("./src/lib/makeApiRequest/index.ts"),f=n("./src/lib/omitHeaders/index.ts"),O=n("./src/reddit/constants/headers.ts"),g=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),j=n("./src/graphql/operations/AllUserMultireddits.json"),h=n("./src/lib/makeGqlRequest/index.ts"),y=(e,t)=>Object(h.a)(e,Object.assign({},j,{variables:t})),_=n("./src/reddit/endpoints/page/multiredditListing.ts"),E=n("./src/graphql/operations/SubredditRecommendations.json"),I=n("./src/reddit/helpers/filterListingResponse/index.ts"),v=n("./src/reddit/helpers/graphql/normalizeMultiredditDataFromGql/index.ts"),S=n("./src/reddit/helpers/graphql/normalizeMultiredditListingFromGql/index.ts"),T=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),C=(n("./node_modules/core-js/modules/es6.regexp.split.js"),e=>{let t=e.over_18||!1;if(!t)for(const i of e.subreddits)if(i.data.over_18){t=!0;break}let n=e.quarantine||!1;if(!n)for(const i of e.subreddits){const e=(i.data.audience_target||"").split(",");if(i.data.quarantine||e.indexOf("unsafe")>-1){n=!0;break}}const r=e.subreddits.map(e=>{const t=e.data,{name:n,display_name:r}=t;return{id:n,displayName:r.toLowerCase()}}).sort((e,t)=>e.displayName.localeCompare(t.displayName)),s=r.filter(e=>!e.displayName.startsWith(i.Qb)).map(e=>e.id),o=r.filter(e=>e.displayName.startsWith(i.Qb)).map(e=>e.id);return{created:e.created_utc,description:e.description_md,descriptionHtml:e.description_html,descriptionRtJson:null,displayText:e.display_name,followerCount:e.num_subscribers,icon:e.icon_url,isFavorited:!!e.is_favorited,isFollowed:!1,isNSFW:t,isQuarantined:n,name:e.name,ownerId:e.owner_id,profileIds:o,subredditCount:e.subreddits.length,subredditIds:s,url:e.path.toLowerCase(),visibility:e.visibility}}),w=n("./src/reddit/i18n/utils.ts"),D=n("./src/reddit/models/Multireddit/index.ts"),x=n("./src/reddit/models/Toast/index.ts"),P=n("./src/reddit/selectors/multireddit.ts"),A=n("./src/reddit/selectors/platform.ts"),R=n("./src/reddit/selectors/subreddit.ts"),k=n("./src/reddit/selectors/user.ts"),N=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),L=n("./src/reddit/actions/multireddit/constants.ts");n.d(t,"f",(function(){return B})),n.d(t,"g",(function(){return V})),n.d(t,"b",(function(){return J})),n.d(t,"d",(function(){return $})),n.d(t,"a",(function(){return ne})),n.d(t,"i",(function(){return ie})),n.d(t,"c",(function(){return ue})),n.d(t,"e",(function(){return me})),n.d(t,"h",(function(){return je}));const M=Object(a.a)(L.q),U=Object(a.a)(L.r),F=Object(a.a)(L.s),B=e=>async(t,n,r)=>{const{gqlContext:s}=r,{sort:o=i.N.HOT,multiredditName:c,username:a}=e,u=n(),l=u.platform.currentPage,b=l?l.queryParams:{},p=Object(P.d)(u,{multiredditName:c,username:a}),m=Object(d.a)(p.url,o,b),f=u.listings.postOrder.loadMore[m];if(!f)return;const O=u.listings.postOrder.api.pending[m],g=u.listings.postOrder.fetchedTokens,j=g[m]&&g[m][f.token]||!1;if(O||j)return;t(F({key:m,fetchedToken:f.token}));const h=p.url.replace(/\/$/,""),y=b.t?b.t.toUpperCase():void 0,E={after:f.token,includeIdentity:!1,includeSources:!1,path:h,range:y,sort:o.toUpperCase()},v=await Object(_.a)(s(),E),{data:T}=v.body,C=Object(S.a)(T);v.ok&&T&&T.multireddit?t(U(Object.assign({fetchedToken:f.token,key:m,meta:u.meta},C,Object(I.a)(u,m,C),{multiredditsModelsState:u.multireddits.models}))):t(M(Object.assign({error:{type:i.D.NOT_FOUND_ERROR},fetchedToken:f.token,key:m},v.body,Object(I.a)(u,m,C))))},G=Object(a.a)(L.t),q=Object(a.a)(L.u),V=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return async(n,r,s)=>{let{apiContext:o,gqlContext:i}=s;const c=r();if(!Object(k.i)(c))return;if(!e&&Object(P.h)(c)||Object(P.i)(c))return;n(G());const a=await y(i(),{includeSources:t});if(a.ok){const e=a.body.data.identity.allMultireddits.edges.map(e=>e.node),t=Object(v.b)(e);n(q(Object.assign({},t,{multiredditsModelsState:c.multireddits.models})))}}},H=Object(a.a)(L.e),K=Object(a.a)(L.f),W=Object(a.a)(L.g),J=e=>{let{description:t,displayName:n,shouldNavigate:r}=e;return async(e,s,c)=>{let{apiContext:a}=c;const d=s(),l=Object(k.i)(d);if(!l)return;e(K());const p=await((e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:Object(g.a)("".concat(e.apiUrl,"/api/multi")),data:{model:JSON.stringify({description_md:n,display_name:t,visibility:"private",subreddits:[]})},method:i.bb.POST}))(a(),n,t);if(p.ok){const{id:t}=l;if(await e(W({multireddit:C(p.body.data),multiredditsModelsState:d.multireddits.models,userId:t})),r){e(Object(u.f)());const t=p.body.data.path.toLowerCase();await e(Object(o.b)(t))}e(Object(b.e)({text:Object(w.c)("Custom feed created!")}))}else e(H(p.error))}},Y=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=t(),c=Object(k.i)(o),a=Object(A.i)(o)?Object(A.m)(o):Object(A.b)(o),u=a&&a.routeMatch&&a.routeMatch.match;if(!u)return;const b=u.params,m=b.sort||i.N.HOT,{multiredditName:f,username:O}=b;if(!f)return;const g=Object(D.h)((O||c&&c.displayText||"").toLowerCase(),f.toLowerCase()),{queryParams:j}=u,h=Object(d.a)(g,m,j),y=p.t in j&&j[p.t].toUpperCase()||"",_=i.Ob[y]||!1,E=Object(k.i)(o);(O||E&&E.displayText)&&await e(Object(l.C)(h,(O||E.displayText).toLowerCase(),f.toLowerCase(),Object.assign({},s()(j,p.j),s()(j,p.i),{sort:m,t:Object(N.a)(m,_)})))},z=Object(a.a)(L.k),Q=Object(a.a)(L.l),X=Object(a.a)(L.m),$=e=>{let{description:t,displayName:n,fromName:r,fromUsername:s}=e;return async(e,c,a)=>{let{apiContext:d}=a;const l=c(),p=Object(k.i)(l);if(!p||!p.displayText)return;const j=Object(D.h)((s||p.displayText).toLowerCase(),r.toLowerCase());e(Q());const h=await((e,t)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:Object(g.a)("".concat(e.apiUrl,"/api/multi/copy")),data:{description_md:t.description,display_name:t.displayName,expand_srs:!0,from:t.from},method:i.bb.POST}))(d(),{from:j,displayName:n,description:t});if(h.ok){const t=C(h.body.data);e(Object(u.f)()),e(X({multireddit:t,multiredditsModelsState:l.multireddits.models,userId:p.id})),e(Object(b.e)({text:Object(w.c)("Custom feed duplicated!"),buttonText:Object(w.c)("Go there"),buttonAction:Object(o.b)(t.url)}))}else e(z(h.error)),e(Object(b.e)({text:Object(w.c)("Something went wrong duplicating ".concat(Object(w.b)("multiName",r)))}))}},Z=Object(a.a)(L.b),ee=Object(a.a)(L.c),te=Object(a.a)(L.a),ne=e=>{let{communityInfo:t,identifier:n,multiredditNames:r}=e;return async(e,s,o)=>{let{apiContext:a}=o;const d=s(),l=Object(k.i)(d);if(!l||d.multireddits.api.addSubreddit.pending)return;e(Z({name:n.name}));const{displayText:p}=l;if(!p)return;const j=r.map(e=>"/user/".concat(p.toLowerCase(),"/m/").concat(e.toLowerCase())).join(","),h="".concat("profile"===n.type?i.Qb:"").concat(n.name),y=await((e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:Object(g.a)("".concat(e.apiUrl,"/api/multi/bulk_add/r/").concat(t)),data:{paths:n},method:i.bb.PUT}))(a(),h,j);if(y.ok){const s=Object(R.L)(d,{identifier:n})||t&&t.id||"",o=r.map(e=>Object(D.h)(p,e));e(Object(u.f)()),e(Object(b.e)({text:Object(w.c)("Successfully added ".concat(Object(w.b)("prefix","subreddit"===n.type?c.d.subreddit:c.d.profile)).concat(Object(w.b)("communityname",n.name)," to ").concat(Object(w.b)("numcommunities",r.length)," custom ").concat(Object(w.a)("feeds",["feed","feeds"],r.length),"!"))})),await e(ee({communityInfo:t,id:s,multipaths:o,type:n.type})),1===r.length&&await e(Y())}else{e(te(y.error));let t=Object(w.c)("Sorry, something went wrong adding ".concat(Object(w.b)("subredditName",n.name),"."));y.body&&(y.body.reason===L.d.TooManySubreddits?t=Object(w.c)("Maximum communities reached"):y.body.reason===L.d.InvalidSrQuarantine&&(t=Object(w.c)("".concat(Object(w.b)("prefix","subreddit"===n.type?c.d.subreddit:c.d.profile)).concat(Object(w.b)("communityname",n.name)," is invalid because it is quarantined")))),e(Object(b.e)({text:t,kind:x.b.Error}))}}},re=Object(a.a)(L.w),se=Object(a.a)(L.x),oe=Object(a.a)(L.v),ie=e=>{let{id:t,multiredditName:n,name:r,type:s}=e;return async(e,o,c)=>{let{apiContext:a}=c;const d=o(),l=Object(k.i)(d);if(!l||!l.displayText||d.multireddits.api.removeSubreddit.pending)return;e(re({id:t}));const{displayText:p}=l,j=Object(D.h)(p,n),h="".concat("profile"===s?i.Qb:"").concat(r),y=await((e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:Object(g.a)("".concat(e.apiUrl,"/api/multi").concat(n,"r/").concat(t)),method:i.bb.DELETE}))(a(),h,j);y.ok?(e(Object(u.f)()),e(se({id:t,multipath:j,type:s})),e(Object(b.e)({text:Object(w.c)("".concat(Object(w.b)("subredditname",r)," removed from your custom feed!")),buttonText:Object(w.c)("undo"),buttonAction:ne({identifier:{name:r,type:s},multiredditNames:[n]})})),e(Y())):(e(oe(y.error)),e(Object(b.e)({text:Object(w.c)("Sorry, something went wrong removing ".concat(Object(w.b)("subredditName",r),"."))})))}},ce=Object(a.a)(L.h),ae=Object(a.a)(L.i),de=Object(a.a)(L.j),ue=e=>async(t,n,r)=>{let{apiContext:s}=r;const c=n();if(!Object(k.i)(c))return;t(ae());const a=await((e,t)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:Object(g.a)("".concat(e.apiUrl,"/api/multi").concat(t)),method:i.bb.DELETE}))(s(),e);a.ok?(await t(de(e)),t(Object(u.f)()),await t(Object(o.b)("/")),t(Object(b.e)({text:Object(w.c)("Custom feed deleted!")}))):t(ce(a.error))},le=Object(a.a)(L.n),be=Object(a.a)(L.o),pe=Object(a.a)(L.p),me=e=>{let{description:t,displayText:n,multipath:r,visibility:s}=e;return async(e,o,c)=>{let{apiContext:a}=c;const d=o();if(!Object(k.J)(d))return;e(be());const l=await(e=>{let{context:t,description:n,displayText:r,multipath:s,visibility:o}=e;return Object(m.b)(Object(f.a)(t,[O.a]),{endpoint:Object(g.a)("".concat(t.apiUrl,"/api/multi").concat(s)),data:{model:JSON.stringify({description_md:n,display_name:r,visibility:o}),expand_srs:!0},method:i.bb.PUT})})({context:a(),description:t,displayText:n,multipath:r,visibility:s});l.ok?(await e(pe(C(l.body.data))),e(Object(u.f)()),e(Object(b.e)({text:Object(w.c)("Custom feed updated!")}))):(e(le(l.error)),e(Object(b.e)({kind:x.b.Error,text:Object(w.c)("Something went wrong")})))}},fe=Object(a.a)(L.z),Oe=Object(a.a)(L.A),ge=Object(a.a)(L.B),je=e=>{let{multiredditName:t,username:n,toExcludeNames:r}=e;return async(e,s,o)=>{let{gqlContext:i}=o;const c=s(),a=Object(k.i)(c);if(!(n||a&&a.displayText))return;const d=Object(D.h)(n||a.displayText,t),u=c.multireddits.models[d];if(!u||!u.subredditIds)return;e(Oe());const l=r&&r.reduce((e,t)=>{const n=Object(R.G)(c,t)||Object(R.H)(c,t);return n?[...e,n]:e},[]),b=await((e,t)=>Object(h.a)(e,Object.assign({},E,{variables:t})))(i(),{count:L.y,subredditIds:u.subredditIds,toExclude:l});if(b.ok){const{data:t}=b.body;e(ge({multipath:d,subreddits:Object(T.b)(t)}))}else e(fe(b.error))}}},"./src/reddit/actions/notificationBanner.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c}));var r=n("./src/lib/makeActionCreator/index.ts");const s="NOTIFICATION_BANNER_SET",o="NOTIFICATION_BANNER_DISMISSED",i=Object(r.a)(s),c=Object(r.a)(o)},"./src/reddit/actions/notifications/constants.ts":function(e,t,n){"use strict";n.d(t,"l",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"p",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"o",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"m",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"k",(function(){return g})),n.d(t,"j",(function(){return j})),n.d(t,"i",(function(){return h}));var r=n("./src/lib/makeActionCreator/index.ts");const s="NOTIFICATIONS__SHOW_NOTIFICATION_PROMPT",o="NOTIFICATIONS__HIDE_NOTIFICATION_PROMPT",i=Object(r.a)(s),c=(Object(r.a)(o),"NOTIFICATIONS__PERMISSION_GRANTED"),a="NOTIFICATIONS__PERMISSION_DENIED",d=Object(r.a)("NOTIFICATIONS__PERMISSION_PENDING"),u=Object(r.a)(c),l=Object(r.a)(a);var b,p;!function(e){e[e.NotificationsSupported=0]="NotificationsSupported",e[e.BrowserUnsupported=1]="BrowserUnsupported",e[e.LocalStorageUnavailable=2]="LocalStorageUnavailable",e[e.NotAllRequiredAPIsSupported=3]="NotAllRequiredAPIsSupported"}(b||(b={})),function(e){e.Granted="granted",e.Denied="denied",e.Closed="closed",e.Default="default"}(p||(p={}));const m="PUSH__GET_PREFERENCES_PENDING",f="PUSH__GET_PREFERENCES_LOADED",O="PUSH__GET_PREFERENCES_FAILED",g="PUSH__SET_PREFERENCES_PENDING",j="PUSH__SET_PREFERENCES_LOADED",h="PUSH__SET_PREFERENCES_FAILED"},"./src/reddit/actions/nps.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/config.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/omitHeaders/index.ts"),a=n("./src/reddit/constants/headers.ts");var d=n("./node_modules/@r/frames/compiled.js"),u=n("./node_modules/lodash/debounce.js"),l=n.n(u),b=function(e){document.body.appendChild(function(e){let t;const n=l()((function(){t&&t.contentWindow&&d.postMessage(t.contentWindow,"resize.asknicely")}),500);return function(){return t=function(){const t=document.createElement("iframe");return t.src=e,t.setAttribute("allowTransparency","true"),t.style.display="block",t.style.width="100%",t.style.height="1px",t.style.background="transparent",t.style.border="none",t}(),d.listen("embedjail"),d.receiveMessage(t.contentWindow,"open.embedjail",(function(e){var r;r=e.detail,t.style.width=r.dimensions.width,t.style.height=r.dimensions.height,t.style.display="block",t.style.position="fixed",t.style.bottom=0,t.style.zIndex=2147483647,window.addEventListener("resize",n)})),d.receiveMessage(t.contentWindow,"close.embedjail",(function(e){t.parentElement.removeChild(t),d.stopListening("asknicely"),window.removeEventListener("resize",n),t=void 0})),window.addEventListener("message",(function(e){"https://live.asknice.ly"!==e.origin&&"https://reddit.asknice.ly"!==e.origin||e.data&&t&&t.contentWindow&&d.postMessage(t.contentWindow,e.data+".asknicely")})),t}}(e)())};n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return y}));const p="NPS__URL_PENDING",m="NPS__URL_LOADED",f="NPS__URL_FAILED",O=Object(r.a)(p),g=Object(r.a)(m),j=Object(r.a)(f);let h=!1;const y=()=>async(e,t,n)=>{const r=t();if(r.nps.pending)return;if(h)return;e(O());const d=r.platform.currentPage&&r.platform.currentPage.queryParams.feature||"",u=!!r.user.account,l=await((e,t,n)=>Object(i.b)(Object(c.a)(e,[a.a]),{data:{feature:t,app_name:"web2x"},endpoint:"".concat(n?s.a.oauthUrl:s.a.apiUrl,"/api/jail/asknicely").concat(n?"":".json"),method:o.bb.GET}))(n.apiContext(),d,u);if(l.ok){const t=l.body;t.dest?(e(g(t)),b(t.dest),h=!0):e(j())}else e(j())}},"./src/reddit/actions/oldSiteRules.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts");n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));const a="OLD_SITE_RULES_LOADED",d=Object(r.a)(a),u=()=>async(e,t,n)=>{let{apiContext:r}=n;const a=await(e=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/site_rules.json"),method:s.bb.GET}))(r());if(a.ok){const{site_rules:t}=a.body;e(d({oldSiteRules:t}))}}},"./src/reddit/actions/otherDiscussions/constants.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a}));n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./src/lib/constants/index.ts");const s=e=>e.includes("/".concat(r.xb.DUPLICATES,"/")),o=e=>e.replace("/comments/","/duplicates/"),i="OTHER_DISCUSSIONS_POSTS_FAILED",c="OTHER_DISCUSSIONS_POSTS_LOADED",a="OTHER_DISCUSSIONS_POSTS_PENDING"},"./src/reddit/actions/page.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.replace.js"),n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./node_modules/react-router-redux/es/index.js"),i=n("./src/app/strings/index.ts"),c=n("./src/lib/addQueryParams/index.ts"),a=n("./src/lib/getParsedUserAgent/index.ts"),d=n("./src/lib/truncateText/index.ts"),u=n("./src/reddit/actions/category.ts"),l=n("./src/reddit/actions/discoveryUnit.ts"),b=n("./src/reddit/actions/focusedVerticals/index.ts"),p=n("./src/reddit/actions/monthsToMinutes/post.ts"),m=n("./src/reddit/actions/multireddit/index.ts"),f=n("./src/lib/makeActionCreator/index.ts"),O=n("./src/lib/makeListingKey/index.ts"),g=n("./src/reddit/actions/otherDiscussions/constants.ts"),j=n("./src/lib/makeGqlRequest/index.ts"),h=n("./src/graphql/operations/OtherDiscussions.json"),y=n("./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts"),_=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),E=n("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts"),I=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),v=n("./src/reddit/models/Post/index.ts");const S=Object(f.a)(g.a),T=Object(f.a)(g.b),C=Object(f.a)(g.c),w=(e,t)=>async(n,r,s)=>{let{gqlContext:o}=s;const i=r(),c=Object(O.a)(e,null,{isOtherDiscussions:!0}),a=i.listings.postOrder.ids[c],d=!!i.listings.postOrder.api.error[c];if(a&&!d)return;n(C({key:c}));const u=await((e,t)=>Object(j.a)(e,Object.assign({},h,{variables:t})))(o(),t);if(!u.ok)return void n(S(u.error));const l=u.body,b=l&&l.data&&l.data.post;if(!b)return void n(T({count:0,key:c,meta:i.meta,postFlair:{},postId:e,postIds:[],posts:{},profiles:{},subreddits:{}}));const{otherDiscussions:p,otherDiscussionsCount:m}=b,{postFlair:f,postIds:g,posts:w,profiles:D,subreddits:x}=(e=>{const t={postFlair:{},postIds:[],posts:{},profiles:{},subreddits:{}},n=e=>{const n=Object(_.d)(e);t.posts[n.id]=n;const{crosspostRoot:r}=e;if(r&&r.type===v.a.Post&&r.postInfo){const e=Object(_.d)(r.postInfo);t.posts[e.id]=e}switch(e.__typename){case v.f.ProfilePost:t.profiles[e.profile.id]||(t.profiles[e.profile.id]=Object(E.a)(e.profile));break;case v.f.SubredditPost:t.subreddits[e.subreddit.id]||(t.subreddits[e.subreddit.id]=Object(I.a)(e.subreddit)),t.postFlair[e.subreddit.id]||(t.postFlair[e.subreddit.id]=Object(y.a)(e.subreddit))}return n.id};if(e&&e.edges)for(const{node:r}of e.edges){const e=n(r);e&&t.postIds.push(e)}return t})(p),P={count:m,key:c,meta:i.meta,postFlair:f,postId:e,postIds:g,posts:w,profiles:D,subreddits:x};n(T(P))};var D=n("./src/reddit/actions/pages/subreddit.ts"),x=n("./src/reddit/actions/pages/userDataRequest/index.ts"),P=n("./src/reddit/actions/railsWidgets.ts"),A=n("./src/reddit/actions/shortcuts.ts"),R=n("./src/reddit/actions/subredditSettings.ts"),k=n("./src/reddit/components/GildModal/getGildModalId.ts"),N=n("./src/reddit/constants/thumbnails.ts"),L=n("./src/reddit/endpoints/governance/posts.ts"),M=n("./src/reddit/endpoints/page/commentsPage.ts"),U=n("./src/reddit/endpoints/page/frontpage.ts"),F=n("./src/reddit/endpoints/page/multiredditListing.ts"),B=n("./src/reddit/endpoints/page/subredditPage.ts"),G=n("./src/reddit/i18n/utils.ts"),q=n("./src/lib/constants/index.ts"),V=n("./src/lib/makeDraftKey/index.ts"),H=n("./src/lib/opener/index.ts"),K=n("./src/reddit/models/Gold/Coins/index.ts"),W=n("./src/reddit/models/PostDraft/index.ts"),J=n("./src/reddit/actions/dashboard.ts"),Y=n("./src/reddit/actions/economics/helpers/async.ts"),z=n("./src/reddit/actions/externalAccount.ts"),Q=n("./src/reddit/actions/gold/modals.ts"),X=n("./src/reddit/actions/goldPurchaseModals/coinPurchaseModal.ts"),$=n("./src/reddit/actions/goldPurchaseModals/premiumPurchaseModal.ts"),Z=n("./src/reddit/actions/login.ts"),ee=n("./src/reddit/actions/moderatingSubreddits.ts"),te=(n("./src/reddit/actions/monthsToMinutes/accountCompleteness.ts"),n("./src/reddit/actions/platform.ts")),ne=n("./src/reddit/endpoints/me/index.ts"),re=n("./src/reddit/helpers/pageActionLoginRedirect.ts"),se=n("./src/reddit/actions/pages/appeal/constants.ts");const oe=Object(f.a)(se.b),ie=Object(f.a)(se.a);var ce=n("./src/reddit/actions/post.ts"),ae=n("./src/reddit/actions/profile/index.ts"),de=n("./src/reddit/actions/redditEmbed.ts"),ue=n("./src/reddit/actions/subreddit.ts"),le=n("./src/reddit/actions/toaster.ts"),be=n("./src/reddit/actions/users.ts"),pe=n("./src/reddit/constants/adEvents.ts"),me=n("./src/reddit/constants/experiments.ts"),fe=n("./src/reddit/constants/graphql.ts"),Oe=n("./src/reddit/constants/listings.ts"),ge=n("./src/reddit/constants/page.ts"),je=n("./src/reddit/constants/parameters.ts"),he=n("./src/reddit/constants/postLayout.ts"),ye=n("./src/reddit/constants/posts.ts"),_e=n("./src/reddit/contexts/PageLayer/index.tsx");const Ee=new Set(["t2_hp82e"]);var Ie=n("./src/reddit/helpers/commentList/index.ts"),ve=n("./src/reddit/helpers/getCommentsPageSort/index.ts"),Se=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),Te=n("./src/reddit/helpers/graphql/normalizeFrontpageFromGql/index.ts"),Ce=n("./src/reddit/helpers/graphql/normalizeMultiredditListingFromGql/index.ts"),we=n("./src/reddit/helpers/pixels.ts"),De=n("./src/reddit/models/Comment/index.ts"),xe=n("./src/reddit/models/Multireddit/index.ts"),Pe=n("./src/reddit/models/Subreddit/index.ts"),Ae=n("./src/reddit/models/Toast/index.ts"),Re=n("./src/reddit/models/User/index.ts"),ke=n("./src/reddit/selectors/category.ts"),Ne=n("./src/reddit/selectors/experiments/categoriesPlacement.ts"),Le=n("./src/reddit/selectors/experiments/exploreV2.ts"),Me=n("./src/reddit/selectors/experiments/frontpageSignup.ts"),Ue=n("./src/reddit/selectors/experiments/postSeo.ts"),Fe=n("./node_modules/reselect/es/index.js"),Be=n("./src/reddit/helpers/chooseVariant/index.ts"),Ge=n("./src/reddit/selectors/experiments/utils.ts"),qe=n("./src/reddit/selectors/platform.ts");var Ve=n("./src/reddit/selectors/subreddit.ts"),He=n("./src/reddit/selectors/user.ts");const Ke=Object(Fe.a)(He.I,Ve.M,qe.i,Ue.d,e=>{const t=(e=>e.seo.crawler)(e);return t&&t.name||null},(e,t,n,r,s)=>!!s&&!e&&!n&&r&&!Object(Pe.d)(t)),We=Object(Fe.a)((e,t)=>Object(Be.c)(e,{experimentEligibilitySelector:e=>Ke(e,t),experimentName:me.Bb}),Ge.a);var Je=n("./src/reddit/selectors/frontpage.ts"),Ye=n("./src/reddit/selectors/goldPurchaseModals.ts"),ze=n("./src/reddit/selectors/inlineSubredditEditing.ts"),Qe=n("./src/reddit/selectors/monthsToMinutes.ts"),Xe=n("./src/reddit/selectors/multireddit.ts"),$e=n("./src/reddit/selectors/posts.ts"),Ze=n("./src/reddit/selectors/runTimeEnvVars.ts"),et=n("./src/lib/makeCommentsPageKey/index.ts"),tt=n("./src/lib/matchRoute/index.ts"),nt=n("./src/reddit/actions/ads/index.ts"),rt=n("./src/reddit/featureFlags/index.ts"),st=n("./src/reddit/helpers/canonicalUrls.ts"),ot=n("./src/lib/sentry/index.ts"),it=(n("./node_modules/core-js/modules/es6.regexp.constructor.js"),n("./node_modules/core-js/modules/es6.symbol.js"),n("./node_modules/lodash/get.js")),ct=n.n(it),at=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const dt={path:"",extraKeys:["id"],disableExtra:!1,replaceMissedObject:!1};var ut;!function(e){e.NotEqual="ne",e.Missed="m",e.Length="l"}(ut||(ut={}));const lt=e=>null!==e&&!Array.isArray(e)&&"object"==typeof e,bt=(e,t,n)=>{let{disableExtra:r,extraKeys:s}=n;return r||!lt(t)?e:s.reduce((e,n)=>"".concat(e).concat(t[n]?",".concat(n,"=").concat(t[n]):""),e)},pt=(e,t,n)=>n?"".concat(e,"[").concat(t,"]"):"".concat((e&&"".concat(e,"."))+t),mt=e=>lt(e)?"[Object]":e,ft=e=>{const{o1:t,o2:n,path:r,diffs:s=[],replaceMissedObject:o}=e,i=at(e,["o1","o2","path","diffs","replaceMissedObject"]);if(Array.isArray(t)&&Array.isArray(n))return t.length!==n.length?[...s,{k:ut.Length,p:r,o1:t,o2:n}]:t.reduce((s,o,c)=>[...s,...ft(Object.assign({},e,{o1:t[c],o2:n[c],path:pt(r,bt(c,t[c]||n[c],i),!0)}))],s);if(lt(t)&&lt(n)){let i=s;const c=[];for(const s in t)c.push(s),i=i.concat(n.hasOwnProperty(s)?ft(Object.assign({},e,{o1:t[s],o2:n[s],path:pt(r,s)})):{k:ut.Missed,p:pt(r,s),o1:o?mt(t[s]):t[s]});for(const e in n)c.includes(e)||i.push({k:ut.Missed,p:pt(r,e),o2:o?mt(n[e]):n[e]});return i}return t!==n?[...s,{k:ut.NotEqual,p:r,o1:t,o2:n}]:s},Ot=e=>e[0]instanceof RegExp,gt=(e,t)=>{let[n,r]=e;return n.test(t.p)&&r(t.o1,t.o2)},jt=(e,t,n)=>{const r=e.shift();if(!r||!gt(r,t))return!1;for(const[s,o]of e){const e=s.exec(t.p);if(!e||!o(ct()(n.expected,e[0]),ct()(n.actual,e[0])))return!1}return!0},ht=e=>{if(Array.isArray(e))return e.reduce((e,t)=>e+ht(t),e.length);if(!lt(e))return 0;const t=Object.keys(e);return t.reduce((t,n)=>t+ht(e[n]),t.length)},yt=/^(account|posts|preferences|profiles|subreddits)\.(?:(t\d{1}_[a-zA-Z0-9]+)\.)?.*$/;var _t,Et=(e,t)=>ft(Object.assign({},dt,{o1:e,o2:t})),It=n("./src/telemetry/index.ts"),vt=n("./src/lib/base64/index.ts"),St=n("./src/lib/makeRequest/index.ts");!function(e){e.NumberOfDiffs="numberOfDiffs",e.DetailedDiffs="detailedDiffs"}(_t||(_t={}));const Tt=e=>{switch(e){case _t.NumberOfDiffs:return q.t.NUMBER_OF_DIFFS;case _t.DetailedDiffs:return q.t.DETAILED_DIFFS}};function Ct(e,t){return Object(St.b)({method:q.bb.POST,endpoint:"/counters/".concat(Tt(t.type)),data:{value:Object(vt.a)(JSON.stringify(Object.assign({appName:e},t.data)))},type:"json"})}var wt,Dt=async function(e){let{fetchFn:t,context:n,variables:r,normalizer:s,dataToCompare:o,responseName:i,responseTypeName:c,diffSettings:a,beforeCompare:d}=e;try{const e=Date.now(),u=await t(n,r);if(u.ok){const t=s(u.body.data),n=Date.now()-e;d&&d(o.response,t);const r=Et(o.response,t),l=a&&a.rules?((e,t,n)=>e.filter(e=>{for(const r of t)if(Ot(r)){if(gt(r,e))return!1}else if(n&&jt(r,e,n))return!1;return!0}))(r,a.rules,{expected:o.response,actual:t}):r,b=l.length,p=ht(o.response),m=(e=>{const t={account:0,posts:0,preferences:0,profiles:0,subreddits:0},n={posts:new Set,profiles:new Set,subreddits:new Set};for(const r of e){const e=r.p.match(yt);if(!e)continue;const s=e[1],o=e[2];switch(s){case"preferences":case"account":t[s]++;break;default:n[s]&&o&&(t[s]++,n[s].add(o))}}for(const r in n)t[r]/=n[r].size||1;return t})(l);return((e,t,n,r,s,o)=>{const i=t?"".concat(e,"_").concat(t):e;Object(It.b)(q.l.Redesign,{type:"gql",responseName:i,duration:o}),Ct(q.l.Redesign,{type:_t.NumberOfDiffs,data:{responseName:i,numberOfDiffs:n,totalDiffs:r}}),Ct(q.l.Redesign,{type:_t.DetailedDiffs,data:Object.assign({responseName:e},s)})})(i,c,b,p,m,n),l.length&&ot.c.withScope(t=>{t.setExtras(Object.assign({diff:l,numberOfDiffs:b},o.start&&{responsesDist:e-o.start})),Object(ot.a)(t,{serverLogging:!1}),ot.c.captureMessage("Compare responses: ".concat(i))}),Object.assign({},u,{body:t})}return ot.c.withScope(e=>{e.setExtra("error",u.error),Object(ot.a)(e,{serverLogging:!1}),ot.c.captureMessage("Gql error in ".concat(i))}),u}catch(u){ot.c.captureException(u)}},xt=n("./src/reddit/helpers/timeApiRoute/index.ts"),Pt=(n("./src/reddit/models/MonthsToMinutes/index.ts"),n("./src/lib/isUrl/index.ts")),At=n("./src/reddit/models/Media/index.ts");!function(e){e.Image="image",e.Link="link",e.Video="video"}(wt||(wt={}));var Rt=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),kt=n("./src/reddit/actions/seo/linksModule.ts"),Nt=n("./src/reddit/actions/subreddit/subredditPosts.ts"),Lt=n("./src/reddit/helpers/graphql/helpers.ts"),Mt=n("./src/reddit/selectors/dismissedTruncationList.ts"),Ut=n("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),Ft=n("./src/reddit/selectors/experiments/railsWidgets.ts"),Bt=n("./src/reddit/selectors/seo/linksModule.ts"),Gt=n("./src/reddit/actions/publicAccessNetwork/api.ts");n.d(t,"n",(function(){return qt})),n.d(t,"j",(function(){return Vt})),n.d(t,"I",(function(){return Ht})),n.d(t,"h",(function(){return Kt})),n.d(t,"g",(function(){return Wt})),n.d(t,"f",(function(){return Jt})),n.d(t,"E",(function(){return Xt})),n.d(t,"z",(function(){return nn})),n.d(t,"d",(function(){return rn})),n.d(t,"b",(function(){return sn})),n.d(t,"a",(function(){return on})),n.d(t,"t",(function(){return an})),n.d(t,"s",(function(){return dn})),n.d(t,"u",(function(){return ln})),n.d(t,"r",(function(){return bn})),n.d(t,"c",(function(){return pn})),n.d(t,"A",(function(){return fn})),n.d(t,"B",(function(){return On})),n.d(t,"o",(function(){return gn})),n.d(t,"H",(function(){return jn})),n.d(t,"i",(function(){return hn})),n.d(t,"y",(function(){return _n})),n.d(t,"m",(function(){return En})),n.d(t,"l",(function(){return In})),n.d(t,"k",(function(){return vn})),n.d(t,"C",(function(){return wn})),n.d(t,"D",(function(){return Dn})),n.d(t,"e",(function(){return xn})),n.d(t,"v",(function(){return An})),n.d(t,"q",(function(){return Rn})),n.d(t,"p",(function(){return kn})),n.d(t,"F",(function(){return Nn})),n.d(t,"G",(function(){return Ln})),n.d(t,"w",(function(){return Mn})),n.d(t,"x",(function(){return Un})),n.d(t,"J",(function(){return Bn}));const qt=25,Vt=100,Ht=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return async(n,r,s)=>{let{routes:i}=s;const c=r();Object(tt.a)(e,i,c)?n(Object(o.b)(e)):t?Object(H.c)(e,"_blank"):window.location.assign(e)}},Kt="PAGE__FRONTPAGE_PENDING",Wt="PAGE__FRONTPAGE_LOADED",Jt="PAGE__FRONTPAGE_FAILED",Yt=Object(f.a)(Kt),zt=Object(f.a)(Wt),Qt=Object(f.a)(Jt),Xt=(e,t)=>{const n=e.user.language;return Object(i.a)(n,"title.".concat(t))},$t=[/^posts\.[a-z_0-9]+/,(e,t)=>t&&Object(v.h)(t.author)],Zt=(e,t)=>async(n,r,s)=>{const o=r();if(o.listings.postOrder.api.pending[e])return;const c=he.e[Object(_e.M)(o,{})];t.isMobile=Object(a.e)(o.meta.userAgent),t.recentPostIds=o.posts.recent,t.layout=c,t.useMockData=!!o.platform.currentPage&&(!!o.platform.currentPage.queryParams.useMockData&&Object(Ze.b)(o)),n(Yt({key:e}));const d=Object(Qe.e)(o),l=Object(Qe.g)(o,{expEventOverride:!1}),b=d&&l;if(b)0;else{const e=o.platform.currentPage,n=e&&e.url;n&&(t.clickUrl=n)}const p=b?()=>Object(B.a)(s.apiContext(),d,t):()=>Object(U.a)(s.gqlContext(),Object(U.c)(o,t),Object(He.Q)(o)),m=b?"multireddit":"index",f=Date.now(),O=await Object(xt.a)(m,p);n(Object(te.m)(O.status));const g="error-".concat(e);if(O.ok){const i=O.body;n(zt(Object.assign({key:e,meta:o.meta},i)));const c=[ee.c()(n,r,s)];(Object(Le.a)(o)||!l&&Object(Ne.g)(o))&&c.push(n(u.h())),!l&&Object(Ft.e)(o)&&await n(Object(P.a)()),await Promise.all(c),n(le.f(g)),n(Object(nt.b)(Rt.a.FRONTPAGE)),!b&&rt.d.enableShadowMode(o)&&Dt(Object.assign({},((e,t)=>{const n=[q.N.CONTROVERSIAL,q.N.TOP].includes(e)&&!t?q.Pb:t;return{responseName:"home_feed",responseTypeName:"".concat(e).concat(n?"_"+n:"")}})(t.sort,t.t),{fetchFn:U.b,normalizer:Te.a,variables:Object(U.c)(o,t),context:s.gqlContext(),dataToCompare:{response:i,start:f},beforeCompare:Fn,diffSettings:{rules:[[/.*/,(e,t)=>void 0===e&&[!1,null,void 0].includes(t)],[/^features$/,Lt.f],[/^posts\..+\.eventsOnRender$/,Lt.f],[/^posts\..+\.isRoadblock$/,Lt.f],[/^posts\..+\.postCategories$/,Lt.f],[/^account\.geopopular$/,Lt.f],[/^account\.inChat$/,Lt.f],[/^account\.showTwitter$/,Lt.f],[/^posts\..*\.media\.videoPreview$/,Lt.f],[/^posts\..+\.score$/,Lt.g],[/^subreddits\..+\.subscribers$/,Lt.g],[/^posts\..+\.upvoteRatio$/,Lt.f],[/^subreddits\..+\.primaryColor$/,Lt.d],[/^posts\..+\.flair\[\d{1,2}\]\.backgroundColor$/,Lt.d],[/^account.showRecentPosts$/,(e,t)=>!!e===t],[/^posts\..+\.media\.resolutions\[\d+\]\.url$/,(e,t)=>Object(Lt.b)(e,t,["height"])],[/^posts\..+\.media\.posterUrl$/,(e,t)=>Object(Lt.b)(e,t,["height"])],[/^posts\..+\.preview\.url$/,(e,t)=>Object(Lt.b)(e,t,["format"])],[/^posts\..+\.thumbnail\.url$/,(e,t)=>t===N.a.NSFW],[/^trendingSubredditIds\[\d+\]$/,Lt.f],[/^subreddits\..+\.wls$/,e=>null==e],[/^subreddits\..+\.whitelistStatus$/,(e,t)=>("no_ads"===e||"null_value"===e)&&void 0===t],[/^posts\..+\.media\.obfuscated$/,Lt.c],[/^posts\..+\.source\.outboundUrl$/,(e,t)=>""===e&&void 0===t||Object(Lt.e)(e,t,["app_name","token"])],[/^posts\..+\.source\.outboundUrl(Created|Expiration)$/,(e,t)=>Math.abs(t-e)<1e4],[/^posts\..*\.numComments/,(e,t)=>Math.abs(t-e)<=10],[/^postFlair\..*\.displaySettings\.position/,(e,t)=>""===e&&null===t],[/^subreddits\..*\.freeFormReports$/,e=>null==e],[/^posts\..*\.sendReplies$/,(e,t)=>void 0===t],[/^posts\..+\.flair\[\d+\]\.templateId$/,(e,t)=>null===e&&void 0===t],[/^postInstances\[\d+\]$/,Lt.f],[/^account\.hasAndroidSubscription$/,(e,t)=>!1===e&&void 0===t],[/^account\.hasIOSSubscription$/,(e,t)=>!1===e&&void 0===t],[/^posts\..+\.media\.content$/,(e,t)=>void 0===e&&""===t],[/^posts\..+\.media\.markdownContent$/,(e,t)=>void 0===e&&""===t],[/^posts\..+\.crosspostParentId$/,(e,t)=>null===e&&void 0===t],[/^posts\..+\.crosspostRootId$/,(e,t)=>null===e&&void 0===t],[/^account\.accountIcon$/,(e,t)=>null===e&&void 0===t],[/^account\.email$/,(e,t)=>null===e&&void 0===t],[/^subreddits\..+\.communityIcon$/,(e,t)=>""===e&&void 0===t],[[/^posts\..*\.sendReplies$/,(e,t)=>!1===t],$t],[/^posts\..*\.domainOverride$/,(e,t)=>null===e&&void 0===t],[/^posts\..*\.callToAction$/,(e,t)=>null===e&&void 0===t],[/^posts\..*\.contentCategories$/,(e,t)=>null===e&&void 0===t],[/^posts\..*\.modReports$/,(e,t)=>void 0===e&&t&&0===t.length],[/^posts\..*\.previewComments$/,(e,t)=>void 0===e&&t&&0===t.length],[/^posts\..*\.userReports$/,(e,t)=>void 0===e&&t&&0===t.length]]}}))}else n(Qt(Object.assign({error:O.error,key:e},O.body))),n(le.e({id:g,kind:Ae.b.Error,text:Object(i.a)(o.user.language,"listings.toast.error"),buttonText:Object(i.a)(o.user.language,"listings.toast.retryButton"),buttonAction:Zt(e,t)}))},en=(e,t)=>async(n,r)=>{const i=r();if(!1===i.user.temporaryGQL.isLoggedIn){if(Object(Le.a)(i))return void n(Object(o.b)(Object(c.a)(Oe.c[ge.d.Explore],e.queryParams)))}const a=Object(Je.a)(i),{sort:d=a}=e.params,u=Object(O.a)(ge.b,d,e.queryParams),l=i.listings.postOrder.ids[u],b=i.listings.postOrder.api.error[u],p=i.listings.postOrder.api.pending[u],m=je.t in e.queryParams&&e.queryParams[je.t].toUpperCase()||"",f=m in q.Ob&&q.Ob[m];if(p||l&&!b&&!t)return void(l&&(n(te.l({title:Xt(r(),"frontpage")})),i.sidebarPromotedPosts.firstFetch||window.addEventListener("load",()=>{n(Object(nt.b)(Rt.a.FRONTPAGE))})));await n(Zt(u,Object.assign({},s()(e.queryParams,je.j),s()(e.queryParams,je.i),{sort:d,t:Object(Se.a)(d,f)}))),n(te.l({title:Xt(r(),"frontpage")})),Object(Be.c)(i,{experimentEligibilitySelector:Be.a,experimentName:"redesign_aa"});const g=Object(Me.a)(i,{});Object(Me.e)(g)&&n(Object(Z.f)())},tn=()=>async(e,t)=>{const n=t();if(!Object(Bt.a)(n))return e(Object(kt.b)())},nn=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;await Promise.all([n(Object(b.a)()),n(en(e,t)),n(tn()),n(Object(Gt.a)())])},rn="PAGE__COMMENTSPAGE_PENDING",sn="PAGE__COMMENTSPAGE_LOADED",on="PAGE__COMMENTSPAGE_FAILED",cn=Object(f.a)(rn),an=Object(f.a)(sn),dn=Object(f.a)(on),un=(e,t)=>{const n=Object($e.U)(e,{postId:t}),r=Object($e.J)(e,{postId:t});if(!n||!r)return"";const s=e.posts.models[t].title,o=function(e){return Object(d.a)(e,me.Nb,me.Pb)};let i;switch(s.length>=me.Mb?i=Object(Ue.f)(e):s.length<=me.Ob&&(i=Object(Ue.k)(e)),i){case me.V.TruncTitleSubBrand:return Object(G.c)("".concat(Object(G.b)("postTitle",o(s))," - ").concat(Object(G.b)("subredditName",n.name)," - Reddit"));case me.V.TruncTitleReddit:return Object(G.c)("".concat(Object(G.b)("postTitle",o(s))," - Reddit"));case me.V.TruncTitleSub:return Object(G.c)("".concat(Object(G.b)("postTitle",o(s))," - ").concat(Object(G.b)("subredditName",n.name)));case me.Y.TitleSubPtypeBrand:const e=(e=>{if(!e.media&&e.source&&Object(Pt.a)(e.source.url))return wt.Link;if(e.media)switch(e.media.type){case At.n.IMAGE:return wt.Image;case At.n.VIDEO:return wt.Video;default:return}})(r);return e?Object(G.c)("".concat(Object(G.b)("postTitle",s)," - ").concat(Object(G.b)("postType",e)," - ").concat(Object(G.b)("subredditName",n.name)," - Reddit")):Object(G.c)("".concat(Object(G.b)("postTitle",s)," - ").concat(Object(G.b)("subredditName",n.name)," - Reddit"));case me.Y.TitleSubPtypeCom:return Object(G.c)("".concat(Object(G.b)("postTitle",s)," - posted in the ").concat(Object(G.b)("subredditName",n.name)," community"));default:return Object(G.c)("".concat(Object(G.b)("postTitle",s)," : ").concat(Object(G.b)("subredditName",n.name)))}},ln=e=>async(t,n)=>{const{partialPostId:r,partialCommentId:s}=e.params,{subredditName:o}=e.params||"",i=r?Object(v.m)(r):"",c=s&&Object(De.e)(s),{path:a,queryParams:d}=e,l=Object(g.d)(a);l&&t(w(i,{postId:i}));const b=n(),{instanceId:m}=d,{hasSortParam:f,sortToUse:j}=Object(ve.a)(b,i),h=["context","depth","limit",je.e].reduce((e,t)=>{const n=parseInt(d[t]);return isNaN(n)||(e[t]=n),e},{subredditName:o,hasSortParam:f,instanceId:m,include_categories:!0});f&&(h.sort=j),h.onOtherDiscussions=l,t(ce.k(i)),await t(bn(i,c,h,j));const y=n().posts.models[i];if(y){const r=un(n(),i),s=Object(Ve.M)(n(),{identifier:y.belongsTo});if(y.belongsTo.type!==ye.a.SUBREDDIT||y.isSponsored)y.belongsTo.type===ye.a.PROFILE&&await t(ae.d(s.name));else{!!Object(Ve.R)(b,{subredditId:y.belongsTo.id})||await t(ue.o(s.name))}const c=!!We(b,{identifier:y.belongsTo});if(!Object(Pe.d)(s)&&s&&Object(Mt.c)(b,s.id)||!Object(qe.i)(b)&&Object(Ue.d)(b)){const e=Object(O.a)(o,q.N.TOP,{t:q.Ob.WEEK}),r=Object($e.C)(n(),{listingKey:e});if(!r||0===r.length){const e=t(Object(Nt.a)({sort:q.H.TOP,subredditName:s.name,range:q.Ob.WEEK.toUpperCase(),adContext:{layout:fe.a.Card,reddaid:b.user.reddaid,sourcePostId:i}}));c&&await e}}{const e=Object(Ut.f)(b);if(e&&!Object(Pe.d)(s)){const n=Object(Qe.e)(b);n&&!Object(Qe.n)(b)?t(Object(D.h)(n,{sort:q.N.HOT})):Object(Ut.e)(e)&&t(Object(D.h)(s.name,{sort:q.N.TOP}))}t(Object(z.p)())}t(te.l({title:r}));const a=n().posts.instances[i]?e.queryParams.instanceId:y.postId;t(Object(A.c)(a));{const e=Object(ke.g)(n(),{subredditName:s.name});await Promise.all(e.map(e=>t(u.k(e))))}}else t(te.l({title:Xt(n(),"frontpage")}));const{routePrefix:_}=e.params;ye.b[_]===ye.a.PROFILE?Object(st.d)(n(),t,e):Object(st.b)(n(),t,e),Object(Qe.w)(n())&&await t(Object(p.b)(i))},bn=(e,t,n,r)=>async(s,o,i)=>{const c=o(),a=Object(et.a)(e,t,n),{subredditName:d}=n,u=c.commentsPage.keyToHeadCommentId.hasOwnProperty(a),b=c.commentsPage.api.fullyLoaded[a],p=c.commentsPage.api.error[a],m=c.commentsPage.api.pending[a],f=!c.user.temporaryGQL.isLoggedIn,O=r===q.q.CHAT,g=!!c.platform.lastPage;if((m||u&&!p)&&!(O&&g)){if(u&&!c.sidebarPromotedPosts.firstFetch){const t=Object(qe.i)(c)?Rt.a.COMMENTS_OVERLAY:Rt.a.COMMENTS;window.addEventListener("load",()=>{s(Object(nt.b)(t)),Math.random()<=.01&&s(Object(nt.a)(e))})}return void(b||s(fn(e,t,n)))}s(l.h());const j=c.user.prefs.commentMode;s(cn({key:a,postId:e,commentMode:j}));const h=Object.assign({},n,O?{sort:q.q.LIVE}:f?{sort:n.sort,depth:2}:{sort:n.sort});{const t=Object($e.J)(o(),{postId:e});t&&t.numComments&&t.numComments>Vt&&(h.truncate=qt)}let y,_=await Object(xt.a)("comments",()=>Object(M.a)(i.apiContext(),e,t,h));if(s(Object(te.m)(_.status)),_.ok){const t=Object.keys(_.body.posts).filter(e=>!!_.body.posts[e].isMeta),n=_.body.posts[e];if(t.length){const e=await Object(L.a)(i.apiContext(),n.belongsTo.id,t);e.ok&&(y=e.body)}const r=Object(Ie.a)(_.body,e,c);s(an(Object.assign({key:a,postId:e,meta:c.meta,governance:y,shouldCollapse:r},_.body)))}{const r=Object($e.J)(o(),{postId:e});r&&_.body.comments&&Object.keys(_.body.comments).length<r.numComments?s(fn(e,t,n)):_.ok&&s(mn({key:a}));const i=Object(qe.i)(c)?Rt.a.COMMENTS_OVERLAY:Rt.a.COMMENTS;s(Object(nt.b)(i)),Math.random()<=.01&&s(Object(nt.a)(e))}if(_.ok){await ee.c()(s,o,i),s(le.f(a));const t=Object($e.J)(o(),{postId:e});Object(we.a)(t.events,pe.a.CommentsView),t&&"subreddit"===t.belongsTo.type&&_.body.comments&&await s(Object(Y.a)({commentIds:Object.keys(_.body.comments),postIds:[t.id],subredditId:t.belongsTo.id}))}else d&&(s(Object(D.j)({key:a})),_=await Object(xt.a)("subreddit",()=>Object(B.a)(i.apiContext(),d,{})),s(Object(te.m)(_.status))),s(Object(D.e)(_,d)),s(dn(Object.assign({error:_.error,key:a},_.body)))},pn="PAGE__COMMENTSPAGE_LOADED_FULL",mn=Object(f.a)(pn),fn=(e,t,n)=>async(r,s,o)=>{const i=Object(et.a)(e,t,n),c=s(),a=await Object(M.a)(o.apiContext(),e,t,n);if(r(Object(te.m)(a.status)),a.ok){const t=Object(Ie.a)(a.body,e,c);r(an(Object.assign({key:i,postId:e,meta:c.meta,shouldCollapse:t},a.body))),r(mn({key:i}));const n=s().posts.models[e],o=n&&Object($e.U)(s(),{postId:n.id});n&&"subreddit"===n.belongsTo.type&&o&&Object(ze.a)(c,{subredditId:o.id})&&r(Object(R.f)(o.name,o.id)),n&&"subreddit"===n.belongsTo.type&&a.body.comments&&await r(Object(Y.a)({commentIds:Object.keys(a.body.comments),postIds:[n.id],subredditId:n.belongsTo.id}))}else r(dn(Object.assign({error:a.error,key:i},a.body)))},On=e=>async(t,n,r)=>{await t(Object(de.c)(e,!0))},gn=()=>async(e,t,n)=>{await e((()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t(),o=await Object(ne.a)(r());if(o.ok&&o.body)if(o.body.account)if(s.user.account&&s.user.account.isFPR){const e="https://www.reddithelp.com/en/categories/rules-reporting/account-and-community-restrictions/my-account-was-suspended-or-locked";window.location.href=e}else e(oe(o.body));else Object(re.a)(e,s);else e(ie(o.error))})())},jn=(e,t,n)=>async(r,s,i)=>{let{routes:c}=i;const a=s(),d=(t||a.platform.currentPage).routeMatch.match,u=Object(tt.a)(d.url,c);if(!u)return;const l=e.metaKey||e.ctrlKey||1===e.button;if(u.route&&u.route.meta&&(u.route.meta.name===q.xb.INDEX||u.route.meta.name===q.xb.MULTIREDDIT||u.route.meta.name===q.xb.SUBREDDIT))l?window.open(d.url):n?r(Object(o.b)(d.url)):await r(u.route.action(d,!0));else if(u.match&&u.match.params&&u.match.params.subredditName){const{subredditName:e}=u.match.params,t="/r/".concat(e,"/");if(l)window.open(t);else if(n)r(Object(o.b)(t));else{const n=Object(O.a)(e,q.N.HOT);await r(Object(o.b)(t)),r(Object(D.i)(n,e,{}))}}},hn="PAGE__FRONTPAGE_RELOADED",yn=Object(f.a)(hn),_n=e=>async(t,n,r)=>{const s=n(),o=s.platform.currentPage.routeMatch.match;Object(Ye.q)(s)||Object(Ye.d)(s)||(e||t(yn()),await t(nn(o,!0)))},En="PAGE__MULTIREDDIT_FEED_PENDING",In="PAGE__MULTIREDDIT_FEED_LOADED",vn="PAGE__MULTIREDDIT_FEED_FAILED",Sn=Object(f.a)(En),Tn=Object(f.a)(In),Cn=Object(f.a)(vn),wn=(e,t,n,r,s)=>async(o,c,a)=>{const{gqlContext:d}=a,u=c();if(u.listings.postOrder.api.pending[e])return;o(Sn({key:e})),r.layout=he.e[Object(_e.M)(u,{})];const l={path:Object(xe.h)(t,n).replace(/\/$/,""),includeIdentity:!0,includeSources:!0,sort:r.sort?r.sort.toUpperCase():void 0,range:r.t?r.t.toUpperCase():void 0},b=await Object(xt.a)("multireddit",()=>Object(F.a)(d(),l)),{data:p}=b.body,f="error-".concat(e);if(b.ok&&p){const r=Object(Ce.a)(p);if(!p.multireddit)return s&&o(le.f(f)),void o(Cn(Object.assign({},r,{error:{type:q.D.NOT_FOUND_ERROR},key:e})));o(Tn(Object.assign({key:e,meta:u.meta},r,{account:r.account||Object(He.i)(u),multiredditsModelsState:u.multireddits.models}))),s&&o(le.f(f)),o(Object(m.h)({multiredditName:n,username:t})),window.addEventListener("load",()=>{o(Object(nt.b)(Rt.a.MULTIREDDIT))})}else s&&o(le.e({id:f,kind:Ae.b.Error,text:Object(i.a)(u.user.language,"listings.toast.error"),buttonText:Object(i.a)(u.user.language,"listings.toast.retryButton"),buttonAction:wn(e,t,n,r,s)}))},Dn=(e,t)=>async(n,r)=>{const{multiredditName:i}=e.params;let{username:a}=e.params;if(!a){let t=r();if(t.user.session&&t.user.session.unsafeLoggedOut)return void n(Object(o.c)("/"));!t.user.account&&t.user.session&&await n(be.u()),t=r();const{account:s}=t.user;if(!s)return void n(Object(o.c)("/"));a=Object(Re.f)(s);let d="/user/".concat(a,"/m/").concat(i);const{sort:u}=e.params;return d+=u?"/".concat(u):"",void n(Object(o.c)(Object(c.a)(d,e.queryParams)))}const{sort:d=q.N.HOT}=e.params,u={multiredditName:i,username:a},l=r();a||(a=l.user.account?Object(Re.f)(l.user.account):"");const b=Object(xe.h)(a,i),p=Object(O.a)(b,d,e.queryParams),m=l.listings.postOrder.ids[p],f=l.listings.postOrder.api.error[p],g=l.listings.postOrder.api.pending[p],j=je.t in e.queryParams&&e.queryParams[je.t].toUpperCase()||"",h=j in q.Ob&&q.Ob[j];if(g||m&&!f&&!t)return void(m&&(n(te.l({title:Object(Xe.f)(r(),u)})),l.sidebarPromotedPosts.firstFetch||n(Object(nt.b)(Rt.a.MULTIREDDIT))));await n(wn(p,a,i,Object.assign({},s()(e.queryParams,je.j),s()(e.queryParams,je.i),{sort:d,t:Object(Se.a)(d,h)}),!0));const y=r();Object(Xe.d)(y,u)&&n(te.l({title:Object(Xe.f)(r(),u)})),Object(st.c)(y,n,e)},xn="PAGE__DASHBOARD_PENDING",Pn=Object(f.a)(xn),An=e=>async(t,n,r)=>{const o=n(),i=q.N.HOT,{subredditName:c,section:a,component:d}=e.params,u=Object(V.a)(W.c.replyToComment,"example-comment");t(Pn({draftKey:u})),a&&d&&t(J.d("".concat(a,"/").concat(d)));const l=c&&o.dashboard.subredditLoaded[c];if(c&&!l){t(J.f(c));const n=Object(O.a)(c,i,e.queryParams),r=je.t in e.queryParams&&e.queryParams[je.t].toUpperCase()||"",o=r in q.Ob&&q.Ob[r];await t(Object(D.i)(n,c,Object.assign({},s()(e.queryParams,je.j),s()(e.queryParams,je.i),{sort:i,t:Object(Se.a)(i,o)}),!0)),t(J.e(c))}else{const n=Object(O.a)(ge.b,i,{}),r=je.t in e.queryParams&&e.queryParams[je.t].toUpperCase()||"",o=r in q.Ob&&q.Ob[r];await t(Zt(n,Object.assign({},s()(e.queryParams,je.j),s()(e.queryParams,je.i),{sort:i,t:Object(Se.a)(i,o)})))}},Rn=e=>async(t,r)=>{const s=r();t(te.l({title:Xt(s,"coins")})),Object(He.J)(s)||await t(be.u());const i=r(),c=e.queryParams;if(c.thanks){const e=await Promise.resolve().then(n.bind(null,"./src/reddit/actions/goldPurchaseModals/payment.ts")).then(e=>e.paymentCompleted);setTimeout(()=>{c.gild&&t(X.e({thingId:"THING_ID_PLACEHOLDER"})),t(X.g({coinPackage:K.a.coins500})),t(e({confirmed:!1}))},1e3)}else if(c.qty){const e=Object(He.i)(s);if(!Object(He.J)(i)||!(e=>e&&(e.isEmployee||Ee.has(e.id)))(e))return void t(Object(o.c)("/coins"));const r=await Promise.resolve().then(n.bind(null,"./src/reddit/actions/goldPurchaseModals/payment.ts")).then(e=>e.selectPaymentMethod);setTimeout(()=>{const e=parseInt(c.qty),n=Object(K.c)(e);t(X.g({coinPackage:n})),t(r(q.tb))},500)}},kn=e=>async(e,t)=>{const n=t();e(te.l({title:Xt(n,"coins")}))},Nn=e=>async(t,r)=>{const s=r();if(t(te.l({title:Xt(s,"premium")})),e.queryParams.thanks){const e=await Promise.resolve().then(n.bind(null,"./src/reddit/actions/goldPurchaseModals/payment.ts")).then(e=>e.paymentCompleted);setTimeout(()=>{t($.e()),t(e({confirmed:!1}))},1e3)}Object(He.J)(s)||await t(be.u())},Ln=e=>async(e,t)=>{const n=t();e(te.l({title:Xt(n,"publicAccessNetwork")})),Object(He.J)(n)||await e(be.u())},Mn=e=>async(t,n)=>{const r=n(),s=e.params.thingId;t(Object(Q.c)({thingId:s,gildModalId:Object(k.a)(s)})),Object(He.J)(r)||await t(be.u());const o=n();if(!Object(He.J)(o))return t(Object(Q.f)())},Un=e=>async(e,t)=>{const n=t();Object(He.J)(n)||await e(be.u());const r=t();if(!Object(He.J)(r))throw new Error("Failed to login")},Fn=(e,t)=>{const n={};for(const r in e.postInstances)for(const s of e.postInstances[r]){const o=e.postIds.indexOf(s),i=t.postIds[o];e.posts[s]&&t.posts[i]&&e.posts[s].postId===t.posts[i].postId&&(n[i]={postId:r,gwAdPostId:s,index:o})}for(const r in n){const e=n[r];if(t.postInstances[e.postId]){const n=t.postInstances[e.postId].indexOf(r);-1!==n&&(t.postInstances[e.postId][n]=e.gwAdPostId)}t.posts[e.gwAdPostId]=t.posts[r],delete t.posts[r],t.postIds[e.index]=e.gwAdPostId}},Bn=()=>async(e,t,n)=>await e(x.d())},"./src/reddit/actions/pages/appeal/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));const r="APPEAL_PAGE_LOADED",s="APPEAL_PAGE_FAILED"},"./src/reddit/actions/pages/collectionCommentsPage.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/lib/makeCollectionCommentsPageKey/index.ts"),i=n("./src/lib/truncateText/index.ts"),c=n("./src/reddit/actions/ads/index.ts"),a=n("./src/reddit/actions/economics/helpers/async.ts"),d=n("./src/reddit/actions/moderatingSubreddits.ts"),u=n("./src/reddit/actions/page.ts"),l=n("./src/reddit/actions/pages/shared.ts"),b=n("./src/reddit/actions/pages/subreddit.ts"),p=n("./src/reddit/actions/platform.ts"),m=n("./src/reddit/actions/post.ts"),f=n("./src/reddit/actions/profile/index.ts"),O=n("./src/reddit/actions/shortcuts.ts"),g=n("./src/reddit/actions/subreddit.ts"),j=n("./src/reddit/actions/toaster.ts"),h=n("./src/reddit/constants/adEvents.ts"),y=n("./src/reddit/constants/parameters.ts"),_=n("./src/reddit/constants/postCollection.ts"),E=n("./src/reddit/constants/posts.ts"),I=n("./src/reddit/endpoints/governance/posts.ts"),v=n("./src/config.ts"),S=n("./src/lib/constants/index.ts"),T=n("./src/lib/makeApiRequest/index.ts"),C=n("./src/reddit/models/RichTextJson/addRTJParam.ts");function w(e,t,n){const r="".concat(v.a.gatewayUrl,"/desktopapi/v1/collection_postcomments");return n?Object(C.a)("".concat(r,"/").concat(e,"/").concat(t,"/").concat(n)):t?Object(C.a)("".concat(r,"/").concat(e,"/").concat(t)):Object(C.a)("".concat(r,"/").concat(e))}var D=(e,t,n,r,s)=>Object(T.b)(e,{data:s,endpoint:w(t,n,r),method:S.bb.GET}),x=n("./src/reddit/endpoints/page/subredditPage.ts"),P=n("./src/reddit/helpers/canonicalUrls.ts"),A=n("./src/reddit/helpers/commentList/index.ts"),R=n("./src/reddit/helpers/getCommentsPageSort/index.ts"),k=n("./src/reddit/helpers/pixels.ts"),N=n("./src/reddit/helpers/timeApiRoute/index.ts"),L=n("./src/reddit/models/Comment/index.ts"),M=n("./src/reddit/models/Post/index.ts"),U=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),F=n("./src/reddit/selectors/platform.ts"),B=n("./src/reddit/selectors/postCollection.ts"),G=n("./src/reddit/selectors/posts.ts"),q=n("./src/reddit/selectors/subreddit.ts");n.d(t,"d",(function(){return V})),n.d(t,"b",(function(){return H})),n.d(t,"a",(function(){return K})),n.d(t,"e",(function(){return z})),n.d(t,"c",(function(){return Q}));const V="PAGE__COLLECTIONCOMMENTSPAGE_PENDING",H="PAGE__COLLECTIONCOMMENTSPAGE_LOADED",K="PAGE__COLLECTIONCOMMENTSPAGE_FAILED",W=Object(s.a)(V),J=Object(s.a)(H),Y=Object(s.a)(K),z=e=>async(t,n)=>{const{collectionId:s,partialPostId:o,partialCommentId:c,subredditName:a="",routePrefix:d}=e.params,u=o?Object(M.m)(o):"",b=c&&Object(L.e)(c),{queryParams:j}=e,h=n(),{instanceId:I}=j,v={id:s,type:E.b[d]},S=E.b[d]===E.a.PROFILE,{hasSortParam:T,sortToUse:C}=Object(R.a)(h,u),w=["context","depth","limit",y.e].reduce((e,t)=>{const n=parseInt(j[t]);return isNaN(n)||(e[t]=n),e},{subredditName:a,hasSortParam:T,instanceId:I});T&&(w.sort=C),t(m.k(u)),await Promise.all([S?t(f.d(a)):Promise.resolve(),t(Z(s,u,b,w))]);const D=((e,t)=>{const n=Object(B.q)(e,{collectionId:t.id});if(!n)return"";const s=Object(q.M)(e,{identifier:t}),o=Object(r.a)(e.user.language,"title.commentsPage",{postTitle:n.title,subreddit:s.name});return Object(i.a)(o,_.c," …")})(n(),v)||Object(l.b)(n(),"frontpage");t(p.l({title:D}));const x=n().posts.models[u];if(x){const r=Object(q.M)(n(),{identifier:x.belongsTo});if(!x.isSponsored)if(x.belongsTo.type===E.a.SUBREDDIT){!!Object(q.R)(h,{subredditId:x.belongsTo.id})||await t(g.o(r.name))}else await t(f.d(r.name));const s=n().posts.instances[u]?e.queryParams.instanceId:x.postId;t(Object(O.c)(s))}S?Object(P.d)(n(),t,e):Object(P.e)(n(),t,e)},Q="PAGE__COLLECTIONCOMMENTSPAGE_LOADED_FULL",X=Object(s.a)(Q),$=(e,t,n,r)=>async(s,i,c)=>{const a=Object(o.a)(e,t,n,r),d=i();t=t||Object(B.p)(d,{collectionId:e});const u=await D(c.apiContext(),e,t,n,r);if(s(Object(p.m)(u.status)),u.ok){if(!(t=t||u.body.collections[e].primaryPostId))return;const n=Object(A.a)(u.body,t,d);s(J(Object.assign({key:a,collectionId:e,meta:d.meta,postId:t,shouldCollapse:n},u.body)));const r=d.user.prefs.commentMode;s(X({commentMode:r,key:a,postId:t}))}else s(Y(Object.assign({error:u.error,key:a},u.body)))},Z=(e,t,n,r,s)=>async(i,l,m)=>{const f=Object(o.a)(e,t,n,r),O=l();t=t||Object(B.p)(O,{collectionId:e});const{subredditName:g}=r,y=O.commentsPage.keyToHeadCommentId.hasOwnProperty(f),_=O.commentsPage.api.fullyLoaded[f],E=O.commentsPage.api.error[f];if(O.commentsPage.api.pending[f]||y&&!E){if(y&&!O.sidebarPromotedPosts.firstFetch){const e=Object(F.i)(O)?U.a.COMMENTS_OVERLAY:U.a.COMMENTS;window.addEventListener("load",()=>{i(Object(c.b)(e))})}return void(_||s||i($(e,t,n,r)))}const v=O.user.prefs.commentMode;i(W({key:f,collectionId:e,commentMode:v,postId:t}));const S=Object.assign({},r);{const e=t&&Object(G.J)(l(),{postId:t});e&&e.numComments&&e.numComments>u.j&&(S.truncate=u.n)}let T,C=await Object(N.a)("comments",()=>D(m.apiContext(),e,t,n,S));if(i(Object(p.m)(C.status)),C.ok&&(t=t||C.body.collections[e].primaryPostId)){const e=Object.keys(C.body.posts).filter(e=>!!C.body.posts[e].isMeta),n=Object(G.J)(l(),{postId:t});if(e.length){const t=await Object(I.a)(m.apiContext(),n.belongsTo.id,e);t.ok&&(T=t.body)}}if(!s){const s=t?Object(G.J)(l(),{postId:t}):null;s&&C.body.comments&&Object.keys(C.body.comments).length<s.numComments?i($(e,t,n,r)):C.ok&&i(X({commentMode:v,key:f,postId:t}));const o=Object(F.i)(O)?U.a.COMMENTS_OVERLAY:U.a.COMMENTS;i(Object(c.b)(o))}if(C.ok){if(!t)return;const e=Object(A.a)(C.body,t,O);i(Object(u.t)(Object.assign({commentMode:v,key:f,postId:t,meta:O.meta,governance:T,shouldCollapse:e},C.body))),await d.c()(i,l,m),i(j.f(f));const n=Object(G.J)(l(),{postId:t});Object(k.a)(n.events,h.a.CommentsView),!s&&n&&"subreddit"===n.belongsTo.type&&C.body.comments&&await i(Object(a.a)({commentIds:Object.keys(C.body.comments),postIds:[n.id],subredditId:n.belongsTo.id}))}else g&&(i(Object(b.j)({key:f})),C=await Object(N.a)("subreddit",()=>Object(x.a)(m.apiContext(),g,{})),i(Object(p.m)(C.status))),i(Object(b.e)(C,g)),i(Y(Object.assign({error:C.error,key:f},C.body)))}},"./src/reddit/actions/pages/explore.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return T})),n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return w})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return N}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/app/strings/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/lib/makeExplorePageKey/index.ts"),a=n("./src/lib/makeListingKey/index.ts"),d=n("./src/reddit/actions/category.ts"),u=n("./src/reddit/actions/discoveryUnit.ts"),l=n("./src/reddit/actions/modal.ts"),b=n("./src/reddit/actions/pages/subreddit.ts"),p=n("./src/reddit/actions/platform.ts"),m=n("./src/reddit/actions/toaster.ts"),f=n("./src/reddit/constants/explore.ts"),O=n("./src/reddit/constants/listings.ts"),g=n("./src/reddit/helpers/timeApiRoute/index.ts"),j=n("./src/reddit/models/Toast/index.ts"),h=n("./src/reddit/selectors/category.ts"),y=n("./src/reddit/selectors/discoveryUnit.ts"),_=n("./src/reddit/selectors/experiments/exploreV2.ts"),E=n("./src/reddit/selectors/listings.ts"),I=n("./src/reddit/selectors/posts.ts"),v=n("./src/reddit/selectors/user.ts");const S=e=>Object(s.a)(e.user.language,"title.frontpage"),T="PAGE__EXPLORE_PAGE_PENDING",C="PAGE__EXPLORE_PAGE_LOADED",w="PAGE__EXPLORE_PAGE_FAILED",D=Object(i.a)(T),x=Object(i.a)(C),P=Object(i.a)(w),A=(e,t,n)=>async(r,o,i)=>{const c=o(),a=Object(y.a)(c);if(!a){r(P({key:e,error:{}}));const n=Object(v.S)(c);return void r(m.e({id:"error-".concat(e),kind:j.b.Error,text:Object(s.a)(n,"listings.toast.error"),buttonText:Object(s.a)(n,"listings.toast.retryButton"),buttonAction:k(e,t)}))}const d=Object(E.j)(c,{listingKey:e}),l=d?d.token:void 0;if(d){if(!n)return;{const t=Object(E.h)(c,{listingKey:e}),n=Object(E.i)(c,{listingKey:e,token:d.token});if(t||n)return}}else{const t=Object(E.h)(c,{listingKey:e}),n=Object(E.f)(c,{listingKey:e});if(t||n)return}r(D({key:e}));const b=Object(h.f)(c,{}),p=l?b.findIndex(e=>e.id===l)+1:0,O=b.slice(p,p+f.a);await Promise.all(O.map(e=>r(u.g(a,e.name))));const g=Math.min(p+f.a-1,b.length-1);r(x({fetchedToken:l,ids:O.map(e=>{let{id:t}=e;return t}),key:e,token:b[g].id}))},R=(e,t,n,r)=>async(o,i,c)=>{let a=i();const l=Object(y.d)(a),b=Object(h.i)(a,{categoryName:n});if(!l||!b){o(P({key:e,error:{}}));const n=Object(v.S)(a);return void o(m.e({id:"error-".concat(e),kind:j.b.Error,text:Object(s.a)(n,"listings.toast.error"),buttonText:Object(s.a)(n,"listings.toast.retryButton"),buttonAction:k(e,t)}))}const p=Object(E.j)(a,{listingKey:e}),O=p?p.token:void 0,g=Object(E.h)(a,{listingKey:e});if(p){if(!r)return;{const t=Object(E.i)(a,{listingKey:e,token:p.token});if(g||t)return}}else{const t=Object(E.f)(a,{listingKey:e});if(g||t)return}o(D({key:e})),await o(d.i(b.id)),a=i();const _=Object(h.e)(a,{categoryName:n}),I=O?_.findIndex(e=>e.id===O)+1:0,S=_.slice(I,I+f.b);await Promise.all(S.map(e=>o(u.k(l,e.name)))),o(x({fetchedToken:O,ids:S.map(e=>{let{id:t}=e;return t}),key:e,token:_[Math.min(I+f.b-1,_.length-1)].id}))},k=(e,t,n)=>async(r,s,o)=>{await Promise.all([r(u.h()),r(d.h())]);const i=t.categoryName?()=>r(R(e,t,t.categoryName,n)):()=>r(A(e,t,n));await Object(g.a)("explore",i),t.categoryName?await r(R(e,t,t.categoryName,n)):await r(A(e,t,n))},N=e=>async(t,n,s)=>{const i=n();if(!Object(_.a)(i))return void t(Object(r.b)("/"));const d=Object(c.a)(e.params);if(Object(E.h)(i,{listingKey:d}))return;const u=Object(a.a)(O.b.Popular,o.N.HOT);0===Object(I.C)(i,{listingKey:u}).length&&await t(Object(b.i)(u,O.b.Popular,{},!0)),Object(v.J)(n())?t(Object(r.b)("/")):(t(Object(l.k)({actionSource:l.a.Explore,redirectUrl:"/"})),await t(k(d,e.params)),t(p.l({title:S(n())})))}},"./src/reddit/actions/pages/modListing/constants.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"j",(function(){return m}));const r="PAGE__MOD_LISTING_PAGE_PENDING",s="PAGE__MOD_LISTING_PAGE_LOADED",o="PAGE__MOD_LISTING_PAGE_FAILED",i="MOD_LISTING_MORE_POSTS_PENDING",c="MOD_LISTING_MORE_POSTS_LOADED",a="MOD_LISTING_MORE_POSTS_FAILED",d="MOD_LISTING_HIDE_SUBREDDIT_SUCCESS",u="MOD_LISTING_HIDE_SUBREDDIT_PENDING",l="MOD_LISTING_HIDE_SUBREDDIT_FAILED",b="MOD_LISTING_UNHIDE_SUBREDDIT_SUCCESS",p="MOD_LISTING_UNHIDE_SUBREDDIT_PENDING",m="MOD_LISTING_UNHIDE_SUBREDDIT_FAILED"},"./src/reddit/actions/pages/modListing/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/app/strings/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/lib/makeListingKey/index.ts"),d=n("./src/reddit/actions/platform.ts"),u=n("./src/reddit/actions/toaster.ts"),l=n("./src/reddit/constants/page.ts"),b=n("./src/reddit/constants/parameters.ts"),p=n("./src/config.ts"),m=n("./src/lib/makeApiRequest/index.ts"),f=n("./src/lib/omitHeaders/index.ts"),O=n("./src/reddit/constants/headers.ts"),g=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),j=n("./src/reddit/helpers/name/index.ts"),h=n("./src/reddit/models/RichTextJson/addRTJParam.ts"),y=(e,t)=>Object(m.b)(e,{data:t,endpoint:Object(g.a)(Object(h.a)("".concat(p.a.gatewayUrl,"/desktopapi/v1/mod"))),method:i.bb.GET});const _=(e,t,n,r)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl,"/api/filter/user/").concat(t,"/f/mod/").concat(Object(j.b)(n)),method:r?i.bb.PUT:i.bb.DELETE,data:{model:JSON.stringify({name:Object(j.g)(n)})}}),E=(e,t,n)=>_(e,t,n,!0),I=(e,t,n)=>_(e,t,n,!1);var v=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),S=n("./src/reddit/helpers/pageActionLoginRedirect.ts"),T=n("./src/reddit/helpers/timeApiRoute/index.ts"),C=n("./src/reddit/i18n/utils.ts"),w=n("./src/reddit/models/Toast/index.ts"),D=n("./src/reddit/routes/modListing/index.ts"),x=n("./src/reddit/selectors/user.ts"),P=n("./src/reddit/actions/pages/modListing/constants.ts");n.d(t,"b",(function(){return L})),n.d(t,"c",(function(){return B})),n.d(t,"a",(function(){return z})),n.d(t,"d",(function(){return Q}));const A=Object(c.a)(P.f),R=Object(c.a)(P.e),k=Object(c.a)(P.d),N=(e,t)=>async(n,r,s)=>{const i=r(),c=i.listings.postOrder.api.pending[e],a=Object(x.S)(i);if(c)return;n(A({key:e}));const d=await Object(T.a)("modListing",()=>y(s.apiContext(),t)),l="error-".concat(e);d.ok?(n(R(Object.assign({key:e,meta:i.meta},d.body))),n(u.f(l))):(n(k(Object.assign({error:d.error,key:e},d.body))),401===d.status?Object(S.a)(n,i):n(u.e({id:l,kind:w.b.Error,text:Object(o.a)(a,"listings.toast.error"),buttonText:Object(o.a)(a,"listings.toast.retryButton"),buttonAction:N(e,t)})))},L=(e,t)=>async(n,r)=>{const{sort:o=i.O}=e.params,c=Object(D.d)(e.path),u=c?l.f:l.e,p=Object(a.a)(u,o,e.queryParams),m=r(),f=m.listings.postOrder.ids[p],O=m.listings.postOrder.api.error[p];if(m.listings.postOrder.api.pending[p]||f&&!O&&!t)return void(f&&n(d.l({title:Object(C.c)("Subreddits you moderate")})));const g=G(e.queryParams);await n(N(p,Object.assign({},s()(e.queryParams,b.j),s()(e.queryParams,b.i),{filtered:!!c||void 0,moderated_srs:!0,sort:o,t:Object(v.a)(o,g)}))),n(d.l({title:Object(C.c)("Subreddits you moderate")}))},M=Object(c.a)(P.i),U=Object(c.a)(P.h),F=Object(c.a)(P.g),B=e=>async(t,n,r)=>{let{apiContext:o}=r;const c=n(),d=c.platform.currentPage;if(!d)return;const{sort:u=i.O}=e,p=d.queryParams,m=Object(D.d)(d.url),f=m?l.f:l.e,O=Object(a.a)(f,u,p),g=c.listings.postOrder.loadMore[O];if(!g)return;const j=c.listings.postOrder.api.pending[O],h=c.listings.postOrder.fetchedTokens,_=!(!h[O]||!h[O][g.token]);if(j||_)return;const E=G(p);t(M({key:O,fetchedToken:g.token}));const I=await y(o(),Object.assign({after:g.token,dist:g.dist,filtered:!!m||void 0,sort:u,t:Object(v.a)(u,E)},s()(p,b.j))),S=c.listings.postOrder.ids[O],T=Object.assign({},I.body,{postIds:(I.body.postIds||[]).filter(e=>!S||!S.includes(e))});I.ok?t(U(Object.assign({key:O,fetchedToken:g.token,meta:c.meta},T))):t(F(Object.assign({key:O,error:I.error,fetchedToken:g.token},T)))};function G(e){const t=b.t in e&&e[b.t].toUpperCase()||"";return t in i.Ob&&i.Ob[t]}const q=Object(c.a)(P.c),V=Object(c.a)(P.b),H=Object(c.a)(P.a),K=Object(c.a)(P.l),W=Object(c.a)(P.k),J=Object(c.a)(P.j),Y=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(x.i)(i),[a,d,u,l]=t?[V,q,H,E]:[W,K,J,I];if(!c||!c.displayText)return;const{currentPage:b}=i.platform;if(!b||!b.routeMatch)return;n(a(e));const p=await l(o(),c.displayText,e);p.ok?(await n(L(b.routeMatch.match,!0)),n(d(e))):n(u(p.body))},z=e=>Y(e,!0),Q=e=>Y(e,!1)},"./src/reddit/actions/pages/postCreation.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/app/strings/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/filterQueryParams/index.ts"),c=n("./src/lib/isFakeSubreddit/index.ts"),a=n("./src/lib/makeActionCreator/index.ts"),d=n("./src/lib/makePostCreationPageKey/index.ts"),u=n("./src/reddit/actions/economics/helpers/async.ts"),l=n("./src/reddit/actions/externalAccount.ts"),b=n("./src/reddit/actions/platform.ts"),p=n("./src/reddit/actions/post.ts"),m=n("./src/reddit/actions/postCreation/general.ts"),f=n("./src/reddit/actions/postRequirements/index.ts"),O=n("./src/reddit/actions/profile/index.ts"),g=n("./src/reddit/actions/subreddit.ts"),j=n("./src/reddit/actions/subredditDifficulty/index.ts"),h=n("./src/reddit/actions/subredditDuplicates.ts"),y=n("./src/config.ts"),_=n("./src/lib/makeApiRequest/index.ts"),E=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),I=n("./src/reddit/helpers/pageActionLoginRedirect.ts"),v=n("./src/reddit/helpers/timeApiRoute/index.ts"),S=n("./src/reddit/helpers/trackers/postComposer.ts"),T=n("./src/reddit/models/User/index.ts"),C=n("./src/reddit/selectors/experiments/subredditDifficulty.ts"),w=n("./src/reddit/selectors/postCollection.ts"),D=n("./src/reddit/selectors/postCreations.ts"),x=n("./src/reddit/selectors/postRequirements.ts"),P=n("./src/reddit/selectors/posts.ts"),A=n("./src/reddit/selectors/profile.ts"),R=n("./src/reddit/selectors/subreddit.ts"),k=n("./src/reddit/selectors/user.ts");n.d(t,"c",(function(){return L})),n.d(t,"b",(function(){return M})),n.d(t,"a",(function(){return U})),n.d(t,"d",(function(){return V})),n.d(t,"e",(function(){return H}));const N=e=>{const t=e.user.language,n=e.platform.currentPage;let r="Reddit";if(n&&n.urlParams.subredditName){const{subredditName:t}=n.urlParams,s=Object(R.B)(e,{subredditName:t});s&&(r=s.name)}return Object(s.a)(t,"title.submit",{subreddit:r})},L="POST_CREATION__PAGE_PENDING",M="POST_CREATION__PAGE_LOADED",U="POST_CREATION__PAGE_FAILED",F=Object(a.a)(L),B=Object(a.a)(M),G=Object(a.a)(U),q=()=>async(e,t)=>{const n=t(),r=Object(D.a)(n);r!==Object(D.ab)(n)&&e(Object(m.h)({submissionType:r}))},V=e=>async(t,n,r)=>{const{collectionId:s,profileName:i,subredditName:a}=e,u=Object(d.a)(e),b=n(),p=b.creations.api.page.pending[u],m=b.creations.api.page.fetched[u],j=b.creations.api.page.error[u];if(p)return;if(m&&!j)return void t(q());const h=[];t(F({key:u}));let I=a;if(!a&&i&&(I="u_".concat(i)),h.push(((e,t)=>Object(_.b)(e,{method:o.bb.GET,endpoint:Object(E.a)("".concat(y.a.gatewayUrl,"/desktopapi/v1/submitpage")),data:{subreddit:t.subredditName,collection_id:t.collectionId}}))(r.apiContext(),{subredditName:I,collectionId:s})),a){!!Object(x.b)(n(),{subredditName:a})||Object(c.a)(a)||h.push(t(Object(f.a)(a)))}i&&(h.push(t(O.d(i))),h.push(t(O.b(i))));const[S]=await Object(v.a)("postCreation",()=>Promise.all(h));if(S.ok){const e=S.body,{posts:r={}}=e;await t(B(Object.assign({key:u,meta:b.meta},e,{posts:r}))),t(q());const s=Object(k.i)(n());s&&s.hasUserProfile&&await t(O.d(Object(T.f)(s))),await t(l.o()),a&&!Object(c.a)(a)&&await t(g.o(a))}else t(G({error:S.error,key:u}))},H=e=>async(t,n)=>{const{subredditName:s,profileName:c}=e.params,a=e.queryParams,d=a.collection;let l;if(await t(V({collectionId:d,profileName:c,subredditName:s})),s){l=Object(R.B)(n(),{subredditName:s}),Object(C.e)(n())&&t(Object(j.a)(l.id)),await t(Object(u.a)({subredditName:s}))}else c&&(l=Object(A.j)(n(),{profileName:c}));if(a.source_id)await t(((e,t)=>async(n,r)=>{const{subredditName:s,profileName:o}=e,i=[];let c;s?c=Object(R.G)(r(),s):o&&(c=Object(k.Z)(r(),{userName:o})),c&&i.push(n(Object(h.b)(c,t))),i.push(n(Object(p.D)(t))),await Promise.all(i);const a=Object(P.e)(r(),{postId:t});n(Object(m.l)({postId:t,postTitle:a?a.title:""}))})(e.params,a.source_id));else if(d){const s=Object(w.q)(n(),{collectionId:d});l&&s&&s.subredditId===l.id||t(Object(r.c)(Object(i.a)(e.url,["collection"])))}const f=n();Object(k.J)(f)?(((e,t)=>{const n=e.platform.lastPage;t&&n&&n.meta&&n.meta.name===o.xb.POST_CREATION&&S.s(e)})(n(),s),t(b.l({title:N(n())}))):Object(I.a)(t,f)}},"./src/reddit/actions/pages/postDraft.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/makePostDraftPageKey/index.ts"),o=n("./src/reddit/actions/profile/index.ts"),i=n("./src/config.ts"),c=n("./src/lib/constants/index.ts"),a=n("./src/lib/makeApiRequest/index.ts"),d=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),u=n("./src/reddit/models/RichTextJson/addRTJParam.ts"),l=n("./src/reddit/endpoints/post/draft/helpers.ts"),b=n("./src/reddit/helpers/timeApiRoute/index.ts");n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g}));const p="POST_DRAFT__PAGE_LOADED",m=(Object(r.a)("POST_DRAFT__PAGE_PENDING"),Object(r.a)(p)),f=Object(r.a)("POST_DRAFT__PAGE_FAILED"),O=e=>async(t,n,r)=>{const{draftId:p,profileName:O}=e,g=Object(s.a)(e),j=n(),h=j.creations.api.page.pending[g],y=j.creations.api.page.fetched[g],_=j.creations.api.page.error[g];if(h||y&&!_||!p)return;t(o.d(O));const E=await Object(b.a)("postDraft",()=>((e,t,n)=>Object(a.b)(e,{endpoint:Object(d.a)(Object(u.a)("".concat(i.a.gatewayUrl,"/desktopapi/v1/draftpreviewpage/").concat(n,"/").concat(t))),method:c.bb.GET}))(r.apiContext(),p,O));if(E.ok){const e=E.body;e.drafts[p].kind=Object(l.b)(e.drafts[p].kind),t(m(Object.assign({},e,{key:g})))}else t(f({error:E.error,key:g}))},g=e=>async(t,n,r)=>{await t(O(e.params))}},"./src/reddit/actions/pages/profileComments.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/difference.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/lib/makeListingKey/index.ts"),d=n("./src/reddit/actions/contentGate.ts"),u=n("./src/reddit/actions/externalAccount.ts"),l=n("./src/reddit/actions/moderatingSubreddits.ts"),b=n("./src/reddit/actions/pages/profileShared.ts"),p=n("./src/reddit/actions/platform.ts"),m=n("./src/reddit/actions/profile/index.ts"),f=n("./src/reddit/actions/subreddit.ts"),O=n("./src/reddit/constants/errors.ts"),g=n("./src/reddit/constants/parameters.ts"),j=n("./src/reddit/contexts/PageLayer/index.tsx"),h=n("./src/config.ts"),y=n("./src/lib/addAllowQuarantinedParam/index.ts"),_=n("./src/lib/constants/index.ts"),E=n("./src/lib/makeApiRequest/index.ts"),I=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const v=(e,t,n)=>Object(E.b)(e,{data:n,endpoint:Object(y.a)(Object(I.a)("".concat(h.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/comments"))),method:_.bb.GET});var S=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),T=n("./src/reddit/helpers/timeApiRoute/index.ts"),C=n("./src/reddit/selectors/profile.ts"),w=n("./src/reddit/selectors/profileComments.ts");n.d(t,"f",(function(){return D})),n.d(t,"e",(function(){return x})),n.d(t,"d",(function(){return P})),n.d(t,"h",(function(){return N})),n.d(t,"c",(function(){return L})),n.d(t,"b",(function(){return M})),n.d(t,"a",(function(){return U})),n.d(t,"g",(function(){return q}));const D="PAGE__PROFILE_COMMENTS_PENDING",x="PAGE__PROFILE_COMMENTS_LOADED",P="PAGE__PROFILE_COMMENTS_FAILED",A=Object(c.a)(D),R=Object(c.a)(x),k=Object(c.a)(P),N=e=>async(t,n,r)=>{const{queryParams:s,params:o}=e,{sort:c,t:j}=Object(b.b)(s),{profileName:h}=o,y=Object(a.a)("u_".concat(h),c,e.queryParams),{profileCommentsPage:_}=n(),E=_.commentIds[y],I=_.api.error[y],w=_.api.pending[y];if(await t(m.d(h)),w||E&&!I){if(E){const e=Object(C.q)(n(),{profileName:h});t(p.l({title:e}))}return}const D=Object.assign({},i()(e.queryParams,[...g.j,g.f]),{sort:c,t:Object(S.a)(c,j)});t(A({key:y}));const x=await Object(T.a)("profileComments",()=>v(r.apiContext(),h,D));if(!x.ok)return t(k({account:x.body.data?x.body.data.account:null,error:x.body.reason?{type:x.body.reason}:x.error,key:y})),x.body.reason===O.a.DeletedProfile&&t(Object(d.l)({profileName:h})),void t(p.m(x.status));const P=x.body;t(R(Object.assign({key:y,meta:n().meta},P))),await Promise.all([t(Object(b.c)(h)),t(Object(f.q)()),t(Object(l.b)()),t(u.o(h))])},L="PROFILE_COMMENTS__MORE_ITEMS_PENDING",M="PROFILE_COMMENTS__MORE_ITEMS_LOADED",U="PROFILE_COMMENTS__MORE_ITEMS_FAILED",F=Object(c.a)(L),B=Object(c.a)(M),G=Object(c.a)(U),q=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=t(),{currentPage:c}=o.platform;if(!c||!c.routeMatch)return;const{queryParams:d,params:u}=c.routeMatch.match,{sort:l,t:p}=Object(b.b)(d),{profileName:m}=u,f=Object(a.a)("u_".concat(m),l,d),O=Object(w.d)(o,{listingKey:f});if(!O)return;const h=Object(w.b)(o,{listingKey:f}),y=Object(w.c)(o,{listingKey:f}),_=y&&y[O.token];if(h||_)return;e(F({key:f,fetchedToken:O.token}));const E=await v(r(),m,Object.assign({after:O.token,dist:O.dist,sort:l,t:p},i()(d,g.j),{layout:Object(j.M)(o,{}).toLowerCase()}));if(E.ok){const t=Object(w.f)(o,{listingKey:f}),n=Object.assign({},E.body,{commentIds:s()(E.body.commentIds,t)});e(B(Object.assign({fetchedToken:O.token,key:f,meta:o.meta},n)))}else e(G({account:E.body.data?E.body.data.account:null,error:E.error,fetchedToken:O.token,key:f}))}},"./src/reddit/actions/pages/profileModSettings.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/preferences.ts"),o=n("./src/reddit/actions/profile/index.ts"),i=n("./src/reddit/helpers/pageActionLoginRedirect.ts"),c=n("./src/reddit/models/User/index.ts"),a=n("./src/reddit/selectors/user.ts");const d="PAGE__PROFILE_MOD_SETTINGS_LOADED",u=Object(r.a)(d),l=e=>async(t,n)=>{const r=[t(s.x()),t(Object(o.d)(e.params.profileName))];await Promise.all(r);const d=Object(a.i)(n());d?(await t(Object(o.b)(Object(c.f)(d))),t(u())):Object(i.a)(t,n())}},"./src/reddit/actions/pages/profileOverview.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return T})),n.d(t,"e",(function(){return C})),n.d(t,"d",(function(){return w})),n.d(t,"c",(function(){return D})),n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return P})),n.d(t,"g",(function(){return U}));n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/reddit/actions/moderatingSubreddits.ts"),i=n("./src/reddit/actions/pages/profileShared.ts"),c=n("./src/reddit/actions/subreddit.ts"),a=n("./src/reddit/endpoints/page/profileOverviewPage.ts"),d=n("./src/lib/constants/index.ts"),u=n("./src/reddit/constants/postLayout.ts"),l=n("./src/reddit/constants/parameters.ts"),b=n("./src/reddit/contexts/PageLayer/index.tsx"),p=n("./src/reddit/selectors/listings.ts"),m=n("./src/reddit/selectors/profile.ts"),f=n("./src/reddit/selectors/profileOverviewChronoItems.ts"),O=n("./src/lib/makeActionCreator/index.ts"),g=n("./src/reddit/actions/contentGate.ts"),j=n("./src/reddit/actions/externalAccount.ts"),h=n("./src/reddit/actions/pinnedPost.ts"),y=n("./src/reddit/actions/platform.ts"),_=n("./src/reddit/actions/profile/index.ts"),E=n("./src/reddit/actions/trophyCase.ts"),I=n("./src/reddit/constants/errors.ts"),v=n("./src/reddit/helpers/makeProfileListingKey/index.ts"),S=n("./src/reddit/helpers/timeApiRoute/index.ts");const T="PAGE__PROFILE_OVERVIEW_CONVERSATIONS_PENDING",C="PAGE__PROFILE_OVERVIEW_CONVERSATIONS_LOADED",w="PAGE__PROFILE_OVERVIEW_CONVERSATIONS_FAILED",D="PAGE__PROFILE_OVERVIEW_CHRONO_PENDING",x="PAGE__PROFILE_OVERVIEW_CHRONO_LOADED",P="PAGE__PROFILE_OVERVIEW_CHRONO_FAILED",A=Object(O.a)(T),R=Object(O.a)(C),k=Object(O.a)(w),N=Object(O.a)(D),L=Object(O.a)(x),M=Object(O.a)(P),U=e=>async(t,n,r)=>{const{queryParams:O,params:T}=e,{sort:C,t:w}=Object(i.a)(n(),O),{profileName:D}=T,x=u.e[Object(b.M)(n(),{})],P=D.toLowerCase(),U=Object.assign({},s()(e.queryParams,l.j),{sort:C,layout:x,t:w});if(await t(_.d(P)),x===u.e[u.g.Compact]){const r=Object(v.a)(P,d.ib,C,e.queryParams);if(n().profileOverviewPage.chrono.ids[r])return;await t(((e,t,n,r)=>async(r,s,o)=>{const i=s(),c=!!Object(f.f)(i,{listingKey:e}).length,d=!!Object(f.a)(i,{listingKey:e});if(!!Object(f.b)(i,{listingKey:e})||c&&!d)return;r(N({key:e}));const u=await Object(S.a)("profile",()=>Object(a.a)(o.apiContext(),t,n)),l=u.body,{pinned:b}=l;if(u.ok){r(L(Object.assign({key:e,meta:i.meta},l)));const n=Object(m.m)(i,t);r(Object(h.h)({profileId:n,pinned:b}))}else r(M({account:u.body.data?u.body.data.account:null,error:u.body.reason?{type:u.body.reason}:u.error,key:e})),u.body.reason===I.a.DeletedProfile&&r(Object(g.l)({profileName:t})),r(Object(y.m)(u.status))})(r,P,U))}else{const r=Object(v.a)(P,d.jb,C,e.queryParams);if(n().listings.postOrder.ids[r]&&!n().listings.postOrder.api.error[r])return;await t(((e,t,n,r)=>async(r,s,o)=>{const i=s(),c=!!i.listings.postOrder.ids[e],d=!!Object(p.c)(i,{listingKey:e});if(!!Object(p.d)(i,{listingKey:e})||c&&!d)return;r(A({key:e}));const u=await Object(S.a)("profile",()=>Object(a.b)(o.apiContext(),t,n)),l=u.body,{pinned:b,postIds:f}=l;if(u.ok){r(R(Object.assign({key:e,meta:i.meta,profileName:t},l,{postIds:f})));const n=Object(m.m)(i,t);r(Object(h.h)({profileId:n,pinned:b}))}else r(k({account:u.body.data?u.body.data.account:null,error:u.body.reason?{type:u.body.reason}:u.error,key:e})),u.body.reason===I.a.DeletedProfile&&r(Object(g.l)({profileName:t})),r(Object(y.m)(u.status))})(r,P,U))}await t(Object(c.q)()),await t(Object(o.b)());const B=n();if(!B.platform.currentPage)return;if(200!==B.platform.currentPage.status)return;const G=Object(m.m)(n(),P);await t(E.b(P,G)),t(y.l({title:F(n(),D)}));const q=[t(_.b(P)),t(j.o(D)),t(_.e(D))];await Promise.all(q)},F=(e,t)=>Object(m.q)(e,{profileName:t})},"./src/reddit/actions/pages/profilePosts.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/lib/makeListingKey/index.ts"),c=n("./src/reddit/actions/contentGate.ts"),a=n("./src/reddit/actions/externalAccount.ts"),d=n("./src/reddit/actions/moderatingSubreddits.ts"),u=n("./src/reddit/actions/pages/profileShared.ts"),l=n("./src/reddit/actions/pinnedPost.ts"),b=n("./src/reddit/actions/platform.ts"),p=n("./src/reddit/actions/profile/index.ts"),m=n("./src/reddit/actions/subreddit.ts"),f=n("./src/reddit/constants/errors.ts"),O=n("./src/reddit/constants/parameters.ts"),g=n("./src/reddit/contexts/PageLayer/index.tsx"),j=n("./src/config.ts"),h=n("./src/lib/addAllowQuarantinedParam/index.ts"),y=n("./src/lib/constants/index.ts"),_=n("./src/lib/makeApiRequest/index.ts"),E=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const I=(e,t,n)=>Object(_.b)(e,{data:n,endpoint:Object(h.a)(Object(E.a)("".concat(j.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/posts"))),method:y.bb.GET}).then(e=>"pinned"in e.body?e:"postIds"in e.body?Object.assign({},e,{body:Object.assign({},e.body,{pinned:e.body.postIds.filter(t=>e.body.posts[t]&&e.body.posts[t].isPinned).reverse()})}):e);var v=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),S=n("./src/reddit/helpers/timeApiRoute/index.ts"),T=n("./src/reddit/selectors/listings.ts"),C=n("./src/reddit/selectors/profile.ts");n.d(t,"f",(function(){return w})),n.d(t,"e",(function(){return D})),n.d(t,"d",(function(){return x})),n.d(t,"h",(function(){return k})),n.d(t,"c",(function(){return N})),n.d(t,"b",(function(){return L})),n.d(t,"a",(function(){return M})),n.d(t,"g",(function(){return G}));const w="PAGE__PROFILE_POSTS_PENDING",D="PAGE__PROFILE_POSTS_LOADED",x="PAGE__PROFILE_POSTS_FAILED",P=Object(o.a)(w),A=Object(o.a)(D),R=Object(o.a)(x),k=e=>async(t,n,r)=>{const{queryParams:o,params:j}=e,{sort:h,t:y}=Object(u.b)(o),{profileName:_}=j,E=Object(i.a)("u_".concat(_),h,o),w=n(),D=w.listings.postOrder.ids[E],x=Object(T.c)(w,{listingKey:E}),k=Object(T.d)(w,{listingKey:E});if(await t(p.d(_)),k||D&&!x){if(D){const e=Object(C.q)(n(),{profileName:_});t(b.l({title:e}))}return}const N=Object.assign({},s()(e.queryParams,[...O.j,...O.i,O.f]),{layout:Object(g.M)(w,{}).toLowerCase(),sort:h,t:Object(v.a)(h,y)});t(P({key:E}));const L=await Object(S.a)("profilePosts",()=>I(r.apiContext(),_,N));if(!L.ok)return t(R({account:L.body.data?L.body.data.account:null,error:L.body.reason?{type:L.body.reason}:L.error,key:E})),L.body.reason===f.a.DeletedProfile&&t(Object(c.l)({profileName:_})),void t(b.m(L.status));const M=L.body;t(A(Object.assign({key:E,meta:n().meta},M)));const U=Object(C.m)(n(),_),{pinned:F}=M;t(Object(l.h)({profileId:U,pinned:F})),await Promise.all([t(Object(u.c)(_)),t(Object(m.q)()),t(Object(d.b)()),t(a.o(_))])},N="PROFILE_POSTS__MORE_POSTS_PENDING",L="PROFILE_POSTS__MORE_POSTS_LOADED",M="PROFILE_POSTS__MORE_POSTS_FAILED",U=Object(o.a)(N),F=Object(o.a)(L),B=Object(o.a)(M),G=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=t(),{currentPage:c}=o.platform;if(!c||!c.routeMatch)return;const{queryParams:a,params:d}=c.routeMatch.match,{sort:l,t:b}=Object(u.b)(a),{profileName:p}=d,m=Object(i.a)("u_".concat(p),l,a),f=Object(T.g)(o,{listingKey:m});if(!f)return;const j=Object(T.d)(o,{listingKey:m}),h=Object(T.e)(o,{listingKey:m,token:f.token});if(j||h)return;e(U({key:m,fetchedToken:f.token}));const y=Object.assign({after:f.token,dist:f.dist,sort:l,t:b},s()(a,O.j),{layout:Object(g.M)(o,{}).toLowerCase()}),_=await I(r(),p,y),E=o.listings.postOrder.ids[m],v=_.body.postIds||[],S=Object.assign({},_.body,{postIds:v.filter(e=>!E||!E.includes(e))});_.ok?(e(F(Object.assign({fetchedToken:f.token,key:m,meta:o.meta},S))),await e(Object(u.c)(p))):e(B({account:_.body.data?_.body.data.account:null,error:_.error,fetchedToken:f.token,key:m}))}},"./src/reddit/actions/pages/profilePrivate/constants.ts":function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return l}));const r=25,s="PAGE__PROFILE_PRIVATE_PENDING",o="PAGE__PROFILE_PRIVATE_MIXED_LOADED",i="PAGE__PROFILE_PRIVATE_POSTS_LOADED",c="PAGE__PROFILE_PRIVATE_FAILED",a="MORE__PROFILE_PRIVATE_PENDING",d="MORE__PROFILE_PRIVATE_MIXED_LOADED",u="MORE__PROFILE_PRIVATE_POSTS_LOADED",l="MORE__PROFILE_PRIVATE_FAILED"},"./src/reddit/actions/pages/profileShared.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return O}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/defaults.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./src/reddit/actions/platform.ts"),a=n("./src/reddit/actions/profile/index.ts"),d=n("./src/reddit/actions/trophyCase.ts"),u=n("./src/reddit/selectors/profile.ts"),l=n("./src/lib/constants/index.ts");const b={sort:l.rb,t:l.sb};function p(e){return s()(i()(e,["t","sort"]),b)}function m(e,t){return p(t)}const f=e=>async(t,n,r)=>{const s=[t(O(e)),t(g(e)),t(Object(a.e)(e))];await Promise.all(s)},O=e=>async(t,n,r)=>{const s=Object(u.m)(n(),e);await t(d.b(e,s))},g=e=>async(t,n,r)=>{const s=Object(u.q)(n(),{profileName:e});t(c.l({title:s})),await t(a.b(e))}},"./src/reddit/actions/pages/report/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));const r="REPORT_PAGE__FAILED",s="REPORT_PAGE__PENDING",o="REPORT_PAGE__LOADED",i="REPORT_PAGE_INITIAL_REASON__SET"},"./src/reddit/actions/pages/search.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return I})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return x}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/app/strings/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/lib/makeSearchKey/index.ts"),d=n("./src/reddit/actions/ads/index.ts"),u=n("./src/reddit/actions/category.ts"),l=n("./src/reddit/actions/discoveryUnit.ts"),b=n("./src/reddit/actions/platform.ts"),p=n("./src/reddit/actions/search.ts"),m=n("./src/reddit/actions/toaster.ts"),f=n("./src/reddit/constants/parameters.ts"),O=n("./src/reddit/endpoints/page/search.ts"),g=n("./src/reddit/helpers/timeApiRoute/index.ts"),j=n("./src/reddit/models/DiscoveryUnit/index.ts"),h=n("./src/reddit/models/Toast/index.ts"),y=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts");const _=(e,t)=>{const n=e.user.language;return Object(o.a)(n,"title.".concat(t))},E="SEARCH__SEARCH_PENDING",I="SEARCH__SEARCH_RESULTS_RECEIVED",v="SEARCH__SEARCH_FAILED",S=Object(c.a)(E),T=Object(c.a)(I),C=Object(c.a)(v),w=(e,t)=>Object(o.a)(e.user.language,"search.title",{query:t||"None"}),D=(e,t,n,r)=>async(s,c,a)=>{let{apiContext:b}=a;const _=c(),E=t[f.b],I=t.category;(E||I)&&(await Promise.all([s(l.h()),s(u.h())]),I&&await Promise.all([s(u.i(I,10)),s(l.i(j.n,I))]));const{q:v}=t,w=!!v&&i.yb.some(e=>v.includes("".concat(e,":")));let x=t.type.indexOf(i.Jb.Posts)>-1||!(!n||!t.restrict_sr)||w;if(x){const t=_.listings.postOrder.ids[e],n=_.listings.postOrder.api.error[e];x=!(_.listings.postOrder.api.pending[e]||t&&!n)}let P=t.type.indexOf(i.Jb.Subreddits)>-1||t.type.indexOf(i.Jb.Users)>-1;if(P){const t=_.listings.listingOrder.identifiers[e],n=_.listings.listingOrder.api.error[e];P=!(_.listings.listingOrder.api.pending[e]||t&&!n)}if(!x&&!P)return void(_.sidebarPromotedPosts.firstFetch||window.addEventListener("load",()=>{s(Object(d.b)(y.a.SEARCH_RESULTS))}));t.q&&s(Object(p.h)(t.q));const A="error-".concat(e),{type:R}=t;s(S({key:e,type:R}));const k=await Object(g.a)("searchResults",()=>Object(O.a)(b(),n,r,Object.assign({},t,{type:(t.type||[]).join(","),b:!w})));if(k.ok){const o={key:e,type:R,meta:_.meta,searchQuery:t.q,subredditName:n,username:r};s(T(Object.assign({categoryName:E},o,k.body))),s(m.f(A)),s(Object(d.b)(y.a.SEARCH_RESULTS))}else s(C(Object.assign({key:e,error:k.error,type:R},k.body))),s(m.e({id:A,kind:h.b.Error,text:Object(o.a)(_.user.language,"search.toast.error"),buttonText:Object(o.a)(_.user.language,"search.toast.retryButton"),buttonAction:D(e,t,n,r)}))},x=e=>async(t,n,r)=>{const o=Object(a.c)(s()(e.queryParams,f.p)),c=e.params.subredditName||e.params.multiredditName,{username:d}=e.params,u=Object(a.b)(c,d,o),l=n();await t(D(u,o,c,d));const p=n();let m=!1;const{type:O=[]}=o,g=O.indexOf(i.Jb.Posts)>-1,j=O.indexOf(i.Jb.Subreddits)>-1||O.indexOf(i.Jb.Users)>-1;g&&p.listings.postOrder.api.error[u]&&(m=!0),j&&p.listings.listingOrder.api.error[u]&&(m=!0),t(m?b.l({title:_(l,"frontpage")}):b.l({title:w(p,o.q)}))}},"./src/reddit/actions/pages/shared.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var r=n("./src/app/strings/index.ts"),s=n("./src/reddit/helpers/getPostFromRouteMatch/index.ts"),o=n("./src/reddit/helpers/routeKey/index.ts"),i=n("./src/reddit/helpers/trackers/screenview.ts"),c=n("./src/telemetry/index.ts"),a=n("./src/telemetry/models/Timer.ts");const d=(e,t)=>{const n=e.user.language;return Object(r.a)(n,"title.".concat(t))},u=()=>async(e,t)=>{const n=t(),{currentPage:r}=n.platform;if(!r)return;const d=r.routeMatch,u=Object(s.a)(n),l=Object(o.c)(d,n,u);l&&c.c.has(l)&&Object(i.g)(d,n,a.TimerType.InApp,c.c.end(l))}},"./src/reddit/actions/pages/subreddit.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./node_modules/lodash/some.js"),i=n.n(o),c=n("./src/app/strings/index.ts"),a=n("./src/lib/constants/index.ts"),d=n("./src/lib/isAdHocMultireddit/index.ts"),u=n("./src/lib/isFakeSubreddit/index.ts"),l=n("./src/lib/makeActionCreator/index.ts"),b=n("./src/lib/makeApiRequest/index.ts"),p=n("./src/lib/makeListingKey/index.ts"),m=n("./src/lib/makeSearchKey/index.ts"),f=n("./src/reddit/actions/ads/index.ts"),O=n("./src/reddit/actions/category.ts"),g=n("./node_modules/lodash/camelCase.js"),j=n.n(g),h=n("./node_modules/lodash/isEmpty.js"),y=n.n(h),_=n("./node_modules/lodash/omit.js"),E=n.n(_),I=n("./src/reddit/endpoints/flair/index.ts"),v=n("./src/reddit/helpers/flair.ts"),S=n("./src/reddit/models/Flair/index.ts"),T=n("./src/reddit/selectors/communityFlairs.ts"),C=n("./src/reddit/actions/communityFlairs/constants.ts");const w=Object(l.a)(C.c),D=Object(l.a)(C.d),x=Object(l.a)(C.b),P=Object(l.a)(C.a),A=e=>{const t={};for(const n in e){t[j()(n)]=e[n]}return t},R=(e,t)=>async(n,r)=>{const s=r(),o=Object(T.c)(s,t),i=Object(T.d)(s,t)||[],c=(e=>{const t={};return e.map(e=>{const n=Object(v.g)(e),r=j()(n),s=r&&t.hasOwnProperty(r);e.type!==S.f.Spoiler&&e.type!==S.f.Nsfw&&(s||(t[r]=Object.assign({},e,{id:r})))}),t})(e),a=E()(c,i);if(y()(a))return;const d=Object.keys(a),u=i?i.concat(d):d,l=o?Object.assign({},o,a):a;n(P({models:l,sortedKeys:u,subredditId:t}))};var k=n("./src/reddit/actions/contentGate.ts"),N=n("./src/reddit/actions/discoveryUnit.ts"),L=n("./src/reddit/actions/economics/helpers/async.ts"),M=n("./src/reddit/actions/externalAccount.ts"),U=n("./src/reddit/actions/moderatingSubreddits.ts"),F=n("./src/reddit/actions/pages/search.ts"),B=n("./src/reddit/actions/platform.ts"),G=n("./src/reddit/actions/railsWidgets.ts"),q=n("./src/reddit/actions/structuredStyles/index.ts"),V=n("./src/reddit/actions/subreddit.ts"),H=(n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./node_modules/react-router-redux/es/index.js")),K=n("./src/reddit/actions/toaster.ts"),W=n("./src/reddit/helpers/localStorage/index.ts"),J=n("./src/reddit/models/Subreddit/index.ts"),Y=n("./src/reddit/models/SubredditRestrictions/index.ts"),z=n("./src/reddit/models/Toast/index.ts"),Q=n("./src/reddit/routes/postCreation/constants.ts"),X=n("./src/reddit/selectors/moderatorPermissions.ts"),$=n("./src/reddit/selectors/platform.ts"),Z=n("./src/reddit/selectors/subreddit.ts"),ee=n("./src/reddit/selectors/user.ts"),te=n("./src/reddit/selectors/widgets.ts");const ne=()=>async(e,t,n)=>{const r=t(),s=Object($.f)(r);if(!s||s.type===J.b.Private||Object(Z.t)(r,Y.e.Post))return;const o=s.name,i=Object($.m)(r),c=Object(Z.y)(r,{subredditName:o});if(!c)return;const{activity7Day:a}=c,d=!!a&&a>=51&&a<=100,l=!o||Object(u.a)(o),b=i&&i.urlParams.subredditName===o,p=Object(ee.J)(r),m=Object(X.g)(r,{subredditId:Object(Z.G)(r,o)});if(l||b||Object(W.p)()||!d||!p||m)return;const f=Object(te.d)(t(),{subredditName:o});if(!f)return;const O=(24*f.currentlyViewingCount*7).toString(),g=O[0].padEnd(O.length,"0");e(Object(K.e)({buttonAction:async()=>e(Object(H.b)("/r/".concat(o).concat(Q.b))),buttonText:"Create Post",duration:-1,id:"createPostCta",kind:z.b.Modal,name:"createPostCta",secondButtonAction:async()=>Object(W.R)(),secondButtonText:"Dismiss",text:"There have been over ".concat(g," visits to r/").concat(o," in the past week. Create a new post and start the next conversation.")}))};var re=n("./src/reddit/actions/subredditSettings.ts"),se=n("./src/reddit/actions/tags/index.ts"),oe=n("./src/reddit/constants/page.ts"),ie=n("./src/reddit/constants/parameters.ts"),ce=n("./src/reddit/constants/postLayout.ts"),ae=n("./src/reddit/contexts/PageLayer/index.tsx"),de=n("./src/reddit/endpoints/governance/posts.ts"),ue=n("./src/reddit/endpoints/page/subredditPage.ts"),le=n("./src/reddit/helpers/canonicalUrls.ts"),be=n("./src/reddit/helpers/getSubredditSortForListingKeyCreation/index.ts"),pe=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),me=n("./src/reddit/helpers/timeApiRoute/index.ts"),fe=n("./src/reddit/helpers/trackers/communityTopics.ts"),Oe=n("./src/reddit/models/ModeratingSubreddits/index.ts"),ge=n("./src/reddit/models/Post/index.ts"),je=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),he=n("./src/reddit/selectors/experiments/categoriesPlacement.ts"),ye=n("./src/reddit/selectors/experiments/exploreV2.ts"),_e=n("./src/reddit/selectors/experiments/feedFilters.ts"),Ee=n("./src/reddit/selectors/experiments/gqlSubredditPage.ts"),Ie=n("./src/reddit/selectors/experiments/pinnedPosts.ts"),ve=n("./src/reddit/selectors/experiments/railsWidgets.ts"),Se=n("./src/reddit/selectors/experiments/topPosts.ts"),Te=n("./src/reddit/selectors/inlineSubredditEditing.ts"),Ce=n("./src/reddit/selectors/multireddit.ts"),we=n("./src/reddit/selectors/posts.ts");n.d(t,"e",(function(){return De})),n.d(t,"c",(function(){return xe})),n.d(t,"b",(function(){return Pe})),n.d(t,"a",(function(){return Ae})),n.d(t,"j",(function(){return Re})),n.d(t,"i",(function(){return Le})),n.d(t,"h",(function(){return Me})),n.d(t,"d",(function(){return Fe})),n.d(t,"f",(function(){return Be})),n.d(t,"g",(function(){return Ge})),n.d(t,"k",(function(){return qe}));const De=(e,t)=>async n=>{if(!e.ok&&e.body){const r=e.body.data?e.body.data.account:void 0,s=e.body.data?e.body.data.features:void 0,o=t?t.toLowerCase():"";if(404===e.status)if(e.body.reason===b.a.NotFoundSubreddit)n(k.k({account:r,features:s,subredditName:o}));else if(e.body.reason===b.a.BannedSubreddit){const t=e.body.data?e.body.data.ban_message:void 0;n(k.j({banMessage:t,account:r,features:s,subredditName:o}))}if(403===e.status)if(e.body.reason===b.a.GoldSubreddit)n(k.m({account:r,features:s,subredditName:o}));else if(e.body.reason===b.a.PrivateSubreddit)n(k.n({account:r,features:s,subredditDescription:e.body.data.description,subredditName:o}));else if(e.body.reason===b.a.QuarantinedSubreddit){const t=!e.body.data||e.body.data.quarantine_requires_email_optin;n(k.o({account:r,features:s,subredditName:o,quarantineRequiresEmail:t,quarantineMessage:e.body.data.quarantineMessage,quarantineMessageHtml:e.body.data.quarantineMessageHtml}))}}},xe="PAGE__SUBREDDIT_PENDING",Pe="PAGE__SUBREDDIT_LOADED",Ae="PAGE__SUBREDDIT_FAILED",Re=Object(l.a)(xe),ke=Object(l.a)(Pe),Ne=Object(l.a)(Ae),Le=(e,t,n,r)=>async(s,o,d)=>{const l=o(),b=Object(ee.J)(l);if(l.listings.postOrder.api.pending[e])return;const p=t!==oe.d.All&&t!==oe.d.Popular||!l.posts.recent.length?n:Object.assign({},n,{recentPostIds:l.posts.recent});p.layout=ce.e[Object(ae.M)(l,{})],s(Re({key:e}));const m=Object(Ee.b)(l)?()=>Object(ue.b)(d.gqlContext(),Object(ue.c)(l,t,p),b):()=>Object(ue.a)(d.apiContext(),t,p),g=await Object(me.a)("subreddit",m),j=g.body;s(B.m(g.status));const h="error-".concat(e),y=Object(u.a)(t)||i()(j.subreddits,e=>e.name.toLowerCase()===t.toLowerCase());if(g.ok&&y){let n,i;const c=j.postIds.filter(e=>!!j.posts[e].isMeta);if(c.length){const e=Object.keys(j.subreddits).reduce((e,n)=>{const r=j.subreddits[n];return r.name.toLowerCase()===t.toLowerCase()?r.id:e},null);if(e){const t=await Object(de.a)(d.apiContext(),e,c);t.ok&&(n=t.body)}}const b=Object(Ie.c)(l,{listingKey:e,posts:j.posts,postIds:j.postIds});if(Object(Ie.b)(b)){const{posts:e}=j,t=j.postIds[0],n=j.postIds[1],r=e&&e[t],s=e&&e[n],o=Date.now()-a.Vb;if(r&&Object(ge.k)(r)&&s&&Object(ge.k)(s)&&s.created<o&&r.created>o){i=[n,t,...j&&j.postIds&&j.postIds.slice(2)]}}if(s(ke(Object.assign({key:e,meta:l.meta,governance:n},j,{postIds:i||j.postIds}))),!Object(u.a)(t)){const e=Object(Z.G)(o(),t);!!Object(Z.R)(l,{subredditId:e})||await V.o(t)(s,o,d);const n=Object(_e.a)(l);if(Object(_e.d)(n)){const t=((e,t)=>{const n=[];for(const r in e){const s=e[r],o=s.belongsTo.id===t;s.flair.length&&o&&n.push(...s.flair)}return n})(j.posts,e),n=(e=>{const t=e&&e.data&&e.data.content&&e.data.content.widgets;if(t){const e=t.items;for(const t in e){const n=e[t];if("post-flair"===n.kind)return n}}})(j.structuredStyles),r=(n?(e=>{const t=[],{templates:n}=e;for(const r in n){const e=n[r];e&&t.push(e)}return t})(n):[]).concat(t);s(R(r,e))}}const p=[U.c()(s,o,d)];t===oe.d.Popular&&((Object(ye.a)(l)||Object(he.g)(l))&&p.push(s(O.h())),Object(ve.e)(l)&&p.push(s(Object(G.a)()))),await Promise.all(p),r&&s(K.f(h)),s(Object(f.b)(je.a.SUBREDDIT)),s(Object(M.p)());const m=Object(Z.G)(o(),t);if(m){const e=[s(Object(L.a)({subredditId:m,postIds:j.postIds,skip:["subscription"]}))];Object(Te.a)(o(),{subredditId:m})&&e.push(s(Object(re.f)(t,m)),s(Object(se.i)(m,fe.a.idCard))),await Promise.all(e)}}else{if(403===g.status||404===g.status)return void s(De(g,t));s(Ne(Object.assign({error:!g.ok&&g.error||{type:a.D.NOT_FOUND_ERROR},key:e},j))),r&&s(K.e({id:h,kind:z.b.Error,text:Object(c.a)(l.user.language,"listings.toast.error"),buttonText:Object(c.a)(l.user.language,"listings.toast.retryButton"),buttonAction:Le(e,t,n,r)}))}},Me=(e,t,n)=>async(r,s)=>{const o=s(),i=Object(p.a)(e,t.sort,t);Object(we.C)(o,{listingKey:i}).length>0||await r(Le(i,e,t,n))},Ue=(e,t)=>{if(Object(u.a)(t)){if(Object(d.a)(t)){return Object(Ce.a)(e,{listingName:t}).displayText}switch(t.toLowerCase()){case oe.d.Popular:return"r/popular";case oe.d.All:return"r/all"}}return Object(Z.V)(e,{subredditName:t})},Fe=e=>{const t=e.f;if(t)return{[ie.n]:t,[ie.o]:"1",sort:a.Hb.New}},Be=(e,t)=>{if(t){const t=Fe(e);return t&&Object(m.c)(t)}},Ge=(e,t,n,r)=>r?Object(m.b)(e,void 0,r):Object(p.a)(e,t,n),qe=(e,t)=>async(n,r,o)=>{const{subredditName:i}=e.params,{styling:c}=e.queryParams,d=r(),u=Object(be.a)(e.params),l=Object(_e.a)(d),b=Object(_e.d)(l),m=Be(e.queryParams,b),O=Ge(i,u,e.queryParams,m),g=u,j=d.listings.postOrder.api.error[O],h=d.listings.postOrder.api.pending[O];let y=!!d.listings.postOrder.ids[O];const _=d.listings.postOrder.listingSort[O];_&&_.hasChanged&&(y=!1);let E=Object(Z.G)(d,i);const S=(e,t)=>"true"===c&&((e,t)=>Object(X.a)(Oe.c.config)(e,{subredditId:t})||Object(X.a)(Oe.c.flair)(e,{subredditId:t}))(e,t),C=ie.t in e.queryParams&&e.queryParams[ie.t].toUpperCase()||"",P=C in a.Ob&&a.Ob[C];if(h||y&&!j&&!t){if(S(d,E)&&n(q.i(E)),y){const t=Ue(r(),i);n(B.l({title:t})),Object(le.e)(r(),n,e),window.addEventListener("load",()=>{n(Object(M.p)())}),d.sidebarPromotedPosts.firstFetch||window.addEventListener("load",()=>{n(Object(f.b)(je.a.SUBREDDIT))}),n(ne())}return}if(n(N.h()),m)await n(Object(F.d)(O,m,i));else{const t=Object.assign({},s()(e.queryParams,[...ie.j,...ie.i,ie.f]),{sort:g,t:Object(pe.a)(g,P)}),r=d.user.prefs.geopopular||d.meta.country;!t[ie.f]&&r&&(t[ie.f]=r),await n(Le(O,i,t,!0))}const k=d.platform.currentPage,L=Object(Se.d)(d,{pageLayer:k});if(Object(Se.a)(L)||Object(Se.b)(L)||Object(Se.c)(L)){const e=Object(p.a)(i,a.N.TOP,{t:a.Ob.WEEK}),t={sort:a.N.TOP,t:a.Ob.WEEK};await n(Le(e,i,t,!1))}E=E||Object(Z.G)(r(),i),b&&!Object(T.b)(d,E)&&n(((e,t)=>async(n,r,s)=>{let{apiContext:o}=s;n(w());const i=await Object(I.c)(o(),t);if(i.ok){const t=i.body.map(A).map(e=>Object(v.c)(e));n(R(t,e)),n(D())}else n(x())})(E,i)),S(r(),E)&&n(q.i(E)),Object(le.e)(r(),n,e);const U=Ue(r(),i);n(B.l({title:U})),n(ne())}},"./src/reddit/actions/pages/subredditLeaderboard.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return h}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/reddit/actions/category.ts"),o=n("./src/reddit/actions/modal.ts"),i=n("./src/reddit/actions/platform.ts"),c=n("./src/reddit/actions/subreddit/topSubreddits.ts"),a=n("./src/reddit/actions/users.ts"),d=n("./src/reddit/constants/listings.ts"),u=n("./src/reddit/constants/subredditLeaderboard.ts"),l=n("./src/reddit/helpers/categoryPickerWidget/index.ts"),b=n("./src/reddit/i18n/utils.ts"),p=n("./src/reddit/selectors/category.ts"),m=n("./src/reddit/selectors/experiments/upAndComingLeaderboard.ts"),f=n("./src/reddit/selectors/subredditLeaderboard.ts"),O=n("./src/reddit/selectors/user.ts");const g=(e,t)=>t&&e===u.h,j=e=>async(t,n)=>{t(Object(o.k)({actionSource:o.a.SubredditLeaderboard,redirectUrl:d.c[d.b.SubredditLeaderboard]})),t(i.l({title:Object(b.c)("Today’s Top Communities")}));const s=e.params&&e.params.categoryName,c=s&&Object(l.b)(s);Object(m.b)(n())||c!==u.m||t(Object(r.b)("/subreddits/leaderboard")),await t(h(c))},h=e=>async(t,n)=>{await t(Object(s.h)());const r=n(),o=Object(O.K)(r),i=Object(m.b)(r)&&e===u.m;if(Object(f.a)(r,e))return;const d=e&&Object(p.i)(r,{categoryName:e}),l=d&&d.id||u.d,b=g(e,o),j=((e,t)=>({categoryId:e,isOnlyModIncluded:t}))(l,b),h=Object(f.d)(l,b,i);await Promise.all([t(Object(c.a)(j,h)),t(Object(a.u)())])}},"./src/reddit/actions/pages/subredditWiki/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));const r="PAGE__SUBREDDIT_WIKI_PAGE_PENDING",s="PAGE__SUBREDDIT_WIKI_PAGE_LOADED",o="PAGE__SUBREDDIT_WIKI_PAGE_FAILED"},"./src/reddit/actions/pages/userDataRequest/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/endpoints/me/index.ts"),o=n("./src/graphql/operations/UserDataExportEligibility.json"),i=n("./src/lib/makeGqlRequest/index.ts"),c=n("./src/reddit/helpers/pageActionLoginRedirect.ts"),a=n("./src/reddit/selectors/user.ts"),d=n("./src/reddit/selectors/userDataRequest.ts");n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return O}));const u="USER_DATA_REQUEST_PAGE_LOADING",l="USER_DATA_REQUEST_PAGE_LOADED",b="USER_DATA_REQUEST_PAGE_FAILED",p=Object(r.a)(u),m=Object(r.a)(l),f=Object(r.a)(b),O=()=>async(e,t,n)=>{let{apiContext:r,gqlContext:u}=n;const l=t(),b=Object(a.i)(l),O=Object(d.b)(l);if(b&&O.success)return;e(p());const g=await Object(s.a)(r());if(!g.ok||!g.body)return void e(f(g.error));if(!g.body.account)return void Object(c.a)(e,l);const j=await(e=>Object(i.a)(e,Object.assign({},o)))(u());if(!j.ok)return void e(f());const h=g.body,y=j.body;e(m({account:h.account,userDataExportEligibility:y.data.identity.userDataExportEligibility.isUserEligibleForDataExport}))}},"./src/reddit/actions/pinnedPost.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return O})),n.d(t,"g",(function(){return g})),n.d(t,"c",(function(){return y})),n.d(t,"f",(function(){return _})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return S})),n.d(t,"i",(function(){return R}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/modal.ts"),c=n("./src/reddit/actions/toaster.ts"),a=n("./src/reddit/constants/modals.ts"),d=n("./src/reddit/endpoints/post/index.tsx"),u=n("./src/reddit/models/Toast/index.ts"),l=n("./src/reddit/selectors/posts.ts"),b=n("./src/reddit/selectors/profile.ts"),p=n("./src/reddit/selectors/user.ts");const m="PINNEDPOST__PINNED_POSTS_LOADED",f=Object(o.a)(m),O="PINNEDPOST__PIN_POST_SUCCESS",g="PINNEDPOST__UNPIN_POST_SUCCESS",j=Object(o.a)(O),h=Object(o.a)(g),y="PINNEDPOST__PIN_POST_PENDING",_="PINNEDPOST__UNPIN_POST_PENDING",E=Object(o.a)(y),I=Object(o.a)(_),v="PINNEDPOST__PIN_POST_FAILURE",S="PINNEDPOST__UNPIN_POST_FAILURE",T=Object(o.a)(v),C=Object(o.a)(S),w=(e,t)=>Object(c.e)({buttonAction:R(t,!0),buttonText:Object(r.a)(e,"posts.postPinnedUndo"),kind:u.b.SuccessMod,text:Object(r.a)(e,"posts.postPinned")}),D=(e,t,n)=>Object(c.e)({buttonAction:R(t,!0),buttonText:Object(r.a)(e,"posts.postUnpinnedUndo"),kind:u.b.SuccessMod,text:Object(r.a)(e,n?"posts.postUnpinnedReloadPage":"posts.postUnpinned")}),x=e=>Object(c.e)({kind:u.b.Error,text:Object(r.a)(e,"posts.couldNotPinPost")}),P=e=>Object(c.e)({kind:u.b.Error,text:Object(r.a)(e,"posts.couldNotPinPostRemovedPost")}),A=e=>Object(c.e)({kind:u.b.Error,text:Object(r.a)(e,"posts.couldNotUnpinPost")}),R=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return async(n,r,o)=>{let{apiContext:c}=o;const u=r(),m=u.posts.models[e];if(!m)return;const f=!Object(l.t)(u,{postId:e}),O=Object(p.S)(u);if(f&&m.isRemoved)return n(P(O));const g=m.author,y=Object(b.m)(u,g),[_,v,S,R,k]=f?[E,j,T,w,x]:[I,h,C,D,A];if(f){if(Object(l.Q)(u,{profileName:g}).length>=s.U)return void n(Object(i.i)(a.a.PINNED_POSTS_LIMIT_REACHED))}const N=Object(l.n)(u,e,g),L=!f&&N;n(_({postId:e,profileId:y})),(await Object(d.s)(c(),e,f,!0)).ok?(n(v({postId:e,profileId:y})),t||n(R(O,e,L))):(n(S({postId:e,profileId:y})),n(k(O)))}}},"./src/reddit/actions/platform.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.regexp.search.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./src/lib/areUrlsEqual/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/logs/errors.ts"),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/lib/matchRoute/index.ts"),a=(n("./src/lib/addQueryParams/index.ts"),n("./src/reddit/actions/monthsToMinutes.ts")),d=n("./src/reddit/constants/experiments.ts"),u=n("./src/reddit/constants/listings.ts"),l=n("./src/reddit/helpers/routeKey/index.ts"),b=n("./src/reddit/selectors/experiments/postSeo.ts");n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./src/reddit/helpers/chooseVariant/index.ts");new Set([s.xb.COMMENTS,s.xb.INDEX,s.xb.LISTING,s.xb.PROFILE_COMMENTS,s.xb.PROFILE_OVERVIEW,s.xb.PROFILE_POSTS,s.xb.SUBREDDIT]);var p=n("./src/reddit/selectors/monthsToMinutes.ts"),m=n("./src/reddit/selectors/platform.ts");n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return y})),n.d(t,"h",(function(){return _})),n.d(t,"i",(function(){return E})),n.d(t,"m",(function(){return S})),n.d(t,"l",(function(){return T})),n.d(t,"k",(function(){return C})),n.d(t,"j",(function(){return w})),n.d(t,"g",(function(){return D}));const f="PLATFORM__HISTORY_LOCATION_SET",O="PLATFORM__INITIAL_REFERRER_SET",g="PLATFORM__NAVIGATION_CONFIRMATION_REQUESTED",j="PLATFORM__NAVIGATION_CONFIRMATION_DISCARDED",h="PLATFORM__PAGE_META_SET",y="PLATFORM__PAGE_STATUS_SET",_=e=>async(t,n,r)=>{const{currentPage:s}=n().platform;if(!s)return;const o=Object(c.a)(s.url,e);o&&o.route.action(o.match)(t,n,r)},E=(e,t,n)=>async(o,i,c)=>{const f=i().platform.currentPage;(!n||n.route.chunk===s.o.SUBREDDIT&&u.a.has(n.match.params.subredditName.toLowerCase()))&&window.location.replace("https://www.reddit.com".concat(e.pathname).concat(e.search));const O=n?Object(l.d)(n,i()).listingKey:null,{user:g}=i(),j=n&&n.match&&n.match.queryParams,h=j&&j["experiment_".concat(d.hb)];Object(b.h)(i()),e.pathname.split("/").some(e=>"comments"===e),Object(m.i)(i());o(I({action:t,listingKey:O,location:e,routeMatch:n,user:g}));const y=i();if(!Object(p.w)(y)||Object(p.p)(y)||Object(p.a)(y)||o(Object(a.j)()),(!f||!Object(r.a)(f.url,e))&&n){const{match:e}=n;await n.route.action(e)(o,i,c)}},I=Object(i.a)(f),v=(Object(i.a)(O),Object(i.a)(h)),S=Object(i.a)(y),T=e=>async(t,n,r)=>{const s=n(),{currentPage:o}=s.platform;if(!o)return;const{key:i}=o;await t(v({key:i,meta:e}))},C=Object(i.a)(g),w=Object(i.a)(j),D=()=>async(e,t,n)=>{if(window!==window.parent){Object(o.b)(n.apiContext(),{extra:{errorType:s.p.NOT_ALLOWED_ACCESS,value:"Page was unexpectedly loaded inside iframe"}});try{window.top.location.href=window.location.href}catch(r){}}}},"./src/reddit/actions/polls.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n("./src/lib/makeActionCreator/index.ts");const s="POLLS__POLL_CREATION_UPDATED",o=Object(r.a)(s)},"./src/reddit/actions/post.ts":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./node_modules/js-cookie/src/js.cookie.js"),o=n.n(s),i=n("./src/app/strings/index.ts"),c=n("./src/lib/addQueryParams/index.ts"),a=n("./src/lib/copyToClipboard/index.ts"),d=n("./src/lib/makeActionCreator/index.ts"),u=n("./src/reddit/actions/login.ts"),l=n("./src/reddit/actions/platform.ts"),b=n("./src/reddit/actions/reportFlow.ts"),p=n("./src/reddit/actions/video.ts"),m=n("./src/reddit/actions/vote.ts"),f=n("./src/reddit/constants/cookie.ts"),O=n("./src/reddit/constants/history.ts"),g=n("./src/reddit/constants/posts.ts"),j=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),h=n("./src/reddit/helpers/overlay/index.ts"),y=n("./src/reddit/helpers/stewards.ts"),_=n("./src/reddit/i18n/utils.ts"),E=n("./src/reddit/models/Media/index.ts"),I=n("./src/reddit/endpoints/post/index.tsx"),v=n("./src/lib/makeGqlRequest/index.ts"),S=n("./src/graphql/operations/SinglePost.json");var T=n("./src/graphql/operations/RichTextPostContent.json");var C=n("./src/lib/constants/index.ts"),w=n("./src/lib/makeListingKey/index.ts"),D=n("./node_modules/react-router-redux/es/index.js"),x=n("./src/reddit/actions/modal.ts"),P=n("./src/reddit/actions/toaster.ts"),A=n("./src/reddit/constants/adEvents.ts"),R=n("./src/reddit/constants/modals.ts"),k=n("./src/reddit/endpoints/page/commentsPage.ts"),N=n("./src/reddit/helpers/pixels.ts"),L=n("./src/reddit/helpers/trackers/post.ts"),M=n("./src/reddit/models/Flair/index.ts"),U=n("./src/reddit/models/Toast/index.ts"),F=n("./src/reddit/models/User/index.ts"),B=n("./src/reddit/models/Vote/index.ts"),G=n("./src/reddit/selectors/platform.ts"),q=n("./src/reddit/selectors/user.ts"),V=n("./src/reddit/constants/viewabilityEvents.ts"),H=n("./src/reddit/selectors/posts.ts"),K=n("./src/telemetry/index.ts");n.d(t,"c",(function(){return W})),n.d(t,"d",(function(){return J})),n.d(t,"f",(function(){return Y})),n.d(t,"e",(function(){return z})),n.d(t,"p",(function(){return Q})),n.d(t,"j",(function(){return $})),n.d(t,"E",(function(){return ee})),n.d(t,"K",(function(){return te})),n.d(t,"G",(function(){return ne})),n.d(t,"N",(function(){return se})),n.d(t,"o",(function(){return oe})),n.d(t,"A",(function(){return ce})),n.d(t,"B",(function(){return ae})),n.d(t,"a",(function(){return de})),n.d(t,"b",(function(){return ue})),n.d(t,"C",(function(){return pe})),n.d(t,"l",(function(){return me})),n.d(t,"F",(function(){return fe})),n.d(t,"z",(function(){return Oe})),n.d(t,"u",(function(){return ge})),n.d(t,"J",(function(){return je})),n.d(t,"w",(function(){return he})),n.d(t,"v",(function(){return ye})),n.d(t,"n",(function(){return _e})),n.d(t,"L",(function(){return Ee})),n.d(t,"M",(function(){return Ie})),n.d(t,"t",(function(){return Se})),n.d(t,"g",(function(){return Te})),n.d(t,"m",(function(){return we})),n.d(t,"k",(function(){return De})),n.d(t,"H",(function(){return xe})),n.d(t,"y",(function(){return Pe})),n.d(t,"D",(function(){return Ae})),n.d(t,"s",(function(){return Re})),n.d(t,"x",(function(){return ke})),n.d(t,"h",(function(){return Ne})),n.d(t,"r",(function(){return Me})),n.d(t,"I",(function(){return Ue})),n.d(t,"i",(function(){return Fe})),n.d(t,"q",(function(){return Ge}));const W="POST__EXPANDED_TOGGLED",J="POST__FOCUS_CHANGED",Y="POSTS__MUTATED",z="POSTS_LOADED",Q=Object(d.a)(W),X=(Object(d.a)(J),Object(d.a)(z)),$="POST__STICKY_POST_SUCCESS",Z=Object(d.a)($),ee=Object(d.a)(Y),te=(e,t,n,r)=>async(s,o,c)=>{let{apiContext:a}=c;const d=o().posts.models[e];if(!d)return;if(!Object(q.J)(o()))return s(Object(x.k)({actionSource:x.a.Hide,redirectUrl:d.permalink})),void s(Object(u.f)());s(ee({[e]:{hidden:t}}));const l=o(),b=Object(q.S)(l);let p;if((p=t?await Object(I.g)(a(),e):await Object(I.t)(a(),e)).ok){if(r){const r=t?Object(i.a)(b,"posts.hiddenSuccess"):Object(i.a)(b,"posts.unhiddenSuccess"),o=Object(P.d)(r,U.b.Undo,Object(i.a)(b,"posts.hiddenUndo"),te(e,!t,n,!1));s(Object(P.e)(o))}}else if(s(ee({[e]:{hidden:!t}})),r){const e=Object(P.d)(Object(i.a)(b,"error.generic"),U.b.Error);s(Object(P.e)(e))}},ne=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().posts.models[e];if(!o)return;if(!Object(q.J)(n()))return t(Object(u.f)()),void t(Object(x.k)({actionSource:x.a.Save,redirectUrl:o.permalink}));const c=o.saved?I.x:I.o;if(t(ee({[e]:{saved:!o.saved}})),(await c(s(),e)).ok){const r=Object(q.S)(n()),s=o.saved?Object(i.a)(r,"posts.unsavedSuccess"):Object(i.a)(r,"posts.savedSuccess"),c=Object(P.d)(s,U.b.Undo,Object(i.a)(r,"posts.savedUndo"),ne(e));t(Object(P.e)(c))}else t(ee({[e]:{saved:o.saved}}))},re=(e,t)=>t().posts.models[e],se=Object(m.b)(re,B.a.upvoted),oe=Object(m.b)(re,B.a.downvoted),ie=e=>"viewing-".concat(e),ce=(e,t)=>async(n,r)=>{const s=r();L.g(s,e,t),K.c.start(ie(e))},ae=(e,t,n)=>async(s,o)=>{const i=o(),c=ie(e);if(K.c.has(c)){const s=K.c.end("viewing-".concat(e));!t&&s>r.a.telemetry.postConsumedThreshold&&L.a(i,e,s,n)}},de="AD__IMPRESSION",ue="AD__VIEWABLE_IMPRESSION",le=Object(d.a)(de),be=Object(d.a)(ue),pe=(e,t)=>async(n,r)=>{const s=e.media&&"video"===e.media.type;if(s&&t===V.a.VideoViewable)n(Object(p.B)(e.id));else if(s&&t===V.a.VideoFullyViewable)n(Object(p.A)(e.id));else if(e.isSponsored)return t===V.a.Impression?(n((e=>async t=>{e.isSponsored&&(Object(N.a)(e.events,A.a.Impression),t(le({postId:e.id})))})(e)),void(e.isBlank||L.f(r(),e.id))):void n((e=>async t=>{e.isSponsored&&(Object(N.a)(e.events,A.a.ViewableImpression),t(be({postId:e.id})))})(e))},me=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.posts.models[e],c=o.user.account?o.user.account.displayText:null;i&&(t(ee({[e]:{approvedBy:c,bannedBy:null,isApproved:!0,isRemoved:!1,isSpam:!1,modNote:null,numReports:0,modRemovalReason:null,modReasonBy:null,wasPreviouslyRemovedBySteward:Object(y.a)(i)}})),(await Object(I.b)(s(),e)).ok||t(ee({[e]:{approvedBy:null,bannedBy:i.bannedBy,isApproved:i.isApproved,isRemoved:i.isRemoved,isSpam:i.isSpam,modNote:i.modNote,numReports:i.numReports||null,modRemovalReason:i.modRemovalReason,modReasonBy:i.modReasonBy,wasPreviouslyRemovedBySteward:i.wasPreviouslyRemovedBySteward}})))},fe=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=i.posts.models[e],a=i.user.account?i.user.account.displayText:null;c&&a&&(n(ee({[e]:{approvedBy:null,bannedBy:a,isApproved:!1,isRemoved:!t,isSpam:t,wasPreviouslyRemovedBySteward:Object(y.a)(c)}})),(await Object(I.l)(o(),e,t)).ok||n(ee({[e]:{approvedBy:c.approvedBy,bannedBy:c.bannedBy,isApproved:c.isApproved,isRemoved:c.isRemoved,isSpam:c.isSpam,wasPreviouslyRemovedBySteward:c.wasPreviouslyRemovedBySteward}})))},Oe=(e,t,n)=>async(r,s,o)=>{let{apiContext:c}=o;const a=s(),d=a.posts.models[e],u=Object(q.S)(a);if(d)if(r(ee({[e]:{hidden:!0}})),(await Object(I.c)(c(),e)).ok){const e=Object(P.d)(Object(i.a)(u,"posts.deleteSuccess"),U.b.SuccessMod);if(n)r(Object(D.b)(t.state[O.a.CloseLocation]));else{const e=Object(G.f)(a);e&&r(Object(D.b)(e.url))}r(Object(P.e)(e))}else{r(ee({[e]:{hidden:!1}}));const t=Object(P.d)(Object(i.a)(u,"error.generic"),U.b.Error);r(Object(P.e)(t))}},ge=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().posts.models[e];if(!o)return;const i=o.isLocked?I.v:I.i;t(ee({[e]:{isLocked:!o.isLocked}})),(await i(s(),e)).ok||t(ee({[e]:{isLocked:o.isLocked}}))},je=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().posts.models[e];if(!o)return;const i=o.isSpoiler?I.y:I.r,c=o.isSpoiler?o.flair.filter(e=>e.type!==M.f.Spoiler):[...o.flair,{text:"spoiler",type:M.f.Spoiler}];t(ee({[e]:{isSpoiler:!o.isSpoiler,flair:c}})),(await i(s(),e)).ok||t(ee({[e]:{isSpoiler:o.isSpoiler,flair:o.flair}}))},he=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=Object(H.J)(n(),{postId:e});o&&(t(ee({[e]:{isOriginalContent:!o.isOriginalContent}})),(await Object(I.k)(s(),e,!o.isOriginalContent)).ok||t(ee({[e]:{isOriginalContent:o.isOriginalContent}})))},ye=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().posts.models[e];if(!o)return;const i=o.isNSFW?I.w:I.j,c=o.isNSFW?o.flair.filter(e=>e.type!==M.f.Nsfw):[...o.flair,{text:"nsfw",type:M.f.Nsfw}];t(ee({[e]:{isNSFW:!o.isNSFW,flair:c}})),(await i(s(),e)).ok?await t(Pe(e)):t(ee({[e]:{isNSFW:o.isNSFW,flair:o.flair}}))},_e=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r().posts.models[e];if(!i)return;const c=C.g[t];n(ee({[e]:{distinguishType:t}})),(await Object(I.d)(o(),e,c)).ok||n(ee({[e]:{distinguishType:i.distinguishType}}))},Ee=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().posts.models[e];if(!o)return;const i=o.ignoreReports?I.u:I.h;t(ee({[e]:{ignoreReports:!o.ignoreReports}})),(await i(s(),e)).ok||t(ee({[e]:{ignoreReports:o.ignoreReports}}))},Ie=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.posts.models[e];if(!i)return;const c=!i.isStickied;t(ee({[e]:{isStickied:c}}));const a=o.subredditStickyPosts.data[i.belongsTo.id];let d;if(c&&a&&a.length>=2&&(d=a[1],t(ee({[d]:{isStickied:!1}}))),(await Object(I.s)(s(),e,c,!1)).ok){const n=i.belongsTo.id,r=ve(e,c,o.subredditStickyPosts.data[i.belongsTo.id]),s=o.subreddits.models[n].name,a=Object(w.a)(s,C.O,{});t(Z({newStickiedPostList:r,subredditId:n,listingKey:a}))}else t(ee({[e]:{isStickied:i.isStickied}})),d&&t(ee({[d]:{isStickied:!0}}))},ve=(e,t,n)=>{const r=n?[...n]:[];return t?(r.length>=2&&r.splice(1,1,e),r):r.filter((function(t){return t!==e}))},Se=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().user.language;if(Object(a.a)(e)){const e=Object(P.d)(Object(i.a)(o,"posts.copyLinkSuccess"),U.b.SuccessCommunity);t(Object(P.e)(e))}else{const e=Object(P.d)(Object(i.a)(o,"error.generic"),U.b.Error);t(Object(P.e)(e))}},Te="PREFERENCES__RECENT_POSTS_UPDATED",Ce=Object(d.a)(Te),we=()=>async(e,t)=>{const n=t();if(!n.user.account)return;const s=Object(F.f)(n.user.account);o.a.remove("".concat(s).concat(f.h),{domain:r.a.cookieDomain}),e(Ce({postIds:[]}))},De=e=>async(t,n)=>{const s=n();if(!s.user.account||!s.user.account.showRecentPosts||s.posts.recent.indexOf(e)>-1)return;const i=Object(F.f)(s.user.account),c=s.posts.recent?s.posts.recent.slice(0):[];c.push(e),c.length>g.c&&c.shift(),o.a.set("".concat(i).concat(f.h),"".concat(c.join(",")),{domain:r.a.cookieDomain}),t(Ce({postIds:c}))},xe=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=!n().posts.models[e].sendReplies;t(ee({[e]:{sendReplies:o}})),(await Object(I.p)(s(),e,o)).ok||t(ee({[e]:{sendReplies:!o}}))},Pe=e=>async(t,n,r)=>{if(Object(H.J)(n(),{postId:e}))return;const s=await Object(k.a)(r.apiContext(),e,void 0,{limit:1,truncate:0});if(t(Object(l.m)(s.status)),s.ok){const e=s.body;t(X(e.posts))}},Ae=e=>async(t,n)=>{await t(Pe(e));const r=Object(H.J)(n(),{postId:e});r&&r.crosspostRootId&&await t(Pe(r.crosspostRootId))},Re=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n();if(!Object(q.J)(o))return void t(Object(x.i)(R.a.LOGIN_MODAL_ID));const c=Object(H.J)(o,{postId:e});if(!c)return;const a=c.isFollowed;t(ee({[e]:{isFollowed:!a}}));const d=await Object(I.f)(s(),e,!c.isFollowed),u=Object(q.S)(o);d.ok?t(Object(P.e)({kind:U.b.SuccessMod,text:Object(i.a)(u,a?"posts.event.successfullyUnfollowed":"posts.event.successfullyFollowed")})):(t(ee({[e]:{isFollowed:a}})),t(Object(P.e)({kind:U.b.Error,text:Object(i.a)(u,"posts.event.followFailed")})))},ke=e=>{let{postOrComment:t,queryParams:n,clickInfo:r}=e;return async(e,s)=>{const o=s(),i=r&&r.hasNewTabModifier;let a=t.permalink;n&&(a=Object(c.a)(a,n)),o.user.prefs.openPostInNewTab||i?window.open(a):e(Object(h.a)(a))}},Ne="RICH_TEXT_POST_CONTENT_LOADED",Le=Object(d.a)(Ne),Me=e=>async(t,n,r)=>{const s=n(),o=Object(H.J)(s,{postId:e}),c=Object(q.S)(s);if(!(o&&o.media&&Object(E.C)(o.media)&&o.media.isRichtextPreview))return;const a=await((e,t)=>Object(v.a)(e,Object.assign({},T,{variables:t})))(r.gqlContext(),{postId:e});if(a.ok){const{data:n}=a.body,r=n.post&&n.post.content&&n.post.content.richtext;r&&t(Le({postId:e,richtextContent:JSON.parse(r)}))}else t(Object(P.e)({kind:U.b.Error,text:Object(i.a)(c,"error.genericPage")}))},Ue=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;(await Object(I.q)(o(),e,t)).ok?n(ee({[t]:{contestMode:e}})):n(Object(P.e)({kind:U.b.Error,text:Object(_.c)("Something went wrong")}))},Fe="SINGLE_POST_LOADED",Be=Object(d.a)(Fe),Ge=e=>async(t,n,r)=>{let{gqlContext:s}=r;const o=n(),c=Object(H.J)(o,{postId:e}),a=Object(q.S)(o);if(c)return void t(Object(b.j)(e,!1,!1,!0));const d=await((e,t)=>Object(v.a)(e,Object.assign({},S,{variables:t})))(s(),{postId:e});if(d.ok){const{data:n}=d.body;if(n.postInfoById){const r=Object(j.d)(n.postInfoById);t(Be(r)),t(Object(b.j)(e,!1,!1,!0))}}else t(Object(P.e)({kind:U.b.Error,text:Object(i.a)(a,"error.genericPage")}))}},"./src/reddit/actions/postCollection/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"t",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"r",(function(){return l})),n.d(t,"s",(function(){return b})),n.d(t,"n",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"m",(function(){return f})),n.d(t,"k",(function(){return O})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return j})),n.d(t,"h",(function(){return h})),n.d(t,"p",(function(){return y})),n.d(t,"q",(function(){return _})),n.d(t,"o",(function(){return E}));const r="CREATE_COLLECTION_PENDING",s="CREATE_COLLECTION_SUCCESS",o="CREATE_COLLECTION_FAILED",i="GET_SUBREDDIT_COLLECTION_SUCCESS",c="REMOVE_POST_FROM_COLLECTION_SUCCESS",a="ADD_POST_TO_COLLECTION_SUCCESS",d="UPDATE_POST_WITH_COLLECTION_ID",u="DELETE_COLLECTION_SUCCESS",l="UPDATE_COLLECTION_PENDING",b="UPDATE_COLLECTION_SUCCESS",p="UPDATE_COLLECTION_FAILED",m="UPDATE_COLLECTION_DESCRIPTION_PENDING",f="UPDATE_COLLECTION_DESCRIPTION_SUCCESS",O="UPDATE_COLLECTION_DESCRIPTION_FAILED",g="REORDER_COLLECTION_PENDING",j="REORDER_COLLECTION_SUCCESS",h="REORDER_COLLECTION_FAILED",y="UPDATE_COLLECTION_LAYOUT_PENDING",_="UPDATE_COLLECTION_LAYOUT_SUCCESS",E="UPDATE_COLLECTION_LAYOUT_FAILED"},"./src/reddit/actions/postCreation/constants.ts":function(e,t,n){"use strict";n.d(t,"I",(function(){return r})),n.d(t,"J",(function(){return s})),n.d(t,"m",(function(){return o})),n.d(t,"n",(function(){return i})),n.d(t,"z",(function(){return c})),n.d(t,"F",(function(){return a})),n.d(t,"G",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"E",(function(){return l})),n.d(t,"q",(function(){return b})),n.d(t,"O",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"B",(function(){return f})),n.d(t,"t",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return _})),n.d(t,"g",(function(){return E})),n.d(t,"h",(function(){return I})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return S})),n.d(t,"k",(function(){return T})),n.d(t,"r",(function(){return C})),n.d(t,"Q",(function(){return w})),n.d(t,"P",(function(){return D})),n.d(t,"R",(function(){return x})),n.d(t,"S",(function(){return P})),n.d(t,"T",(function(){return A})),n.d(t,"U",(function(){return R})),n.d(t,"V",(function(){return k})),n.d(t,"W",(function(){return N})),n.d(t,"X",(function(){return L})),n.d(t,"s",(function(){return M})),n.d(t,"C",(function(){return U})),n.d(t,"x",(function(){return F})),n.d(t,"v",(function(){return B})),n.d(t,"w",(function(){return G})),n.d(t,"u",(function(){return q})),n.d(t,"y",(function(){return V})),n.d(t,"N",(function(){return H})),n.d(t,"p",(function(){return K})),n.d(t,"A",(function(){return W})),n.d(t,"Y",(function(){return J})),n.d(t,"H",(function(){return Y})),n.d(t,"a",(function(){return z})),n.d(t,"D",(function(){return Q})),n.d(t,"L",(function(){return X})),n.d(t,"M",(function(){return $})),n.d(t,"K",(function(){return Z}));const r="SUBMIT_VALIDATION_FIELD_HAS_ERROR",s="SUBMIT_VALIDATION_FIELD_IS_VALID",o="POST_CREATION_EDIT_COMPLETE",i="POST_CREATION_EDIT_FAILED",c="POST_CREATION_PENDING_EDIT",a="POST_CREATION_START_EDITING_POST",d="POST_CREATION_STOP_EDITING_POST",u="EDITOR_CONTENT_KEY__NEW_DRAFT",l="STARTED_CONVERTING_EDITOR_CONTENT",b="FINISHED_CONVERTING_EDITOR_CONTENT",p="POST_CREATION__TOGGLE_EDITOR_MODE",m="POST_CREATION__ERRORS_NO_LONGER_VALID",f="POST_TITLE_FETCHED",O="INITIALIZE_EDITOR_MODE",g="POST_CREATION__CHANGE_FLAIR",j="POST_CREATION__CHANGE_EVENT_SCHEDULE",h="POST_CREATION__CHANGE_LINK_BODY",y="POST_CREATION__CHANGE_MARKDOWN_BODY",_="POST_CREATION__CHANGE_MEDIA_BODY",E="POST_CREATION__CHANGE_POST_SCHEDULE",I="POST_CREATION__CHANGE_RECAPTCHA",v="POST_CREATION__CHANGE_RTE_STATE",S="POST_CREATION__CHANGE_SUBMISSION_TYPE",T="POST_CREATION__CHANGE_TITLE",C="POST_CREATION__GOV_TYPE_CHANGED",w="POST_CREATION__TOGGLE_IS_CHAT_POST",D="POST_CREATION__TOGGLE_IS_CHANGED",x="POST_CREATION__TOGGLE_IS_GOV",P="POST_CREATION__TOGGLE_IS_NSFW",A="POST_CREATION__TOGGLE_IS_OC",R="POST_CREATION__TOGGLE_IS_POLL",k="POST_CREATION__TOGGLE_IS_SPOILER",N="POST_CREATION__TOGGLE_POST_TO_TWITTER",L="POST_CREATION__TOGGLE_SEND_REPLIES",M="POST_CREATION__INITIALIZE_CROSSPOST_MODE",U="POST_CREATION__RESET_FORM",F="POST_CREATION__MODAL_TOGGLED",B="POST_CREATION__MEDIA_UPLOAD_PENDING",G="POST_CREATION__MEDIA_UPLOAD_SUCCEEDED",q="POST_CREATION__MEDIA_UPLOAD_FAILED",V="POST_CREATION__PENDING",H="POST_CREATION__SUCCEEDED",K="POST_CREATION__FAILED",W="POST_CREATION__POLL_FAILED",J="POST_CREATION__VALIDATION_FAILED",Y="POST_CREATION__SUBMIT_VALIDATION_FAILED",z="POST_CREATION__CAPTCHA_REQUIRED",Q="POST_CREATION__SET_SUBMIT_MODE",X="POST_CREATION__SUBREDDIT_CHANGE_PENDING",$="POST_CREATION__SUBREDDIT_WILL_CHANGE",Z="POST_CREATION__SUBREDDIT_CHANGE_CANCELED"},"./src/reddit/actions/postCreation/editorContent.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return j}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/toaster.ts"),i=n("./src/reddit/endpoints/post/convert.ts"),c=n("./src/reddit/helpers/localStorage/index.ts"),a=n("./src/reddit/helpers/trackers/postComposer.ts"),d=n("./src/reddit/models/PostCreationForm/index.ts"),u=n("./src/reddit/models/RichTextJson/index.ts"),l=n("./src/reddit/models/Toast/index.ts"),b=n("./src/reddit/selectors/user.ts"),p=n("./src/reddit/actions/postCreation/constants.ts");const m=Object(s.a)(p.E),f=Object(s.a)(p.q),O=Object(s.a)(p.O),g=(e,t,n)=>async(s,c,g)=>{let{apiContext:h}=g;a.i(c(),t);const y=t===d.h.MARKDOWN,_=t===d.h.RICH_TEXT,E=Object(b.S)(c()),I=p.l;if(y&&Object(u.F)(n))return s(O({editorKey:e,editorMode:d.h.MARKDOWN,content:""})),void s(j(t));if(_&&!n)return s(O({editorKey:e,editorMode:d.h.RICH_TEXT,content:u.i})),void s(j(t));s(m(I));const v=await Object(i.a)(h(),t,y?JSON.stringify(n):n);v.ok?(s(f(I)),s(O({editorKey:e,editorMode:t,content:v.body.output})),s(j(t))):(s(f(I)),s(Object(o.e)({duration:o.a,kind:l.b.Error,text:Object(r.a)(E,"error.generic")})))},j=e=>async(t,n)=>{const s=Object(c.h)();if(s>=3)return;const i=n().user.prefs.useMarkdown?d.h.MARKDOWN:d.h.RICH_TEXT,a=Object(b.S)(n());if(e===i)return;const u=e===d.h.MARKDOWN?"postCreation.editorModeModeHintToast.makeMarkdownDefault":"postCreation.editorModeModeHintToast.makeRTEDefault";t(Object(o.e)({buttonAction:async()=>{window.open("/settings/feed")},buttonText:Object(r.a)(a,"postCreation.editorModeModeHintToast.button"),kind:l.b.SuccessCommunity,text:Object(r.a)(a,u)})),Object(c.K)(s+1)}},"./src/reddit/actions/postCreation/general.ts":function(e,t,n){"use strict";n.d(t,"j",(function(){return m})),n.d(t,"o",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return E})),n.d(t,"g",(function(){return I})),n.d(t,"f",(function(){return v})),n.d(t,"h",(function(){return S})),n.d(t,"i",(function(){return T})),n.d(t,"k",(function(){return C})),n.d(t,"t",(function(){return w})),n.d(t,"s",(function(){return D})),n.d(t,"u",(function(){return x})),n.d(t,"v",(function(){return P})),n.d(t,"w",(function(){return A})),n.d(t,"x",(function(){return R})),n.d(t,"z",(function(){return k})),n.d(t,"A",(function(){return N})),n.d(t,"l",(function(){return L})),n.d(t,"r",(function(){return M})),n.d(t,"q",(function(){return F})),n.d(t,"m",(function(){return B})),n.d(t,"y",(function(){return G})),n.d(t,"p",(function(){return q})),n.d(t,"n",(function(){return V}));var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/lib/isUrl/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/modal.ts"),c=n("./src/reddit/contexts/PageLayer/index.tsx"),a=n("./src/reddit/endpoints/post/index.tsx"),d=n("./src/reddit/models/PostCreationForm/index.ts"),u=n("./src/reddit/routes/postCreation/constants.ts"),l=n("./src/reddit/selectors/postCollection.ts"),b=n("./src/reddit/selectors/postCreations.ts"),p=n("./src/reddit/actions/postCreation/constants.ts");const m=Object(o.a)(p.o),f=Object(o.a)(p.B),O=(Object(o.a)(p.t),e=>{switch(e){case"markdown":return"self";case"richtext":case"richText":return"self";case"media":return"media";default:return"link"}}),g=Object(o.a)(p.b),j=Object(o.a)(p.c),h=Object(o.a)(p.d),y=Object(o.a)(p.e),_=Object(o.a)(p.f),E=Object(o.a)(p.g),I=Object(o.a)(p.h),v=Object(o.a)(p.i),S=Object(o.a)(p.j),T=Object(o.a)(p.k),C=Object(o.a)(p.r),w=Object(o.a)(p.Q),D=Object(o.a)(p.P),x=(Object(o.a)(p.R),Object(o.a)(p.S)),P=Object(o.a)(p.T),A=Object(o.a)(p.U),R=Object(o.a)(p.V),k=Object(o.a)(p.W),N=Object(o.a)(p.X),L=Object(o.a)(p.s),M=e=>async(t,n,r)=>{let{apiContext:o}=r;t(h(e)),Object(s.a)(e)&&t((e=>async(t,n,r)=>{let{apiContext:s}=r;const o=await Object(a.e)(s(),e);o.ok&&o.body&&o.body.json&&o.body.json.data&&t(f(o.body.json.data))})(e))},U=Object(o.a)(p.C),F=(e,t)=>async(n,s)=>{n(U()),n(e?Object(r.b)(u.b):Object(r.b)(Object(b.R)(s(),{pageLayer:t})))},B=Object(o.a)(i.c),G=e=>async t=>{e?e===d.d?t(B(e)):t(i.i(e)):(t(B(e)),t(i.i(e)))},q=e=>async(t,n)=>{const r=n(),s=Object(c.E)(e),o=Object(b.z)(r);if(s&&o){Object(b.M)(r)!==d.c&&t(G(d.c))}else t(F(!1,e))},V=e=>async(t,n)=>{const r=n();Object(l.m)(r,{subredditId:e})?t(i.i(d.a)):t(i.i(d.b))}},"./src/reddit/actions/postCreation/subredditChange.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return T}));var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/lib/addQueryParams/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/filterQueryParams/index.ts"),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/reddit/actions/modal.ts"),d=n("./src/reddit/actions/pages/postCreation.ts"),u=n("./src/reddit/contexts/PageLayer/selectors.ts"),l=n("./src/reddit/helpers/name/index.ts"),b=n("./src/reddit/models/PostCreationForm/index.ts"),p=n("./src/reddit/routes/postCreation/index.ts"),m=n("./src/reddit/routes/postCreation/constants.ts"),f=n("./src/reddit/selectors/platform.ts"),O=n("./src/reddit/selectors/postCreations.ts"),g=n("./src/reddit/selectors/subreddit.ts"),j=n("./src/reddit/actions/postCreation/constants.ts"),h=n("./src/reddit/actions/postCreation/general.ts");const y=Object(c.a)(j.L),_=Object(c.a)(j.M),E=Object(c.a)(j.K),I=(e,t)=>async(n,r,s)=>{let{apiContext:i}=s,c=r();const{name:p,isProfile:m}=e,j=Object(f.f)(c),h=j&&!m&&Object(l.a)(j.name,p),_=c.creations.api.subreddit.change.pending;if(h||_)return;const E=Object(u.t)(t);if(!p)return void n(v(e,E));n(y(e));const I=m?{profileName:p}:{subredditName:p};if(await n(Object(d.d)(I)),m||!Object(O.v)(c))return n(v(e,E));const S=e.allowedPostTypes||Object(g.A)(r(),{subredditName:p});if(!S)return void n(v(e,E));let T;c=r();const C=Object(O.ab)(c),w=Object(O.v)(c);if(C===o.Fb.MEDIA&&w){const{mediaType:e,video:t}=Object(O.K)(c);if("image"!==e||S.images){if("video"===e&&!S.videos){const e=t&&t.duration||0;S.images?e>o.Y&&(T=b.q.VideoWillBeRemovedTooLongForGif):T=b.q.VideoWillBeRemovedMediaNotAllowed}}else T=b.q.ImageWillBeRemoved}n(T?Object(a.i)(T):v(Object.assign({},e,{allowedPostTypes:S}),E))},v=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return async(o,i)=>{const{name:c,isProfile:a}=e,d=i().platform.currentPage,u=d.queryParams,l=a?p.b:p.c;let b="";b=c?l(c):m.b,b=Object(s.a)(b,Object.assign({},u,{draft:t||u.draft})),(t||d.url.toLowerCase()!==b.toLowerCase())&&(o(_(e)),n&&o(Object(h.s)(!0)),o(Object(h.j)()),o(Object(r.c)(b)))}},S=e=>async(t,n)=>{const o=n().platform.currentPage,i=o.queryParams,c=Object(s.a)(o.url,Object.assign({},i,{collection:e}));t(Object(r.c)(c))},T=()=>async(e,t)=>{const n=t().platform.currentPage,s=Object(i.a)(n.url,["collection"]);e(Object(r.c)(s))}},"./src/reddit/actions/postDraft.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/formatApiError/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/postCreation/general.ts"),c=n("./src/reddit/actions/postCreation/subredditChange.ts"),a=n("./src/reddit/actions/toaster.ts"),d=n("./src/reddit/contexts/PageLayer/selectors.ts"),u=n("./src/lib/makeApiRequest/index.ts"),l=n("./src/lib/omitHeaders/index.ts"),b=n("./src/reddit/models/StructuredStyles/index.ts");var p=n("./src/reddit/constants/headers.ts"),m=n("./src/reddit/helpers/name/index.ts"),f=n("./src/reddit/models/PostDraft/index.ts"),O=n("./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts"),g=n("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),j=n("./src/reddit/models/Subreddit/index.ts");const h=e=>{let t=e.drafts.reduce((e,t)=>{const n=(e=>{let t;return t="link"===e.kind?{kind:f.b.Link,body:e.body||void 0}:"markdown"===e.kind?{kind:f.b.Markdown,body:e.body||void 0}:{kind:f.b.RichText,body:e.body||void 0},Object.assign({subredditId:e.subreddit||void 0,contentCategory:e.content_category||void 0,created:e.created,flair:e.flair,id:e.id,isChatPost:!!e.discussion_type,isNSFW:!!e.nsfw,isOriginalContent:!!e.original_content,isSpoiler:!!e.spoiler,modified:e.modified||void 0,sendReplies:!!e.send_replies,isPublicLink:!!e.is_public_link,title:e.title||""},t)})(t);return e.postDraftIds.push(n.id),e.postDrafts[n.id]=n,e},{postDraftIds:[],postDrafts:{},profiles:{},subreddits:{}});return t=e.subreddits.reduce((e,t)=>{if(t.subreddit_type===j.b.User){const n=Object(O.a)(t,Object(m.f)(t.display_name_prefixed));e.profiles[n.id]=n}else{const n=Object(g.a)(t);e.subreddits[n.id]=n}return e},t)};var y=n("./src/reddit/endpoints/post/draft/helpers.ts"),_=n("./src/reddit/models/PostCreationForm/index.ts"),E=n("./src/reddit/helpers/trackers/postComposer.ts"),I=n("./src/reddit/models/Toast/index.ts"),v=n("./src/reddit/models/User/index.ts"),S=n("./src/reddit/selectors/postCreations.ts"),T=n("./src/reddit/selectors/postDraft.ts"),C=n("./src/reddit/selectors/profile.ts"),w=n("./src/reddit/selectors/subreddit.ts"),D=n("./src/reddit/selectors/user.ts");n.d(t,"f",(function(){return x})),n.d(t,"e",(function(){return P})),n.d(t,"d",(function(){return A})),n.d(t,"p",(function(){return L})),n.d(t,"j",(function(){return M})),n.d(t,"l",(function(){return U})),n.d(t,"i",(function(){return F})),n.d(t,"m",(function(){return B})),n.d(t,"k",(function(){return G})),n.d(t,"h",(function(){return q})),n.d(t,"n",(function(){return V})),n.d(t,"s",(function(){return Q})),n.d(t,"r",(function(){return X})),n.d(t,"g",(function(){return $})),n.d(t,"q",(function(){return ee})),n.d(t,"c",(function(){return te})),n.d(t,"a",(function(){return ne})),n.d(t,"b",(function(){return re})),n.d(t,"o",(function(){return ce}));const x="POST_DRAFT__LIST_PENDING",P="POST_DRAFT__LIST_LOADED",A="POST_DRAFT__LIST_FAILED",R=Object(o.a)(x),k=Object(o.a)(P),N=Object(o.a)(A),L=()=>async(e,t,n)=>{let{apiContext:s}=n;const o=t();if(!Object(D.i)(o)||Object(T.b)(o))return;e(R());const i=await(e=>Object(u.b)(Object(l.a)(e,[p.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/drafts.json"),method:r.bb.GET}))(s());i.ok?e(k(h(i.body))):e(N(i.error))},M="POST_DRAFT__SAVE_DRAFT_PENDING",U="POST_DRAFT__SAVE_DRAFT_SUCCEEDED",F="POST_DRAFT__SAVE_DRAFT_FAILED",B="POST_DRAFT__SAVE_DRAFT_VALIDATION_FAILED",G="POST_DRAFT__SAVE_DRAFT_SUBMIT_VALIDATION_FAILED",q="POST_DRAFT__SAVE_DRAFT_CAPTCHA_REQUIRED",V="POST_CREATION__TOGGLE_DRAFT_IS_PUBLIC",H=Object(o.a)(M),K=Object(o.a)(U),W=Object(o.a)(F),J=Object(o.a)(B),Y=Object(o.a)(G),z=Object(o.a)(q),Q=Object(o.a)(V),X=e=>async(t,n,o)=>{let{apiContext:i}=o;const d=n(),b=Object(T.g)(d),m=Object(S.Q)(d);if(b||m)return;const f=Object(T.h)(d,e);if(!f)return;t(H(f)),E.e(d,f);const O=await((e,t,n)=>Object(u.b)(Object(l.a)(e,[p.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/draft"),method:n?r.bb.PUT:r.bb.POST,data:Object(y.a)(t)}).then(e=>e.body.fields&&Object(_.v)(e.body.fields[0])?Object.assign({},e,{body:{},error:{type:r.D.SUBMIT_VALIDATION_ERROR,fields:[{field:e.body.fields[0],msg:e.body.explanation}]}}):e))(i(),f,e);if(O.ok){const{id:n,draftsCount:r}=Object(y.c)(O.body);t(K({draftId:n,draftsCount:r})),e||t(Object(c.a)(f.destSubreddit,n,!1))}else{const e=O.error;e.type===r.D.BAD_CAPTCHA_ERROR?t(z()):e.type===r.D.VALIDATION_ERROR?t(J(e)):e.type===r.D.SUBMIT_VALIDATION_ERROR?t(Y(e)):t(W(e));const n=Object(D.S)(d);t(Object(a.e)({duration:a.a,kind:I.b.Error,text:Object(s.a)(n,e)}))}},$="POST_DRAFT__LOAD_DRAFT",Z=Object(o.a)($),ee=e=>async(t,n,r)=>{let{apiContext:s}=r;t(Z(e));let o=_.e;const i=n();if(e.subredditId){const t=Object(w.S)(i,{subredditId:e.subredditId}),n=Object(C.p)(i,{profileId:e.subredditId}),r=Object(D.i)(i);t?o={isProfile:!1,name:t.name}:n&&r&&(o={isProfile:!0,name:Object(v.f)(r)})}await t(Object(c.a)(o,e.id,!1));const a=Object(T.h)(n(),e.id);a&&E.h(n(),a)},te="POST_DELETE_DRAFT_SUCCEEDED",ne="POST_DELETE_DRAFT_FAILED",re="POST_DELETE_DRAFT_PENDING",se=Object(o.a)(te),oe=Object(o.a)(ne),ie=Object(o.a)(re),ce=(e,t)=>async(n,o,c)=>{let{apiContext:p}=c;const m=o();if(Object(T.a)(m,e))return;const f=Object(T.d)(m,{draftId:e});f&&E.f(m,f),n(ie({draftId:e}));const O=await(async(e,t)=>Object(u.b)(Object(l.a)(e,[b.f]),{endpoint:"".concat(e.apiUrl,"/api/v1/draft?draft_id=").concat(t),method:r.bb.DELETE}))(p(),e);if(O.ok){const{draftsCount:r}=Object(y.c)(O.body);n(se({draftId:e,draftsCount:r}));const s=Object(d.t)(t);e===s&&n(Object(i.q)(!0,t))}else{const t=O.error,r=Object(D.S)(o());n(oe({draftId:e,apiError:t})),n(Object(a.e)({duration:a.a,kind:I.b.Error,text:Object(s.a)(r,t)}))}}},"./src/reddit/actions/postFlair.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return I})),n.d(t,"b",(function(){return C})),n.d(t,"e",(function(){return P})),n.d(t,"d",(function(){return A})),n.d(t,"l",(function(){return L})),n.d(t,"k",(function(){return M})),n.d(t,"j",(function(){return U})),n.d(t,"g",(function(){return F})),n.d(t,"i",(function(){return B})),n.d(t,"h",(function(){return G}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/post.ts"),i=n("./src/reddit/actions/postFlairStyleTemplate.ts"),c=n("./src/reddit/actions/toaster.ts"),a=n("./src/reddit/endpoints/flair/index.ts"),d=n("./src/reddit/helpers/flair.ts"),u=n("./src/reddit/models/Flair/index.ts"),l=n("./src/reddit/models/Toast/index.ts"),b=n("./src/reddit/selectors/postFlair.ts"),p=n("./src/reddit/selectors/subreddit.ts"),m=n("./src/reddit/selectors/user.ts");const f="STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_SUCCESS",O=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_PENDING"),g=Object(s.a)(f),j=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_FAILED"),h="STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_SUCCESS",y=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_PENDING"),_=Object(s.a)(h),E=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_FAILED"),I="STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_SUCCESS",v=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_PENDING"),S=Object(s.a)(I),T=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_FAILED"),C="STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_SUCCESS",w=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_PENDING"),D=Object(s.a)(C),x=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_FAILED"),P="STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_PENDING",A="STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_FAILED",R=Object(s.a)(P),k=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_SUCCESS"),N=Object(s.a)(A),L=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(p.S)(i,{subredditId:e}).name;n(O());const d=await Object(a.k)(o(),c,t);if(d.ok){n(g({subredditId:e,isEnabled:t}))}else n(j());return d.ok},M=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(p.S)(i,{subredditId:e}).name;n(y());const d=await Object(a.j)(o(),t,u.d.LinkFlair,c);if(d.ok){n(_({subredditId:e,canAssignOwn:t}))}else n(E());return d.ok},U=(e,t)=>async(n,s,o)=>{let{apiContext:d}=o;const b=s(),f=Object(p.S)(b,{subredditId:t}).name,O=Object(m.S)(b);n(v());const g=await Object(a.f)(d(),e,f,u.d.LinkFlair);let j=g.ok&&!(g.body&&!1===g.body.success);if(j){const r=g.body;if(n(S({subredditId:t,template:r})),r.id){const s=e.styleTemplate,o=b.structuredStyles.flairTemplate.models[r.id];s?j=await n(Object(i.d)(t,r.id,s)):o&&(j=await n(Object(i.c)(t,r.id)))}}if(j){const e=Object(c.d)(Object(r.a)(O,"structuredStyles.forms.flair.toast.flairSaved"),l.b.SuccessMod);n(Object(c.e)(e))}else{n(T());const s=Object(c.d)(Object(r.a)(O,"structuredStyles.forms.flair.toast.flairNotSaved"),l.b.Error,Object(r.a)(O,"structuredStyles.forms.flair.toast.retryButtonText"),U(e,t));n(Object(c.e)(s))}return j},F=(e,t)=>async(n,s,o)=>{let{apiContext:i}=o;const d=s(),u=Object(p.S)(d,{subredditId:t}).name,b=Object(m.S)(d);if(n(w()),(await Object(a.b)(i(),e,u)).ok){n(D({subredditId:t,templateId:e}));const s=Object(c.d)(Object(r.a)(b,"structuredStyles.forms.flair.toast.flairDeleted"),l.b.SuccessMod);n(Object(c.e)(s))}else{n(x());const s=Object(c.d)(Object(r.a)(b,"structuredStyles.forms.flair.toast.flairNotDeleted"),l.b.Error,Object(r.a)(b,"structuredStyles.forms.flair.toast.retryButtonText"),F(e,t));n(Object(c.e)(s))}},B=(e,t)=>async(n,s,o)=>{let{apiContext:i}=o;const d=s(),f=Object(b.d)(d,{subredditId:t}).templateIds,O=Object(p.S)(d,{subredditId:t}).name,g=Object(m.S)(d);if(n(R({subredditId:t,templateIds:e})),(await Object(a.e)(i(),O,u.d.LinkFlair,e)).ok){n(k());const e=Object(c.d)(Object(r.a)(g,"structuredStyles.forms.flair.toast.flairReorderSuccess"),l.b.SuccessMod);n(Object(c.e)(e))}else{n(N({subredditId:t,templateIds:f}));const s=Object(c.d)(Object(r.a)(g,"structuredStyles.forms.flair.toast.flairReorderFailure"),l.b.Error,Object(r.a)(g,"structuredStyles.forms.flair.toast.retryButtonText"),B(e,t));n(Object(c.e)(s))}},G=e=>{let{post:t,previewFlair:n,selectedTemplateId:r}=e;return async(e,s,i)=>{let{apiContext:c}=i;const u=t.flair.filter(e=>!Object(d.p)(e.type));if(n&&u.unshift(n),e(Object(o.E)({[t.id]:{flair:u}})),n){const e=Object(d.g)(n);Object(a.h)(c(),t.id,r,e)}else Object(a.h)(c(),t.id,"","")}}},"./src/reddit/actions/postFlairStyleTemplate.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./node_modules/lodash/forEach.js"),s=n.n(r),o=n("./node_modules/lodash/isEqual.js"),i=n.n(o),c=n("./node_modules/lodash/values.js"),a=n.n(c),d=n("./src/lib/makeActionCreator/index.ts"),u=n("./src/reddit/actions/imageUploads.ts"),l=n("./src/reddit/helpers/media/index.ts"),b=n("./src/lib/constants/index.ts"),p=n("./src/lib/makeApiRequest/index.ts"),m=n("./src/lib/omitHeaders/index.ts"),f=n("./src/reddit/constants/headers.ts");var O=n("./src/reddit/helpers/trackers/blade.ts"),g=n("./src/reddit/models/Image/index.tsx"),j=n("./src/reddit/selectors/subreddit.ts"),h=n("./src/telemetry/index.ts");n.d(t,"b",(function(){return E})),n.d(t,"d",(function(){return v})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return C}));var y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const _=e=>{let{subredditId:t,flairId:n,imageKey:r,imageData:s}=e;return async(e,o,i)=>{const c=o(),a=Object(j.S)(c,{subredditId:t});if(!a)return!1;e(Object(u.k)(s));const d=await(async(e,t,n,r,s,o)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/flair_style_asset_upload_s3/").concat(n),method:b.bb.POST,data:{filepath:r,imagetype:s,mimetype:o}}))(i.apiContext(),a.name,n,s.file.name,r,await Object(l.g)(s.file));let O=!1;try{const t=await Object(u.g)(o(),d,s,g.a.FlairTemplates);t&&e(Object(u.j)(t)),O=!0}catch(h){if(h instanceof Error)throw h;e(Object(u.i)(h))}return O}},E="POSTFLAIR_STYLETEMPLATE_SAVED_SUCCESS",I=Object(d.a)(E),v=(e,t,n)=>async(r,o,c)=>{const{apiContext:d}=c;let l=o();const{pendingImages:E}=n;let v=y(n,["pendingImages"]);const S=Object(j.S)(l,{subredditId:e});if(!S)return!1;const T=l.structuredStyles.flairTemplate.models[t];if(T&&i()(T,v))return!0;if(E){const n=[];if(s()(E,(s,o)=>{s&&n.push(r(_({flairId:t,imageData:Object(g.m)(s),imageKey:o,subredditId:e})))}),!(await Promise.all(n)).every(e=>e))return!1;v=((e,t,n)=>{const r=Object.assign({},e);return s()(t,(e,t)=>{const s=e&&n.imageUploads[e.id];s&&s.kind===g.b.TempUploaded&&(r[t]=s.url)}),r})(v,E,o())}l=o();let C=null,w=null;const D=[];try{(C=await Object(u.f)(l,g.a.FlairTemplates))&&(w=Object(u.m)(C)(r,o,c),D.push(...a()(C.imagesByKey)))}catch(R){return!1}const x=await(async(e,t,n,r)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/flair_styles/").concat(n),method:b.bb.PUT,data:r}))(d(),S.name,t,v),P=T?"edit_post_flair_template":"save_post_flair_template",A=Object(O.e)(l,P);if(x.ok){let e;if(w)try{await w,e=((e,t,n)=>{const r=Object.assign({},e);return t.forEach(e=>{const t=n.imageUploads[e.id];t&&t.kind===g.b.Uploaded&&(e.url===r.postBackgroundImage?r.postBackgroundImage=t.url:e.url===r.postPlaceholderImage&&(r.postPlaceholderImage=t.url))}),r})(v,D,o())}catch(R){e=null}else e=v;r(I({flairId:t,template:e||v}))}else C&&C.websocket.close();return Object(h.a)(Object.assign({},A,{actionInfo:Object.assign({},A.actionInfo,{success:x.ok})})),x.ok},S="POSTFLAIR_STYLETEMPLATE_DELETED_SUCCESS",T=Object(d.a)(S),C=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(j.S)(i,{subredditId:e});if(!c)return!1;const a=await(async(e,t,n)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/flair_styles/").concat(n),method:b.bb.DELETE}))(o(),c.name,t),d=Object(O.e)(i,"delete_flair_template");return a.ok&&n(T({flairId:t})),Object(h.a)(Object.assign({},d,{actionInfo:Object.assign({},d.actionInfo,{success:a.ok})})),a.ok}},"./src/reddit/actions/postFlairStyleTemplates/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));const r="SUBREDDIT__POST_FLAIR_STYLE_TEMPLATES_PENDING",s="SUBREDDIT__POST_FLAIR_STYLE_TEMPLATES_LOADED",o="SUBREDDIT__POST_FLAIR_STYLE_TEMPLATES_FAILED"},"./src/reddit/actions/postList.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=(n("./src/reddit/actions/embedAndImage.ts"),n("./src/reddit/actions/video.ts"),n("./src/reddit/helpers/trackers/postList.ts"));n("./src/reddit/constants/postLayout.ts"),n("./src/reddit/selectors/platform.ts"),n("./src/reddit/selectors/posts.ts");n("./src/reddit/selectors/video.ts");n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return d}));const o="POSTLIST__MARKED_END",i="POSTLIST__UNMARKED_END",c=Object(r.a)(o),a=Object(r.a)(i),d=(e,t)=>async(n,r)=>{const o=r();e in o.listings.postOrder.fetchedTokens?e in o.listings.postOrder.ids?n(a({listingKey:e})):s.j(o,e):n(c({listingKey:e,listingName:t}))}},"./src/reddit/actions/postRequirements/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i}));const r="POST_REQUIREMENTS_FAILED",s="POST_REQUIREMENTS_LOADED",o="POST_REQUIREMENTS_PENDING",i="POST_REQUIREMENTS_UPDATED"},"./src/reddit/actions/postRequirements/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/camelCase.js"),s=n.n(r),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/reddit/actions/toaster.ts"),a=n("./src/graphql/operations/GetPostRequirements.json"),d=n("./src/lib/makeGqlRequest/index.ts"),u=n("./src/graphql/operations/UpdatePostRequirements.json"),l=n("./src/reddit/endpoints/subreddit/about.ts"),b=n("./src/reddit/i18n/utils.ts"),p=n("./src/reddit/models/Toast/index.ts"),m=n("./src/reddit/selectors/postRequirements.ts"),f=n("./src/reddit/selectors/subreddit.ts"),O=n("./src/reddit/actions/postRequirements/constants.ts");n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return E}));const g=Object(i.a)(O.b),j=Object(i.a)(O.c),h=Object(i.a)(O.a),y=e=>async(t,n,r)=>{let{gqlContext:s}=r;const i={subredditName:e.toLowerCase()};if(Object(m.a)(n(),i))return;t(j(i));let c=Object(f.G)(n(),e);if(!c){const n=await Object(l.a)(s(),e,!1);if(n.ok){c=n.body.data.subreddit.id}if(!c){const e=n.error||{type:o.D.NOT_FOUND_ERROR};return void t(h(Object.assign({},i,{error:e})))}}let u=null;const b=await((e,t)=>Object(d.a)(e,Object.assign({},a,{variables:t})))(s(),{subredditId:c});if(b.ok){const e=b.body;u=e.data.subreddit&&e.data.subreddit.postRequirements}if(u)t(g(Object.assign({},i,{requirements:u})));else{const e=b.error||{type:o.D.UNKNOWN_ERROR};t(h(Object.assign({},i,{error:e})))}},_=Object(i.a)(O.d),E=(e,t)=>async(n,r,s)=>{let{gqlContext:o}=s;const i=e.toLowerCase(),a=Object(f.G)(r(),e);if(!a)return{success:!1};const l=Object.assign({subredditId:a},t),m=await((e,t)=>Object(d.a)(e,Object.assign({},u,{variables:t})))(o(),{input:l});let O=!1,g=null;if(m.ok){const e=m.body;O=e.data.updatePostRequirements.ok,g=I(e.data.updatePostRequirements.fieldErrors)}return O?(n(_({subredditName:i,partialRequirements:t})),{success:!0}):(n(Object(c.e)({duration:c.a,id:"REQUIREMENTS_SAVE_ERROR",kind:p.b.Error,text:g&&g.length?g[0].message:Object(b.c)("Something went wrong")})),{success:!1,errors:g||void 0})},I=e=>e&&e.map(e=>Object.assign({},e,{field:s()(e.field)}))},"./src/reddit/actions/preferences.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/Base64/base64.js"),s=n("./src/config.ts"),o=n("./node_modules/js-cookie/src/js.cookie.js"),i=n.n(o),c=n("./node_modules/lodash/isEmpty.js"),a=n.n(c),d=n("./node_modules/lodash/omit.js"),u=n.n(d),l=n("./node_modules/lodash/pick.js"),b=n.n(l),p=n("./src/app/strings/index.ts"),m=n("./src/lib/constants/index.ts"),f=n("./src/lib/makeActionCreator/index.ts"),O=n("./src/reddit/actions/chat/toggle.ts"),g=n("./src/reddit/actions/users.ts"),j=n("./src/reddit/constants/cookie.ts"),h=n("./src/reddit/endpoints/user/preferences.ts"),y=n("./src/reddit/i18n/utils.ts"),_=n("./src/reddit/endpoints/moderator/structuredStyles.ts"),E=n("./src/lib/makeApiRequest/index.ts"),I=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),v=n("./src/reddit/actions/toaster.ts"),S=n("./src/reddit/constants/preferences.ts"),T=n("./src/reddit/endpoints/subreddit/settings.ts"),C=n("./src/reddit/helpers/trackers/profileSettings.ts"),w=n("./src/reddit/models/Toast/index.ts"),D=n("./src/reddit/models/User/index.ts"),x=n("./src/reddit/selectors/structuredStyles.ts"),P=n("./src/reddit/selectors/subreddit.ts"),A=n("./src/reddit/selectors/user.ts");n.d(t,"b",(function(){return R})),n.d(t,"h",(function(){return k})),n.d(t,"g",(function(){return N})),n.d(t,"o",(function(){return L})),n.d(t,"e",(function(){return M})),n.d(t,"d",(function(){return U})),n.d(t,"l",(function(){return F})),n.d(t,"f",(function(){return B})),n.d(t,"n",(function(){return G})),n.d(t,"q",(function(){return q})),n.d(t,"s",(function(){return W})),n.d(t,"c",(function(){return X})),n.d(t,"u",(function(){return $})),n.d(t,"v",(function(){return Z})),n.d(t,"t",(function(){return ee})),n.d(t,"w",(function(){return te})),n.d(t,"D",(function(){return ne})),n.d(t,"B",(function(){return re})),n.d(t,"a",(function(){return se})),n.d(t,"p",(function(){return oe})),n.d(t,"C",(function(){return de})),n.d(t,"F",(function(){return ue})),n.d(t,"i",(function(){return le})),n.d(t,"k",(function(){return fe})),n.d(t,"j",(function(){return ge})),n.d(t,"x",(function(){return he})),n.d(t,"A",(function(){return ye})),n.d(t,"r",(function(){return _e})),n.d(t,"z",(function(){return Ee})),n.d(t,"y",(function(){return Ie})),n.d(t,"m",(function(){return ve})),n.d(t,"E",(function(){return Ce})),n.d(t,"H",(function(){return we})),n.d(t,"G",(function(){return De}));const R="PREFERENCES__AUTOPLAY_TOGGLED",k="PREFERENCES__NIGHTMODE_TOGGLED",N="PREFERENCES__LAYOUT_CHANGED",L="PREFERENCES__SUBREDDIT_LAYOUT_CHANGED",M="PREFERENCES__CUSTOMIZE_FLYOUT_SHOWN",U="PREFERENCES__CUSTOMIZE_FLYOUT_DISMISSED",F="PREFERENCES__PROFILE_LAYOUT_CHANGED",B="PREFERENCES__HAMBURGER_TRAY_TOGGLED",G="PREFERENCES__RPAN_DU_DISMISSED",q="PREFERENCES__TOP_CONTENT_DISMISSAL_PREF_SET",V=Object(f.a)(N),H=Object(f.a)(L),K=Object(f.a)(M),W=Object(f.a)(U),J=Object(f.a)(G),Y=Object(f.a)(q),z=(Object(f.a)(F),Object(f.a)(R)),Q=Object(f.a)(k),X=(Object(f.a)(B),"PREFERENCES__COLLAPSED_TRAY_TOGGLED"),$=(Object(f.a)(X),e=>async(t,n,r)=>{let{apiContext:s}=r;t(V({layout:e})),t(Object(g.r)())}),Z=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(A.ab)(i),{hasSeenCustomizeFlyout:a}=i.user.prefs;a||n(K()),t&&c?(n(H({subredditId:t,layout:e})),n(we(t,{layout:e},!1)),a||n(ue({hasSeenCustomizeFlyout:!0},!1))):(n($(e)),n(ue(a?{layout:e}:{layout:e,hasSeenCustomizeFlyout:!0},!1)))},ee=e=>async(t,n,r)=>{let{apiContext:s}=r;n().user.account&&await Object(h.d)(e,s())},te=e=>async(t,n,o)=>{let{apiContext:c}=o;const a=n();if(Object(x.j)(a)){const e=Object(A.S)(a);t(Object(v.e)({kind:w.b.Error,text:Object(p.a)(e,"structuredStyles.modal.nightmode.description")}))}else{if(a.user.account)await Object(h.e)(e,c());else{const t=i.a.get(j.k);if(t){const n=JSON.parse(Object(r.atob)(t));n.prefs.nightmode=e,i.a.set(j.k,btoa(JSON.stringify(n)),{domain:s.a.cookieDomain})}}t(Q({nightmode:e})),t(Object(O.d)(e)),i.a.remove(j.e,{domain:s.a.cookieDomain})}},ne=()=>async(e,t,n)=>{let{apiContext:o}=n;const c=t(),a=c.user.prefs.topContentTimesDismissed+1,d=Date.now();if(c.user.account)e(ue({topContentDismissalTime:d,topContentTimesDismissed:a},!1));else{const e=i.a.get(j.k);if(e){const t=JSON.parse(Object(r.atob)(e));t.prefs[S.d]=d,t.prefs[S.e]=a,i.a.set(j.k,btoa(JSON.stringify(t)),{domain:s.a.cookieDomain})}}e(Y({topContentDismissalTime:d,topContentTimesDismissed:a})),e(Object(v.e)({kind:w.b.SuccessCommunity,text:Object(y.c)("Got it! We will show you less of this")}))},re=()=>async(e,t,n)=>{let{apiContext:o}=n;const c=Date.now(),a=t(),d=Object(y.c)("Got it! We will show you less of this");if(a.user.account)e(ue({rpanDuDismissalTime:c},!1));else{const e=i.a.get(j.k);if(e){const t=JSON.parse(Object(r.atob)(e));t.prefs[S.b]=c,i.a.set(j.k,btoa(JSON.stringify(t)),{domain:s.a.cookieDomain})}}e(Object(v.e)({kind:w.b.SuccessCommunity,text:d})),e(J(c))},se="SETTINGS__ACCOUNT_PREFS_UPDATE_SUCCESS",oe="SETTINGS__SUBREDDIT_PREFS_UPDATED",ie=Object(f.a)("SETTINGS__UPDATE_PENDING"),ce=Object(f.a)("SETTINGS__UPDATE_FAILURE"),ae=Object(f.a)(se),de=Object(f.a)(oe),ue=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return async(r,s,o)=>{let{apiContext:i}=o;r(ie());const c=u()(e,S.a),d=b()(e,S.a),l=[];a()(c)||l.push(Object(h.g)(c,i())),a()(d)||l.push(Object(h.b)(d,i())),(await Promise.all(l)).every(e=>e.ok)?(r(ae({preferences:e})),t&&r(Object(v.e)({kind:w.b.SuccessCommunity,text:n||Object(y.c)("Changes saved")}))):(r(ce()),t&&r(Object(v.e)({kind:w.b.Error,text:Object(y.c)("Changes failed to save")})))}},le="SETTINGS__SUCCESS",be=Object(f.a)("SETTINGS__PENDING"),pe=Object(f.a)("SETTINGS__FAILURE"),me=Object(f.a)(le),fe="SETTINGS__PROFILE_IMAGE_UPDATE_SUCCESS",Oe=Object(f.a)(fe),ge="SETTINGS__PROFILE_IMAGE_DELETE_SUCCESS",je=Object(f.a)(ge),he=e=>async(t,n,r)=>{let{apiContext:o}=r;t(be());const i=await((e,t)=>Object(E.b)(e,{endpoint:Object(I.a)("".concat(s.a.gatewayUrl,"/desktopapi/v1/prefs")),method:m.bb.GET,data:{timestamp:t?Date.now():void 0}}))(o(),e);i.ok?t(me(i.body)):t(pe())},ye=e=>async(t,n,r)=>{let{apiContext:s}=r;if(n().user.account)await Object(h.a)(e,s());else{const e=i.a.get(j.f);if(e){const t=JSON.parse(decodeURIComponent(e));t.pref_quarantine_optin=!0,i.a.set(j.f,JSON.stringify(encodeURIComponent(t)),m.x)}else{const e=JSON.stringify({pref_quarantine_optin:!0});i.a.set(j.f,e,m.x)}}},_e=e=>async(t,n,r)=>{let{apiContext:s}=r;n().user.account&&await Object(h.c)(e,s()),t(z({autoplayVideo:e}))},Ee=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=Object(A.i)(r());if(!i||!i.profileId)return;const c=Object(A.S)(r()),a=Object(D.f)(i),d=m.Qb+a,u=await Object(_.g)(o(),d,t,e.file);if(u.ok){const e=decodeURIComponent(u.body.PostResponse.Location);n(Oe({imageUrl:e,key:t,subredditId:i.profileId,username:a})),(await Object(_.e)(o(),d,{[t]:e})).ok?(n(Object(v.e)({kind:w.b.SuccessCommunity,text:Object(p.a)(c,"settings.page.saveRequestSuccess")})),Object(C.g)(r(),t)):n(Object(v.e)({kind:w.b.Error,text:Object(p.a)(c,"settings.page.saveRequestFailure")}))}else n(Object(v.e)({kind:w.b.Error,text:Object(p.a)(c,"settings.profileForm.images.errors."+t)}))},Ie=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=Object(A.i)(n());if(!o||!o.profileId)return;const i=Object(D.f)(o),c=m.Qb+i,a={profileIcon:"icon",profileBanner:"banner"}[e],d=Object(A.S)(n()),u=await Object(T.b)(s(),c,a);if(u.ok){const r=u.body[a+"_img"];t(je({imageUrl:r,key:e,subredditId:o.profileId,username:i})),t(Object(v.e)({kind:w.b.SuccessCommunity,text:Object(p.a)(d,"settings.page.saveRequestSuccess")})),Object(C.f)(n(),e)}else t(Object(v.e)({kind:w.b.Error,text:Object(p.a)(d,"settings.page.saveRequestFailure")}))},ve="SETTINGS__PROFILE_SETTINGS_UPDATE_SUCCESS",Se=Object(f.a)(ve),Te=Object(f.a)("SETTINGS__PROFILE_SETTINGS_UPDATE_FAILED"),Ce=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=Object(A.i)(r());if(!i||!i.profileId)return!1;const c=[],a=r().subreddits.settings[i.profileId],d=Object.assign({},a,e);c.push(Object(T.e)(o(),i.profileId,d));const{showActiveCommunities:u,prevShowActiveCommunities:l}=t;u!==l&&c.push(Object(h.g)({showActiveCommunities:u},o()));const b=Object(A.S)(r());return(await Promise.all(c)).every(e=>e.ok)?(n(Se({settings:e,additional:t,subredditId:i.profileId})),Object(C.i)(r()),n(Object(v.e)({kind:w.b.SuccessCommunity,text:Object(p.a)(b,"settings.page.saveRequestSuccess")})),!0):(n(Te()),n(Object(v.e)({kind:w.b.Error,text:Object(p.a)(b,"settings.page.saveRequestFailure")})),!1)},we=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return async(r,s,o)=>{let{apiContext:i}=o;const c=s(),a=Object(A.S)(c),d=c.user.prefs.subreddit[e];r(de({subredditId:e,prefs:t})),(await Object(h.h)(e,t,i())).ok?n&&r(Object(v.e)({kind:w.b.SuccessCommunity,text:Object(p.a)(a,"settings.page.saveRequestSuccess")})):(d&&r(de({subredditId:e,prefs:d})),n&&r(Object(v.e)({kind:w.b.Error,text:Object(p.a)(a,"settings.page.saveRequestFailure")})))}},De=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r();Object(P.S)(i,{subredditId:e})&&i.user.prefs.rememberCommunitySort&&n(we(e,{sort:t},!1))}},"./src/reddit/actions/product.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return _})),n.d(t,"j",(function(){return E}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/governance/errorToast.ts"),o=n("./src/reddit/endpoints/governance/badges.ts"),i=n("./src/reddit/endpoints/governance/products/badges.ts");const c="PRODUCT__BADGE_PURCHASE_OPENED",a="PRODUCT__BADGE_PURCHASE_SUCCESS",d="PRODUCT__BADGE_PURCHASE_FAILURE",u="PRODUCT__BADGE_PURCHASE_PENDING",l="PRODUCT__FETCH_SUCCESS",b="PRODUCT__FETCH_FAILURE",p="PRODUCT__FETCH_PENDING",m=Object(r.a)(c),f=Object(r.a)(a),O=Object(r.a)(d),g=Object(r.a)(u),j=Object(r.a)(l),h=Object(r.a)(b),y=Object(r.a)(p),_=e=>{let{productId:t}=e;return async(e,n,r)=>{let{apiContext:c}=r;const a=n(),d=a.products.models[t],u=a.user.account,l=!!a.products.api.purchase.pending[t];if(d&&d.price&&!l){e(g({productId:t}));const n=await Object(i.c)(c(),{price:d.price,products:[{productId:t,quantity:"1"}],subredditId:d.subredditId});let r;if(n.ok&&u&&(r=await Object(o.c)(c(),d.subredditId,u.id)),n.ok){if(r&&r.ok){const{badges:t,userOwnedBadges:s}=r.body;e(f({product:d,badges:t,userOwnedBadges:s,wallet:n.body.wallet}))}}else e(O({productId:t,error:n.error})),Object(s.a)(e,n.error)}}},E=e=>{let{subredditId:t}=e;return async(e,n,r)=>{let{apiContext:s}=r;e(y({subredditId:t}));const o=await Object(i.a)(s(),t);o.ok?e(j({subredditId:t,products:o.body})):e(h({subredditId:t,error:o.error}))}}},"./src/reddit/actions/profile/constants.ts":function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"j",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"l",(function(){return a})),n.d(t,"m",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return f}));const r="PROFILE__PROFILE_INFO_LOADED",s="PROFILE__PROFILE_INFO_FAILED",o="PROFILE__MODERATED_SUBREDDITS_PENDING",i="PROFILE__MODERATED_SUBREDDITS_LOADED",c="PROFILE__MODERATED_SUBREDDITS_FAILED",a="PROFILE__RECEIVED_MODERATED_SUBREDDITS_MODELS",d="PROFILE__RECEIVED_MODERATED_SUBREDDITS_SUBSCRIPTIONS",u="MORE__PROFILE_GQL_MODERATED_PENDING",l="MORE__PROFILE_GQL_MODERATED_LOADED",b="MORE__PROFILE_GQL_MODERATED_FAILED",p="PROFILE__MULTIREDDITS_PENDING",m="PROFILE__MULTIREDDITS_LOADED",f="PROFILE__MULTIREDDITS_FAILED"},"./src/reddit/actions/profile/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/reddit/actions/contentGate.ts"),i=n("./src/reddit/actions/pages/profilePrivate/constants.ts"),c=n("./src/lib/makeApiRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/reddit/constants/headers.ts");var u=n("./src/graphql/operations/ModeratedSubreddits.json"),l=n("./src/lib/makeGqlRequest/index.ts");var b=n("./src/graphql/operations/RedditorMultireddits.json");var p=n("./src/reddit/helpers/graphql/normalizeMultiredditDataFromGql/index.ts"),m=n("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts");var f=n("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),O=e=>Object.assign({accountIcon:e.icon_img,awardedLastMonth:e.awarded_last_month?Object(f.c)(e.awarded_last_month):null,commentKarma:e.comment_karma,created:e.created,displayName:e.name,displayNamePrefixed:e.subreddit&&e.subreddit.display_name_prefixed,displayText:e.name,hasUserProfile:!!e.subreddit,hideFromRobots:!!e.hide_from_robots,id:"".concat(s.vb.Account,"_").concat(e.id),isEmployee:e.is_employee,isFollowing:e.has_subscribed,isGold:e.is_gold,isAdmin:e.is_admin,isMod:e.is_mod,isNSFW:!(!e.subreddit||!e.subreddit.over_18),prefShowSnoovatar:e.pref_show_snoovatar,prefShowTwitter:e.pref_show_twitter,postKarma:e.link_karma,url:"/user/".concat(e.name,"/"),username:e.name},e.subreddit?{profileId:e.subreddit.name}:null),g=e=>({commentKarma:e.comment_karma,hasExternalAccount:e.has_external_account,postKarma:e.link_karma,prefShowTwitter:e.pref_show_twitter,publicDescription:e.subreddit?e.subreddit.public_description:"",userIsSubscriber:e.subreddit&&e.subreddit.user_is_subscriber||!1}),j=n("./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts");var h=n("./src/reddit/models/User/index.ts"),y=n("./src/reddit/selectors/profile.ts"),_=n("./src/reddit/selectors/subscriptions.ts"),E=n("./src/reddit/selectors/user.ts"),I=n("./src/reddit/actions/profile/constants.ts");n.d(t,"a",(function(){return P})),n.d(t,"d",(function(){return A})),n.d(t,"b",(function(){return R})),n.d(t,"c",(function(){return M})),n.d(t,"e",(function(){return G}));const v=Object(r.a)(I.k),S=Object(r.a)(I.j),T=Object(r.a)(I.c),C=Object(r.a)(I.b),w=Object(r.a)(I.a),D=Object(r.a)(I.l),x=Object(r.a)(I.m),P=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=Object(E.i)(t());s&&s.profileId&&await e(A(Object(h.f)(s)))},A=e=>async(t,n,r)=>{let{apiContext:i}=r;const u=n();if(!!(Object(y.j)(u,{profileName:e})&&Object(y.h)(u,{profileName:e})&&Object(E.hb)(u,{userName:e})))return;const l=await((e,t)=>Object(c.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/user/").concat(t,"/about.json"),method:s.bb.GET,data:{gilding_detail:1,awarded_detail:1,raw_json:1}}))(i(),e);l.ok?(l.body&&l.body.data&&l.body.data.is_suspended&&t(Object(o.p)({profileName:e})),t(v(function(e){const{data:t}=e;return Object.assign({about:g(t),banner:t.subreddit&&t.subreddit.banner_img&&{height:t.subreddit.banner_size&&t.subreddit.banner_size[1],url:t.subreddit.banner_img,width:t.subreddit.banner_size&&t.subreddit.banner_size[0]},user:O(t),features:t.features},t.subreddit?{profile:Object(j.a)(t.subreddit,t.name)}:null)}(l.body)))):t(S(l.body))},R=e=>async(t,n,r)=>{let{apiContext:o}=r;const i={profileName:e};if(Object(y.a)(n(),i))return;if(Object(y.k)(n(),i))return;t(T(i));const u=await((e,t)=>Object(c.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/user/").concat(t,"/moderated_subreddits.json"),method:s.bb.GET,data:{raw_json:1}}))(o(),e);if(u.ok){const r=function(e){return e?e.map(e=>({communityIcon:e.community_icon,displayText:e.sr_display_name_prefixed,icon:{height:e.icon_size?e.icon_size[1]:0,url:e.icon_img?e.icon_img:"",width:e.icon_size?e.icon_size[0]:0},id:e.name,isNSFW:e.over_18,isQuarantined:!!e.quarantine,name:"user"===e.subreddit_type?e.sr.slice(s.Qb.length):e.sr,primaryColor:e.primary_color,subscribers:e.subscribers,title:e.title,type:e.subreddit_type,url:e.url,wls:e.wls})):[]}(u.body.data);t(C({profileName:e,data:r}));const o={},i={};if(r.forEach(e=>{("user"===e.type?i:o)[e.id]=e}),t(D({subreddits:o,profiles:i})),!Object(_.g)(n())){const e=(e=>{const t=e.filter(e=>e.user_is_subscriber);return{subredditOrder:t.filter(e=>"user"!==e.subreddit_type).map(e=>e.name),profileOrder:t.filter(e=>"user"===e.subreddit_type).map(e=>e.name)}})(u.body.data||[]);t(x(e))}}else t(w(u.body))},k=Object(r.a)(I.f),N=Object(r.a)(I.e),L=Object(r.a)(I.d),M=e=>async(t,n,r)=>{const s=n(),o=e.toLowerCase(),{pageInfo:c}=s.profiles.moderated;if(!c[o]||!c[o].hasNextPage||!c[o].endCursor)return;t(k({profileName:o}));const a=await((e,t)=>Object(l.a)(e,Object.assign({},u,{variables:t})))(r.gqlContext(),{name:o,after:c[o].endCursor,first:i.h}),d=a.body.data;if(a.ok){const e=Object(m.b)(d.redditor.moderatedSubreddits);t(N(Object.assign({profileName:o},e)))}else t(L(a.error))},U=Object(r.a)(I.i),F=Object(r.a)(I.h),B=Object(r.a)(I.g),G=(e,t)=>async(n,r,o)=>{const c=r(),a=e.toLowerCase(),d={profileName:a};if(Object(y.b)(c,d))return;if(!t&&Object(y.l)(c,d))return;const{pageInfo:u}=c.profiles.multireddits;if(t&&(!u[a]||!u[a].hasNextPage||!u[a].endCursor))return;n(U(d));const m=await((e,t)=>Object(l.a)(e,Object.assign({},b,{variables:t})))(o.gqlContext(),{name:a,first:t?i.h:s.Cb,after:t?u[a].endCursor:void 0}),f=m.body.data;if(m.ok){const e=f.redditorInfoByName.multireddits.edges.map(e=>e.node),t=Object(p.b)(e);n(F(Object.assign({},d,t,{pageInfo:f.redditorInfoByName.multireddits.pageInfo,multiredditsModelsState:c.multireddits.models})))}else n(B(Object.assign({},d,{error:m.error})))}},"./src/reddit/actions/profileConversations.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./node_modules/lodash/difference.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./src/lib/constants/index.ts"),a=n("./src/lib/makeActionCreator/index.ts"),d=n("./src/reddit/actions/pages/profileShared.ts"),u=n("./src/reddit/constants/parameters.ts"),l=n("./src/reddit/constants/things.ts"),b=n("./src/config.ts"),p=n("./src/lib/makeApiRequest/index.ts"),m=n("./src/reddit/models/RichTextJson/addRTJParam.ts");var f=n("./src/reddit/helpers/makeProfileListingKey/index.ts");n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"h",(function(){return w})),n.d(t,"g",(function(){return D}));const O="PROFILE_OVERVIEW_CONVERSATIONS__MORE_POSTS_PENDING",g="PROFILE_OVERVIEW_CONVERSATIONS__MORE_POSTS_LOADED",j="PROFILE_OVERVIEW_CONVERSATIONS__MORE_POSTS_FAILED",h="PROFILE__EXTRACOMMENTS_PENDING",y="PROFILE__EXTRACOMMENTS_LOADED",_="PROFILE__EXTRACOMMENTS_FAILED",E=Object(a.a)(O),I=Object(a.a)(g),v=Object(a.a)(j),S=Object(a.a)(y),T=Object(a.a)(h),C=Object(a.a)(_),w=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=t(),{currentPage:a}=o.platform;if(!a||!a.routeMatch)return;const{queryParams:l,params:O}=a.routeMatch.match,{sort:g,t:j}=Object(d.a)(o,l),{profileName:h}=O,y=h.toLowerCase(),_=Object(f.a)(y,c.jb,g,l),S=o.listings.postOrder.loadMore[_];if(!S)return;const T=o.listings.postOrder.api.pending[_],{fetchedTokens:C}=o.listings.postOrder,w=!(!C[_]||!C[_][S.token]);if(T||w)return;e(E({key:_,fetchedToken:S.token}));const D=await((e,t,n)=>Object(p.b)(e,{data:n,endpoint:Object(m.a)("".concat(b.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/conversations")),method:c.bb.GET}))(r(),h,Object.assign({after:S.token,dist:S.dist,sort:g,t:j},i()(l,u.j)));if(D.ok){const t=o.listings.postOrder.ids[_],n=Object.assign({},D.body,{postIds:s()(D.body.postIds,t)});e(I(Object.assign({fetchedToken:S.token,key:_,meta:o.meta,profileName:h},n)))}else e(v({error:D.error,fetchedToken:S.token,key:_,account:D.body.data?D.body.data.account:null}))},D=(e,t,n)=>async(r,s,o)=>{let{apiContext:i}=o;if(s().profileOverviewPage.conversations.extraComments.api.pending[n])return;r(T({extraCommentsId:n}));let a=t;t.startsWith(l.b)&&(a=t.slice(l.b.length));const d=n.split("-")[1],u=await((e,t,n,r)=>Object(p.b)(e,{endpoint:Object(m.a)("".concat(b.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/morecomments/").concat(n)),method:c.bb.GET,type:"json",data:{after:r,limit:14}}))(i(),e,a,d);u.ok?r(S(Object.assign({profileName:e,extraCommentsId:n},u.body))):r(C(u.body))}},"./src/reddit/actions/profileOverviewChrono.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return y}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./node_modules/lodash/difference.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/reddit/helpers/makeProfileListingKey/index.ts"),d=n("./src/reddit/selectors/profileOverviewChronoItems.ts"),u=n("./src/lib/constants/index.ts"),l=n("./src/reddit/constants/parameters.ts"),b=n("./src/reddit/actions/pages/profileShared.ts"),p=n("./src/reddit/endpoints/page/profileOverviewPage.ts");const m="PROFILE_OVERVIEW_CHRONO__MORE_ITEMS_PENDING",f="PROFILE_OVERVIEW_CHRONO__MORE_ITEMS_LOADED",O="PROFILE_OVERVIEW_CHRONO__MORE_ITEMS_FAILED",g=Object(c.a)(m),j=Object(c.a)(f),h=Object(c.a)(O),y=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=t(),{currentPage:c}=o.platform;if(!c||!c.routeMatch)return;const{queryParams:m,params:f}=c.routeMatch.match,{sort:O,t:y}=Object(b.a)(o,m),{profileName:_}=f,E=Object(a.a)(_,u.ib,O,m),I=Object(d.d)(o,{listingKey:E});if(!I)return;const v=Object(d.b)(o,{listingKey:E}),S=Object(d.c)(o,{listingKey:E}),T=S&&S[I.token];if(v||T)return;e(g({key:E,fetchedToken:I.token}));const C=await Object(p.a)(r(),_,Object.assign({after:I.token,dist:I.dist,sort:O,t:y},i()(m,l.j)));if(C.ok){const t=Object(d.f)(o,{listingKey:E}),n=Object.assign({},C.body,{overviewIds:s()(C.body.overviewIds,t)});e(j(Object.assign({fetchedToken:I.token,key:E,meta:o.meta},n)))}else e(h({error:C.error,fetchedToken:I.token,key:E,account:C.body.data?C.body.data.account:null}))}},"./src/reddit/actions/publicAccessNetwork/api.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return f}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/post.ts"),o=n("./src/reddit/actions/publicAccessNetwork/constants.ts"),i=n("./src/reddit/endpoints/publicAccessNetwork/index.ts"),c=n("./src/reddit/selectors/experiments/publicAccessNetwork.ts"),a=n("./src/reddit/selectors/PublicAccessNetwork/api.ts");const d=Object(r.a)(o.s),u=Object(r.a)(o.D),l=(Object(r.a)(o.E),Object(r.a)(o.F)),b=Object(r.a)(o.N),p=()=>async(e,t,n)=>{let{gqlContext:r}=n;const s=Object(a.b)(t()),b=s.values.lastUpdated||0,p=s.values.rpan_config_refresh_rate?1e3*s.values.rpan_config_refresh_rate:o.d;if(!Object(c.a)(t())||s.isPending||Date.now()<b+p||s.isPermanentlyCanceled)return;e(u());const m=await Object(i.a)(r());m.ok&&m.body?e(d(Object.assign({},m.body,{lastUpdated:Date.now()}))):e(l())},m=e=>async(t,n,r)=>{let{gqlContext:s}=r;t(b()),await Object(i.e)(s(),e)},f=e=>async(t,n,r)=>{let{apiContext:o}=r;n().posts.models[e]||await t(Object(s.y)(e))}},"./src/reddit/actions/publicAccessNetwork/constants.ts":function(e,t,n){"use strict";n.d(t,"C",(function(){return s})),n.d(t,"S",(function(){return o})),n.d(t,"R",(function(){return i})),n.d(t,"s",(function(){return c})),n.d(t,"D",(function(){return a})),n.d(t,"F",(function(){return d})),n.d(t,"E",(function(){return u})),n.d(t,"u",(function(){return l})),n.d(t,"v",(function(){return b})),n.d(t,"w",(function(){return p})),n.d(t,"I",(function(){return m})),n.d(t,"H",(function(){return f})),n.d(t,"J",(function(){return O})),n.d(t,"x",(function(){return g})),n.d(t,"G",(function(){return j})),n.d(t,"B",(function(){return h})),n.d(t,"z",(function(){return y})),n.d(t,"O",(function(){return _})),n.d(t,"A",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"t",(function(){return v})),n.d(t,"y",(function(){return S})),n.d(t,"N",(function(){return T})),n.d(t,"n",(function(){return C})),n.d(t,"m",(function(){return w})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return P})),n.d(t,"h",(function(){return A})),n.d(t,"c",(function(){return R})),n.d(t,"k",(function(){return k})),n.d(t,"q",(function(){return N})),n.d(t,"r",(function(){return L})),n.d(t,"T",(function(){return M})),n.d(t,"Q",(function(){return U})),n.d(t,"P",(function(){return F})),n.d(t,"a",(function(){return B})),n.d(t,"l",(function(){return G})),n.d(t,"L",(function(){return q})),n.d(t,"g",(function(){return V})),n.d(t,"i",(function(){return H})),n.d(t,"j",(function(){return K})),n.d(t,"p",(function(){return W})),n.d(t,"o",(function(){return J})),n.d(t,"K",(function(){return Y})),n.d(t,"M",(function(){return z}));var r=n("./src/config.ts");const s="RPAN__REMOVE_STREAM_FROM_HISTORY",o="RPAN__VISIT_STREAM",i=-1,c="RPAN__RECEIVE_CONFIG",a="RPAN__REQUEST_CONFIG",d="RPAN__REQUEST_CONFIG_FAILED",u="RPAN__REQUEST_CONFIG_CANCELED",l="RPAN__RECEIVE_HLS_STREAM_ENDED",b="RPAN__RECEIVE_HLS_STREAM_REMOVED",p="RPAN__RECEIVE_STREAM_MODEL",m="RPAN__REQUEST_STREAM_MODEL",f="RPAN__REQUEST_STREAM_FAILED",O="RPAN__REQUEST_STREAM_MODEL_BATCH",g="RPAN__RECEIVE_STREAM_MODEL_BATCH",j="RPAN__REQUEST_STREAM_BATCH_FAILED",h="RPAN__RECEIVE_VOTE",y="RPAN__RECEIVE_THEATER_SETTINGS",_="RPAN__UPDATE_VIDEO_TIMESTAMP",E="RPAN__RECEIVE_USER_SETTINGS",I="RPAN__BATCH_OP",v="RPAN__RECEIVE_DISCOVERY_UNIT_THUMBNAILS",S="RPAN__RECEIVE_STREAM_PREVIEWS",T="RPAN__SEND_HEARTBEAT",C=0,w=9999,D=30,x=6,P=5,A=5,R=57,k=7e3,N=1e3,L=400,M=1e3,U="https://watch.redd.it/",F=".m3u8",B=3e4,G="".concat(r.a.assetPath,"/img/trending-placeholder.png"),q="pan",V=3,H=4,K=1e4,W=500,J=2e3,Y="".concat(r.a.redditUrl,"/r/").concat(q),z="https://www.redditinc.com/policies/broadcasting-content-policy"},"./src/reddit/actions/publicAccessNetwork/streams.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return _})),n.d(t,"g",(function(){return E})),n.d(t,"f",(function(){return I}));n("./src/config.ts");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/publicAccessNetwork/constants.ts"),i=n("./src/reddit/constants/things.ts"),c=n("./src/reddit/endpoints/publicAccessNetwork/index.ts"),a=n("./src/reddit/selectors/PublicAccessNetwork/api.ts"),d=n("./src/reddit/selectors/runTimeEnvVars.ts"),u=n("./src/reddit/selectors/user.ts");const l=e=>e.startsWith(i.b)?e.slice(3):e,b=e=>e.startsWith(i.b)?e:"".concat(i.b).concat(e),p=e=>"/".concat(r.xb.PUBLIC_ACCESS_NETWORK).concat(e?"/".concat(l(e)):""),m=Object(s.a)(o.I),f=Object(s.a)(o.w),O=Object(s.a)(o.J),g=Object(s.a)(o.x),j=Object(s.a)(o.H),h=Object(s.a)(o.G),y=Object(s.a)(o.u),_=Object(s.a)(o.v),E=e=>async(t,n,r)=>{let{gqlContext:s}=r;const o=b(e),i=n();if(Object(a.f)(i,o))return;t(m(o));const d=await Object(c.b)(s(),o),u=Date.now();if(d.ok&&d.body&&d.body.data){const e=d.body.data;t(f({model:e,utcTimeStamp:u}))}else t(v({streamId:o,error:d.error,utcTimeStamp:u}))},I=()=>async(e,t,n)=>{let{gqlContext:r}=n;const s=t();if(Object(a.h)(s))return;e(O());const o=s.user&&s.user.loid&&s.user.loid.loid,i=Object(d.b)(s)&&!Object(u.G)(s),l=await Object(c.c)(r(),o,i),b=Date.now();if(l.ok&&l.body&&l.body.data){const t=l.body.data;e(g({models:t,utcTimeStamp:b}))}else e(S({error:l.error,utcTimeStamp:b}))},v=e=>async t=>{t(j(e))},S=e=>async t=>{t(h(e))}},"./src/reddit/actions/publicAccessNetwork/userSettings.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/publicAccessNetwork/constants.ts"),o=n("./src/reddit/constants/localStorage.ts"),i=n("./src/reddit/helpers/localStorage/index.ts");const c=Object(r.a)(s.A),a=e=>async t=>{await t(c(e)),t(l())},d=()=>async e=>{const t=u();t&&e(c(t))},u=()=>{return Object(i.n)(o.A)||void 0},l=()=>async(e,t)=>{const n=t().publicAccessNetwork.userSettings;Object(i.Q)(o.A,n)}},"./src/reddit/actions/railsWidgets.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeListingKey/index.ts"),o=n("./src/lib/makeOnboardingSubredditsKey/index.ts"),i=n("./src/reddit/actions/discoveryUnit.ts"),c=n("./src/reddit/actions/pages/subreddit.ts"),a=n("./src/reddit/actions/pages/subredditLeaderboard.ts"),d=n("./src/reddit/actions/search/trending.ts"),u=n("./src/reddit/actions/subreddit/onboarding.ts"),l=n("./src/reddit/constants/categories.tsx"),b=n("./src/reddit/constants/listings.ts"),p=n("./src/reddit/selectors/experiments/categoriesPlacement.ts"),m=n("./src/reddit/selectors/experiments/railsWidgets.ts"),f=n("./src/reddit/selectors/meta.ts"),O=n("./src/reddit/selectors/posts.ts"),g=n("./src/reddit/selectors/subreddit.ts");const j=()=>async(e,t)=>{let n=t();const j=Object(m.e)(n);if(j)if(await Promise.all([e(Object(i.h)()),e(Object(a.b)())]),Object(m.b)(j)){const t=Object(s.a)(b.b.Popular,r.N.TOP);if(Object(O.C)(n,{listingKey:t}).length>0)return;await e(Object(c.i)(t,b.b.Popular,{sort:r.N.TOP}))}else if(Object(m.c)(j))await e(Object(d.b)());else if(Object(m.a)(j)){if(!Object(p.d)(n))return;const i={city:Object(f.a)(n),country:Object(f.b)(n),region:Object(f.h)(n)};await e(Object(u.a)(i)),n=t();const a=Object(o.a)(i),d=Object(g.q)(n,{key:a}),b=Object(l.d)(d),m=Object(s.a)(b,r.N.HOT);if(Object(O.C)(n,{listingKey:m}).length>0)return;await e(Object(c.i)(m,b,{sort:r.N.HOT}))}}},"./src/reddit/actions/recommendations.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/lib/makeActionCreator/index.ts");n("./src/config.ts"),n("./src/lib/constants/index.ts"),n("./src/lib/makeApiRequest/index.ts"),n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),n("./src/reddit/models/RichTextJson/addRTJParam.ts");n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));const s="RECOMMENDED_POSTS_FAILED",o="RECOMMENDED_POSTS_LOADED";Object(r.a)(o),Object(r.a)(s)},"./src/reddit/actions/redditEmbed.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/endpoints/me/index.ts"),o=n("./src/reddit/helpers/pageActionLoginRedirect.ts");const i="REDDIT_EMBED_LOADED",c="REDDIT_EMBED_FAILED",a=Object(r.a)("REDDIT_EMBED_PENDING"),d=Object(r.a)(i),u=Object(r.a)(c),l=(e,t)=>async(e,n,r)=>{let{apiContext:i}=r;const c=n();e(a());const l=await Object(s.a)(i());l.ok&&l.body?!t||l.body.account?e(d(l.body)):Object(o.a)(e,c):e(u(l.error))}},"./src/reddit/actions/removalReasons/constants.ts":function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"l",(function(){return s})),n.d(t,"j",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"r",(function(){return f})),n.d(t,"s",(function(){return O})),n.d(t,"q",(function(){return g})),n.d(t,"n",(function(){return j})),n.d(t,"o",(function(){return h})),n.d(t,"p",(function(){return y})),n.d(t,"m",(function(){return _})),n.d(t,"t",(function(){return E}));const r="REMOVALREASONS__LOAD_PENDING",s="REMOVALREASONS__LOAD_SUCCESS",o="REMOVALREASONS__LOAD_FAILED",i="REMOVALREASONS__ADD_PENDING",c="REMOVALREASONS__ADD_SUCCESS",a="REMOVALREASONS__ADD_FAILED",d="REMOVALREASONS__EDIT_PENDING",u="REMOVALREASONS__EDIT_SUCCESS",l="REMOVALREASONS__EDIT_FAILED",b="REMOVALREASONS__DELETE_PENDING",p="REMOVALREASONS__DELETE_SUCCESS",m="REMOVALREASONS__DELETE_FAILED",f="REMOVALREASONS__SUBMIT_PENDING",O="REMOVALREASONS__SUBMIT_SUCCESS",g="REMOVALREASONS__SUBMIT_FAILED",j="REMOVALREASONS__MESSAGE_PENDING",h="REMOVALREASONS__MESSAGE_PRIVATE_SUCCESS",y="REMOVALREASONS__MESSAGE_PUBLIC_SUCCESS",_="REMOVALREASONS__MESSAGE_FAILED",E="REMOVALREASONS__REMOVEDITEMS_SELECTED"},"./src/reddit/actions/reportFlow.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return _})),n.d(t,"c",(function(){return E})),n.d(t,"h",(function(){return T})),n.d(t,"f",(function(){return C})),n.d(t,"b",(function(){return w})),n.d(t,"j",(function(){return P})),n.d(t,"g",(function(){return A})),n.d(t,"i",(function(){return N}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/login.ts"),i=n("./src/reddit/actions/modal.ts"),c=n("./src/reddit/actions/reportRules.ts"),a=n("./src/reddit/actions/subreddit.ts"),d=n("./src/reddit/actions/toaster.ts"),u=n("./src/reddit/actions/users.ts"),l=n("./src/reddit/endpoints/moderator/moderatingSubreddits.ts"),b=n("./src/reddit/endpoints/post/index.tsx"),p=n("./src/reddit/helpers/isComment.ts"),m=n("./src/reddit/helpers/isPost.ts"),f=n("./src/reddit/models/Post/index.ts"),O=n("./src/reddit/models/Toast/index.ts"),g=n("./src/reddit/selectors/posts.ts"),j=n("./src/reddit/selectors/user.ts");const h="LAYER_REPORT_PREFIX_",y="REPORT__PENDING",_="REPORT__LOADED",E="REPORT__FAILED",I=Object(s.a)(y),v=Object(s.a)(_),S=Object(s.a)(E),T=(e,t)=>async(n,s,o)=>{let{apiContext:i}=o;const c=e.id,a=s(),u=a.reportFlow.api.pending[c],l=a.reportFlow.userIsMod;if(u)return;n(I({id:c}));const p=await Object(b.m)(i(),e),m="error-report-".concat(c);if(p.ok)n(v({id:c})),n(d.f(m)),!t.isAbuseOfReportButton&&l&&n(N());else{n(S({id:c}));const s=p.error&&p.error.fields&&p.error.fields.length?p.error.fields[0].msg:"";n(d.e({id:m,kind:O.b.Error,text:s||Object(r.a)(a.user.language,"error.tryAgainLater"),buttonText:Object(r.a)(a.user.language,"reportFlow.reportRequest.retry"),buttonAction:T(e,t)}))}},C="REPORT_FLOW__TARGET_SET",w="REPORT_FLOW__OPENED_FROM_MODAL_PAGE",D=Object(s.a)(C),x=Object(s.a)(w),P=(e,t,n,r)=>async(s,d,l)=>{let{apiContext:b}=l;const O=d(),y=Object(p.a)(e),_=Object(m.a)(e);if(!_&&!y)return;const E=y?O.comments.models[e]:O.posts.models[e];if(!E)return;if(!Object(j.J)(d()))return s(Object(o.f)()),void s(Object(i.k)({actionSource:i.a.Report,redirectUrl:E.permalink}));s(Object(u.B)(E.author));const I=Object(g.U)(O,{postId:y?O.comments.models[e].postId:O.posts.models[e].id}),v=n||_&&Object(f.i)(E)||y&&L(E,O);v||O.reportRules.sitewideRules&&O.reportRules.sitewideRules.length||s(Object(c.d)()),!v||O.reportRules.liveStreamingRules&&O.reportRules.liveStreamingRules.length||s(Object(c.c)()),I&&s(Object(a.o)(I.name,I.type)),s(D(r?h+e:e)),s(x(!!t)),I&&s(k(I.name))},A="REPORT_FLOW__USER_IS_MOD_SET",R=Object(s.a)(A),k=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=await Object(l.a)(s());t(R(o.ok&&!!o.body[e]))},N=()=>async(e,t,n)=>{let{apiContext:r}=n;e(D(null))},L=(e,t)=>{const n=e.postId,r=n&&t.posts.models[n];return!!r&&Object(f.i)(r)}},"./src/reddit/actions/reportPageRules/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="REPORT_PAGE_RULES__LOADED"},"./src/reddit/actions/reportRules.ts":function(e,t,n){"use strict";var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/omitHeaders/index.ts"),a=n("./src/reddit/constants/headers.ts");n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return f}));const d="SITEWIDE_RULES_LOADED",u="LIVESTREAMING_RULES_LOADED",l=Object(s.a)(d),b=Object(s.a)(u),p=Object(r.e)("reportFlow.sectionHeaders.spamAndAbuse"),m=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();if(!s.user||!s.user.language)return;const d=await(e=>Object(i.b)(Object(c.a)(e,[a.a]),{endpoint:"".concat(e.apiUrl,"/api/sitewide_rules.json"),method:o.bb.GET}))(r());if(d.ok){const t=d.body,n=O(t.sitewide_rules,s.user.language);e(l(n))}},f=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();if(!s.user||!s.user.language)return;const d=await(e=>Object(i.b)(Object(c.a)(e,[a.a]),{endpoint:"".concat(e.apiUrl,"/api/livestream_rules.json"),method:o.bb.GET}))(r());if(d.ok){const t=d.body,n=O(t.livestream_rules,s.user.language);e(b(n))}},O=(e,t)=>{let n=[];if(e&&e.length>2){const r={reasonTextToShow:p(t),nextStepReasons:[e[0],e[1]]};n.push(r),n=n.concat(e.slice(2))}return n}},"./src/reddit/actions/scheduledPosts/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"l",(function(){return b})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"m",(function(){return f})),n.d(t,"k",(function(){return O})),n.d(t,"n",(function(){return g}));var r=n("./node_modules/fbt/lib/FbtPublic.js");const s="SCHEDULED_POSTS_REQUESTED",o="SCHEDULED_POSTS_LOADED",i="SCHEDULED_POSTS_FAILED",c="SCHEDULED_POST_CREATION_SUCCEEDED",a="SCHEDULED_POST_SUBMIT_NOW_SUCCESS",d="SCHEDULED_POST__EDIT_LOAD",u="SCHEDULED_POST__DELETE_SUCCESS",l=()=>r.fbt._("Failed to load scheduled posts",null,{hk:"1fhkq4"}),b=()=>r.fbt._("Whoops! Invalid scheduled post",null,{hk:"35jBb6"}),p=()=>r.fbt._("Unable to delete scheduled post",null,{hk:"23nWms"}),m=()=>r.fbt._("Successfully deleted scheduled post",null,{hk:"1Lk7r2"}),f=()=>r.fbt._("Unable to submit scheduled post",null,{hk:"vCW43"}),O=()=>r.fbt._("Retry",null,{hk:"4bCZ7M"}),g=()=>r.fbt._("Successfully submitted scheduled post!",null,{hk:"ONo6q"})},"./src/reddit/actions/search.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/app/strings/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/lib/makeSearchKey/index.ts"),d=n("./src/reddit/actions/toaster.ts"),u=n("./src/reddit/constants/parameters.ts"),l=n("./src/reddit/actions/pages/subreddit.ts"),b=n("./src/reddit/endpoints/page/search.ts"),p=n("./src/lib/makeApiRequest/index.ts"),m=n("./src/lib/omitHeaders/index.ts"),f=n("./src/reddit/constants/headers.ts");var O=async(e,t)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl,"/api/related_queries_v1.json?query=").concat(t),method:i.bb.GET}),g=n("./src/reddit/models/Toast/index.ts"),j=n("./src/reddit/selectors/experiments/feedFilters.ts"),h=n("./src/reddit/selectors/searchResults.ts");n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return E})),n.d(t,"d",(function(){return I})),n.d(t,"f",(function(){return v})),n.d(t,"j",(function(){return S})),n.d(t,"h",(function(){return x})),n.d(t,"g",(function(){return P})),n.d(t,"e",(function(){return A})),n.d(t,"i",(function(){return R}));const y="SEARCH__MORE_RESULTS_PENDING",_="SEARCH__MORE_RESULTS_RECEIVED",E="SEARCH__MORE_RESULTS_FAILED",I="SEARCH__RELATED_QUERIES_RECEIVED",v="SEARCH__UPDATE_SEARCH_QUERY",S=Object(c.a)(v),T=Object(c.a)(y),C=Object(c.a)(_),w=Object(c.a)(E),D=Object(c.a)(I),x=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=Object(h.g)(o,e);if(i&&i.length>0)return;const c=await O(s(),e);if(c.ok){const n=(e=>({relatedQueries:e.body.related_queries}))(c);t(D({query:e,relatedQueries:n.relatedQueries}))}},P=e=>async(t,n,r)=>{let{apiContext:c}=r;const p=n(),{queryParams:m}=p.platform.currentPage,f=Object(j.a)(p),O=Object(j.d)(f),h=Object(l.d)(m),y=p.platform.currentPage.urlParams.subredditName||p.platform.currentPage.urlParams.multiredditName,{username:_}=p.platform.currentPage.urlParams,E=h&&O?h:s()(m,u.p),I=Object(a.c)(E),v=Object.assign({},I,{sort:I.category?i.Hb.Relevance:I.sort,t:I.category?i.Ob.DAY:I.t}),S=Object(a.b)(y,_,v);let D;if(e.indexOf(i.Jb.Posts)>-1){const e=p.listings.postOrder.loadMore[S];if(!e)return;const t=p.listings.postOrder.api.pending[S],n=p.listings.postOrder.fetchedTokens,r=n[S]&&n[S][e.token];if(t||r)return;D=e.token}else{if(!(e.indexOf(i.Jb.Subreddits)>-1||e.indexOf(i.Jb.Users)>-1))throw new Error("Should not attempt to fetch more results without a search type");{const e=p.listings.listingOrder.loadMore[S];if(!e)return;const t=p.listings.listingOrder.api.pending[S],n=p.listings.listingOrder.fetchedTokens,r=n[S]&&n[S][e.token];if(t||r)return;D=e.token}}const x="error-".concat(S);t(T({fetchedToken:D,key:S,type:e}));const A=await Object(b.a)(c(),y,_,Object.assign({},v,{after:D,type:(I.type||[]).join(","),b:!0}));A.ok?(t(C(Object.assign({key:S,fetchedToken:D,meta:p.meta,subredditOrMultiName:y,type:e},A.body))),t(d.f(x))):(t(w(Object.assign({key:S,error:A.error,fetchedToken:D,meta:p.meta,type:e},A.body))),t(d.e({id:x,kind:g.b.Error,text:Object(o.a)(p.user.language,"search.toast.moreResultsError"),buttonText:Object(o.a)(p.user.language,"search.toast.retryButton"),buttonAction:P(e)})))},A="SEARCH__TYPEAHEAD_SUCCESS",R=Object(c.a)(A)},"./src/reddit/actions/search/trending.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./node_modules/uuid/v4.js"),o=n.n(s),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/getUrlQueryParams/index.ts"),a=n("./src/lib/makeApiRequest/index.ts"),d=n("./src/lib/omitHeaders/index.ts"),u=n("./src/reddit/constants/headers.ts"),l=n("./src/reddit/helpers/r2/normalizePostFromR2/index.ts"),b=n("./src/reddit/models/Search/index.ts");n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));const p="PAGE__TRENDING_SEARCHES_LOADED",m=Object(r.a)(p),f=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=await(e=>{const t={withAds:1,ad:Object(c.a)().get("ad")};return Object(a.b)(Object(d.a)(e,[u.a]),{endpoint:"".concat(e.apiUrl,"/api/trending_searches_v1.json"),method:i.bb.GET,data:t})})(r());if(s.ok){const t=(e=>{const t=[];if(e.body&&e.body.trending_searches){const n=e.body.trending_searches.length;for(let r=0;r<n;r++){const n=e.body.trending_searches[r],s=n.results.data.children.length>0?n.results.data.children[0].data:null,i={id:o()(),post:s?Object(l.a)(s):null,rawQuery:n.query_string,searchQuery:n.display_string,section:b.c.trending,isWhitelisted:n.is_subreddit_whitelisted,subredditInfo:s?{icon:s.sr_detail.community_icon||s.sr_detail.icon_img,displayText:s.sr_detail.display_name_prefixed}:null,subredditOccurrences:n.subreddit_occurences-1,type:b.b.text};t.push(i)}}return t})(s);return e(m({items:t})),t}return null}},"./src/reddit/actions/seo/linksModule.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/loadWithRetries/index.ts");n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return d}));const o="FRONTPAGE_LINKS__REQUEST_LOADED",i=Object(r.a)("FRONTPAGE_LINKS__REQUEST_PENDING"),c=Object(r.a)("FRONTPAGE_LINKS__REQUEST_FAILED"),a=Object(r.a)(o),d=()=>async e=>{e(i());const t=await(async()=>(await Object(s.a)(()=>n.e("FrontpageLinks").then(n.t.bind(null,"./src/reddit/endpoints/goodContent/frontpageLinks.json",3)))).default)();e(t?a(t):c())}},"./src/reddit/actions/shortcuts.ts":function(e,t,n){"use strict";var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/comment/index.ts"),i=n("./src/reddit/actions/emailCollection/index.ts"),c=n("./src/reddit/actions/modal.ts"),a=n("./src/reddit/actions/monthsToMinutes/initHomeFeed.ts"),d=n("./src/reddit/actions/post.ts"),u=n("./src/reddit/actions/toaster.ts"),l=n("./src/reddit/components/Comments/helpers/hiddenComments.ts"),b=n("./src/reddit/components/Settings/modalIds.ts"),p=n("./src/reddit/constants/elementIds.ts"),m=n("./src/reddit/constants/modals.ts"),f=n("./src/reddit/constants/postLayout.ts"),O=n("./src/reddit/constants/shortcuts.ts"),g=n("./src/reddit/helpers/getPostFromRouteMatch/index.ts"),j=n("./src/reddit/helpers/overlay/index.ts"),h=n("./src/reddit/helpers/routeKey/index.ts"),y=n("./src/reddit/helpers/trackers/lightbox.ts"),_=n("./src/reddit/selectors/telemetry.ts");const E=e=>()=>({source:"shortcuts",action:"submit",noun:e}),I=(e,t)=>n=>({source:"shortcuts",action:"submit",noun:e,post:_.post(n,t)}),v=(e,t)=>n=>({source:"shortcuts",action:"submit",noun:e,comment:_.comment(n,t)}),S=E("show_panel"),T=E("esc_close"),C=E("c_create_post");E("q_navigation");var w=n("./src/reddit/selectors/activeModalId.ts"),D=n("./src/reddit/selectors/experiments/emailCollection.ts"),x=n("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),P=n("./src/reddit/selectors/gild.ts"),A=n("./src/reddit/selectors/goldPurchaseModals.ts"),R=n("./src/reddit/selectors/listings.ts"),k=n("./src/reddit/selectors/platform.ts");n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return L})),n.d(t,"c",(function(){return U})),n.d(t,"l",(function(){return F})),n.d(t,"k",(function(){return B})),n.d(t,"p",(function(){return G})),n.d(t,"j",(function(){return q})),n.d(t,"o",(function(){return V})),n.d(t,"t",(function(){return H})),n.d(t,"f",(function(){return K})),n.d(t,"s",(function(){return W})),n.d(t,"h",(function(){return J})),n.d(t,"g",(function(){return Y})),n.d(t,"e",(function(){return z})),n.d(t,"m",(function(){return Q})),n.d(t,"q",(function(){return X})),n.d(t,"i",(function(){return $})),n.d(t,"n",(function(){return Z})),n.d(t,"d",(function(){return te})),n.d(t,"r",(function(){return ie}));const N="SHORTCUTS__ACTIVE_COMMENT_SET",L="SHORTCUTS__ACTIVE_POST_SET",M=Object(s.a)(N),U=Object(s.a)(L),F=e=>async(t,n,r)=>{let{apiContext:s}=r;t(Object(c.i)(m.a.KEYBOARD_SHORTCUTS)),e(S)},B=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=i.shortcuts.activePostId,a=i.listings.activeKey,d=i.listings.postOrder.ids[a];if(!c||d&&d.indexOf(c)<0){const e=d[0];return n(U(e)),void se(e)}let u,l=c;do{if(!(u=Object(R.b)(i,{postId:l}))||!u.nextPost)return;l=u.nextPost.id}while(i.posts.models[l].hidden);i.shortcuts.namespace===O.d.Lightbox?(ne(n,u.nextPost),e(t?y.b(c,"next_post",!0):(e=>I("n_next",e))(l))):(n(U(l)),se(l),e((e=>I("j_next",e))(l)))},G=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.shortcuts.activePostId,c=o.listings.activeKey,a=o.listings.postOrder.ids[c];if(!i||a&&a.indexOf(i)<0)return t(U(a[0])),void se(a[0]);if(0===a.indexOf(i))return;let d,u=i;do{if(!(d=Object(R.b)(o,{postId:u}))||!d.prevPost)return;u=d.prevPost.id}while(o.posts.models[u].hidden);o.shortcuts.namespace===O.d.Lightbox?(ne(t,d.prevPost),e((e=>I("p_previous",e))(u))):(t(U(u)),se(u),e((e=>I("k_previous",e))(u)))},q=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=re(o);if(!i)return;let c;const a=o.shortcuts.activeCommentId;if(a){const e=o.comments.collapsed[i],t=o.commentsPage.keyToCommentThreadLinkSets[i];if(e[c=a])do{if(!t[c].next)return;c=t[c].next.id}while(l.b(c));else c=t[c].next.id}else{const e=o.commentsPage.keyToHeadCommentId[i];if(!e)return;c=e}t(M(c)),se(c),e((e=>v("j_next",e))(c))},V=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=re(o);if(!i)return;let c;const a=o.shortcuts.activeCommentId;if(a&&a!==o.commentsPage.keyToHeadCommentId[i]){const e=o.commentsPage.keyToCommentThreadLinkSets[i];for(c=e[a].prev.id;l.b(c);)c=e[c].prev.id}else{const e=o.commentsPage.keyToHeadCommentId[i];if(!e||a===e)return;c=e}t(M(c)),se(c),e((e=>v("k_previous",e))(c))},H=e=>async(t,n,r)=>{let{apiContext:s}=r;const i=n(),{activeCommentId:c,activePostId:a}=i.shortcuts,u=re(i);u&&(c&&!i.comments.collapsed[u][c]?(t(o.rb(c)),e((e=>v("a_upvote",e))(c))):a&&(t(d.N(a)),e((e=>I("a_upvote",e))(a))))},K=e=>async(t,n,r)=>{let{apiContext:s}=r;const i=n(),{activeCommentId:c,activePostId:a}=i.shortcuts,u=re(i);u&&(c&&!i.comments.collapsed[u][c]?(t(o.T(c)),e((e=>v("z_downvote",e))(c))):a&&(t(d.o(a)),e((e=>I("z_downvote",e))(a))))},W=e=>async(t,n,r)=>{let{apiContext:s}=r;const i=n(),{activeCommentId:c,activePostId:a}=i.shortcuts,u=re(i);u&&(c&&!i.comments.collapsed[u][c]?(t(o.gb(c)),e((e=>v("s_save",e))(c))):a&&(t(d.G(a)),e((e=>I("s_save",e))(a))))},J=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.shortcuts.activePostId;i&&!o.posts.models[i].isSponsored&&(t(d.K(i,!o.posts.models[i].hidden,o.shortcuts.namespace===O.d.Lightbox,!0)),t(B(e)),e((e=>I("h_hide",e))(i)))},Y=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.shortcuts.activePostId,c=f.b[o.user.prefs.layout];if(i&&(c===f.g.Compact||c===f.g.Classic)){const n=o.posts.models[i].crosspostRootId;(o.posts.models[i].media||n&&o.posts.models[n]&&o.posts.models[n].media)&&(t(d.p({postId:i})),e((e=>I("x_expando",e))(i)))}},z=e=>async(t,n,s)=>{let{apiContext:i}=s;const c=n(),a=c.shortcuts.activeCommentId,d=re(c);if(d&&a){if(c.comments.models[a])t(o.nb({commentId:a,commentsPageKey:d,scrollToAndRemeasure:()=>null}));else if(c.continueThreads.models[a]){const e=c.continueThreads.models[a].parentId,n=c.comments.models[e].permalink;t(Object(r.b)(n))}else t(V(e)),t(o.Z(d,a));e((e=>v("enter_comment_collapse",e))(a))}},Q=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.listings.activeKey,c=o.listings.postOrder.ids[i],a=o.shortcuts.activePostId;!c||!a||c.indexOf(a)<0||(t(Object(j.a)(o.posts.models[a].permalink)),e((e=>I("enter_open_post",e))(a)))},X=e=>async(t,n,r)=>{let{apiContext:s}=r;const i=n(),c=re(i),{activeCommentId:a}=i.shortcuts;a&&c&&c!==i.listings.activeKey&&(t(o.ob({commentsPageKey:c,parentCommentId:a})),e((e=>v("r_comment",e))(a)))},$=e=>async(t,n,s)=>{let{apiContext:o}=s;const i=n();if(!i.user.account)return;const c=Object(k.f)(i),a=c?c.url:"/";t(Object(r.b)("".concat(a,"submit"))),e(C)},Z=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),{activePostId:i}=o.shortcuts;if(i){const t=o.posts.models[i];if(t.source){const n=t.source.url,r=window.open(n,"_blank");r&&r.focus(),e((e=>I("l_go_to_link",e))(i))}}},ee=[A.d,A.q,e=>!!Object(P.d)(e)],te=(e,t,n)=>async(s,d,l)=>{let{apiContext:p}=l;const m=d();for(const e of ee)if(e(m))return;const f=document.activeElement,g=m.shortcuts.activeCommentId,j=re(m);if(f&&"true"===f.contentEditable&&g&&j)s(o.O({parentCommentId:g,commentsPageKey:j})),se(g);else if(m.activeModalId)oe(O.b),Object(w.b)(b.c)&&Object(D.d)(Object(D.a)(m))?s(Object(i.a)()):s(Object(c.i)(m.activeModalId));else if(m.toaster[0])oe(O.b),s(Object(u.f)(m.toaster[0].id));else if(m.shortcuts.namespace===O.d.Lightbox&&m.platform.currentPage){const e=Object(x.f)(m);if(n&&Object(x.d)(e))oe(O.b),s(Object(a.b)({shouldPrepareData:!1}));else{const e=m.platform.currentPage.locationState.closeLocation;e&&(oe(O.b),s(Object(r.b)(e)))}}const{activePostId:h}=m.shortcuts;e(t&&h?y.b(h,"close",!0):T)},ne=(e,t)=>{oe(O.b),e(U(t.id)),document.body.style.overflow="",se(t.id),document.body.style.overflow="hidden",e(Object(j.a)(t.permalink));const n=document.getElementById(p.d);n&&n.scrollTo(0,0)},re=e=>{const t=e.platform.currentPage;if(!t||!t.routeMatch)return;const n=t.routeMatch,r=Object(g.a)(e);return Object(h.c)(n,e,r)},se=e=>{const t=document.getElementById(e);t&&t.focus()},oe=e=>{const t=document.getElementById(e),n=window.scrollX,r=window.scrollY;t&&(t.focus(),window.scrollTo(n,r))},ie=()=>{oe(O.b)}},"./src/reddit/actions/structuredStyles/constants.ts":function(e,t,n){"use strict";n.d(t,"l",(function(){return r})),n.d(t,"k",(function(){return s})),n.d(t,"j",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"n",(function(){return f})),n.d(t,"m",(function(){return O}));const r="STRUCTURED_STYLES__STYLES_RESET_PENDING",s="STRUCTURED_STYLES__STYLES_RESET_LOADED",o="STRUCTURED_STYLES__STYLES_RESET_FAILED",i="SUBREDDIT__STYLES_PENDING",c="SUBREDDIT__STYLES_LOADED",a="SUBREDDIT__STYLES_FAILED",d="STRUCTURED_STYLES__DRAFT_REPLACED",u="STRUCTURED_STYLES__DRAFT_UPDATED",l="STRUCTURED_STYLES__EDITING_STOPPED",b="STRUCTURED_STYLES__EDITING_STARTED",p="STRUCTURED_STYLES__IMAGE_UPLOAD_ADDED",m="STRUCTURED_STYLES__DIRTIED_BLADE_EDITOR",f="STRUCTURED_STYLES__UNDIRTIED_BLADE_EDITOR",O="STRUCTURED_STYLES__STYLES_UPDATED_LOADED"},"./src/reddit/actions/structuredStyles/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/omit.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./node_modules/react-router-redux/es/index.js"),a=n("./src/lib/filterQueryParams/index.ts"),d=n("./src/lib/makeActionCreator/index.ts"),u=n("./src/reddit/actions/apiRequestState.ts"),l=n("./src/reddit/actions/imageUploads.ts"),b=n("./src/reddit/actions/modal.ts"),p=n("./src/reddit/endpoints/moderator/structuredStyles.ts"),m=e=>Object.assign({},e.postBackgroundColor&&{postBackgroundColor:e.postBackgroundColor},e.postBackgroundImage&&{postBackgroundImage:e.postBackgroundImage},e.postPlaceholderImage&&{postPlaceholderImage:e.postPlaceholderImage},e.postTitleColor&&{postTitleColor:e.postTitleColor}),f=n("./src/reddit/selectors/postFlair.ts"),O=n("./src/reddit/selectors/subreddit.ts"),g=n("./src/reddit/actions/postFlairStyleTemplates/constants.ts");const j=Object(d.a)(g.c),h=Object(d.a)(g.b),y=Object(d.a)(g.a);var _=n("./src/reddit/actions/widgets/index.ts"),E=n("./src/reddit/constants/modals.ts"),I=n("./src/reddit/helpers/getGenericUploadError.ts"),v=n("./src/reddit/helpers/graphql/normalizeSubredditStylesFromGql/index.ts"),S=n("./src/reddit/helpers/media/index.ts"),T=n("./src/reddit/models/Image/index.tsx"),C=n("./src/reddit/models/StructuredStyles/index.ts"),w=n("./src/reddit/selectors/activeModalId.ts"),D=n("./src/reddit/selectors/platform.ts"),x=n("./src/reddit/selectors/structuredStyles.ts"),P=n("./src/reddit/selectors/user.ts"),A=n("./src/reddit/helpers/trackers/blade.ts"),R=n("./src/telemetry/index.ts"),k=n("./src/reddit/actions/structuredStyles/constants.ts");n.d(t,"l",(function(){return N})),n.d(t,"k",(function(){return U})),n.d(t,"j",(function(){return q})),n.d(t,"e",(function(){return H})),n.d(t,"d",(function(){return W})),n.d(t,"g",(function(){return Y})),n.d(t,"c",(function(){return Q})),n.d(t,"f",(function(){return $})),n.d(t,"b",(function(){return Z})),n.d(t,"m",(function(){return ee})),n.d(t,"a",(function(){return te})),n.d(t,"h",(function(){return ne})),n.d(t,"i",(function(){return re}));const N=Object(d.a)(k.m),L={bannerBackgroundImage:["bannerBackgroundImagePosition"],bannerPositionedImage:["bannerPositionedImagePosition","secondaryBannerPositionedImage"]},M=e=>{const t=Object.assign({},e);return Object.keys(e).forEach(n=>{L[n]&&!e[n]&&L[n].forEach(e=>t[e]=null)}),t},U=(e,t,n,r)=>async(s,o,i)=>{const{apiContext:c}=i,a=o(),d=M(t),b=a.structuredStyles.models[e];let m;for(const e in d)if(d[e]!==b[e]){m=!0;break}if(!m)return;s(Object(u.h)(r));const f=Object(A.i)(n)(a);let g=null,j=null;try{(g=await Object(l.f)(o(),T.a.StructuredStyles))&&(j=Object(l.m)(g)(s,o,i))}catch(E){const e=Object(I.a)("webSocket");return void s(Object(u.f)(r,e))}const h=Object(O.S)(a,{subredditId:e}).name,y=await p.e(c(),h,d),_={};if(y.ok){if(j)try{await j}catch(E){}const n=Object(x.g)(o(),{apiRequestId:r});for(const e in n)if(e in t){const t=Object(x.h)(o(),{name:e});t&&Object(T.j)(t)&&(_[e]=n[e])}Object.keys(_).length&&s(K(_)),s(Object(u.e)(r)),s(N({subredditId:e,styles:Object.assign({},d,_)}))}else g&&g.websocket.close(),s(Object(u.f)(r,y.error));Object(R.a)(Object.assign({},f,{actionInfo:Object.assign({},f.actionInfo,{success:y.ok})}))},F=Object(d.a)(k.l),B=Object(d.a)(k.k),G=Object(d.a)(k.j),q=e=>async(t,n,r)=>{let{apiContext:s}=r;t(F({subredditId:e}));const o=Object(O.S)(n(),{subredditId:e}).name,i=await p.f(s(),o);if(i.ok){const r=n().structuredStyles.models[e],s=r?r.mobileKeyColor:null;t(B({subredditId:e,styles:{mobileKeyColor:s}}))}else t(G(Object.assign({subredditId:e},i.error)))},V=Object(d.a)(k.d),H=e=>async(t,n,r)=>{const s=n(),o=s.structuredStyles.models[e]||{},i=Object(P.U)(s);t(V({isNightmodeOn:i,styles:o,subredditId:e})),ce(e,!1)(t,n,r),(e=>async(t,n,r)=>{let{gqlContext:s}=r;const o=n(),i=Object(O.S)(o,{subredditId:e});if(!i)return;const c=Object(f.d)(o,{subredditId:e}),a=c&&c.templateIds;if(!a||!a.length)return;t(j({subredditId:e}));const d=await Object(p.a)(s(),i.name,a);if(d.ok){const n={};if(d.body){const{data:e}=d.body;if(e&&e.subreddit)for(const t of e.subreddit.postFlairStyleTemplates)n[t.id]=m(t)}t(h({subredditId:e,templates:n}))}else t(y({subredditId:e,error:d.error}))})(e)(t,n,r),Object(_.g)(e,!1)(t,n,r)},K=Object(d.a)(k.c),W=e=>async(t,n,r)=>{const s=M(e),o=n();for(const e in s)if(Object(C.k)(e))if(s[e]){if("string"!=typeof s[e]){const o=s[e],i=await Object(T.e)(o);Y(e,i)(t,n,r),s[e]=""}}else{const n=Object(x.h)(o,{name:e});n&&t(Object(l.h)(n))}t(K(s))},J=Object(d.a)(k.f),Y=(e,t,n)=>async(r,s,o)=>{const i=s(),c=n||i.structuredStyles.isEditing,a=Object(O.S)(i,{subredditId:c}).name;r(J({imageKey:e,uploadId:t.id})),r(Object(l.k)(t));const d=await p.d(o.apiContext(),a,t.file.name,e,await Object(S.g)(t.file));try{const n=await Object(l.g)(s(),d,t,T.a.StructuredStyles);if(n){const t=n.url;r(Object(l.j)(n)),r(K({[e]:t}))}}catch(u){if(u instanceof Error)throw u;r(Object(l.i)(u))}},z=Object(d.a)(k.b),Q=(e,t,n)=>async(r,o,c)=>{const a=o(),d=a.structuredStyles.models[e]||{},u=a.structuredStyles.draft,l=Object(A.h)(t)(a);if(n){const t=i()(d,n),o=s()(u,n),c=Object.assign({},o,t);r(z({subredditId:e,styles:c}))}else{r(z({subredditId:e,styles:d}))}Object(R.a)(l)},X=Object(d.a)(k.e),$=()=>async(e,t,n)=>{const r=t(),s=Object(P.V)(r),o=!!Object(D.a)(r);if(e(X({nightmodeTempUpdated:s})),o)return;const{url:i}=r.platform.currentPage;i&&e(Object(c.c)(Object(a.a)(i,["styling","route"])))},Z=Object(d.a)(k.a),ee=Object(d.a)(k.n),te=()=>async e=>e($()),ne=e=>async(t,n)=>{const r=n(),s=Object(x.j)(r);!Object(w.b)(E.a.BLADE_UNSAVED_CHANGES)(r)&&s&&(Object(x.a)(r,{subredditId:e})?t(Object(b.i)(E.a.BLADE_UNSAVED_CHANGES)):t(te()))},re=e=>async(t,n)=>{const r=n();Object(x.j)(r)||t(Object(P.U)(r)?Object(b.i)(E.a.BLADE_NIGHTMODE):H(e))},se=Object(d.a)(k.i),oe=Object(d.a)(k.h),ie=Object(d.a)(k.g),ce=(e,t)=>async(n,r,s)=>{let{gqlContext:o,apiContext:i}=s;n(se({subredditId:e}));const c=Object(O.S)(r(),{subredditId:e});if(!c)return;if(!t){const r=await p.c(i(),c.name,t);if(r.ok){const t=r.body,s=t.data?t.data.style:{};n(oe({subredditId:e,styles:s}))}else n(ie(Object.assign({subredditId:e},r.error)));return}const a=await p.b(o(),c.name);if(a.ok){let t={};if(a.body){const{data:e}=a.body;e&&e.subreddit&&e.subreddit.styles&&(t=Object(v.a)(e.subreddit.styles))}n(oe({subredditId:e,styles:t}))}else n(ie(Object.assign({subredditId:e},a.error)))}},"./src/reddit/actions/subreddit.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/app/strings/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/listingSort/index.ts"),a=n("./src/lib/makeActionCreator/index.ts"),d=n("./src/lib/makeListingKey/index.ts"),u=n("./src/reddit/actions/economics/helpers/async.ts"),l=n("./src/reddit/actions/modal.ts"),b=n("./src/reddit/actions/oldSiteRules.ts"),p=n("./src/reddit/actions/preferences.ts"),m=n("./src/reddit/actions/subredditRules/constants.ts"),f=n("./src/reddit/actions/toaster.ts"),O=n("./src/reddit/constants/modals.ts"),g=n("./src/reddit/constants/parameters.ts"),j=n("./src/reddit/constants/postLayout.ts"),h=n("./src/reddit/contexts/PageLayer/index.tsx"),y=n("./src/reddit/endpoints/governance/posts.ts"),_=n("./src/lib/makeApiRequest/index.ts"),E=n("./src/lib/omitHeaders/index.ts"),I=n("./src/reddit/constants/headers.ts"),v=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");var S=n("./src/reddit/endpoints/modQueue/index.ts"),T=n("./src/reddit/endpoints/page/subredditPage.ts"),C=n("./src/reddit/endpoints/subreddit/about.ts"),w=n("./src/reddit/endpoints/subreddit/rules.ts"),D=n("./src/reddit/endpoints/user/preferences.ts"),x=n("./src/reddit/helpers/filterListingResponse/index.ts"),P=n("./src/reddit/helpers/getSubredditSortForListingKeyCreation/index.ts"),A=n("./src/reddit/helpers/graphql/normalizeSubredditAboutFromGql/index.ts"),R=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),k=n("./src/reddit/i18n/utils.ts"),N=n("./src/reddit/models/Subreddit/index.ts"),L=n("./src/reddit/models/Toast/index.ts"),M=n("./src/reddit/models/User/index.ts"),U=n("./src/reddit/selectors/experiments/gqlSubredditPage.ts"),F=n("./src/reddit/selectors/oldSiteRules.ts"),B=n("./src/reddit/selectors/profile.ts"),G=n("./src/reddit/selectors/subreddit.ts"),q=n("./src/reddit/selectors/user.ts");n.d(t,"m",(function(){return V})),n.d(t,"l",(function(){return H})),n.d(t,"k",(function(){return K})),n.d(t,"j",(function(){return W})),n.d(t,"i",(function(){return J})),n.d(t,"h",(function(){return Y})),n.d(t,"d",(function(){return z})),n.d(t,"t",(function(){return Q})),n.d(t,"s",(function(){return X})),n.d(t,"r",(function(){return $})),n.d(t,"p",(function(){return Z})),n.d(t,"o",(function(){return re})),n.d(t,"u",(function(){return ie})),n.d(t,"g",(function(){return ce})),n.d(t,"f",(function(){return ae})),n.d(t,"e",(function(){return de})),n.d(t,"q",(function(){return pe})),n.d(t,"b",(function(){return me})),n.d(t,"c",(function(){return fe})),n.d(t,"a",(function(){return Oe})),n.d(t,"v",(function(){return ye})),n.d(t,"n",(function(){return _e}));const V="SUBREDDIT__MODEL_SUCCEEDED",H="SUBREDDIT__MODEL_PENDING",K="SUBREDDIT__MODEL_FAILED",W="SUBREDDIT__MORE_POSTS_PENDING",J="SUBREDDIT__MORE_POSTS_LOADED",Y="SUBREDDIT__MORE_POSTS_FAILED",z="SUBREDDIT__META_FILTER_TOGGLED",Q=Object(a.a)(W),X=Object(a.a)(J),$=Object(a.a)(Y),Z=Object(a.a)(z),ee=Object(a.a)(m.b),te=Object(a.a)(m.c),ne=Object(a.a)(m.a),re=(e,t)=>async(n,r)=>{await(t===N.b.User?n(se(e)):n(oe(e))),0===Object(F.a)(r()).length&&n(Object(b.b)())},se=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=Object(B.m)(n(),e),i=await Object(w.c)(s(),e);if(i.ok){const e=i.body;t(ee({rules:e,subredditId:o}))}},oe=e=>async(t,n,r)=>{let{gqlContext:s}=r;const i=Object(G.G)(n(),e),c=Object(q.S)(n());t(te());const a=await Object(w.b)(s(),e);if(a.ok){const e=a.body;t(ee({rules:e,subredditId:i}))}else{t(ne());const n="error-block-".concat(e);t(f.e({id:n,kind:L.b.Error,text:Object(o.a)(c,"error.tryAgainLater")}))}},ie=e=>async(t,n,r)=>{let{apiContext:o,gqlContext:i}=r;const{subredditName:a}=e;let l=e.t;const b=Object(P.a)(e),p=n(),m=p.platform.currentPage?p.platform.currentPage.queryParams:{},f=Object(d.a)(a,b,Object.assign({t:l},m)),O=p.listings.postOrder.loadMore[f],_=p.listings.postOrder.listingSort[f];let E=b;if(_&&!E){const e=Object(c.d)(_.sort);E=e.sort,l=e.timeSort}const I=p.listings.postOrder.api.pending[f],{fetchedTokens:v}=p.listings.postOrder,S=!(!v[f]||!v[f][O.token]);if(I||S)return;t(Q({key:f,fetchedToken:O.token}));const C=Object.assign({after:O.token,dist:O.dist,layout:j.e[Object(h.M)(p,{})],sort:E,t:l},s()(m,[...g.j,g.f]));C[g.f]||(C[g.f]=p.user.prefs.geopopular||p.meta.country);const w=Object(U.a)(p)?()=>Object(T.b)(i(),Object(T.c)(p,a,Object.assign({},C,{limit:j.a})),Object(q.Q)(p)):()=>Object(T.a)(o(),a,C),D=await w(),A=Object.assign({},D.body,Object(x.a)(p,f,D.body));if(D.ok){let e;const r=A.postIds.filter(e=>!!A.posts[e].isMeta),s=Object(G.G)(n(),a);if(r.length){const t=await Object(y.a)(o(),s,r);t.ok&&(e=t.body)}t(X(Object.assign({fetchedToken:O.token,key:f,meta:p.meta,governance:e},A))),await t(Object(u.a)({subredditId:s,postIds:A.postIds,skip:["communityDetails","subscription"]}))}else t($(Object.assign({error:D.error,fetchedToken:O.token,key:f},A)))},ce="SUBSCRIPTION__MODERATED_SUBREDDITS_PENDING",ae="SUBSCRIPTION__MODERATED_SUBREDDITS_LOADED",de="SUBSCRIPTION__MODERATED_SUBREDDITS_FAILED",ue=Object(a.a)(ce),le=Object(a.a)(ae),be=Object(a.a)(de),pe=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();if(!s.user.account||s.subreddits.moderated.api.fetched)return;e(ue());const o=await Object(S.b)(r(),i.fb.Modqueue,{moderated:!0,moderated_limit:50});o.ok?e(le(o.body)):e(be({error:o.error}))},me="SUBREDDIT__ABOUT_PENDING",fe="SUBREDDIT__ABOUT_SUCCEEDED",Oe="SUBREDDIT__ABOUT_FAILED",ge=Object(a.a)(me),je=Object(a.a)(fe),he=Object(a.a)(Oe),ye=e=>async(t,n,r)=>{let{gqlContext:s}=r;const o=n();if(Object(G.y)(o,{subredditName:e})||o.subreddits.api.about.error[e.toLowerCase()]||o.subreddits.api.about.pending[e.toLowerCase()])return;t(ge({subredditName:e}));const i=!Object(G.G)(o,e),c=await Object(C.a)(s(),e,i);if(c.ok){const n=c.body.data.subreddit,r=Object(A.a)(n),s=i?Object(R.a)(n):void 0;t(je({subredditName:e,subreddits:s?{[s.id]:s}:void 0,data:r}))}else t(he({subredditName:e,error:c.error}))},_e=(e,t,n)=>async(r,s,o)=>{let{apiContext:c}=o;const a=Object(G.G)(s(),e.substring(2)),d=Object(q.i)(s());if(d){const s=Object(M.f)(d),o=t+"\n\n   *To approve this user*, visit [the approved users page for "+e+"](https://www.reddit.com/"+e+"/about/contributors?user="+s+') and click "ADD USER".\n    Approving this user gives them permission to '+n+". You can change these community restrictions from the [community settings](/"+e+"/about/edit) page.\n\n   To get more information about this user, visit the profile page of [u/"+s+"](/u/"+s+") or reply to this message to start a conversation.",u={to:"/".concat(e),subject:Object(k.c)("I would like to join ".concat(Object(k.b)("displayName",e))),text:o};if((await((e,t)=>Object(_.b)(Object(E.a)(e,[I.a]),{endpoint:Object(v.a)("".concat(e.apiUrl,"/api/compose")),method:i.bb.POST,data:t}))(c(),u)).ok){const e=new Date,t={isContributorRequestTimestamp:e.setDate(e.getDate())};r(Object(p.C)({subredditId:a,prefs:t})),Object(D.h)(a,t,c()),r(Object(l.i)(O.a.CONTRIBUTOR_REQUEST_PENDING))}}}},"./src/reddit/actions/subreddit/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"k",(function(){return a})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"n",(function(){return l})),n.d(t,"m",(function(){return b})),n.d(t,"l",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return O})),n.d(t,"p",(function(){return g})),n.d(t,"o",(function(){return j})),n.d(t,"q",(function(){return h}));const r="SUBREDDIT__ADD_TOP_SUBREDDIT_MODELS",s="SUBREDDIT__ADD_TOP_SUBREDDIT_RANKINGS",o="SUBREDDIT__ADD_TOP_SUBREDDIT_RANKINGS_PAGE_INFO",i="SUBREDDIT__POSTS_LOADED",c="SUBREDDIT__POSTS_SET_FAILED",a="SUBREDDIT__RANKINGS_PENDING",d="SUBREDDIT__RANKINGS_LOADED",u="SUBREDDIT__RANKINGS_FAILED",l="SUBREDDIT__SIMILAR_SUBREDDITS_PENDING",b="SUBREDDIT__SIMILAR_SUBREDDITS_LOADED",p="SUBREDDIT__SIMILAR_SUBREDDITS_FAILED",m="SUBREDDIT__ONBOARDING_SUBREDDITS_PENDING",f="SUBREDDIT__ONBOARDING_SUBREDDITS_LOADED",O="SUBREDDIT__ONBOARDING_SUBREDDITS_FAILED",g="SUBREDDIT__EDIT_REQUESTED",j="SUBREDDIT__EDIT_FAILED",h="SUBREDDIT__EDIT_SUCCESS"},"./src/reddit/actions/subreddit/onboarding.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/makeOnboardingSubredditsKey/index.ts"),o=n("./src/reddit/actions/subreddit/constants.ts"),i=n("./src/reddit/endpoints/category/subreddits.ts"),c=n("./src/lib/constants/index.ts"),a=n("./src/lib/makeApiRequest/index.ts"),d=n("./src/lib/omitHeaders/index.ts"),u=n("./src/reddit/constants/headers.ts"),l=n("./src/reddit/selectors/subreddit.ts");n.d(t,"a",(function(){return f}));const b=Object(r.a)(o.f),p=Object(r.a)(o.e),m=Object(r.a)(o.d),f=e=>async(t,n,r)=>{let{apiContext:o}=r;const f=n(),O=Object(s.a)(e),g=Object(l.r)(f,{key:O}),j=Object(l.p)(f,{key:O});if(g||j.length>0)return;t(b({key:O}));const h=await((e,t)=>Object(a.b)(Object(d.a)(e,[u.a]),{data:{city:t.city||void 0,country:t.country||void 0,region:t.region||void 0},endpoint:"".concat(e.apiUrl,"/api/subreddit_onboarding.json"),method:c.bb.GET}))(o(),e);if(h.ok){const e=Object(i.b)(h.body);t(p(Object.assign({key:O},e)))}else{const e=h.error;t(m({key:O,error:e}))}}},"./src/reddit/actions/subreddit/similarSubreddit.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return b}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/subreddit/constants.ts"),o=n("./src/reddit/endpoints/category/subreddits.ts"),i=n("./src/reddit/endpoints/subreddit/similar.ts"),c=n("./src/reddit/selectors/subreddit.ts");const a=e=>{let t=e.subredditIds.join(",");return e.count&&(t+="--[count:'".concat(e.count,"']")),e.variant&&(t+="--[variant:'".concat(e.variant,"']")),t.toLowerCase()},d=Object(r.a)(s.n),u=Object(r.a)(s.m),l=Object(r.a)(s.l),b=e=>async(t,n,r)=>{let{apiContext:s}=r;const b=n(),p=a(e),m=Object(c.w)(b,{key:p}),f=Object(c.v)(b,{key:p});if(m||f.length>0)return;t(d({key:p}));const O=await Object(i.b)(s(),e);if(O.ok){const e=Object(o.b)(O.body);t(u(Object.assign({key:p},e)))}else{const e=O.error;t(l({key:p,error:e}))}}},"./src/reddit/actions/subreddit/subredditPosts.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/lib/makeListingKey/index.ts"),i=n("./src/reddit/actions/subreddit/constants.ts"),c=n("./src/graphql/operations/SubredditPosts.json"),a=n("./src/lib/makeGqlRequest/index.ts");var d=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts");n.d(t,"a",(function(){return b}));const u=Object(s.a)(i.h),l=Object(s.a)(i.g),b=e=>async(t,n,s)=>{let{gqlContext:i}=s;try{const s=n(),l=s.posts&&s.posts.models,b=(await((e,t)=>Object(a.a)(e,Object.assign({},c,{variables:t})))(i(),e)).body,{posts:p}=b&&b.data&&b.data.subreddit,m=((e,t)=>{const{edges:n}=e,r=n.filter(e=>(e=>!e.node.crosspostRoot)(e)&&((e,t)=>!t.hasOwnProperty(e.node.id))(e,t));return Object.assign({},e,{edges:r})})(p,l);if(!m.edges.length)return;const f=(e=>{let{edges:t}=e;const n=[];for(const{node:r}of t)n.push(Object(d.d)(r));return n})(m),{range:O,sort:g,subredditName:j}=e,h=Object(o.a)(j,r.N[g],{t:O}),y=(e=>e.reduce((e,t)=>(e[t.id]=t,e),{}))(f),_=f.map(e=>e.id),E={dist:p.dist,key:h,meta:s.meta,postIds:_,posts:y};t(u(E))}catch(b){l(b)}}},"./src/reddit/actions/subreddit/topSubreddits.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("./node_modules/lodash/sampleSize.js"),s=n.n(r),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/subreddit/constants.ts"),c=n("./src/reddit/constants/subredditLeaderboard.ts"),a=n("./src/reddit/endpoints/subreddit/models.ts"),d=n("./src/reddit/endpoints/subreddit/topSubreddits.ts"),u=n("./src/reddit/helpers/graphql/normalizeTopSubredditsFromGql/index.ts"),l=n("./src/reddit/selectors/experiments/upAndComingLeaderboard.ts");const b=Object(o.a)(i.k),p=Object(o.a)(i.j),m=Object(o.a)(i.i),f=Object(o.a)(i.a),O=Object(o.a)(i.b),g=Object(o.a)(i.c),j=(e,t)=>async(n,r,s)=>{let{gqlContext:o}=s;if(t===c.l)return void(Object(l.b)(r())&&n(h()));n(b());const i=await Object(d.a)(o(),e);if(i.ok){const e=i.body,r=e&&e.data&&e.data.subredditLeaderboard,{pageInfo:s,rankings:o,subreddits:c}=Object(u.b)(r);n(f({subreddits:c})),n(O({categoryRankingsKey:t,rankings:o})),n(g({categoryRankingsKey:t,pageInfo:s})),n(p())}else{const e=i.error;n(m({error:e}))}},h=()=>async(e,t,n)=>{let{gqlContext:r}=n;const o=s()(l.a,25);e(b());const i=await Object(a.a)(r(),{names:o});if(!i.ok){const t=i.error;return void e(m({error:t}))}const d=i.body,g=d&&d.data&&d.data.subredditsInfoByNames,{rankings:j,subreddits:h}=Object(u.a)(g);e(f({subreddits:h})),e(O({categoryRankingsKey:c.l,rankings:j})),e(p())}},"./src/reddit/actions/subredditAutocomplete.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/graphql/operations/SubredditTypeaheadSearch.json"),o=n("./src/lib/makeGqlRequest/index.ts"),i=(e,t)=>Object(o.a)(e,Object.assign({},s,{variables:t})),c=n("./src/reddit/helpers/graphql/normalizeAllowedPostTypesFromGql/index.ts"),a=e=>{let{allowedPostTypes:t,id:n,isCrosspostDestination:r,isNsfw:s,name:o,styles:i,subscribersCount:a}=e;return{allowedPostTypes:Object(c.a)(t),communityIcon:i&&i.icon||"",icon:i&&i.legacyIcon&&i.legacyIcon.url||"",id:n,isCrosspostDestination:r,isNsfw:s,name:o,primaryColor:i&&i.primaryColor||"",subscribers:a}},d=n("./src/reddit/helpers/name/index.ts"),u=n("./src/reddit/selectors/subredditAutocomplete.ts");n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return g}));const l="SUBREDDIT_AUTOCOMPLETE__PENDING",b="SUBREDDIT_AUTOCOMPLETE__LOADED",p="SUBREDDIT_AUTOCOMPLETE__FAILED",m=Object(r.a)(l),f=Object(r.a)(b),O=Object(r.a)(p),g=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return async(n,r,s)=>{let{gqlContext:o}=s;const c=Object(d.f)(e);if(!c)return;const l=r(),b=l.subredditAutocomplete;if(b.api.pending[c]||b.models[c])return;if(Object(u.b)(l,{substring:c}))return;n(m({key:c}));const p=await i(o(),{query:c,includeNsfw:t});if(p.ok){const e=p.body.data.subredditTypeahead.subreddits.edges.map(e=>a(e.node));n(f(Object.assign({key:c},{key:c,subreddits:e})))}else n(O({key:c,error:p.error}))}}},"./src/reddit/actions/subredditCreation.ts":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/omitHeaders/index.ts"),a=n("./src/reddit/constants/headers.ts"),d=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");const u=e=>({public_description:e.publicDescription,name:e.name,type:e.type,over_18:e.over18,restrict_commenting:e.restrictCommenting,restrict_posting:e.restrictPosting,existing_tags:e.existingTags.join(","),new_tags:e.newTags.join(",")});var l=n("./src/reddit/helpers/trackers/subredditCreation.ts"),b=n("./src/reddit/selectors/subreddit.ts"),p=n("./src/telemetry/index.ts");n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return E}));const m="SUBREDDIT__CREATE_PENDING",f="SUBREDDIT__CREATE_SUCCEEDED",O="SUBREDDIT__CREATE_FAILED",g="SUBREDDIT__CREATE_CLEARED",j=Object(s.a)(m),h=Object(s.a)(f),y=Object(s.a)(O),_=Object(s.a)(g),E=e=>async(t,n,s)=>{let{apiContext:m}=s;const f=n(),{name:O,type:g}=e;if(Object(b.l)(f))return;t(j({subredditName:O}));const _=await((e,t)=>Object(i.b)(Object(c.a)(e,[a.a]),{endpoint:Object(d.a)("".concat(e.apiUrl,"/api/v1/subreddit/create_subreddit")),method:o.bb.POST,data:u(t)}))(m(),e);if(_.ok){const n=_.body,s=n.fullname;Object(p.a)(Object(l.c)(g,e,s)(f)),t(h({subredditName:O})),window.location.href="".concat(r.a.redditUrl).concat(n.path,"new")}else _.error&&Object(p.a)(Object(l.d)(_.error.type)(f)),t(y({subredditName:O,error:_.error}))}},"./src/reddit/actions/subredditCrosspostable.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/subscription/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/omitHeaders/index.ts"),a=n("./src/reddit/constants/headers.ts"),d=n("./src/reddit/selectors/subreddit.ts");n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return f}));const u="SUBREDDIT_CROSSPOSTABLE__PENDING",l="SUBREDDIT_CROSSPOSTABLE__LOADED",b="SUBREDDIT_CROSSPOSTABLE__FAILED",p=(Object(r.a)(u),Object(r.a)(l)),m=Object(r.a)(b),f=()=>async(e,t,n)=>{let{apiContext:r}=n;await e(s.e());const{api:u,ids:l}=t().subreddits.crosspostable;if(u.pending||Object.keys(l).length)return;const b=await((e,t)=>Object(i.b)(Object(c.a)(e,[a.a]),{data:t,endpoint:"".concat(e.apiUrl,"/api/crosspostable_subreddits.json"),method:o.bb.GET}))(r(),{sr_detail:!1});if(b.ok){const n=t(),r=b.body&&b.body.length?b.body.map(e=>Object(d.G)(n,e)).filter(e=>!!e).reduce((e,t)=>(e[t]=!0,e),{}):{};e(p({subredditIds:r}))}else e(m({error:b.error}))}},"./src/reddit/actions/subredditDifficulty/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));const r="SUBREDDIT__DIFFICULTY_LOADED",s="SUBREDDIT__DIFFICULTY_FAILED"},"./src/reddit/actions/subredditDifficulty/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/subredditDifficulty/constants.ts"),o=n("./src/reddit/actions/toaster.ts"),i=n("./src/graphql/operations/SubredditDifficulty.json"),c=n("./src/lib/makeGqlRequest/index.ts");var a=n("./src/reddit/i18n/utils.ts"),d=n("./src/reddit/models/Toast/index.ts"),u=n("./src/reddit/selectors/subredditDifficulty.ts");n.d(t,"a",(function(){return p}));const l=Object(r.a)(s.b),b=Object(r.a)(s.a),p=e=>async(t,n,r)=>{let{gqlContext:s}=r;if(Object(u.a)(n(),{subredditId:e}))return;const p=await((e,t)=>Object(c.a)(e,Object.assign({},i,{variables:t})))(s(),{ids:[e]});if(p.ok){const n=p.body.data;n?t(l({subredditId:e,subreddits:n.subreddits})):(t(b(e)),t(o.e({id:"error-block-subredditDifficulty",kind:d.b.Error,text:Object(a.c)("Something went wrong")})))}else t(b(e)),t(o.e({id:"error-block-subredditDifficulty",kind:d.b.Error,text:Object(a.c)("Something went wrong")}))}},"./src/reddit/actions/subredditDuplicates.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/config.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/reddit/models/Post/index.ts");var a=n("./src/reddit/models/Duplicates/index.ts"),d=n("./src/reddit/models/Subreddit/index.ts"),u=n("./src/reddit/selectors/profile.ts"),l=n("./src/reddit/selectors/subreddit.ts");n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m}));const b="SUBREDDIT_DUPLICATES_IN_SUBREDDIT_LOADED",p=(Object(r.a)("SUBREDDIT_DUPLICATES_IN_SUBREDDIT_PENDING"),Object(r.a)(b)),m=(e,t)=>async(n,r,b)=>{let{apiContext:m}=b;const f=Object(l.S)(r(),{subredditId:e})||Object(u.p)(r(),{profileId:e});if(!f)return;const O={crossposts_only:!0,sort:"new",sr:Object(d.d)(f)?s.Qb+f.name:f.name},g=await((e,t,n)=>Object(i.b)(e,{data:n,endpoint:"".concat(o.a.gatewayUrl,"/desktopapi/v1/duplicates/").concat(Object(c.n)(t)),method:s.bb.GET}))(m(),t,O);if(g.ok){const r=g.body;n(p({distinguishKey:Object(a.a)(t,O),postIds:r.postIds,posts:r.posts,profiles:r.profiles,subreddits:r.subreddits,subredditId:e}))}}},"./src/reddit/actions/subredditMention/constants.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));const r="SUBREDDIT_MENTION_LOADED",s="SUBREDDIT__MODEL_SUCCEEDED",o="SUBREDDIT__MODEL_PENDING",i="SUBREDDIT__MODEL_FAILED"},"./src/reddit/actions/subredditModeration.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/fbt/lib/FbtPublic.js"),s=n("./node_modules/lodash/get.js"),o=n.n(s),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/app/strings/index.ts"),a=n("./src/reddit/actions/apiRequestState.ts"),d=n("./src/reddit/actions/modal.ts"),u=n("./src/reddit/actions/subreddit.ts"),l=n("./src/reddit/actions/toaster.ts"),b=n("./src/reddit/constants/modals.ts"),p=n("./src/lib/constants/index.ts"),m=n("./src/lib/makeApiRequest/index.ts"),f=n("./src/lib/omitHeaders/index.ts"),O=n("./src/reddit/constants/headers.ts");const g=(e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/contributors"),method:p.bb.GET,data:n});var j=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const h=(e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:Object(j.a)("".concat(e.apiUrl,"/api/v1/").concat(t,"/banned")),method:p.bb.GET,data:n}),y=(e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/moderators"),method:p.bb.GET,data:Object.assign({},n,{count:10})}),_=(e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/moderators_invited"),method:p.bb.GET,data:Object.assign({},n,{count:50})}),E=(e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/muted"),method:p.bb.GET,data:n});var I=n("./src/reddit/helpers/normalizeUsername/index.tsx"),v=n("./src/reddit/i18n/utils.ts"),S=n("./src/reddit/models/ModeratingSubreddits/index.ts"),T=n("./src/reddit/models/SubredditModeration/index.ts"),C=n("./src/reddit/models/Toast/index.ts"),w=n("./src/reddit/models/User/index.ts"),D=n("./src/reddit/selectors/activeModalId.ts"),x=n("./src/reddit/selectors/subreddit.ts"),P=n("./src/reddit/selectors/subredditModeration.ts"),A=n("./src/reddit/selectors/user.ts");n.d(t,"J",(function(){return R})),n.d(t,"H",(function(){return k})),n.d(t,"G",(function(){return N})),n.d(t,"ib",(function(){return F})),n.d(t,"M",(function(){return B})),n.d(t,"L",(function(){return G})),n.d(t,"K",(function(){return q})),n.d(t,"jb",(function(){return W})),n.d(t,"I",(function(){return J})),n.d(t,"N",(function(){return Y})),n.d(t,"ob",(function(){return X})),n.d(t,"hb",(function(){return $})),n.d(t,"e",(function(){return Z})),n.d(t,"d",(function(){return ee})),n.d(t,"c",(function(){return te})),n.d(t,"V",(function(){return oe})),n.d(t,"h",(function(){return ie})),n.d(t,"g",(function(){return ce})),n.d(t,"f",(function(){return ae})),n.d(t,"W",(function(){return be})),n.d(t,"b",(function(){return pe})),n.d(t,"i",(function(){return me})),n.d(t,"U",(function(){return ge})),n.d(t,"mb",(function(){return je})),n.d(t,"m",(function(){return he})),n.d(t,"l",(function(){return ye})),n.d(t,"k",(function(){return _e})),n.d(t,"Z",(function(){return Se})),n.d(t,"p",(function(){return Te})),n.d(t,"o",(function(){return Ce})),n.d(t,"n",(function(){return we})),n.d(t,"ab",(function(){return Ae})),n.d(t,"j",(function(){return Re})),n.d(t,"q",(function(){return ke})),n.d(t,"Y",(function(){return Me})),n.d(t,"nb",(function(){return Ue})),n.d(t,"C",(function(){return Fe})),n.d(t,"B",(function(){return Be})),n.d(t,"A",(function(){return Ge})),n.d(t,"t",(function(){return Ke})),n.d(t,"s",(function(){return We})),n.d(t,"r",(function(){return Je})),n.d(t,"fb",(function(){return Xe})),n.d(t,"db",(function(){return $e})),n.d(t,"x",(function(){return Ze})),n.d(t,"w",(function(){return et})),n.d(t,"v",(function(){return tt})),n.d(t,"eb",(function(){return ot})),n.d(t,"a",(function(){return it})),n.d(t,"T",(function(){return ut})),n.d(t,"Q",(function(){return lt})),n.d(t,"R",(function(){return ft})),n.d(t,"lb",(function(){return gt})),n.d(t,"u",(function(){return jt})),n.d(t,"cb",(function(){return Et})),n.d(t,"F",(function(){return It})),n.d(t,"E",(function(){return vt})),n.d(t,"D",(function(){return St})),n.d(t,"gb",(function(){return Dt})),n.d(t,"y",(function(){return xt})),n.d(t,"O",(function(){return At})),n.d(t,"S",(function(){return kt})),n.d(t,"z",(function(){return Nt})),n.d(t,"bb",(function(){return Mt})),n.d(t,"P",(function(){return Ut})),n.d(t,"kb",(function(){return qt})),n.d(t,"X",(function(){return Vt}));const R="SUBREDDIT__MUTEDUSERS_PENDING",k="SUBREDDIT__MUTEDUSERS_LOADED",N="SUBREDDIT__MUTEDUSERS_FAILED",L=Object(i.a)(R),M=Object(i.a)(k),U=Object(i.a)(N),F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=t.after||"",a=Object(T.d)(e,c),d=i.muted.fetchedTokens[a];if(i.muted.api.pending[a]||d)return;n(L({subredditId:e,fetchedToken:c}));const u=i.subreddits.models[e].name,l=await E(o(),u,t);l.ok?n(M(Object.assign({},l.body,{fetchedToken:c}))):n(U({subredditId:e,fetchedToken:c}))}},B="SUBREDDIT_MUTEDUSERS_SEARCH_PENDING",G="SUBREDDIT_MUTEDUSERS_SEARCH_LOADED",q="SUBREDDIT_MUTEDUSERS_SEARCH_FAILED",V=Object(i.a)(B),H=Object(i.a)(G),K=Object(i.a)(q),W=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r().subreddits.models[e].name,c={username:Object(I.a)(t)};n(V());const a=await E(o(),i,c);a.ok?n(H(a.body)):n(K(a.error))},J="SUBREDDIT_MUTEDUSERS_MUTED_SUCCESS",Y="SUBREDDIT_MUTEDUSERS_UNMUTED_SUCCESS",z=Object(i.a)(J),Q=Object(i.a)(Y),X=(e,t)=>async(n,r,s)=>{let{apiContext:i}=s;const a=r(),d=a.subreddits.models[e].url,u=await((e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/unfriend"),method:p.bb.POST,data:{api_type:"json",id:n,type:"muted"}}))(i(),d,t);if(u.ok)n(Q({subredditId:e,userId:t}));else{const e=o()(u,"body.json.errors[0][1]",Object(c.a)(a.user.language,"error.type.generic"));n(Object(l.e)({kind:C.b.Error,text:e,duration:3e3}))}},$=(e,t,n)=>async(r,s,i)=>{let{apiContext:a}=i;const d=s(),u=d.subreddits.models[e].url,b=d.subreddits.models[e].name;t=Object(I.a)(t);const g=await((e,t,n,r)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/friend"),method:p.bb.POST,data:{api_type:"json",name:n,note:r,type:"muted"}}))(a(),u,t,n);if(g.ok){const e={username:t};r(Object(l.e)({kind:C.b.SuccessMod,text:Object(v.c)("Successfully muted a user")}));const n=await E(a(),b,e);n.ok&&r(z(n.body))}else{const e=o()(g,"body.json.errors[0][1]",Object(c.a)(d.user.language,"error.type.generic"));r(Object(l.e)({kind:C.b.Error,text:e,duration:3e3}))}},Z="SUBREDDIT__APPROVEDSUBMITTERS_PENDING",ee="SUBREDDIT__APPROVEDSUBMITTERS_LOADED",te="SUBREDDIT__APPROVEDSUBMITTERS_FAILED",ne=Object(i.a)(Z),re=Object(i.a)(ee),se=Object(i.a)(te),oe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=t.after||"",a=Object(T.d)(e,c),d=i.approvedSubmitters.fetchedTokens[a];if(i.approvedSubmitters.api.pending[a]||d)return;n(ne({subredditId:e,fetchedToken:c}));const u=i.subreddits.models[e].name,l=await g(o(),u,t);l.ok?n(re(Object.assign({},l.body,{fetchedToken:c}))):n(se({subredditId:e,fetchedToken:c}))}},ie="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_PENDING",ce="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_LOADED",ae="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_FAILED",de=Object(i.a)(ie),ue=Object(i.a)(ce),le=Object(i.a)(ae),be=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r().subreddits.models[e].name,c={username:Object(I.a)(t)};n(de());const a=await g(o(),i,c);a.ok?n(ue(a.body)):n(le(a.error))},pe="SUBREDDIT_APPROVEDSUBMITTERS_APPROVED_SUCCESS",me="SUBREDDIT_APPROVEDSUBMITTERS_UNAPPROVED_SUCCESS",fe=Object(i.a)(pe),Oe=Object(i.a)(me),ge=(e,t)=>async(n,r,s)=>{let{apiContext:i}=s;const a=r(),d=a.subreddits.models[e].url,u=a.subreddits.models[e].name;t=Object(I.a)(t);const b=await((e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/friend"),method:p.bb.POST,data:{api_type:"json",name:n,type:"contributor"}}))(i(),d,t);if(b.ok){const e={username:t};n(Object(l.e)({kind:C.b.SuccessMod,text:Object(v.c)("Successfully added an approved submitter")}));const r=await g(i(),u,e);r.ok&&n(fe(r.body))}else{const e=o()(b,"body.json.errors[0][1]",Object(c.a)(a.user.language,"error.type.generic"));n(Object(l.e)({kind:C.b.Error,text:e,duration:3e3}))}},je=(e,t)=>async(n,r,s)=>{let{apiContext:i}=s;const a=r(),d=a.subreddits.models[e].url,u=await((e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/unfriend"),method:p.bb.POST,data:{api_type:"json",id:n,type:"contributor"}}))(i(),d,t);if(u.ok)n(Oe({subredditId:e,userId:t}));else{const e=o()(u,"body.json.errors[0][1]",Object(c.a)(a.user.language,"error.type.generic"));n(Object(l.e)({kind:C.b.Error,text:e,duration:3e3}))}},he="SUBREDDIT__BANNEDUSERS_PENDING",ye="SUBREDDIT__BANNEDUSERS_LOADED",_e="SUBREDDIT__BANNEDUSERS_FAILED",Ee=Object(i.a)(he),Ie=Object(i.a)(ye),ve=Object(i.a)(_e),Se=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=t.after||"",a=Object(T.d)(e,c),d=i.banned.fetchedTokens[a];if(i.banned.api.pending[a]||d)return;n(Ee({subredditId:e,fetchedToken:c}));const u=i.subreddits.models[e].name,l=await h(o(),u,t);l.ok?n(Ie(Object.assign({},l.body,{fetchedToken:c}))):n(ve({subredditId:e,fetchedToken:c}))}},Te="SUBREDDIT_BANNEDUSERS_SEARCH_PENDING",Ce="SUBREDDIT_BANNEDUSERS_SEARCH_LOADED",we="SUBREDDIT_BANNEDUSERS_SEARCH_FAILED",De=Object(i.a)(Te),xe=Object(i.a)(Ce),Pe=Object(i.a)(we),Ae=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r().subreddits.models[e].name,c={username:Object(I.a)(t)};n(De());const a=await h(o(),i,c);a.ok?n(xe(a.body)):n(Pe(a.error))},Re="SUBREDDIT_BANNEDUSERS_BAN_SUCCESS",ke="SUBREDDIT_BANNEDUSERS_UNBAN_SUCCESS",Ne=Object(i.a)(Re),Le=Object(i.a)(ke),Me=(e,t,n)=>async(r,s,i)=>{let{apiContext:d}=i;const u=s(),b=u.subreddits.models[e].url,g=u.subreddits.models[e].name;t.username=Object(I.a)(t.username),r(Object(a.h)(n));const j=await((e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/friend"),method:p.bb.POST,data:{api_type:"json",ban_reason:n.reason,ban_message:n.banMessage,duration:n.duration,name:n.username,note:n.modNote,ban_context:n.contextId,type:"banned"}}))(d(),b,t);if(j.ok){r(Object(a.e)(n));const e={username:t.username};r(Object(l.e)({kind:C.b.SuccessMod,text:Object(v.c)("Successfully banned a user")}));const s=await h(d(),g,e);s.ok&&r(Ne(s.body))}else{r(Object(a.f)(n,j.error));const e=o()(j,"body.json.errors[0][1]",Object(c.a)(u.user.language,"error.type.generic"));r(Object(l.e)({kind:C.b.Error,text:e,duration:3e3}))}},Ue=(e,t)=>async(n,s,i)=>{let{apiContext:a}=i;const d=s(),u=d.subreddits.models[e].url,b=await((e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/unfriend"),method:p.bb.POST,data:{api_type:"json",id:n,type:"banned"}}))(a(),u,t);if(b.ok)n(Le({subredditId:e,userId:t})),n(Object(l.e)({kind:C.b.SuccessMod,text:r.fbt._("Successfully unbanned a user",null,{hk:"OgqK6"})}));else{const e=o()(b,"body.json.errors[0][1]",Object(c.a)(d.user.language,"error.type.generic"));n(Object(l.e)({kind:C.b.Error,text:e,duration:3e3}))}},Fe="SUBREDDIT__MODERATORS_PENDING",Be="SUBREDDIT__MODERATORS_LOADED",Ge="SUBREDDIT__MODERATORS_FAILED",qe=Object(i.a)(Fe),Ve=Object(i.a)(Be),He=Object(i.a)(Ge),Ke="SUBREDDIT__EDITABLEMODERATORS_PENDING",We="SUBREDDIT__EDITABLEMODERATORS_LOADED",Je="SUBREDDIT__EDITABLEMODERATORS_FAILED",Ye=Object(i.a)(Ke),ze=Object(i.a)(We),Qe=Object(i.a)(Je),Xe=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(x.S)(i,{subredditId:e}).name,a=t&&t.after?t.after:"",d=t&&t.before?t.before:"",u=Object(T.d)(e,a,d),l=i.moderators.userOrder.data[u],b=i.moderators.userOrder.api.error[u];if(i.moderators.userOrder.api.pending[u]||l&&!b)return;n(qe({subredditId:e,key:u}));const p=await y(o(),c,t);if(p.ok){const t={key:u,response:p.body,subredditId:e};n(Ve(t))}else{const t={error:p.error,subredditId:e,key:u};n(He(t))}},$e=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(x.S)(i,{subredditId:e}).name,a=t&&t.afterEditable?t.afterEditable:"",d=t&&t.beforeEditable?t.beforeEditable:"",u=Object(T.d)(e,a,d),l=i.moderators.editableUserOrder.data[u],b=i.moderators.editableUserOrder.api.error[u];if(i.moderators.editableUserOrder.api.pending[u]||l&&!b)return;n(Ye({subredditId:e,key:u}));const g=Object.assign({},t,{after:a,before:d}),j=await((e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/moderators_editable"),method:p.bb.GET,data:Object.assign({},n,{count:10})}))(o(),c,g);if(j.ok){const t={key:u,response:j.body,subredditId:e};n(ze(t))}else{const t={key:u,error:j.error,subredditId:e};n(Qe(t))}},Ze="SUBREDDIT__INVITEDMODERATORS_PENDING",et="SUBREDDIT__INVITEDMODERATORS_LOADED",tt="SUBREDDIT__INVITEDMODERATORS_FAILED",nt=Object(i.a)(Ze),rt=Object(i.a)(et),st=Object(i.a)(tt),ot=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=Object(x.S)(o,{subredditId:e}).name;if(o.moderators.invitedModerators.api.pending)return;t(nt());const c=await _(s(),i);if(c.ok){const e=c.body;t(rt(e))}else t(st(c.error))},it="SUBREDDIT__ADDMODERATOR__SUCCESS",ct=Object(i.a)("SUBREDDIT__ADDMODERATOR_PENDING"),at=Object(i.a)(it),dt=Object(i.a)("SUBREDDIT__ADDMODERATOR__FAILED"),ut=(e,t,n)=>async(r,s,o)=>{let{apiContext:i}=o;const c=s(),a=Object(x.S)(c,{subredditId:e}),d=a.name,u=a.url;t=Object(I.a)(t),r(ct());const b=Object(S.d)(n),g=await((e,t,n,r)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/friend"),method:p.bb.POST,data:{name:n,type:"moderator_invite",permissions:r,api_type:"json"}}))(i(),u,t,b);if(g.ok){const n=await _(i(),d,{username:t});if(g.ok){const t=n.body,s=t.moderatorIds[0];c.moderators.invitedModerators.models[e][s]?r(Object(l.e)({kind:C.b.SuccessCommunity,text:Object(v.c)("That user is already invited")})):(r(Object(l.e)({kind:C.b.SuccessMod,text:Object(v.c)("Successfully added a moderator")})),r(at(t)))}}else{const e=g.body.json&&g.body.json.errors;e&&e[0]&&e[0][1]&&r(Object(l.e)({kind:C.b.Error,text:e[0][1],duration:3e3})),r(dt())}},lt="SUBREDDIT__REMOVEMODERATOR__SUCCESS",bt=Object(i.a)("SUBREDDIT__REMOVEMODERATOR_PENDING"),pt=Object(i.a)(lt),mt=Object(i.a)("SUBREDDIT__REMOVEMODERATOR__FAILED"),ft="SUBREDDIT__RESIGNMODERATOR__SUCCESS",Ot=Object(i.a)(ft),gt=(e,t,n,r)=>async(s,o,i)=>{let{apiContext:c}=i;const a=o(),d=a.subreddits.models[e].name,u=Object(T.d)(e,n,r);if(s(bt()),(await((e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl,"/api/unfriend"),method:p.bb.POST,data:{id:n,type:"moderator",r:t,api_type:"json"}}))(c(),d,t)).ok){s(pt({subredditId:e,userId:t,key:u}));const n=Object(A.i)(a);n&&n.id===t&&s(Ot({subredditId:e,userId:t}))}else s(mt())},jt="SUBREDDIT__EDITMODERATOR__SUCCESS",ht=Object(i.a)("SUBREDDIT__EDITMODERATOR_PENDING"),yt=Object(i.a)(jt),_t=Object(i.a)("SUBREDDIT__EDITMODERATOR__FAILED"),Et=(e,t,n,r)=>async(s,o,i)=>{let{apiContext:c}=i;const a=o().subreddits.models[e].url;s(ht());const d=Object(S.d)(n);if((await((e,t,n,r)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/setpermissions"),method:p.bb.POST,data:{name:n,type:"moderator",permissions:r,api_type:"json"}}))(c(),a,t,d)).ok){s(yt({permissions:n,subredditId:e,userId:r}))}else s(_t())},It="SUBREDDIT_MODERATORS_SEARCH_PENDING",vt="SUBREDDIT_MODERATORS_SEARCH_LOADED",St="SUBREDDIT_MODERATORS_SEARCH_FAILED",Tt=Object(i.a)(It),Ct=Object(i.a)(vt),wt=Object(i.a)(St),Dt=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r().subreddits.models[e].name,c={username:Object(I.a)(t)};n(Tt());const a=await y(o(),i,c);a.ok?n(Ct(a.body)):n(wt(a.error))},xt="SUBREDDIT_MODERATORS_ACCEPT_INVITE_SUCCESS",Pt=Object(i.a)(xt),At="SUBREDDIT_NEWMODERATORPERMISSIONS_LOADED",Rt=Object(i.a)(At),kt=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.user.account;if(!i)return;const c=o.subreddits.models[e],a=c.url,d=c.name;if((await((e,t)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/accept_moderator_invite"),method:p.bb.POST,data:{api_type:"json"}}))(s(),a)).ok){t(Pt({subredditId:e})),t($e(e)),t(ot(e)),t(Xe(e));const n={username:Object(w.f)(i)},r=await y(s(),d,n);if(r.ok){const n=r.body.moderators[i.id];n&&t(Rt({[e]:n.modPermissions}))}}},Nt="SUBREDDIT_MODERATORS_DECLINE_INVITE_SUCCESS",Lt=Object(i.a)(Nt),Mt=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().subreddits.models[e].name;(await((e,t)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/decline_mod_invite"),method:p.bb.POST,data:{api_type:"json"}}))(s(),o)).ok&&t(Lt({subredditId:e}))},Ut="SUBREDDIT__REMOVEINVITEDMODERATOR__SUCCESS",Ft=Object(i.a)("SUBREDDIT__REMOVEINVITEDMODERATOR_PENDING"),Bt=Object(i.a)(Ut),Gt=Object(i.a)("SUBREDDIT__REMOVEINVITEDMODERATOR__FAILED"),qt=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(x.S)(i,{subredditId:e}).name;n(Ft()),(await((e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl,"/api/unfriend"),method:p.bb.POST,data:{id:n,type:"moderator_invite",r:t,api_type:"json"}}))(o(),c,t)).ok?n(Bt({subredditId:e,userId:t})):n(Gt())},Vt=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r();await Promise.all([(async()=>{if(!Object(D.b)(b.a.BAN_USER)(i)&&!Object(x.P)(i,{subredditId:e})){const t=Object(x.S)(i,{subredditId:e});await n(Object(u.o)(t.name))}})(),(async()=>{const r=Object(A.hb)(i,{userName:t});if(!r)return;const s=Object(P.m)(i,{subredditId:e});s&&s[r.id]||await n(Se(e,{username:t}))})()]),n(Object(d.i)(b.a.BAN_USER))}},"./src/reddit/actions/subredditRules/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"d",(function(){return d}));const r="SUBREDDIT__RULES_LOADED",s="SUBREDDIT__RULES_PENDING",o="SUBREDDIT__RULES_FAILED",i="SUBREDDIT__RULE_ADDED",c="SUBREDDIT__RULE_EDITED",a="SUBREDDIT__RULE_REMOVED",d="SUBREDDIT__RULES_REORDERED"},"./src/reddit/actions/subredditSettings.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return S})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return C})),n.d(t,"b",(function(){return w})),n.d(t,"g",(function(){return A}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/invert.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./node_modules/lodash/xor.js"),a=n.n(c),d=n("./src/app/strings/index.ts"),u=n("./src/lib/constants/index.ts"),l=n("./src/lib/makeActionCreator/index.ts"),b=n("./src/reddit/endpoints/subreddit/settings.ts"),p=n("./src/reddit/i18n/utils.ts"),m=n("./src/telemetry/index.ts"),f=n("./src/reddit/actions/toaster.ts"),O=n("./src/reddit/helpers/trackers/inlineSubredditEditing.ts"),g=n("./src/reddit/models/Toast/index.ts"),j=n("./src/reddit/models/User/index.ts"),h=n("./src/reddit/selectors/subreddit.ts"),y=n("./src/reddit/selectors/user.ts"),_=n("./src/reddit/selectors/widgets.ts");const E="SUBREDDIT_SETTINGS_LOADED",I=Object(l.a)(E),v=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;if(!t||!Object(h.U)(r(),t)){const t=await Object(b.c)(o(),e);t&&t.ok&&n(I(t.body))}},S=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=Object(y.i)(t());s&&await e(v(u.Qb+Object(j.f)(s)))},T="SUBREDDIT_SETTINGS_UPDATE_REQUESTED",C="SUBREDDIT_SETTINGS_UPDATE_SUCCESS",w="SUBREDDIT_SETTINGS_UPDATE_FAILURE",D=Object(l.a)(T),x=Object(l.a)(C),P=Object(l.a)(w),A=function e(t,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return async(o,c,u)=>{let{apiContext:l}=u;o(D());const j=c(),E=i()(Object(h.U)(j,t),...Object.keys(n)),I=await Object(b.f)(l(),t,n),v=Object(y.S)(j);if(I.ok){const i=Object(b.d)(I.body,s()(b.a));o(x({settings:Object.assign({},i,{subredditId:t}),idCardWidgetId:Object(_.c)(j,{subredditId:t})}));const c={};r&&0===a()(Object.keys(n),Object.keys(E)).length&&(c.buttonText=Object(p.c)("Undo"),c.buttonAction=e(t,E,r)),o(Object(f.e)(Object.assign({kind:g.b.SuccessCommunity,text:Object(d.a)(v,"subredditCreation.updateCommunitySuccess")},c)))}else o(P()),o(Object(f.e)({kind:g.b.Error,text:Object(d.a)(v,"error.tryAgainLater"),buttonText:Object(p.c)("Retry"),buttonAction:e(t,n)})),r&&Object(m.a)(Object(O.c)(j,"BE returned an error:"))}}},"./src/reddit/actions/subredditTopContent.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/preferences.ts"),o=n("./src/graphql/operations/SubredditTopContent.json"),i=n("./src/lib/makeGqlRequest/index.ts"),c=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts");n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return m}));const a="SUBREDDIT_TOP_CONTENT__PENDING",d="SUBREDDIT_TOP_CONTENT__LOADED",u="SUBREDDIT_TOP_CONTENT__FAILED",l=Object(r.a)(a),b=Object(r.a)(d),p=Object(r.a)(u),m=e=>async(t,n,r)=>{const a=e.toLowerCase(),d=n(),{api:u,topContent:m}=d.subreddits;if(u.topContent.pending[a]||m[a])return;t(l({subredditName:a})),t(Object(s.x)());const f=await((e,t)=>Object(i.a)(e,Object.assign({},o,{variables:t})))(r.gqlContext(),{subredditName:a});if(f.ok){const e=f.body.data.subreddit;if(e){const n=Object(c.c)(e);n&&t(b(Object.assign({subredditName:a},n)))}}else t(p({subredditName:a,error:f.error}))}},"./src/reddit/actions/subscription/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l}));const r="SUBSCRIPTION__FETCH_DATA_PENDING",s="SUBSCRIPTION__FETCH_DATA_SUCCESS",o="SUBSCRIPTION__FETCH_DATA_FAILURE",i="SUBSCRIPTION__SUBSCRIPTION_TOGGLED",c="SUBSCRIPTION__SUBSCIPTION_TOGGLE_FAILED",a="SUBSCRIPTION__ORDER_LOADED",d="SUBSCRIPTION__SUBREDDIT_FAVORITE_TOGGLED",u="SUBSCRIPTION__MULTI_FAVORITE_TOGGLED",l="SUBSCRIPTION__MULTI_FOLLOW_TOGGLED"},"./src/reddit/actions/subscription/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/app/strings/index.ts"),i=n("./src/lib/linkMatchers/customLinks.ts"),c=n("./src/reddit/actions/login.ts"),a=n("./src/reddit/actions/modal.ts"),d=n("./src/reddit/actions/monthsToMinutes/homeFeed.ts"),u=n("./src/reddit/actions/monthsToMinutes/reset.ts"),l=n("./src/reddit/actions/subscription/constants.ts"),b=n("./src/reddit/actions/toaster.ts"),p=n("./src/reddit/constants/posts.ts"),m=n("./src/lib/makeApiRequest/index.ts"),f=n("./src/lib/omitHeaders/index.ts"),O=n("./src/reddit/constants/headers.ts");var g=n("./src/config.ts"),j=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");var h=n("./src/reddit/helpers/monthsToMinutes/index.ts"),y=n("./src/reddit/i18n/utils.ts"),_=n("./src/reddit/models/MonthsToMinutes/index.ts"),E=n("./src/reddit/models/Toast/index.ts"),I=n("./src/reddit/selectors/monthsToMinutes.ts"),v=n("./src/reddit/selectors/profile.ts"),S=n("./src/reddit/selectors/subreddit.ts"),T=n("./src/reddit/selectors/subscriptions.ts"),C=n("./node_modules/reselect/es/index.js");const w=Object(C.a)(e=>e.toaster,(e,t)=>t,(e,t)=>e.find(e=>e.customToastType===t));var D=n("./src/reddit/selectors/user.ts");n.d(t,"e",(function(){return N})),n.d(t,"d",(function(){return L})),n.d(t,"c",(function(){return U})),n.d(t,"a",(function(){return B})),n.d(t,"b",(function(){return q}));const x=Object(y.c)("Sorry, failed to update favorites."),P=Object(s.a)(l.c),A=Object(s.a)(l.b),R=Object(s.a)(l.a),k=Object(s.a)(l.h),N=(Object(s.a)(l.i),Object(s.a)(l.g),()=>async(e,t,n)=>{let{apiContext:s}=n;const o=t();if(!o.user.account||o.subscriptions.api.fetched)return;e(A());const i=await(e=>Object(m.b)(e,{endpoint:"".concat(g.a.gatewayUrl,"/desktopapi/v1/subscriptions"),method:r.bb.GET}))(s());i.ok?e(P(i.body)):e(R({error:i.error}))}),L=(e,t,n)=>async(s,l,g)=>{let{apiContext:C}=g;const x=Object(D.S)(l()),P=e.map(e=>e.type===p.a.SUBREDDIT?{id:Object(S.G)(l(),e.name),name:e.name,type:e.type}:{id:Object(v.m)(l(),e.name),name:"".concat(r.Qb).concat(e.name),type:e.type}),A=Object(I.w)(l())&&Object(I.n)(l());if(Object(D.J)(l()))if(s(k({identifiers:P,nameIdentifiers:e,profileModels:l().profiles.models,shouldUpdateLoggedOutHomeFeed:A,subredditModels:l().subreddits.models,subscriptionsCount:Object(T.c)(l()),userIsSubscriber:t,widgetId:n})),(await((e,t)=>{let{subredditIds:n,subredditNames:s,subscribe:o}=t;return Object(m.b)(Object(f.a)(e,[O.a]),{method:r.bb.POST,endpoint:Object(j.a)("".concat(e.apiUrl,"/api/subscribe")),data:{action:o?"sub":"unsub",sr:n&&n.join(",")||void 0,sr_name:s&&s.join(",")||void 0,api_type:"json"}})})(C(),{subredditNames:P.map(e=>{let{name:t}=e;return t}),subscribe:t})).ok){if(t){const n=1===e.length?"".concat("subreddit"===e[0].type?i.d.subreddit:i.d.profile).concat(e[0].name):"".concat(e.length," ").concat(Object(y.a)("communities",["community","communities"],e.length));s(Object(b.e)({text:1===e.length&&"profile"===e[0].type?Object(y.c)("Sucсessfully ".concat(t?"followed":"unfollowed"," ").concat(Object(y.b)("communityname",n))):Object(y.c)("Sucсessfully ".concat(t?"joined":"left"," ").concat(Object(y.b)("communityname",n)))}))}}else s(k({identifiers:P,nameIdentifiers:e,profileModels:l().profiles.models,shouldUpdateLoggedOutHomeFeed:A,subredditModels:l().subreddits.models,subscriptionsCount:Object(T.c)(l()),userIsSubscriber:!t,widgetId:n})),s(Object(b.e)(Object(b.d)(Object(o.a)(x,"profile.somethingWentWrongTryAgain"),E.b.Error)));else if(Object(I.w)(l())&&!e.some(e=>e.type===p.a.PROFILE)){let r=Object(T.c)(l());if(t&&r>=_.b)return void(w(l(),E.a.subscribeCap)||s(Object(b.e)({text:"",duration:-1,kind:E.b.Custom,customToastType:E.a.subscribeCap})));s(k({identifiers:P,nameIdentifiers:e,profileModels:l().profiles.models,shouldUpdateLoggedOutHomeFeed:A,subredditModels:l().subreddits.models,subscriptionsCount:Object(T.c)(l()),userIsSubscriber:t,widgetId:n}));const o=l();0===(r=Object(T.c)(o))?s(Object(u.b)()):Object(I.p)(o)?await s(Object(d.g)()):Object(I.n)(o)&&Object(h.d)(o)}else s(Object(a.k)({actionSource:a.a.Subscribe})),s(Object(c.f)())},M=Object(s.a)(l.f),U=e=>async(t,n,s)=>{let{apiContext:o}=s;const i=n(),c=Object(S.M)(i,{identifier:e});if(!c)throw new Error("actions.subscription -- No subreddit or profile found with id ".concat(e.id));const a=e.type===p.a.SUBREDDIT?c.name:"u_".concat(c.name),d=i.subscriptions.favoriteSubredditOrder||[],u=i.subscriptions.favoriteProfileOrder||[],l=d.indexOf(e.id),g=u.indexOf(e.id),j=-1===l&&-1===g,h=i.subreddits.models,y=i.profiles.models;t(M({makeFavorite:j,identifier:e,subredditModels:h,profileModels:y}));const _={type:e.type,name:c.name},I=()=>Object(S.cb)(n(),{identifier:_});(I()||(await t(L([_],!0)),I()))&&((await((e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{method:r.bb.POST,endpoint:"".concat(e.apiUrl,"/api/favorite"),data:{make_favorite:n?"true":"false",sr_name:t,api_type:"json"}}))(o(),a,j)).ok||(t(M({makeFavorite:!j,identifier:e,subredditModels:h,profileModels:y})),t(Object(b.e)({text:x,kind:E.b.Error}))))},F=Object(s.a)(l.d),B=e=>async(t,n,s)=>{let{apiContext:o}=s;const i=n().multireddits.models,c=()=>{t(Object(b.e)({text:x,kind:E.b.Error}))},a=i[e];if(!a)return void c();const d=!a.isFavorited;t(F({makeFavorite:d,multiredditPath:e,multiredditsModelsState:i})),(await((e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{method:r.bb.POST,endpoint:"".concat(e.apiUrl,"/api/multi/favorite"),data:{make_favorite:n?"true":"false",multipath:t,api_type:"json"}}))(o(),e,d)).ok||(t(F({makeFavorite:!d,multiredditPath:e,multiredditsModelsState:i})),c())},G=Object(s.a)(l.e),q=e=>async(t,n,s)=>{let{apiContext:o}=s;const i=n(),c=i.multireddits.models;if(!Object(D.J)(i))return;const a=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t(Object(b.e)({text:Object(y.c)("Sorry, failed to ".concat(Object(y.b)("followAction",e?Object(y.c)("follow"):Object(y.c)("unfollow")))),kind:E.b.Error}))},d=c[e];if(!d)return void a();const u=!d.isFollowed;t(G({follow:u,multiredditPath:e,multiredditsModelsState:c})),(await((e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{method:r.bb.POST,endpoint:"".concat(e.apiUrl,"/api/multi/subscribe"),data:{action:n?"sub":"unsub",path:t,api_type:"json"},type:"json"}))(o(),e,u)).ok||(t(G({follow:!u,multiredditPath:e,multiredditsModelsState:c})),a(u))}},"./src/reddit/actions/tags/constants.ts":function(e,t,n){"use strict";n.d(t,"o",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"m",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"n",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"q",(function(){return m})),n.d(t,"r",(function(){return f})),n.d(t,"p",(function(){return O})),n.d(t,"v",(function(){return g})),n.d(t,"u",(function(){return j})),n.d(t,"y",(function(){return h})),n.d(t,"t",(function(){return y})),n.d(t,"x",(function(){return _})),n.d(t,"s",(function(){return E})),n.d(t,"w",(function(){return I})),n.d(t,"d",(function(){return v})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return T})),n.d(t,"b",(function(){return C}));const r="TAGS__REQUESTED",s="TAGS__AVAILABLE_LOADED",o="TAGS__LOADED",i="TAGS__FAILURE",c="TAGS__RELEVANCE_LOADED",a="TAGS__CREATE_REQUESTED",d="TAGS__CREATE_SUCCESS",u="TAGS__CREATE_FAILURE",l="TAGS__DELETE_REQUESTED",b="TAGS__DELETE_SUCCESS",p="TAGS__DELETE_FAILURE",m="TAGS__UPDATE_STATE_REQUESTED",f="TAGS__UPDATE_STATE_SUCCESS",O="TAGS__UPDATE_STATE_FAILURE",g="TAGS__OPTIONS_CANCELLED",j="TAGS__OPTION_SELECTED",h="TAGS__SUGGESTED_OPTION_SELECTED",y="TAGS__OPTION_DESELECTED",_="TAGS__SUGGESTED_OPTION_DESELECTED",E="TAGS__INPUT_CHANGED",I="TAGS__SUGGESTED_INPUT_CHANGED",v="GLOBAL__TAGS__LOADED",S="CREATION__TAGS_INPUT_CHANGED",T="CREATION__TAGS_OPTION_SELECTED",C="CREATION__TAGS_OPTION_DESELECTED"},"./src/reddit/actions/tags/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/tags/constants.ts"),i=n("./src/reddit/actions/toaster.ts");const c=e=>{const{subreddit:t}=e,n={global:{},[t.id]:{}};t.availableTags&&t.availableTags.edges.reduce((e,t)=>{let{node:n}=t;return e[n.subreddit&&n.subreddit.id||"global"][n.id]=n,e},n);const r={[t.id]:{}};t.tags&&t.tags.edges.reduce((e,n)=>{let{node:r}=n;return e[t.id][r.tag.id]=r,e},r);const s={[t.id]:{}};return t.suggestedTags&&t.suggestedTags.edges.reduce((e,n)=>{let{node:r}=n;return e[t.id][r.tag.id]=r,e},s),{globalSubredditTags:n.global,subredditScopedTags:{[t.id]:n[t.id]},subredditId:t.id,itemTags:r,suggestedItemTags:s}};var a=n("./src/graphql/operations/CreateSubredditTags.json"),d=n("./src/lib/makeGqlRequest/index.ts");var u=n("./src/graphql/operations/DeleteTags.json");var l=n("./src/graphql/operations/FetchGlobalTags.json"),b=n("./src/graphql/operations/FetchSubredditTags.json");const p=1050,m=(e,t)=>{let{subredditId:n,pageSize:r=p,after:s,includeAvailableTags:o}=t;return Object(d.a)(e,Object.assign({},b,{variables:{subredditId:n,pageSize:r,after:s,includeAvailableTags:o}}))};var f,O=n("./src/graphql/operations/UpdateSubredditTagStates.json");!function(e){e.TAGGED="TAGGED",e.NONE="NONE"}(f||(f={}));const g=(e,t)=>Object(d.a)(e,Object.assign({},O,{variables:t}));var j=n("./src/graphql/operations/UpdateSubredditTagStatesRelevance.json");const h=(e,t)=>Object(d.a)(e,Object.assign({},j,{variables:t}));var y=n("./src/reddit/featureFlags/communityTopics.ts"),_=n("./src/reddit/helpers/tags/index.ts"),E=n("./src/reddit/helpers/trackers/communityTopics.ts"),I=n("./src/reddit/i18n/utils.ts"),v=n("./src/reddit/models/Tags/index.ts"),S=n("./src/reddit/models/Toast/index.ts"),T=n("./src/reddit/reducers/tags/selected/index.ts"),C=n("./src/reddit/selectors/tags.ts"),w=n("./src/reddit/selectors/user.ts");n.d(t,"l",(function(){return H})),n.d(t,"o",(function(){return K})),n.d(t,"k",(function(){return W})),n.d(t,"n",(function(){return J})),n.d(t,"j",(function(){return Y})),n.d(t,"m",(function(){return z})),n.d(t,"c",(function(){return Q})),n.d(t,"b",(function(){return X})),n.d(t,"a",(function(){return $})),n.d(t,"i",(function(){return ee})),n.d(t,"e",(function(){return re})),n.d(t,"h",(function(){return ce})),n.d(t,"g",(function(){return ae})),n.d(t,"d",(function(){return de})),n.d(t,"p",(function(){return ue})),n.d(t,"f",(function(){return le}));const D=Object(s.a)(o.d),x=Object(s.a)(o.o),P=Object(s.a)(o.e),A=Object(s.a)(o.m),R=Object(s.a)(o.n),k=Object(s.a)(o.l),N=Object(s.a)(o.g),L=Object(s.a)(o.h),M=Object(s.a)(o.f),U=Object(s.a)(o.j),F=Object(s.a)(o.k),B=Object(s.a)(o.i),G=Object(s.a)(o.q),q=Object(s.a)(o.r),V=Object(s.a)(o.p),H=Object(s.a)(o.u),K=Object(s.a)(o.y),W=Object(s.a)(o.t),J=Object(s.a)(o.x),Y=Object(s.a)(o.s),z=Object(s.a)(o.w),Q=Object(s.a)(o.c),X=Object(s.a)(o.b),$=Object(s.a)(o.a),Z=Object(s.a)(o.v),ee=function e(t,n){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return async(o,a,d)=>{let{gqlContext:u}=d;const l=a();if(!Object(y.b)())return;o(x());const b=await m(u(),{subredditId:t});if(b.ok){const e=b.body;o(A(c(e.data))),s&&E.h(a(),t,{context:n})}else{o(k());const c=s?"topics_save":"topics_load";E.g(l,t,c,{context:n}),o(Object(i.e)(Object(i.d)(Object(r.a)(Object(w.S)(l),"communityTopics.loadFailed"),S.b.Error,Object(r.a)(Object(w.S)(l),"communityTopics.retry"),e(t,n,s))))}}},te=e=>async(t,n,s)=>{let{gqlContext:o}=s;const a=n();if(!Object(y.b)())return;t(x());const d=await m(o(),{subredditId:e});if(d.ok){const e=d.body;t(R(c(e.data)))}else t(k()),t(Object(i.e)(Object(i.d)(Object(r.a)(Object(w.S)(a),"communityTopics.loadFailed"),S.b.Error,Object(r.a)(Object(w.S)(a),"communityTopics.retry"),R(e))))},ne=(e,t)=>async(n,s,o)=>{let{gqlContext:a}=o;const d=s();if(!Object(y.b)())return;n(x());const u=await m(a(),{subredditId:e});if(u.ok){const e=u.body;n(P(c(e.data)))}else n(k()),E.g(d,e,"available_topics_load",{context:t}),n(Object(i.e)(Object(i.d)(Object(r.a)(Object(w.S)(d),"communityTopics.loadFailed"),S.b.Error,Object(r.a)(Object(w.S)(d),"communityTopics.retry"),ne(e,t))))},re=()=>async(e,t,n)=>{let{gqlContext:r}=n;const s=t();if(Object(C.o)(s))return;e(x());const o=await((e,t)=>{let{pageSize:n=p,after:r}=t;return Object(d.a)(e,Object.assign({},l,{variables:{pageSize:n,after:r}}))})(r(),{});if(o.ok){const t=o.body;e(D((e=>{return{globalSubredditTags:e.globalTags.edges.reduce((e,t)=>(e[t.node.id]=t.node,e),{})}})(t.data)))}},se=(e,t)=>async(n,r,s)=>{let{gqlContext:o}=s;if(!t.length)return;n(N());const i=t.map(t=>Object.assign({subredditId:e},t)),c=await((e,t)=>Object(d.a)(e,Object.assign({},a,{variables:t})))(o(),{input:i}),u=c.body&&c.body.data||null;c.ok&&u&&u.createSubredditTags&&u.createSubredditTags.ok?n(L()):n(M())},oe=(e,t)=>async(n,r,s)=>{let{gqlContext:o}=s;if(!t.length)return;n(U());const i=await((e,t)=>Object(d.a)(e,Object.assign({},u,{variables:t})))(o(),{input:t}),c=i.body&&i.body.data||null;i.ok&&c&&c.deleteTags&&c.deleteTags.ok?n(F({subredditId:e,tags:t})):n(B())},ie=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return async(r,s,o)=>{let{gqlContext:i}=o;if(!t.length&&!n.length)return;r(G());const c=await g(i(),{input:{subredditId:e,tagStates:t,suggestedTagStates:n}}),a=c.body&&c.body.data||null;c.ok&&a&&a.updateSubredditTagStates&&a.updateSubredditTagStates.ok?r(q()):r(V())}},ce=function e(t,n){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return async(o,c,a)=>{const d=c(),u=Object(C.q)(d,{subredditId:t}),l=Object(C.d)(d,{subredditId:t}),b=Object(C.y)(d,{subredditId:t}),p=Object(C.z)(d,{subredditId:t}),m=u.filter(e=>!!e.id&&!!e.action).map(e=>({tagId:e.id,state:e.action===T.a.ADD?f.TAGGED:f.NONE}));if(b.length>0){const e=new Set([...Object.keys(l)]);await se(t,b)(o,c,a),await ne(t,n)(o,c,a);const r=Object(C.d)(c(),{subredditId:t}),s=new Set([...Object.keys(r).filter(t=>!e.has(t))]);b.forEach(e=>{for(const t of s){const n=r[t];if(n&&n.text.toLowerCase()===e.text.toLowerCase()&&n.type===e.type)return s.delete(t),void m.push({tagId:n.id,state:f.TAGGED})}})}await Promise.all([ie(t,m)(o,c,a),oe(t,p)(o,c,a)]),Object(C.w)(c())?o(Object(i.e)(Object(i.d)(Object(r.a)(Object(w.S)(d),"communityTopics.savePartialFailed"),S.b.Error,Object(r.a)(Object(w.S)(d),"communityTopics.retry"),e(t,n,s)))):s&&o(Object(i.e)(Object(i.d)(Object(I.c)("Community topics saved!"),S.b.SuccessCommunity))),o(ee(t,n,!0))}},ae=(e,t,n)=>async(r,s,o)=>{const c={state:f.TAGGED};if(Object(_.b)(t)){const i=Object(C.d)(s(),{subredditId:e}),a=new Set([...Object.keys(i)]);await se(e,[{text:t.displayText,type:v.c.CLASSIFICATION}])(r,s,o),await ne(e,n)(r,s,o);const d=Object(C.d)(s(),{subredditId:e}),u=new Set([...Object.keys(d).filter(e=>!a.has(e))]);for(const e of u){const n=d[e];n&&n.text.toLowerCase()===t.displayText.toLowerCase()&&n.type===v.c.CLASSIFICATION&&(c.tagId=n.id)}}else{if(!t.id)return void r(Object(i.e)(Object(i.d)(Object(I.c)("Whoops, we couldn't save that topic. Please try again later."),S.b.Error)));c.tagId=t.id}(e=>!!e.tagId&&!!e.state)(c)?(await ie(e,[],[c])(r,s,o),r(ee(e,n,!1))):r(Object(i.e)(Object(i.d)(Object(I.c)("Whoops, we couldn't save that topic. Please try again later."),S.b.Error)))},de=(e,t,n)=>async(r,s,o)=>{if(!t.id)return void r(ee(e,n,!1));const i=s(),c=[ie(e,[],[{state:f.NONE,tagId:t.id}])(r,s,o)],a=Object(C.p)(i,{itemId:e}),d=Object(C.d)(i,{subredditId:e});!a[t.id]&&d[t.id]&&c.push(oe(e,[{tagId:t.id}])(r,s,o)),await Promise.all(c),r(ee(e,n,!1))},ue=function e(t,n,r,s){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return async(c,a,d)=>{let{gqlContext:u}=d;if(!(await h(u(),{input:{tagStatesRelevance:n,suggestedTagStatesRelevance:r}})).ok)return c(Object(i.e)(Object(i.d)(Object(I.c)("Whoops! Unable to update topics relevance status"),S.b.Error,Object(I.c)("Retry"),e(t,n,r,s,o)))),void c(te(t));if(o)for(const e of r)E.f(a(),e,{context:s});c(Object(i.e)(Object(i.d)(Object(I.c)("Successfully updated topics relevance!"),S.b.SuccessCommunity,Object(I.c)("Undo"),e(t,n.map(e=>Object.assign({},e,{isRelevant:!e.isRelevant})),r.map(e=>Object.assign({},e,{isRelevant:!e.isRelevant})),s,o)))),c(te(t))}},le=e=>async(t,n)=>{t(Z({itemTagsState:{[e]:Object(C.p)(n(),{itemId:e})}}))}},"./src/reddit/actions/theme.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));var r=n("./src/lib/makeActionCreator/index.ts");const s="THEME_CHANGED",o=(Object(r.a)(s),"BOOTUP_THEME"),i=Object(r.a)(o)},"./src/reddit/actions/toaster.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return m}));n("./node_modules/core-js/modules/es6.regexp.to-string.js");var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/models/Toast/index.ts");const o=5e3,i=s.b.SuccessCommunity,c="TOAST__DISPLAYED",a="TOAST__DISMISSED",d=Object(r.a)(c),u=Object(r.a)(a),l=e=>async(t,n)=>{const r=b(e);t(d(r)),r.duration>0&&window.setTimeout(()=>t(u(r.id)),r.duration)},b=e=>Object.assign({},e,{duration:e.duration||p(e.kind),id:e.id||Date.now().toString(),kind:e.kind||i}),p=e=>{switch(e){case s.b.Error:return-1;case s.b.Undo:return 1e4;case s.b.SuccessCommunity:case s.b.SuccessMod:default:return o}},m=(e,t,n,r,s,o)=>({text:e,kind:t,buttonText:n,buttonAction:r,secondButtonText:s,secondButtonAction:o})},"./src/reddit/actions/tooltip.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return l}));var r=n("./src/lib/makeActionCreator/index.ts");const s="TOOLTIP__DROPDOWN_TOGGLED",o="TOOLTIP__DROPDOWN_SET",i="TOOLTIP__DROPDOWN_UNSET",c="TOOLTIP__DROPDOWN_SET_IF_NONE",a="TOOLTIP__DROPDOWN_UNSET_IF_ACTIVE",d=Object(r.a)(o),u=Object(r.a)(s),l=Object(r.a)(i);Object(r.a)(c),Object(r.a)(a)},"./src/reddit/actions/tracking.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));var r=n("./src/lib/makeActionCreator/index.ts");const s="TRACKING__VIEWPORT_DATA_LOADED",o="TRACKING__VIEWPORT_DATA_UNLOADED",i=Object(r.a)(s);Object(r.a)(o)},"./src/reddit/actions/trafficStats/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o}));const r="SUBREDDIT__TRAFFIC_STATS_LOADED",s="SUBREDDIT__TRAFFIC_STATS_PENDING",o="SUBREDDIT__TRAFFIC_STATS_FAILED"},"./src/reddit/actions/trophyCase.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=(n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/lodash/pickBy.js")),o=n.n(s),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeApiRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/lib/redditId/index.ts"),u=n("./src/reddit/constants/headers.ts");var l=(e,t)=>Object(c.b)(Object(a.a)(e,[u.a]),{method:i.bb.GET,endpoint:"".concat(e.apiUrl,"/user/").concat(t,"/trophies.json")}).then(e=>{const t=e.body&&e.body.data&&e.body.data.trophies;if(e.ok&&t){const n=o()(t.map(b),"id"),r=Object.keys(n);return Object.assign({},e,{body:{trophies:n,trophyIds:r}})}return e});const b=e=>({awardId:e.data.award_id,description:e.data.description||"",icon:e.data.icon_40||"",id:Object(d.b)(e.data.id,e.kind),name:e.data.name,url:e.data.url||""});n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return O}));const p="TROPHYCASE__FETCH_SUCCESS",m=Object(r.a)(p),f=Object(r.a)("TROPHYCASE__FETCH_FAILED"),O=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=await l(o(),e);i.ok?n(m(Object.assign({profileId:t,profileName:e},i.body))):n(f({profileId:t,error:i.error}))}},"./src/reddit/actions/upload.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"f",(function(){return g})),n.d(t,"l",(function(){return y})),n.d(t,"j",(function(){return C})),n.d(t,"k",(function(){return D})),n.d(t,"i",(function(){return x}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/get.js"),s=n.n(r),o=n("./node_modules/uuid/v4.js"),i=n.n(o),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/lib/uploadToS3/index.ts"),d=n("./src/reddit/models/Upload/index.ts");const u="UPLOAD_PENDING",l="UPLOAD_UPLOADING",b="UPLOAD_METADATA_CHANGED",p="UPLOAD_PROGRESS",m="UPLOAD_SUCCESS",f="UPLOAD_FAILED",O="UPLOAD_CANCELED",g="UPLOAD_REMOVED",j=Object(c.a)(u),h=Object(c.a)(l),y=Object(c.a)(b),_=Object(c.a)(p),E=Object(c.a)(m),I=Object(c.a)(f),v=Object(c.a)(O),S=Object(c.a)(g),T=new Map,C=(e,t)=>{const n=T.get(e)||[];n.push(t),T.set(e,n)},w=(e,t)=>{const n=T.get(e);n&&n.forEach(n=>n(e,t)),T.delete(e)},D=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return async(o,c,u)=>{let{apiContext:l}=u;const b=t;if(c().uploads[b]&&Object(d.d)(c().uploads[b]))return;const p=i()(),m=()=>{const e=c().uploads[b];return!e||e.id!==p||e.status===d.a.CANCELED};o(j({key:b,id:p,file:e}));const{uploadLease:f,websocketUrl:O,error:g}=await n(c().uploads[b]);if(m())return;if(g||!f)return void o(I({key:b,error:g}));let y;C(p,()=>{y&&y.abort()}),o(h({key:b}));const v=await Object(a.a)(e,f,e=>(y=e,r&&e.on("progress",e=>{if(!m()&&"upload"===e.direction){const t={percent:e.percent,total:e.total,uploaded:e.loaded};o(_({key:b,progress:t}))}}),e));if(y=null,!m())if(v.ok){const e=decodeURIComponent(v.body.PostResponse.Location);o(E({key:b,url:e,websocketUrl:O}))}else{const e=s()(v,"body.Error.Message.0"),t=Object.assign({type:"ERROR"},e?{fields:[{field:"0",msg:e}]}:{});o(I({key:b,error:t}))}}},x=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(n,r)=>{const s=r().uploads[e];s&&(w(s.id,t),n(t?S({key:e}):v({key:e})))}}},"./src/reddit/actions/userBlocks.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"h",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return h})),n.d(t,"g",(function(){return I}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/toaster.ts"),i=n("./src/reddit/endpoints/accounts/index.ts"),c=n("./src/reddit/models/Toast/index.ts"),a=n("./src/reddit/selectors/user.ts"),d=n("./src/reddit/actions/blockedRedditors.ts");const u="USER_BLOCK__PENDING",l="USER_BLOCK__LOADED",b="USER_BLOCK__FAILED",p=Object(s.a)(u),m=Object(s.a)(l),f=Object(s.a)(b),O=e=>async(t,n,s)=>{let{apiContext:a}=s;const u=n();if(u.blockUser.api.pending[e])return;t(p({username:e}));const l=await Object(i.a)(a(),e),b="error-block-".concat(e);if(l.ok)l.body.name&&t(m(l.body)),l.body.id&&t(Object(d.f)(l.body.id)),t(o.f(b)),t(o.e({kind:c.b.SuccessCommunity,text:Object(r.a)(u.user.language,"settings.page.saveRequestSuccess")}));else{const n={type:l.error?l.error.type:"Unknown error",username:e};t(f(n)),t(o.e({id:b,kind:c.b.Error,text:Object(r.a)(u.user.language,"error.tryAgainLater"),buttonText:Object(r.a)(u.user.language,"reportFlow.blockUser.retry"),buttonAction:O(e)}))}},g="USER_UNBLOCK__PENDING",j="USER_UNBLOCK__SUCCESS",h="USER_UNBLOCK__FAILED",y=Object(s.a)(g),_=Object(s.a)(j),E=Object(s.a)(h),I=e=>async(t,n,s)=>{let{apiContext:u}=s;const l=n(),b=Object(a.i)(l),p=b?b.id:void 0,m=l.user.blocked.data.filter(t=>t.name===e)[0];p&&(t(y({name:e})),(await Object(i.b)(u(),p,e)).ok?(t(_({name:e})),m&&m.id&&t(Object(d.h)(m.id)),t(o.e({kind:c.b.SuccessCommunity,text:Object(r.a)(l.user.language,"settings.page.saveRequestSuccess")}))):(t(o.e({kind:c.b.Error,text:Object(r.a)(l.user.language,"error.tryAgainLater")})),t(E({name:e}))))}},"./src/reddit/actions/userFlair.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return g})),n.d(t,"a",(function(){return j})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return I})),n.d(t,"h",(function(){return C})),n.d(t,"c",(function(){return P})),n.d(t,"g",(function(){return N})),n.d(t,"f",(function(){return L})),n.d(t,"e",(function(){return B})),n.d(t,"o",(function(){return H})),n.d(t,"n",(function(){return K})),n.d(t,"m",(function(){return W})),n.d(t,"l",(function(){return J})),n.d(t,"j",(function(){return Y})),n.d(t,"k",(function(){return z})),n.d(t,"p",(function(){return Q}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./node_modules/lodash/isEmpty.js"),i=n.n(o),c=n("./src/reddit/actions/authorFlair.ts"),a=n("./src/reddit/actions/toaster.ts"),d=n("./src/reddit/endpoints/flair/index.ts"),u=n("./src/reddit/helpers/flair.ts"),l=n("./src/reddit/models/Flair/index.ts"),b=n("./src/reddit/models/Toast/index.ts"),p=n("./src/reddit/models/User/index.ts"),m=n("./src/reddit/selectors/subreddit.ts"),f=n("./src/reddit/selectors/user.ts"),O=n("./src/reddit/selectors/userFlair.ts");const g="USER_FLAIR_DATA__MUTATED",j="AUTHOR_FLAIR_DATA__MUTATED",h="STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_SUCCESS",y=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_PENDING"),_=Object(s.a)(h),E=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_FAILED"),I="STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_SUCCESS",v=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_PENDING"),S=Object(s.a)(I),T=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_FAILED"),C="STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_SUCCESS",w=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_PENDING"),D=Object(s.a)(C),x=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_FAILED"),P="STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_SUCCESS",A=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_PENDING"),R=Object(s.a)(P),k=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_FAILED"),N="STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_PENDING",L="STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_FAILED",M=Object(s.a)(N),U=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_SUCCESS"),F=Object(s.a)(L),B="USERFLAIR_FETCH_SUCCESS",G=Object(s.a)(B),q=Object(s.a)(g),V=Object(s.a)(j),H=(e,t,n,r,s)=>async(o,i,c)=>{let{apiContext:a}=c;const l=i(),b=l.user.account,f=b?Object(p.f)(b):void 0,g=Object(O.c)(l,{subredditId:s}),j=Object.assign({},g.displaySettings,{isUserEnabled:n}),h={userName:r,subredditId:s,applied:e,displaySettings:j};o(r===f?q(h):V(h));const y=Object(m.S)(l,{subredditId:s}),_=t&&e?Object(u.g)(e):void 0;Object(d.g)(a(),r,y.name,t,_),Object(d.i)(a(),n,y.name)},K=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(m.S)(i,{subredditId:e}).name;n(y());const a=await Object(d.l)(o(),c,t);if(a.ok){n(_({subredditId:e,isEnabled:t}))}else n(E());return a.ok},W=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(m.S)(i,{subredditId:e}).name;n(v());const a=await Object(d.j)(o(),t,l.d.UserFlair,c);if(a.ok){n(S({subredditId:e,canAssignOwn:t}))}else n(T());return a.ok},J=(e,t)=>async(n,s,o)=>{let{apiContext:i}=o;const c=s(),u=Object(m.S)(c,{subredditId:t}).name,p=Object(f.S)(c);n(w());const O=await Object(d.f)(i(),e,u,l.d.UserFlair),g=O.ok&&!(O.body&&!1===O.body.success);if(g){const e={subredditId:t,template:O.body};n(D(e));const s=Object(a.d)(Object(r.a)(p,"structuredStyles.forms.flair.toast.flairSaved"),b.b.SuccessMod);n(Object(a.e)(s))}else{n(x());const s=Object(a.d)(Object(r.a)(p,"structuredStyles.forms.flair.toast.flairNotSaved"),b.b.Error,Object(r.a)(p,"structuredStyles.forms.flair.toast.retryButtonText"),J(e,t));n(Object(a.e)(s))}return g},Y=(e,t)=>async(n,s,o)=>{let{apiContext:i}=o;const c=s(),u=Object(m.S)(c,{subredditId:t}).name,l=Object(f.S)(c);if(n(A()),(await Object(d.b)(i(),e,u)).ok){n(R({subredditId:t,templateId:e}));const s=Object(a.d)(Object(r.a)(l,"structuredStyles.forms.flair.toast.flairDeleted"),b.b.SuccessMod);n(Object(a.e)(s))}else{n(k());const s=Object(a.d)(Object(r.a)(l,"structuredStyles.forms.flair.toast.flairNotDeleted"),b.b.Error,Object(r.a)(l,"structuredStyles.forms.flair.toast.retryButtonText"),Y(e,t));n(Object(a.e)(s))}},z=(e,t)=>async(n,s,o)=>{let{apiContext:i}=o;const c=s(),u=Object(m.S)(c,{subredditId:t}).name,p=Object(O.c)(c,{subredditId:t}).templateIds,g=Object(f.S)(c);if(n(M({subredditId:t,templateIds:e})),(await Object(d.e)(i(),u,l.d.UserFlair,e)).ok){n(U());const e=Object(a.d)(Object(r.a)(g,"structuredStyles.forms.flair.toast.flairReorderSuccess"),b.b.SuccessMod);n(Object(a.e)(e))}else{n(F({subredditId:t,templateIds:p}));const s=Object(a.d)(Object(r.a)(g,"structuredStyles.forms.flair.toast.flairReorderFailure"),b.b.Error,Object(r.a)(g,"structuredStyles.forms.flair.toast.retryButtonText"),z(e,t));n(Object(a.e)(s))}},Q=(e,t)=>async(n,s,o)=>{let{apiContext:u}=o;const l=s(),p=l.userFlair;if(p&&p[e]&&p[e].displaySettings.isEnabled&&i()(p[e].templateIds)){const s=Object(m.S)(l,{subredditId:e}).name,o=await Object(d.d)(u(),s);if(o.ok)n(G(o.body)),n(Object(c.b)({username:t,subredditId:e}));else{const e=Object(f.S)(l),t=Object(a.d)(Object(r.a)(e,"error.type.generic"),b.b.Error);n(Object(a.e)(t))}}else n(Object(c.b)({username:t,subredditId:e}))}},"./src/reddit/actions/userWhitelist.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"g",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"h",(function(){return _}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/toaster.ts"),i=n("./src/reddit/endpoints/accounts/index.ts"),c=n("./src/reddit/models/Toast/index.ts");const a="USER_WHITELIST__PENDING",d="USER_WHITELIST__SUCCESS",u="USER_WHITELIST__FAILED",l=Object(s.a)(a),b=Object(s.a)(d),p=Object(s.a)(u),m=e=>async(t,n,s)=>{let{apiContext:a}=s;t(l());const d=await Object(i.d)(a(),e),u=n();d.ok?d.body.name&&(t(b(d.body)),t(o.e({kind:c.b.SuccessCommunity,text:Object(r.a)(u.user.language,"settings.page.saveRequestSuccess")}))):(t(p()),t(o.e({kind:c.b.Error,text:Object(r.a)(u.user.language,"error.tryAgainLater")})))},f="USER_UNWHITELIST__PENDING",O="USER_UNWHITELIST__SUCCESS",g="USER_UNWHITELIST__FAILED",j=Object(s.a)(f),h=Object(s.a)(O),y=Object(s.a)(g),_=e=>async(t,n,s)=>{let{apiContext:a}=s;const d=n();t(j({name:e})),(await Object(i.c)(a(),e)).ok?(t(h({name:e})),t(o.e({kind:c.b.SuccessCommunity,text:Object(r.a)(d.user.language,"settings.page.saveRequestSuccess")}))):(t(y({name:e})),t(o.e({kind:c.b.Error,text:Object(r.a)(d.user.language,"error.tryAgainLater")})))}},"./src/reddit/actions/usernameAvailable.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts");var a;n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return g})),function(e){e[e.Available=0]="Available",e[e.Error=1]="Error",e[e.Pending=2]="Pending",e[e.Unavailable=3]="Unavailable"}(a||(a={}));const d="USERNAME_AVAILABLE__AVAILABLE",u="USERNAME_AVAILABLE__FAILURE",l="USERNAME_AVAILABLE__PENDING",b="USERNAME_AVAILABLE__UNAVAILABLE",p=Object(r.a)(d),m=Object(r.a)(u),f=Object(r.a)(l),O=Object(r.a)(b),g=e=>{let{username:t}=e;return async(e,n,r)=>{let{apiContext:d}=r;const u=n().users.nameAvailable;if(!u[t]||u[t]===a.Error){e(f({username:t}));const n=await((e,t)=>Object(o.b)(Object(i.a)(e,[c.a]),{method:s.bb.GET,endpoint:"".concat(e.apiUrl,"/api/username_available.json?user=").concat(t.username),type:"json"}))(d(),{username:t});n.ok?n.body?e(p({username:t})):e(O({username:t})):e(m({username:t}))}}}},"./src/reddit/actions/users.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/app/strings/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/emailVerificationTooltip.ts"),c=n("./src/reddit/actions/modal.ts"),a=n("./src/reddit/actions/notificationBanner.ts"),d=n("./src/reddit/actions/toaster.ts"),u=n("./src/reddit/components/NotificationBanners/bannerIds.ts"),l=n("./src/reddit/components/Settings/modalIds.ts"),b=n("./src/reddit/endpoints/user/index.ts"),p=n("./src/reddit/i18n/utils.ts"),m=n("./src/lib/makeApiRequest/index.ts"),f=n("./src/lib/omitHeaders/index.ts"),O=n("./src/reddit/constants/headers.ts"),g=n("./src/config.ts"),j=n("./src/reddit/helpers/getErrorMsgFromR2JQueryResponse.ts"),h=n("./src/lib/makeRequest/index.ts");var y=n("./src/reddit/constants/history.ts"),_=n("./node_modules/js-cookie/src/js.cookie.js"),E=n.n(_),I=n("./src/lib/constants/cookie.ts");const v=e=>{E.a.remove(e,{domain:g.a.cookieDomain})};var S=n("./src/reddit/helpers/history/index.ts"),T=n("./src/reddit/helpers/localStorage/index.ts"),C=n("./src/reddit/helpers/monthsToMinutes/index.ts"),w=async e=>{let t;try{t=await Object(m.b)(e,{endpoint:"/logoutproxy",method:s.bb.POST})}finally{[I.c,I.g,I.d,I.h,I.i].forEach(v),Object(C.b)(),Object(T.B)(null),await async function(e,t){return await Object(h.b)({method:s.bb.POST,endpoint:"/timings/logoutrequest",data:{appName:e.statsAppName,successful:t},type:"json"})}(e,t&&t.ok),Object(S.a)(y.a.JustLoggedOut,!0),window.location.reload()}},D=n("./src/reddit/helpers/redesignOptoutCookie/index.ts"),x=n("./src/reddit/helpers/trackers/emailCollection.ts"),P=n("./src/reddit/helpers/trackers/emailVerification.ts"),A=n("./src/reddit/models/Toast/index.ts"),R=n("./src/reddit/selectors/activeModalId.ts"),k=n("./src/reddit/selectors/experiments/emailCollection.ts"),N=n("./src/reddit/selectors/notificationBanner.ts"),L=n("./src/reddit/selectors/user.ts"),M=n("./src/telemetry/index.ts");n.d(t,"d",(function(){return F})),n.d(t,"t",(function(){return B})),n.d(t,"i",(function(){return G})),n.d(t,"h",(function(){return q})),n.d(t,"g",(function(){return V})),n.d(t,"m",(function(){return H})),n.d(t,"f",(function(){return K})),n.d(t,"B",(function(){return z})),n.d(t,"e",(function(){return Q})),n.d(t,"u",(function(){return $})),n.d(t,"s",(function(){return Z})),n.d(t,"A",(function(){return ee})),n.d(t,"v",(function(){return te})),n.d(t,"b",(function(){return ne})),n.d(t,"a",(function(){return re})),n.d(t,"q",(function(){return se})),n.d(t,"c",(function(){return oe})),n.d(t,"r",(function(){return ce})),n.d(t,"x",(function(){return ae})),n.d(t,"o",(function(){return de})),n.d(t,"p",(function(){return ue})),n.d(t,"n",(function(){return le})),n.d(t,"w",(function(){return Oe})),n.d(t,"y",(function(){return ge})),n.d(t,"k",(function(){return je})),n.d(t,"l",(function(){return he})),n.d(t,"j",(function(){return ye})),n.d(t,"z",(function(){return ve}));var U=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const F="USER__LOID_RECEIVED",B=Object(o.a)(F),G="USER__REQUEST_PENDING",q="USER__REQUEST_LOADED",V="USER__REQUEST_FAILED",H="USER__SESSION_TRACKER_RECEIVED",K="USER__REDDAID_RECEIVED",W=Object(o.a)(G),J=Object(o.a)(q),Y=Object(o.a)(V),z=e=>async(t,n,r)=>{let{apiContext:o}=r;if(n().users.models[e.toLowerCase()]||e===s.z)return;t(W({username:e}));const i=await Object(b.b)(o(),e);if(i.ok){const n={data:i.body};n.username=e,t(J(n))}else{const n=i.error;n.username=e,t(Y(n))}},Q="USER__MYSELF_LOADED",X=Object(o.a)(Q),$=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=t();if(o.user.account||!o.user.session||o.user.session.unsafeLoggedOut)return;const i=await(e=>Object(m.b)(e,{endpoint:"".concat(g.a.gatewayUrl,"/desktopapi/v1/me"),method:s.bb.GET,data:{api_type:"json",gilding_detail:1,awarded_detail:1}}))(r());i.ok&&e(X(i.body))},Z=()=>async(e,t,n)=>{let{apiContext:r}=n;Object(D.a)(),w(r())},ee=Object(o.a)(H),te=Object(o.a)(K),ne="USER__FTU_UX_VIEWED",re="USER__FEATURES_VIEWED_HISTORY_LOADED",se=Object(o.a)(ne),oe=(Object(o.a)(re),"USER__LAYOUT_SWITCH_VIEWED"),ie=Object(o.a)(oe),ce=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();s.user.account&&!s.user.account.seenLayoutSwitch&&(e(ie()),Object(b.d)(r()))},ae=e=>async(t,n,r)=>{let{apiContext:o}=r;const i=await((e,t)=>Object(m.b)(Object(f.a)(e,[O.a]),{method:s.bb.POST,endpoint:"".concat(e.apiUrl,"/api/deactivate_user"),data:{user:t.username,passwd:t.password,confirm:t.checkbox,deactivate_message:t.feedback}}))(o(),e);i.ok&&i.body&&i.body.success?w(o()):t(Object(d.e)({kind:A.b.Error,text:"Something went wrong deactivating your account. Try again later."}))},de="USER__UPDATE_EMAIL_PENDING",ue="USER__UPDATE_EMAIL_SUCCESS",le="USER__UPDATE_EMAIL_FAILURE",be=Object(o.a)(de),pe=Object(o.a)(ue),me=Object(o.a)(le),fe=(e,t)=>{t.isEmailVerificationTooltipShowing&&e(Object(i.b)())},Oe=e=>async(t,n,r)=>{let{apiContext:o}=r;const i=U(e,[]);if(Object(L.F)(n(),"changeEmail"))return;t(be());const c=await((e,t)=>{let{newEmail:n,password:r}=t;return Object(m.b)(Object(f.a)(e,[O.a]),{method:s.bb.POST,endpoint:"".concat(e.apiUrl,"/api/update_email"),data:Object.assign({},r&&{curpass:r},{email:n})})})(o(),i),d=n();if(c.ok&&c.body&&c.body.success){Object(N.a)(u.a.EmailCollectionBannerId)(d)&&t(Object(a.c)(u.a.EmailCollectionBannerId)),Object(k.a)(d)&&Object(M.a)(Object(x.c)(d));const e=Object(L.H)(d);e||await t(ge()),t(pe(i.newEmail)),e&&t(Ee()),fe(t,d)}else{const e=Object(j.b)(c,"Something went wrong updating your email. Try again later.");t(me(e))}},ge=e=>async(t,n,o)=>{let{apiContext:i}=o;const a=await((e,t)=>Object(m.b)(Object(f.a)(e,[O.a]),Object.assign({method:s.bb.GET,endpoint:"".concat(e.apiUrl,"/api/send_verification_email")},t.source&&{data:t})))(i(),{source:e}),u=n();if(a.ok&&a.body&&a.body.success){e&&(Object(M.a)(Object(P.f)(e)(u)),fe(t,u));const n=Object(R.a)(u),r=n===l.c||n===l.d?l.d:l.b;t(Object(c.i)(r))}else{const e=Object(L.S)(u);t(Object(d.e)({duration:d.a,kind:A.b.Error,text:Object(r.a)(e,"emailVerification.banner.error")}))}},je="USER__SEND_RESET_EMAIL_PENDING",he="USER__SEND_RESET_EMAIL_SUCCESS",ye="USER__SEND_RESET_EMAIL_FAILURE",_e=Object(o.a)(je),Ee=Object(o.a)(he),Ie=Object(o.a)(ye),ve=e=>async(t,n,r)=>{let{apiContext:o}=r;if(Object(L.F)(n(),"sendResetEmail"))return;t(_e());const i=await((e,t)=>Object(m.b)(Object(f.a)(e,[O.a]),{method:s.bb.POST,endpoint:"".concat(e.apiUrl,"/api/password"),data:{email:t.curEmail,name:t.name}}))(o(),e);if(!i.ok||!i.body||!i.body.success){const e=Object(j.b)(i,"Something went wrong sending the reset email. Please try again.");return t(Ie()),void t(Object(d.e)({duration:d.a,kind:A.b.Error,text:Object(p.c)(e)}))}t(Ee())}},"./src/reddit/actions/video.ts":function(e,t,n){"use strict";n.d(t,"h",(function(){return m})),n.d(t,"q",(function(){return f})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return j})),n.d(t,"m",(function(){return h})),n.d(t,"n",(function(){return y})),n.d(t,"p",(function(){return _})),n.d(t,"r",(function(){return E})),n.d(t,"t",(function(){return I})),n.d(t,"u",(function(){return v})),n.d(t,"s",(function(){return S})),n.d(t,"g",(function(){return T})),n.d(t,"o",(function(){return C})),n.d(t,"i",(function(){return w})),n.d(t,"d",(function(){return D})),n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return P})),n.d(t,"b",(function(){return A})),n.d(t,"e",(function(){return R})),n.d(t,"f",(function(){return k})),n.d(t,"y",(function(){return L})),n.d(t,"B",(function(){return H})),n.d(t,"A",(function(){return K})),n.d(t,"N",(function(){return W})),n.d(t,"F",(function(){return J})),n.d(t,"O",(function(){return Y})),n.d(t,"P",(function(){return z})),n.d(t,"C",(function(){return X})),n.d(t,"D",(function(){return Z})),n.d(t,"H",(function(){return ne})),n.d(t,"L",(function(){return re})),n.d(t,"z",(function(){return se})),n.d(t,"M",(function(){return ie})),n.d(t,"K",(function(){return de})),n.d(t,"J",(function(){return ue})),n.d(t,"w",(function(){return le})),n.d(t,"I",(function(){return be})),n.d(t,"v",(function(){return pe})),n.d(t,"E",(function(){return me})),n.d(t,"G",(function(){return fe})),n.d(t,"x",(function(){return Oe}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/constants/adEvents.ts"),o=n("./src/reddit/constants/video.ts"),i=n("./src/reddit/helpers/correlationIdTracker.ts"),c=n("./src/reddit/helpers/pixels.ts"),a=n("./src/reddit/helpers/trackers/media.ts"),d=n("./src/reddit/helpers/trackers/postList.ts"),u=n("./src/reddit/selectors/platform.ts"),l=n("./src/reddit/selectors/posts.ts"),b=n("./src/reddit/selectors/telemetry.ts"),p=(n("./src/reddit/selectors/video.ts"),n("./src/telemetry/index.ts"));const m="VIDEO__CONSUMED",f="VIDEO__SET_FULLSCREEN",O="VIDEO__EXIT_FULLSCREEN",g="VIDEO__LOADABLE",j="VIDEO__LOADING",h="VIDEO__PAUSED",y="VIDEO__PLAYABLE",_="VIDEO__METADATA_RECEIVED",E="VIDEO__STARTED",I="VIDEO__UNLOADABLE",v="VIDEO__UNPAUSED",S="VIDEO__TIME_UPDATED",T="VIDEO__BUFFERING",C="VIDEO__PLAYING",w="VIDEO__CONTINUOUS_VIEW_STARTED_AT",D="AD__VIDEO_VIEWABLE",x="AD__VIDEO_FULLY_VIEWABLE",P="AD__VIDEO_STARTED",A="AD__VIDEO_PLAYED_WITH_SOUND",R="AD__VIDEO_WATCHED_PERCENT",k="AD__VIDEO_WATCHED_SECONDS",N=(()=>{let e="";return(t,n,r,s)=>async(o,c)=>{if(null!=t){e!==t&&(e=t,Object(i.d)(i.a.VideoView));const o=c(),d=s?a.b(t,n,r):a.a(t,n,r);Object(p.a)(Object.assign({},b.defaults(o),d(o)))}}})(),L=Object(r.a)(w),M=Object(r.a)(D),U=Object(r.a)(x),F=Object(r.a)(P),B=Object(r.a)(A),G=Object(r.a)("AD__VIDEO_PLAYED_EXPANDED"),q=Object(r.a)(R),V=Object(r.a)(k),H=e=>async(t,n)=>{const r=Object(l.J)(n(),{postId:e});t(N(e,"is_viewable","video",!1)),r.isSponsored&&(Object(c.a)(r.events,s.a.VideoViewableImpression),t(M({postId:e})))},K=e=>async(t,n)=>{const r=Object(l.J)(n(),{postId:e});t(N(e,"is_fully_viewable","video",!1)),r.isSponsored&&(Object(c.a)(r.events,s.a.VideoFullyViewableImpression),t(U({postId:e})))},W=e=>async(t,n)=>{const r=Object(l.J)(n(),{postId:e});t(N(e,"start","video",!1)),r.isSponsored&&(Object(c.a)(r.events,s.a.VideoStarted),t(F({postId:e})))},J=e=>async(t,n)=>{const r=Object(l.J)(n(),{postId:e});t(N(e,"play_with_sound","video",!1)),t(N(e,"is_viewable","video",!1)),t(N(e,"is_fully_viewable","video",!1)),r.isSponsored&&(Object(c.a)(r.events,s.a.VideoPlayedWithSound),Object(c.a)(r.events,s.a.VideoViewableImpression),Object(c.a)(r.events,s.a.VideoFullyViewableImpression),t(B({postId:e})),t(M({postId:e})),t(U({postId:e})))},Y=(e,t)=>async(n,r)=>{const i=Object(l.J)(r(),{postId:t});let a,d;switch(e){case o.b:a="watch_25_percent",d=s.a.VideoWatched25;break;case o.c:a="watch_50_percent",d=s.a.VideoWatched50;break;case o.d:a="watch_75_percent",d=s.a.VideoWatched75;break;case o.e:a="watch_95_percent",d=s.a.VideoWatched95;break;default:a="watch_100_percent",d=s.a.VideoWatched100}n(N(t,a,"video",!1)),i.isSponsored&&(Object(c.a)(i.events,d),n(q({postId:t,percentage:e})))},z=(e,t)=>async(n,r)=>{const i=Object(l.J)(r(),{postId:t});let a,d;switch(e){case o.g:a="watch_3_seconds",d=s.a.VideoWatchedSeconds3;break;case o.h:a="watch_5_seconds",d=s.a.VideoWatchedSeconds5;break;default:a="watch_10_seconds",d=s.a.VideoWatchedSeconds10}n(N(t,a,"video",!1)),i.isSponsored&&(Object(c.a)(i.events,d),n(V({postId:t,seconds:e})))},Q=Object(r.a)(m),X=Object(r.a)(g),$=Object(r.a)(j),Z=Object(r.a)(h),ee=Object(r.a)(y),te=Object(r.a)(f),ne=Object(r.a)(_),re=Object(r.a)(S),se=Object(r.a)(O),oe=Object(r.a)(E),ie=Object(r.a)(I),ce=Object(r.a)(v),ae=Object(r.a)(T),de=Object(r.a)(C),ue=e=>async(t,n)=>{const r=Object(l.J)(n(),{postId:e});t(te({postId:e})),((e,t,n)=>{n(N(t,"play_expanded","video",!1)),n(N(t,"is_viewable","video",!1)),n(N(t,"is_fully_viewable","video",!1)),e.isSponsored&&(Object(c.a)(e.events,s.a.VideoPlayedExpanded),Object(c.a)(e.events,s.a.VideoViewableImpression),Object(c.a)(e.events,s.a.VideoFullyViewableImpression),n(G({postId:t})),n(M({postId:t})),n(U({postId:t})))})(r,e,t)},le=(e,t)=>async(n,r)=>{const s=r();s.posts.video.autoPlayed[e]&&Object(u.k)(s)&&(d.d(s,e),void 0!==t&&n(ae({postId:e,isBuffering:t})))},be=e=>async(t,n)=>{const r=n();r.posts.video.autoPlayed[e]&&Object(u.k)(r)&&d.h(r,e)},pe=(e,t)=>async(n,r)=>{n($({postId:e,time:t}));const s=r();Object(u.k)(s)&&d.f(s,e)},me=(e,t)=>async(n,r)=>{n(ee({postId:e,time:t}));const s=r();Object(u.k)(s)&&d.a(s,e)},fe=e=>async(t,n)=>{const r=n(),s=r.posts.video.autoPlayed[e],o=r.posts.video.started[e];t(oe({postId:e})),t(ce({postId:e})),!o&&s&&Object(u.k)(r)&&d.c(r,e)},Oe=e=>async(t,n)=>{const r=n(),s=r.posts.video.autoPlayed[e],o=r.posts.video.consumed[e];t(Q({postId:e})),s&&Object(u.k)(r)&&!o&&d.b(r,e)}},"./src/reddit/actions/vote.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/telemetry/index.ts"),o=n("./src/reddit/actions/tooltip.ts"),i=n("./src/reddit/components/Flatlist/getFlatlistTooltipId.ts"),c=n("./src/reddit/endpoints/user/index.ts"),a=n("./src/reddit/actions/gold/constants.ts");const d=Object(r.a)(a.t),u=Object(r.a)(a.u);var l=n("./src/reddit/actions/login.ts"),b=n("./src/reddit/actions/modal.ts"),p=n("./src/reddit/actions/monthsToMinutes/homeFeed.ts"),m=n("./src/reddit/constants/adEvents.ts"),f=n("./src/lib/constants/index.ts"),O=n("./src/lib/makeApiRequest/index.ts"),g=n("./src/lib/omitHeaders/index.ts"),j=n("./src/reddit/constants/headers.ts"),h=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");var y=n("./src/reddit/featureFlags/index.ts"),_=n("./src/reddit/helpers/favoriteCreators/index.ts"),E=n("./src/reddit/helpers/isComment.ts"),I=n("./src/reddit/helpers/isPost.ts"),v=n("./src/reddit/helpers/pixels.ts"),S=n("./src/reddit/helpers/trackers/gild.ts"),T=n("./src/reddit/models/Vote/index.ts"),C=n("./src/reddit/selectors/comments.ts"),w=n("./src/reddit/constants/experiments.ts"),D=n("./src/reddit/helpers/chooseVariant/index.ts"),x=n("./src/reddit/selectors/user.ts");var P=n("./src/reddit/selectors/gild.ts"),A=n("./src/reddit/selectors/monthsToMinutes.ts"),R=n("./src/reddit/selectors/platform.ts"),k=n("./src/reddit/selectors/posts.ts"),N=n("./src/reddit/selectors/telemetry.ts");n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return U}));const L="VOTE__VOTE_CAST",M=Object(r.a)(L),U=(e,t)=>n=>async(r,a,L)=>{let{apiContext:U}=L;if(!Object(x.J)(a())&&!Object(A.w)(a()))return r(Object(b.k)({actionSource:b.a.Vote})),void r(Object(l.f)());const F=e(n,a),B=T.b(F,t),G=Object(I.a)(n)?F.postId:n;if(r(M({id:G,isInstance:!1,vote:t})),(a().posts.instances[G]||[]).forEach(e=>{r(M({id:e,isInstance:!0,vote:t}))}),B)if(Object(I.a)(n)){const e=Object(k.J)(a(),{postId:n}),r=t>0?m.a.Upvote:m.a.Downvote;Object(v.a)(e.events,r)}else if(Object(E.a)(n)){const e=Object(C.n)(a(),{commentId:n});if(e){const n=Object(k.J)(a(),{postId:e.postId}),r=t>0?m.a.CommentUpvote:m.a.CommentDownvote;Object(v.a)(n.events,r)}}const q=a(),V=Object(R.i)(q),H=!!Object(P.f)(q),K=Object(x.bb)(q);if(H?r((()=>async(e,t,n)=>{let{apiContext:r}=n;e(d()),e(Object(o.h)())})()):Object(I.a)(G)&&B===T.a.upvoted&&!K&&(e=>{const t=Object(D.c)(e,{experimentEligibilitySelector:e=>Object(x.J)(e),experimentName:w.N});return Object(w.ac)(t)?void 0:t})(q)&&(r(((e,t)=>async(n,r,s)=>{let{apiContext:a}=s;n(u(e)),n(Object(o.g)({tooltipId:Object(i.a)("View--GiveAward",e,t?"lightbox":void 0)})),Object(c.c)(a())})(G,V)),Object(s.a)(Object(S.viewGiveAwardTooltipEvent)(G)(q))),Object(I.a)(n)&&B===T.a.upvoted&&y.d.spFavoriteCreators(q)){const e=Object(k.J)(q,{postId:n});Object(_.a)(e.belongsTo.id,e.authorId)}if(Object(x.J)(q)){(await((e,t,n)=>Object(O.b)(Object(g.a)(e,[j.a]),{endpoint:Object(h.a)("".concat(e.apiUrl,"/api/vote")),method:f.bb.POST,data:{id:t,dir:n,api_type:"json"}}))(U(),G,B)).ok||r(M({id:G,isInstance:!1,vote:t}))}else if(Object(A.w)(q)){const e=Object(N.subredditByPostOrCommentId)(q,n);e&&e.name&&r(Object(p.h)({id:n,subredditName:e.name})),await r(Object(p.g)())}}},"./src/reddit/actions/widgets/constants.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"i",(function(){return s})),n.d(t,"h",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));const r="WIDGETS__WIDGET_CREATED",s="WIDGETS__WIDGET_UPDATED",o="WIDGET_DELETED",i="WIDGETS_SORTED",c="WIDGETS__STARTED_EDITING_WIDGET",a="WIDGETS__LOADED",d="SUBREDDIT__WIDGETS_PENDING",u="SUBREDDIT__WIDGETS_LOADED",l="SUBREDDIT__WIDGETS_FAILED"},"./src/reddit/actions/widgets/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/values.js"),s=n.n(r),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/app/strings/index.ts"),c=n("./src/reddit/actions/apiRequestState.ts"),a=n("./src/reddit/actions/imageUploads.ts"),d=n("./src/reddit/actions/toaster.ts"),u=n("./src/lib/constants/index.ts"),l=n("./src/lib/makeApiRequest/index.ts"),b=n("./src/lib/omitHeaders/index.ts"),p=n("./src/reddit/constants/headers.ts");const m=async(e,t,n)=>Object(l.b)(Object(b.a)(e,[p.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widgets"),method:u.bb.GET,type:"json",data:{progressive_images:n}});var f=n("./src/reddit/helpers/getGenericUploadError.ts"),O=n("./src/reddit/helpers/media/index.ts"),g=n("./src/lib/assertNever.ts"),j=n("./src/reddit/selectors/subreddit.ts"),h=function(e,t,n){switch(e.kind){case"calendar":case"id-card":case"subreddit-rules":return Object.assign({},e,t);case"community-list":{const r={};for(const t of e.data)r[t.name]=t;return Object.assign({},t,{data:t.data.map(e=>{if(!("subscribers"in r[e])){const t={subredditName:e},r=Object(j.B)(n,t),s=Object(j.y)(n,t);return{name:r.name,subscribers:r?r.subscribers:void 0,iconUrl:r?r.communityIcon:void 0,isNSFW:r?r.isNSFW:void 0,isSubscribed:s?s.userIsSubscriber:void 0}}return r[e]})})}case"button":case"custom":case"image":case"menu":case"moderators":case"textarea":case"post-flair":return t;default:return Object(g.a)(e)}},y=n("./src/reddit/models/Image/index.tsx"),_=n("./src/reddit/models/Toast/index.ts"),E=n("./src/reddit/models/Widgets/index.ts"),I=n("./src/reddit/selectors/user.ts"),v=n("./src/reddit/actions/widgets/constants.ts");n.d(t,"c",(function(){return D})),n.d(t,"e",(function(){return P})),n.d(t,"d",(function(){return R})),n.d(t,"h",(function(){return N})),n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return M})),n.d(t,"f",(function(){return F})),n.d(t,"g",(function(){return V}));const S=Object(o.a)(v.g),T=e=>"imageData"in e?"imageData":"data"in e?"data":null,C=(e,t,n)=>{const r=T(e);if(!r)return e;const s=e[r].map(e=>{const r=t.find(t=>t.url===e.url);if(!r)return e;const s=w(n.imageUploads[r.id]);return s&&r.id===s.id?s:e});return Object.assign({},e,{[r]:s})},w=e=>e&&e.kind===y.b.Uploaded?e:null,D=(e,t,n)=>async(r,o,m)=>{const{apiContext:O}=m;r(Object(c.h)(n));const g=o(),h=Object(j.S)(g,{subredditId:e}).name,v=Object(I.S)(g),w=Object(E.l)(t);let D=null,x=null;const P=[];try{(D=await Object(a.f)(g,y.a.Widgets))&&(x=Object(a.m)(D)(r,o,m),P.push(...s()(D.imagesByKey)))}catch(R){const e=Object(f.a)("webSocket");return void r(Object(c.f)(n,e))}const A=await(async(e,t,n)=>Object(l.b)(Object(b.a)(e,[p.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widget"),method:u.bb.POST,type:"json",data:n}))(O(),h,w);if(A.ok){const s=T(t),a=s?Object.assign({},A.body,{[s]:w[s]}):A.body,u=a.id;"calendar"===t.kind&&r(Object(d.e)({kind:_.b.SuccessMod,text:Object(i.a)(v,"structuredStyles.widgets.calendar.toastText.created")}));let l=null;if(D)try{await x,l=C(a,P,o())}catch(R){}r(S({subredditId:e,widget:l||a,widgetId:u})),r(Object(c.e)(n))}else D&&D.websocket.close(),r(Object(c.f)(n,A.error))},x=Object(o.a)(v.i),P=(e,t,n)=>async(r,o,m)=>{const{apiContext:O}=m;r(Object(c.h)(n));const g=t.id,v=o(),S=Object(j.S)(v,{subredditId:e}).name,w=Object(I.S)(v),D=Object(E.l)(t);let P=null,A=null;const R=[];try{(P=await Object(a.f)(v,y.a.Widgets))&&(A=Object(a.m)(P)(r,o,m),R.push(...s()(P.imagesByKey)))}catch(N){const e=Object(f.a)("webSocket");return void r(Object(c.f)(n,e))}const k=await(async(e,t,n)=>Object(l.b)(Object(b.a)(e,[p.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widget/").concat(n.id),method:u.bb.PUT,type:"json",data:n}))(O(),S,D);if(k.ok){const s=T(t),a=s?Object.assign({},h(t,k.body,v),{[s]:D[s]}):h(t,k.body,v);let u=null;if(A)try{await A,u=C(a,R,o())}catch(N){}r(x({subredditId:e,widgetId:g,widget:u||a})),"calendar"===t.kind&&r(Object(d.e)({kind:_.b.SuccessMod,text:Object(i.a)(w,"structuredStyles.widgets.calendar.toastText.updated")})),r(Object(c.e)(n))}else P&&P.websocket.close(),r(Object(c.f)(n,k.error))},A=Object(o.a)(v.h),R=(e,t,n)=>async(r,s,o)=>{let{apiContext:i}=o;r(Object(c.h)(n));const a=t.id,d=Object(j.S)(s(),{subredditId:e}).name,m=await(async(e,t,n)=>Object(l.b)(Object(b.a)(e,[p.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widget/").concat(n.id),method:u.bb.DELETE,type:"json"}))(i(),d,t);m.ok?(r(Object(c.e)(n)),r(A({subredditId:e,widgetId:a}))):r(Object(c.f)(n,m.error))},k=Object(o.a)(v.f),N=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=Object(j.S)(r(),{subredditId:e}).name;(await(async(e,t,n)=>Object(l.b)(Object(b.a)(e,[p.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widget_order/sidebar"),method:u.bb.PATCH,type:"json",data:n}))(o(),i,t)).ok&&n(k({subredditId:e,widgetIds:t}))},L=e=>{let{imageData:t}=e;return async(e,n,r)=>{const s=n(),o=s.structuredStyles.isEditing,i=Object(j.S)(s,{subredditId:o}).name;e(Object(a.k)(t));const c=await(async(e,t,n,r)=>Object(l.b)(Object(b.a)(e,[p.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widget_image_upload_s3"),method:u.bb.POST,data:{filepath:n,mimetype:r}}))(r.apiContext(),i,t.file.name,await Object(O.g)(t.file));let d=!1;try{const r=await Object(a.g)(n(),c,t,y.a.Widgets);r&&(e(Object(a.j)(r)),d=!0)}catch(m){if(m instanceof Error)throw m;e(Object(a.i)(m))}return d}},M=Object(o.a)(v.d),U=Object(o.a)(v.e),F=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;n(Object(c.h)(t));const i=Object(j.S)(r(),{subredditId:e}).name,a=await m(o(),i);if(a.ok){const r=a.body;n(U({subredditId:e,widgets:r})),n(Object(c.e)(t))}else n(Object(c.f)(t,a.error))},B=Object(o.a)(v.c),G=Object(o.a)(v.b),q=Object(o.a)(v.a),V=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;n(B({subredditId:e}));const i=Object(j.S)(r(),{subredditId:e}).name,c=await m(o(),i,t);if(c.ok){const t=c.body;n(G({subredditId:e,widgets:t}))}else n(q({subredditId:e,error:c.error}))}},"./src/reddit/actions/wiki/wikiBannedContributors/constants.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d}));const r="WIKI_BANNED_CONTRIBUTORS_PENDING",s="WIKI_BANNED_CONTRIBUTORS_LOADED",o="WIKI_BANNED_CONTRIBUTORS_FAILED",i="MORE_WIKI_BANNED_CONTRIBUTORS_LOADED",c="WIKI_BANNED_CONTRIBUTOR_ADDED",a="WIKI_BANNED_CONTRIBUTOR_REMOVED",d="WIKI_BANNED_CONTRIBUTOR_SEARCH_LOADED"},"./src/reddit/actions/wiki/wikiContributors/constants.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d}));const r="WIKI_CONTRIBUTORS_PENDING",s="WIKI_CONTRIBUTORS_LOADED",o="WIKI_CONTRIBUTORS_FAILED",i="MORE_WIKI_CONTRIBUTORS_LOADED",c="WIKI_CONTRIBUTOR_ADDED",a="WIKI_CONTRIBUTOR_REMOVED",d="WIKI_CONTRIBUTOR_SEARCH_LOADED"},"./src/reddit/actions/wiki/wikiDiff/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));const r="WIKI_DIFF_PENDING",s="WIKI_DIFF_LOADED",o="WIKI_DIFF_FAILED"},"./src/reddit/actions/wiki/wikiEditing/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="WIKI_PAGE_SAVE_SUCCESS"},"./src/reddit/actions/wiki/wikiPageSettings/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));const r="PAGE__SUBREDDIT_WIKI_PAGE_SETTINGS_LOADED",s="SUBREDDIT_WIKI_PAGE_SETTINGS_UPDATED",o="SUBREDDIT_WIKI_PAGE_CONTRIBUTOR_REOVED",i="SUBREDDIT_WIKI_PAGE_MORE_CONTRIBUTORS_LOADED"},"./src/reddit/actions/wiki/wikiRevisions/constants.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return c}));const r="WIKI_REVISIONS_PENDING",s="WIKI_REVISIONS_LOADED",o="WIKI_REVISIONS_FAILED",i="WIKI_PAGE_REVERT_SUCCESS",c="WIKI_REVISION_TOGGLE_VISIBILITY"},"./src/reddit/components/Comments/helpers/hiddenComments.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));let r={};function s(e){return e in r}function o(e){r[e]=!0}function i(){r={}}},"./src/reddit/components/ContentGate/index.m.less":function(e,t,n){e.exports={ButtonsContainer:"_3-bzOoWOXVn2xJ3cljz9oC",buttonsContainer:"_3-bzOoWOXVn2xJ3cljz9oC",Container:"_32zGs4bO3IunZfS9bSJY0_",container:"_32zGs4bO3IunZfS9bSJY0_",Description:"_3VTI5BOpJO70xoBKSqz3O9",description:"_3VTI5BOpJO70xoBKSqz3O9",PrivateSubredditDetails:"vpktIvfG7wrc27Xk4Gk-C",privateSubredditDetails:"vpktIvfG7wrc27Xk4Gk-C",PrivateSubredditDescription:"_2uXliuchCWW0MYUGS_Ks6v",privateSubredditDescription:"_2uXliuchCWW0MYUGS_Ks6v",PrivateSubredditName:"_3boUKJ5E--k1_9nH886_Wr",privateSubredditName:"_3boUKJ5E--k1_9nH886_Wr",Link:"o4oSRcSrppMzf__hxJKxn",link:"o4oSRcSrppMzf__hxJKxn",LinkRouterButton:"_2zJbrt0pYl6tbRsmVW0peX",linkRouterButton:"_2zJbrt0pYl6tbRsmVW0peX",LinkButton:"_1_UhYZsTnAQbBONlhaTTMS",linkButton:"_1_UhYZsTnAQbBONlhaTTMS",SecondaryLinkRouterButton:"rDOqrXOt4-jCKENSEQG_N",secondaryLinkRouterButton:"rDOqrXOt4-jCKENSEQG_N",SecondaryLinkButton:"i2sTp1duDdXdwoKi1l8ED",secondaryLinkButton:"i2sTp1duDdXdwoKi1l8ED",GoHomeLinkButton:"_3goHjUTM8-J0xINP6EoZkZ",goHomeLinkButton:"_3goHjUTM8-J0xINP6EoZkZ",Image:"_1jefpljVGT-eHObg40F8Dm",image:"_1jefpljVGT-eHObg40F8Dm",ImagePlaceholder:"yIkP2FaSTqFA_kLFyyH1d",imagePlaceholder:"yIkP2FaSTqFA_kLFyyH1d",LeftLinkRouterButton:"_2V3wnL5o-KBHbU_hs7cMof",leftLinkRouterButton:"_2V3wnL5o-KBHbU_hs7cMof",LeftLinkButton:"_3cs2bzZ9PGS1kcZc2r7vdP",leftLinkButton:"_3cs2bzZ9PGS1kcZc2r7vdP",SecondaryLeftLinkButton:"_3t2KyZopmra_0R16z-1xwr",secondaryLeftLinkButton:"_3t2KyZopmra_0R16z-1xwr",SecondaryLeftLinkRouterButton:"y7s2WWxfdEzMhMm2mjo-G",secondaryLeftLinkRouterButton:"y7s2WWxfdEzMhMm2mjo-G",Title:"_2XKLlvmuqdor3RvVbYZfgz",title:"_2XKLlvmuqdor3RvVbYZfgz",PageBody:"bDDEX4BSkswHAG_45VkFB",pageBody:"bDDEX4BSkswHAG_45VkFB",QuarantineMessageWrapper:"_3wi4h3DGgmtUEzxlHDUM0n",quarantineMessageWrapper:"_3wi4h3DGgmtUEzxlHDUM0n"}},"./src/reddit/components/ContentGate/index.tsx":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./node_modules/react/index.js"),o=n.n(s),i=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/react-router/esm/react-router.js"),a=n("./node_modules/reselect/es/index.js"),d=n("./src/app/strings/index.ts"),u=n("./src/lib/loginHref/index.ts"),l=n("./src/reddit/actions/contentGate.ts"),b=n("./src/reddit/actions/preferences.ts"),p=n("./src/reddit/components/CreateCommunityButton/index.tsx"),m=n("./src/lib/lessComponent.tsx"),f=n("./src/reddit/i18n/components.tsx"),O=n("./src/reddit/components/Footer/index.m.less"),g=n.n(O);const j=m.a.div("FooterContainer",g.a),h=m.a.div("UserAgreement",g.a),y=m.a.a("UserAgreementLink",g.a),_=m.a.a("PrivacyLink",g.a),E=Object(a.c)({language:e=>e.user.language});var I=Object(i.b)(E)(e=>{const{language:t}=e;return o.a.createElement(j,null,o.a.createElement(h,null,o.a.createElement(f.c,null,"Use of this site constitutes acceptance of our "),o.a.createElement(y,{href:"".concat(r.a.redditUrl,"/help/useragreement")},o.a.createElement(f.c,null,"User Agreement")),o.a.createElement(f.c,null," and  "),o.a.createElement(_,{href:"".concat(r.a.redditUrl,"/help/privacypolicy")},o.a.createElement(f.c,null,"Privacy Policy")),Object(d.a)(t,"footer.legalbottom.part3",{year:(new Date).getFullYear()})))}),v=n("./src/reddit/components/RawHTMLDisplay/index.tsx"),S=(n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/lodash/flatMap.js")),T=n.n(S),C=n("./src/lib/linkMatchers/index.ts"),w=n("./src/reddit/controls/OutboundLink/index.tsx");const D=/\[(.+?)\]\((.+?)\)/g,x=e=>{const t=e.split(D);if(1===t.length)return[e];const n=[];for(let r=0;r<t.length;r+=3){const[e,s,o]=t.slice(r,r+3);n.push(e),n.push([o,s])}return n};var P=o.a.memo(e=>{let t=[e.text];return e.parseMdLinks&&(t=T()(t,x)),e.parseRegularLinks&&(t=T()(t,e=>Array.isArray(e)?[e]:(e=>{const t=C.e.match(e);if(!t)return[e];const n=[];let r=null;for(const s of t)n.push(e.slice(r?r.lastIndex:0,s.index)),r=s,n.push([s.url,s.text]);return r&&n.push(e.slice(r.lastIndex)),n})(e))),o.a.createElement(o.a.Fragment,null," ",t.map((t,n)=>{if(Array.isArray(t)){const[r,s]=t;return o.a.createElement(w.a,{className:e.linkClassName,href:r,isSponsored:!1,key:n,source:null},s)}return o.a.createElement("span",{key:n},t)})," ")}),A=n("./src/reddit/controls/Button/index.tsx"),R=n("./src/reddit/selectors/meta.ts"),k=n("./src/reddit/selectors/user.ts"),N=n("./src/reddit/components/ContentGate/index.m.less"),L=n.n(N);n.d(t,"a",(function(){return se}));const M=m.a.div("ButtonsContainer",L.a),U=m.a.div("Container",L.a),F=m.a.div("Description",L.a),B=m.a.div("PrivateSubredditDetails",L.a),G=m.a.div("PrivateSubredditDescription",L.a),q=m.a.h3("PrivateSubredditName",L.a),V=m.a.a("Link",L.a),H=m.a.wrapped(A.h,"LinkRouterButton",L.a),K=m.a.wrapped(A.g,"LinkButton",L.a),W=m.a.wrapped(A.k,"SecondaryLinkRouterButton",L.a),J=m.a.wrapped(A.j,"SecondaryLinkButton",L.a),Y=m.a.wrapped(H,"GoHomeLinkButton",L.a),z=m.a.img("Image",L.a),Q=m.a.img("ImagePlaceholder",L.a),X=m.a.wrapped(H,"LeftLinkRouterButton",L.a),$=m.a.wrapped(K,"LeftLinkButton",L.a),Z=m.a.wrapped(J,"SecondaryLeftLinkButton",L.a),ee=m.a.wrapped(W,"SecondaryLeftLinkRouterButton",L.a),te=m.a.h3("Title",L.a),ne=m.a.div("PageBody",L.a),re=m.a.div("QuarantineMessageWrapper",L.a);var se;!function(e){e.CustomFeedDoesNotExist="CustomFeedDoesNotExist",e.GoldSubreddit="GoldSubreddit",e.Nsfw="Nsfw",e.NsfwCustomFeed="NsfwCustomFeed",e.PrivateSubreddit="PrivateSubreddit",e.ProfileDoesNotExist="ProfileDoesNotExist",e.ProfileDeleted="ProfileDeleted",e.ProfileSuspended="ProfileSuspended",e.QuarantinedSubreddit="QuarantinedSubreddit",e.SubredditBanned="SubredditBanned",e.SubredditDoesNotExist="SubredditDoesNotExist"}(se||(se={}));const oe=Object(a.c)({language:k.S,origin:R.g,user:k.i}),ie=Object(i.b)(oe,(e,t)=>{let{subredditName:n}=t;return{continueToQuarantinedSubreddit:async()=>{await e(b.A(n)),window.location.reload()},setCookieAndRedirect:async()=>{await e(l.i()),window.location.reload()}}}),ce=e=>{const{banMessage:t,contentGateType:n,continueToQuarantinedSubreddit:s,language:i,location:c,origin:a,quarantineRequiresEmail:l,quarantineMessage:b,quarantineMessageHtml:m,setCookieAndRedirect:O,subredditDescription:g,subredditName:j,user:h}=e;switch(n){case se.GoldSubreddit:return o.a.createElement("div",null,o.a.createElement(z,{src:"".concat(r.a.assetPath,"/img/gold/premium-crest.png")}),o.a.createElement(te,null,Object(d.a)(i,"contentGate.goldSubreddit.titlePremium",{subredditName:j})),o.a.createElement(F,null,o.a.createElement(f.c,null,"The moderators in this community have set it to Reddit Premium members only. You must upgrade to a Reddit Premium membership to continue.")),o.a.createElement(M,null,h?o.a.createElement(Z,{href:"".concat(r.a.redditUrl,"/premium")},o.a.createElement(f.c,null,"Get Premium")):o.a.createElement($,{href:Object(u.a)(c,a)},o.a.createElement(f.c,null,"Sign Up")),h?o.a.createElement(H,{to:"/"},o.a.createElement(f.c,null,"Go Home")):o.a.createElement(J,{href:Object(u.a)(c,a)},o.a.createElement(f.c,null,"Log In"))));case se.Nsfw:case se.NsfwCustomFeed:return o.a.createElement("div",null,o.a.createElement(z,{src:"".concat(r.a.assetPath,"/img/content-gate-icons/nsfw.png")}),o.a.createElement(te,null,n===se.Nsfw?Object(d.a)(i,"contentGate.over18.title"):o.a.createElement(f.c,null,"You must be 18+ to view this Custom Feed")),o.a.createElement(F,null,o.a.createElement(f.c,null,"You must be at least eighteen years old to view this content. Are you over eighteen and willing to see adult content?")),o.a.createElement(M,null,o.a.createElement(X,{to:"/"},o.a.createElement(f.c,null,"No")),o.a.createElement(J,{onClick:O},o.a.createElement(f.c,null,"Yes"))));case se.PrivateSubreddit:return o.a.createElement("div",null,o.a.createElement(z,{src:"".concat(r.a.assetPath,"/img/content-gate-icons/private.png")}),o.a.createElement(te,null,Object(d.a)(i,"contentGate.privateSubreddit.title",{subredditName:j})),g&&g.length&&o.a.createElement(B,null,o.a.createElement(q,null,"r/",j),o.a.createElement(G,null,o.a.createElement("div",null,g))),o.a.createElement(F,null,o.a.createElement(f.c,null,"The moderators in this community have set it to private. You must be a moderator or approved user to visit.")),o.a.createElement(M,null,h?o.a.createElement(Z,{href:"".concat(r.a.redditUrl,"/message/compose?to=/r/").concat(j)},o.a.createElement(f.c,null,"Message Mods")):o.a.createElement(Z,{href:Object(u.a)(c,a)},o.a.createElement(f.c,null,"Sign Up")),o.a.createElement(H,{to:"/"},h?Object(d.a)(i,"contentGate.privateSubreddit.goHome"):Object(d.a)(i,"contentGate.privateSubreddit.exploreReddit"))));case se.QuarantinedSubreddit:return o.a.createElement("div",null,o.a.createElement(z,{src:"".concat(r.a.assetPath,"/img/content-gate-icons/quarantined.png")}),o.a.createElement(te,null,o.a.createElement(f.c,null,"Are you sure you want to view this community?")),o.a.createElement(F,null,o.a.createElement(f.c,null,"This community is")," ",o.a.createElement(V,{href:"https://www.reddithelp.com/en/categories/reddit-101/rules-reporting/account-and-community-restrictions/quarantined-subreddits"},o.a.createElement(f.c,null,"quarantined")),o.a.createElement(re,null,m?o.a.createElement(v.a,{html:m}):b||Object(d.a)(i,"contentGate.quarantinedSubreddit.description")),o.a.createElement(f.c,null,"Are you certain you want to continue?")),o.a.createElement(M,null,((e,t,n,s)=>{return!(e&&e.hasVerifiedEmail)&&s?o.a.createElement(M,null,o.a.createElement(ee,{to:"/"},o.a.createElement(f.c,null,"No Thank You")),o.a.createElement(K,{href:"".concat(r.a.redditUrl,"/prefs/update")},o.a.createElement(f.c,null,"Verify Email"))):o.a.createElement(M,null,o.a.createElement(X,{to:"/"},o.a.createElement(f.c,null,"No Thank You")),o.a.createElement(J,{onClick:n},o.a.createElement(f.c,null,"Continue")))})(h,0,s,l)));case se.SubredditBanned:return o.a.createElement("div",null,o.a.createElement(z,{src:"".concat(r.a.assetPath,"/img/content-gate-icons/banned.png")}),o.a.createElement(te,null,Object(d.a)(i,"contentGate.subredditBanned.title",{subredditName:j})),(e=>o.a.createElement(F,null,e?o.a.createElement(P,{linkClassName:L.a.Link,text:e,parseMdLinks:!0,parseRegularLinks:!0}):o.a.createElement(f.c,null,"This community has been banned for violating the Reddit rules.")))(t),o.a.createElement(M,null,o.a.createElement(H,{to:"/"},o.a.createElement(f.c,null,"Explore Reddit"))));case se.SubredditDoesNotExist:return o.a.createElement("div",null,o.a.createElement(Q,null),o.a.createElement(te,null,Object(d.a)(i,"contentGate.subredditDoesNotExist.title",{subredditName:j})),o.a.createElement(M,null,h&&o.a.createElement(p.a,{eventSource:"content_gate"}),o.a.createElement(Y,{to:"/"},o.a.createElement(f.c,null,"Go Home"))));case se.ProfileDoesNotExist:case se.ProfileDeleted:case se.ProfileSuspended:return o.a.createElement("div",null,o.a.createElement(z,{src:"".concat(r.a.assetPath,"/img/snoomoji/snoo_thoughtful.png")}),o.a.createElement(te,null,(e=>{const{contentGateType:t,profileName:n}=e;switch(t){case se.ProfileDeleted:return o.a.createElement(f.c,null,"This user has deleted their account.");case se.ProfileSuspended:return o.a.createElement(o.a.Fragment,null,o.a.createElement(f.c,null,"This account has been")," ",o.a.createElement(V,{href:"https://www.reddithelp.com/en/categories/reddit-101/rules-reporting/account-and-community-restrictions/suspensions"},o.a.createElement(f.c,null,"suspended")),".");case se.ProfileDoesNotExist:return o.a.createElement(f.c,null,"Sorry, ",o.a.createElement(f.b,{name:"profile-name"},"u/".concat(n))," is banned or doesn't exist.")}})(e)),o.a.createElement(M,null,o.a.createElement(Y,{to:"/"},o.a.createElement(f.c,null,"Go Home"))));case se.CustomFeedDoesNotExist:return o.a.createElement("div",null,o.a.createElement(z,{src:"".concat(r.a.assetPath,"/img/snoomoji/snoo_thoughtful.png")}),o.a.createElement(te,null,o.a.createElement(f.c,null,"Sorry, this custom feed is private or does not exist.")),o.a.createElement(M,null,o.a.createElement(Y,{to:"/"},o.a.createElement(f.c,null,"Go Home"))))}};t.b=ie(Object(c.i)(e=>o.a.createElement(U,null,o.a.createElement("div",null,o.a.createElement(ne,null,ce(e))),o.a.createElement(I,null))))},"./src/reddit/components/CreateCommunityButton/index.m.less":function(e,t,n){e.exports={SecondaryButton:"_3U-J6NPoBHbyibarrb7T3F",secondaryButton:"_3U-J6NPoBHbyibarrb7T3F",StyledTooltip:"FIYolDqalszTnjjNfThfT",styledTooltip:"FIYolDqalszTnjjNfThfT"}},"./src/reddit/components/CreateCommunityButton/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/reselect/es/index.js"),c=n("./src/reddit/actions/tooltip.ts"),a=n("./src/reddit/components/InfoTextTooltip/index.tsx"),d=n("./src/reddit/components/TrackingHelper/index.tsx"),u=n("./src/reddit/controls/Button/index.tsx"),l=n("./src/reddit/helpers/overlay/index.ts"),b=n("./src/reddit/helpers/trackers/subredditCreation.ts"),p=n("./src/reddit/i18n/components.tsx"),m=n("./src/reddit/i18n/utils.ts"),f=n("./src/reddit/selectors/user.ts"),O=n("./src/reddit/components/CreateCommunityButton/index.m.less"),g=n.n(O),j=n("./src/lib/lessComponent.tsx");const h="create-community-button",y=j.a.wrapped(u.i,"SecondaryButton",g.a),_=j.a.wrapped(a.c,"StyledTooltip",g.a),E=Object(i.c)({userDoesNotHaveEnoughExpToCreateCommunity:e=>!Object(f.db)(e),userIsSuspended:f.O});t.a=Object(o.b)(E,(e,t)=>{let{eventSource:n}=t;return{openCommunityCreation:t=>{t(Object(b.b)(n)),e(Object(l.a)("/subreddits/create"))},onShowTooltip:()=>e(Object(c.f)({tooltipId:h})),onHideTooltip:()=>e(Object(c.h)())}})(Object(d.b)(e=>{let{className:t,eventSource:n,onShowTooltip:r,onHideTooltip:o,openCommunityCreation:i,sendEvent:c,userDoesNotHaveEnoughExpToCreateCommunity:a,userIsSuspended:d}=e;return s.a.createElement(y,{className:t,disabled:d||a,onClick:()=>i(c),onMouseEnter:r,onMouseLeave:o,id:h},s.a.createElement(p.c,null,"Create Community"),a?s.a.createElement(_,{caretOnTop:!0,tooltipId:h,text:Object(m.c)("To prevent spam, accounts must be at least 30 days old and have enough positive karma to create communities.")}):d?s.a.createElement(_,{caretOnTop:!0,tooltipId:h,text:Object(m.c)("Accounts banned from the site can not create communities until the ban is lifted.")}):null)}))},"./src/reddit/components/Flatlist/getFlatlistTooltipId.ts":function(e,t,n){"use strict";t.a=(e,t,n)=>{const r="".concat(e,"--").concat(t);return n?"".concat(r,"--").concat(n):r}},"./src/reddit/components/Footer/index.m.less":function(e,t,n){e.exports={FooterContainer:"_3qDK09Tb3ktpZiYXSfeMzE",footerContainer:"_3qDK09Tb3ktpZiYXSfeMzE",UserAgreement:"_2qv_r3Tr8ZqOWkU9s1qRfw",userAgreement:"_2qv_r3Tr8ZqOWkU9s1qRfw",UserAgreementLink:"vzd9DQ5W5uhRFvqy1_xKh",userAgreementLink:"vzd9DQ5W5uhRFvqy1_xKh",PrivacyLink:"_2mk2nvnRu7inPdJY2i-H79",privacyLink:"_2mk2nvnRu7inPdJY2i-H79"}},"./src/reddit/components/GildModal/getGildModalId.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));const r=(e,t)=>{const n="".concat("GILD_MODAL_ID","-[thingId: ").concat(e,"]");return void 0!==t?n+"-isOverlay[".concat(t,"]"):n};t.a=r},"./src/reddit/components/InfoTextTooltip/index.m.less":function(e,t,n){e.exports={Text:"HQ2VJViRjokXpRbJzPvvc",text:"HQ2VJViRjokXpRbJzPvvc",BottomText:"_3uK2I0hi3JFTKnMUFHD2Pd",bottomText:"_3uK2I0hi3JFTKnMUFHD2Pd","fade-in":"_1tIZttmhLdrIGrB-6VvZcT",fadeIn:"_1tIZttmhLdrIGrB-6VvZcT"}},"./src/reddit/components/InfoTextTooltip/index.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return g}));var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/reselect/es/index.js"),c=n("./src/higherOrderComponents/addOverlayEvents.tsx"),a=n("./src/reddit/components/OverlayAwareTooltip/index.tsx"),d=n("./src/reddit/selectors/tooltip.ts"),u=n("./src/reddit/components/InfoTextTooltip/index.m.less"),l=n.n(u),b=n("./src/lib/lessComponent.tsx");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const m=b.a.div("Text",l.a),f=b.a.div("BottomText",l.a),O=e=>s.a.createElement(m,{className:e.className,style:e.style},e.text,e.children),g=e=>{const t=e.overflow?e.overflow.left:0;return s.a.createElement(f,{className:e.className,style:Object.assign({},e.style,{"--infoTextTooltip-overflow-left":"".concat(t,"px")})},e.text,e.children)},j=Object(i.c)({isOpen:(e,t)=>{let{tooltipId:n}=t;return Object(d.b)(n)(e)}}),h=Object(a.a)(g,[c.a.Click,c.a.Keydown]),y=Object(a.a)(O,[c.a.Click,c.a.Keydown]),_=Object(o.b)(j);t.c=_(e=>{const{caretOnTop:t}=e;return t?s.a.createElement(h,p({},e,{targetPosition:["center","bottom"],tooltipPosition:["center","top"]})):s.a.createElement(y,p({},e,{targetPosition:["center","top"],tooltipPosition:["center","bottom"]}))})},"./src/reddit/components/NotificationBanners/bannerIds.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.EmailCollectionBannerId="email-collection-banner-id"}(r||(r={}))},"./src/reddit/components/OverlayAwareTooltip/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./src/higherOrderComponents/asTooltip.tsx"),i=n("./src/reddit/constants/elementIds.ts"),c=n("./src/reddit/contexts/InsideOverlay.tsx");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){const n=Object(o.a)(e,t);class r extends s.a.PureComponent{constructor(){super(...arguments),this.state={container:null}}componentDidMount(){if(this.props.isOverlay){const e=document.getElementById(i.d);this.setState({container:e})}}render(){return s.a.createElement(n,a({},this.props,{container:this.state.container,excludeContainerPosition:this.props.isOverlay}))}}return Object(c.b)(r)}},"./src/reddit/components/RawHTMLDisplay/index.m.less":function(e,t,n){e.exports={StyledRawHTMLDisplay:"_3ms2Z8z8rPWLXaErcTJ9yH",styledRawHtmlDisplay:"_3ms2Z8z8rPWLXaErcTJ9yH"}},"./src/reddit/components/RawHTMLDisplay/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/polished/dist/polished.es.js"),s=n("./node_modules/react/index.js"),o=n.n(s),i=n("./node_modules/react-redux/es/index.js"),c=n("./src/lib/CSSVariableProvider/withTheme.tsx"),a=n("./src/lib/lessComponent.tsx"),d=n("./src/reddit/actions/page.ts"),u=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),l=n("./src/reddit/components/RawHTMLDisplay/index.m.less"),b=n.n(l);const p=Object(i.b)(null,e=>({onNavigate:t=>e(Object(d.I)(t))})),m=a.a.wrapped(e=>o.a.createElement("div",{className:e.className,dangerouslySetInnerHTML:{__html:e.html},onClick:t=>{((e,t,n)=>{if(!e.ctrlKey&&!e.metaKey&&1!==e.button&&"A"===e.target.tagName){e.preventDefault(),t(e.target.getAttribute("href"))}e.target.classList&&e.target.classList.contains("md-spoiler-text")&&(e.target.dataset.revealed=!0),n&&n(e)})(t,e.onNavigate,e.onClick)},style:Object.assign({},e.style,{"--RawHTMLDisplay-tr-even":Object(r.j)(Object(u.a)(e).body,.8),"--RawHTMLDisplay-tr-odd":Object(r.j)(Object(u.a)(e).line,.8)})}),"StyledRawHTMLDisplay",b.a);t.a=p(Object(c.a)(m))},"./src/reddit/components/RichTextEditor/RTEState/index.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return O}));var r=n("./node_modules/lodash/isEqual.js"),s=n.n(r),o=n("./node_modules/uuid/v4.js"),i=n.n(o),c=n("./src/reddit/components/RichTextEditor/styleAndBlockTypes.ts"),a=n("./src/reddit/models/RichTextJson/index.ts");let d;const u=e=>d=e,l=()=>{if(!d)throw new Error("DraftHelpers must be initialized!");return d},b=()=>i()().slice(-6),p=/\S/,m=e=>e&&e.document&&Array.isArray(e.document);class f{static hasContent(e){if(e.isBound){return e.editorState.getCurrentContent().getBlockMap().some(e=>!!e&&(Object(c.t)(e.getType())||Object(c.v)(e.getType())||p.test(e.getText())))}return!Object(a.F)(e.initialRTJSON)}static getTextLength(e){return e.isBound?e.editorState.getCurrentContent().getPlainText().length:0}static getRawText(e){if(e.isBound)return e.editorState.getCurrentContent().getPlainText()}static isContentEqual(e,t){if(e.isBound&&t.isBound){return e.editorState.getCurrentContent()===t.editorState.getCurrentContent()}return!e.isBound&&!t.isBound&&s()(e.initialRTJSON,t.initialRTJSON)}static toRichTextJSON(e,t){if(e.isBound){const n=e.editorState.getCurrentContent();return{document:l().draftToRTFJson(n,t)}}return e.initialRTJSON}static getPendingThumbnailUploads(e,t){if(e.isBound){const{editorState:n}=e;return l().getPendingThumbnailUploads(n.getCurrentContent(),t)}}static getMediaCount(e){if(e.isBound){const{editorState:t}=e;return l().getMediaCount(t.getCurrentContent())}return{gifvideo:0,image:0,video:0,total:0}}static isAllMediaUploaded(e,t){if(e.isBound){const n=e.editorState.getCurrentContent();return l().isAllMediaUploaded(n,t)}return!0}}f.createInitial=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.i,t=arguments.length>1?arguments[1]:void 0;return m(e)?{isBound:!1,editorKey:b(),initialRTJSON:e,mediaMetadataMap:t}:(console.warn("invalid RTJSON",e),f.createInitial())};const O=f},"./src/reddit/components/RichTextEditor/styleAndBlockTypes.ts":function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"g",(function(){return s})),n.d(t,"r",(function(){return i})),n.d(t,"n",(function(){return c})),n.d(t,"m",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"s",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"p",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"q",(function(){return f})),n.d(t,"l",(function(){return O})),n.d(t,"v",(function(){return g})),n.d(t,"j",(function(){return j})),n.d(t,"u",(function(){return h})),n.d(t,"a",(function(){return y})),n.d(t,"o",(function(){return _})),n.d(t,"t",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return S}));n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./src/app/strings/index.ts");const r={BOLD:"BOLD",ITALIC:"ITALIC",SPOILER:"SPOILER",STRIKETHROUGH:"STRIKETHROUGH",SUBSCRIPT:"SUBSCRIPT",SUPERSCRIPT:"SUPERSCRIPT",UNDERLINE:"UNDERLINE",MONOSPACE:"MONOSPACE",HIGHLIGHT:"HIGHLIGHT"},s={H1:"header-one",H2:"header-two",H3:"header-three",H4:"header-four",H5:"header-five",H6:"header-six"},o=new Set(["header-one","header-two","header-three","header-four","header-five","header-six"]),i=e=>o.has(e),c="unstyled",a={"header-one":1,"header-two":2,"header-three":3,"header-four":4,"header-five":5,"header-six":6},d={1:"header-one",2:"header-two",3:"header-two",4:"header-two",5:"header-two",6:"header-two"},u={ORDERED:"ordered-list-item",UNORDERED:"unordered-list-item"},l=e=>"ordered-list-item"===e||"unordered-list-item"===e,b="blockquote",p=e=>e===b,m="code-block",f=e=>e===m,O="table-cell",g=e=>e===O,j="media-caption",h=e=>e===j,y="atomic",_=e=>e===y,E=e=>_(e)||h(e),I=Object.assign({CODE_BLOCK:m,BLOCK_QUOTE:b,ATOMIC_BLOCK:y,ORDERED_LIST:u.ORDERED,TABLE_CELL:O,UNORDERED_LIST:u.UNORDERED,UNSTYLED:c,MEDIA_CAPTION:j},s),v=[c,b,O,u.ORDERED,u.UNORDERED],S=[c,b,u.ORDERED,u.UNORDERED]},"./src/reddit/components/Settings/modalIds.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i}));const r="change_email_modal_id",s="check_email_modal_id",o="set_email_modal_id",i="verify_email_modal_id"},"./src/reddit/components/TrackingHelper/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n("./node_modules/prop-types/index.js"),s=n.n(r),o=n("./node_modules/react/index.js"),i=n.n(o),c=n("./src/reddit/selectors/telemetry.ts"),a=n("./src/telemetry/index.ts");function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class u extends i.a.Component{getChildContext(){return{sendEvent:e=>{{const t=this.context.store.getState(),n=e(t);Object(a.a)(Object.assign({},c.defaults(t),n))}}}}render(){return this.props.children?i.a.Children.only(this.props.children):null}}function l(e){var t;return(t=class extends i.a.Component{render(){return i.a.createElement(e,d({},this.props,{sendEvent:this.context.sendEvent}))}}).contextTypes={sendEvent:s.a.func},t}u.contextTypes={store:s.a.object.isRequired},u.childContextTypes={sendEvent:s.a.func.isRequired}},"./src/reddit/constants/adEvents.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.Impression=1]="Impression",e[e.Click=2]="Click",e[e.CommentsView=3]="CommentsView",e[e.Upvote=4]="Upvote",e[e.Downvote=5]="Downvote",e[e.CommentSubmitted=6]="CommentSubmitted",e[e.ViewableImpression=7]="ViewableImpression",e[e.CommentUpvote=8]="CommentUpvote",e[e.CommentDownvote=9]="CommentDownvote",e[e.VideoViewableImpression=100]="VideoViewableImpression",e[e.VideoFullyViewableImpression=101]="VideoFullyViewableImpression",e[e.VideoPlayedWithSound=102]="VideoPlayedWithSound",e[e.VideoPlayedExpanded=103]="VideoPlayedExpanded",e[e.VideoWatched25=104]="VideoWatched25",e[e.VideoWatched50=105]="VideoWatched50",e[e.VideoWatched75=106]="VideoWatched75",e[e.VideoWatched95=107]="VideoWatched95",e[e.VideoWatched100=108]="VideoWatched100",e[e.VideoStarted=109]="VideoStarted",e[e.VideoWatchedSeconds3=110]="VideoWatchedSeconds3",e[e.VideoWatchedSeconds5=111]="VideoWatchedSeconds5",e[e.VideoWatchedSeconds10=112]="VideoWatchedSeconds10"}(r||(r={}))},"./src/reddit/constants/blade.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"j",(function(){return p})),n.d(t,"e",(function(){return f}));var r,s,o=n("./src/config.ts");!function(e){e.NameAndIcon="nameAndIcon",e.Banner="banner",e.Global="global"}(r||(r={})),function(e){e.Appearance="community_appearance",e.Main="community_mod_tools",e.MenuLinks="menu_links",e.PostFlairManagement="postflairmanagement",e.Structure="community_structure",e.UserFlairManagement="userflairmanagement",e.Widgets="community_widgets"}(s||(s={}));const i={global:"theme",nameAndIcon:"name_icon",banner:"banner",menu:"menu",post:"posts",exportImport:"export_import",menuLinks:"menu_links",widgets:"widgets",addWidget:"add_widget",editWidget:"edit_widget",newWidget:"new_widget",reorderWidgets:"reorder_widgets",main:"main",css:"css",idCard:"id_card"},c={global:s.Appearance,nameAndIcon:s.Appearance,banner:s.Appearance,menu:s.Appearance,post:s.Appearance,exportImport:s.Appearance,menuLinks:s.Appearance,widgets:s.Appearance,addWidget:s.Widgets,editWidget:s.Widgets,newWidget:s.Widgets,reorderWidgets:s.Widgets,main:s.Main,css:s.Appearance,idCard:"id_card"},a={button:"button_widget",calendar:"calendar_widget",custom:"custom_widget",image:"image_widget","id-card":"id_card",moderators:"moderators_widget","community-list":"community_list_widget","subreddit-rules":"rules_widget",textarea:"text_widget","post-flair":"post_flair_widget"};var d;!function(e){e.Add="add",e.AssignOwnOff="assign_own_off",e.AssignOwnOn="assign_own_on",e.Edit="edit",e.EnableOff="enable_off",e.EnableOn="enable_on",e.Remove="remove",e.Reorder="reorder"}(d||(d={}));const u={primaryColor:s.Appearance,highlightColor:s.Appearance,backgroundColor:s.Appearance,postTitleColor:s.Appearance,postBackgroundColor:s.Appearance,postDownvoteCountColor:s.Appearance,postUpvoteCountColor:s.Appearance,bannerBackgroundColor:s.Appearance,bannerOverlayColor:s.Appearance,menuBackgroundColor:s.Appearance,menuLinkColorActive:s.Appearance,menuLinkColorInactive:s.Appearance,menuLinkColorHover:s.Appearance,mobileKeyColor:s.Appearance,sidebarWidgetBackgroundColor:s.Widgets,sidebarWidgetHeaderColor:s.Widgets,submenuBackgroundColor:s.Appearance,buttonWidgetButtonColor:s.Widgets,buttonWidgetTextColor:s.Widgets,buttonWidgetFillColor:s.Widgets,buttonWidgetHoverButtonColor:s.Widgets,buttonWidgetHoverTextColor:s.Widgets,buttonWidgetHoverFillColor:s.Widgets},l={primaryColor:i.global,highlightColor:i.global,backgroundColor:i.global,postTitleColor:i.post,postBackgroundColor:i.post,postDownvoteCountColor:i.post,postUpvoteCountColor:i.post,bannerBackgroundColor:i.banner,bannerOverlayColor:i.banner,menuBackgroundColor:i.menu,menuLinkColorActive:i.menu,menuLinkColorInactive:i.menu,menuLinkColorHover:i.menu,mobileKeyColor:void 0,sidebarWidgetBackgroundColor:i.widgets,sidebarWidgetHeaderColor:i.widgets,submenuBackgroundColor:i.menu,buttonWidgetButtonColor:i.widgets,buttonWidgetTextColor:i.widgets,buttonWidgetFillColor:i.widgets,buttonWidgetHoverButtonColor:i.widgets,buttonWidgetHoverTextColor:i.widgets,buttonWidgetHoverFillColor:i.widgets},b={main:"structuredStyles.forms.main.title",global:"structuredStyles.forms.global.title",banner:"structuredStyles.forms.banner.title",menu:"structuredStyles.forms.menu.title",nameAndIcon:"structuredStyles.forms.nameAndIcon.title",post:"structuredStyles.forms.post.title",exportImport:"structuredStyles.forms.themes.title",widgets:"structuredStyles.forms.widgetManager.title",addWidget:"structuredStyles.forms.addWidget.title",newWidget:"structuredStyles.forms.newWidget.title",editWidget:"structuredStyles.forms.editWidget.title",menuLinks:"structuredStyles.forms.menuLinks.title",css:"",reorderWidgets:"",idCard:""},p={button:"structuredStyles.widgets.button.label","subreddit-rules":"structuredStyles.widgets.subreddit-rules.label",textarea:"structuredStyles.widgets.textarea.label",image:"structuredStyles.widgets.image.label","community-list":"structuredStyles.widgets.community-list.label",calendar:"structuredStyles.widgets.calendar.label",custom:"structuredStyles.widgets.custom.label","id-card":"structuredStyles.widgets.id-card.label","post-flair":"structuredStyles.widgets.post-flair.label"},m=e=>"".concat(o.a.redditHelpUrl.modHelpCenter,"hc/en-us/articles/").concat(e),f={exportImport:m("360008722771-Customize-Appearance-overview"),global:m("360008551632-Color-theme"),nameAndIcon:m("360008805651-Name-icon"),banner:m("360010112892-Banner"),menu:m("360010387851-Menu"),post:m("360010192832-Posts"),menuLinks:m("360010442571-Menu-Links"),widgets:m("360010364372-Sidebar-Widgets")}},"./src/reddit/constants/categories.tsx":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return f}));n("./node_modules/core-js/modules/es6.regexp.replace.js");var r,s=n("./src/reddit/helpers/name/index.ts");!function(e){e.Advice="advice",e.Animals="animals",e.Art="art",e.DIY="dIY",e.Electronics="electronics",e.Entertainment="entertainment",e.Fashion="fashion",e.Food="food",e.Funny="funny",e.Gaming="gaming",e.Health="health",e.Memes="memes",e.Music="music",e.News="news",e.Outdoors="outdoors",e.Photography="photography",e.PicsAndGifs="picsAndGifs",e.Relationships="relationships",e.Science="science",e.Sports="sports",e.Tv="tv",e.Tech="tech",e.Travel="travel",e.VideoGames="videoGames",e.Videos="videos",e.Vroom="vroom",e.Writing="writing"}(r||(r={}));const o=e=>{let t="";for(let n=0;n<e.length;n++)t+=e[n],n<e.length-1&&(t+="+");return t},i=e=>"/r/".concat(o(e),"/"),c=["#FAAF2A","#96DE50","#F9862D","#2EA1EA","#297ACA","#4DCF65","#96DE50","#F9862D","#FAAF2A","#297ACA","#2EA1EA","#2EA1EA","#37D2BB","#4DCF65","#297ACB","#96DE50","#F9862D","#FAAF2A","#297ACA","#2EA1EA","#297ACA","#37D2BB","#96DE50","#37D2BB","#4DCF65","#37D2BB","#F9862D"],a="event",d="geopopular",u=/\s/g,l=/&/g,b=/_and_/g,p=/_/g,m=e=>e?Object(s.f)(e).replace(u,"_").replace(l,"and"):"",f=e=>e?Object(s.f)(e).replace(b," & ").replace(p," "):""},"./src/reddit/constants/chat.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return a}));const r={public:"room_public",private:"room_private"},s=140,o=30,i=10,c=500;var a;!function(e){e.SubredditChatNotifcationFtux="chat_subreddit_notification_ftux"}(a||(a={}))},"./src/reddit/constants/comments.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Comment="comment",e.MoreComments="moreComments",e.ContinueThread="continueThread"}(r||(r={}))},"./src/reddit/constants/cookie.ts":function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return p}));const r="USER",s="alphaModal",o="over18",i="mod_mode_enabled",c="m2m_v5",a="recent_srs",d="_recentclicks2",u="eu_cookie_v2",l="uapp_cookie",b="nightmode",p="_options"},"./src/reddit/constants/elementIds.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i}));const r="bladeContainer",s="header",o="overlayScrollContainer",i="collectionPostListScrollContainer"},"./src/reddit/constants/errors.ts":function(e,t,n){"use strict";var r,s;n.d(t,"a",(function(){return r})),function(e){e.BannedProfile="BANNED",e.DeletedProfile="DELETED",e.NotFoundProfile="NOT_FOUND",e.ForbiddenProfile="FORBIDDEN"}(r||(r={})),function(e){e.Unknown="Unknown"}(s||(s={}))},"./src/reddit/constants/experiments.ts":function(e,t,n){"use strict";n.d(t,"Tb",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"ub",(function(){return o})),n.d(t,"vb",(function(){return i})),n.d(t,"Sb",(function(){return c})),n.d(t,"Fb",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"Ab",(function(){return l})),n.d(t,"T",(function(){return b})),n.d(t,"kb",(function(){return p})),n.d(t,"eb",(function(){return m})),n.d(t,"fb",(function(){return f})),n.d(t,"hb",(function(){return O})),n.d(t,"ib",(function(){return g})),n.d(t,"jb",(function(){return j})),n.d(t,"D",(function(){return h})),n.d(t,"g",(function(){return y})),n.d(t,"s",(function(){return _})),n.d(t,"F",(function(){return E})),n.d(t,"Qb",(function(){return I})),n.d(t,"Rb",(function(){return v})),n.d(t,"L",(function(){return S})),n.d(t,"M",(function(){return T})),n.d(t,"N",(function(){return C})),n.d(t,"z",(function(){return w})),n.d(t,"lb",(function(){return D})),n.d(t,"Cb",(function(){return x})),n.d(t,"mb",(function(){return P})),n.d(t,"x",(function(){return A})),n.d(t,"I",(function(){return R})),n.d(t,"C",(function(){return k})),n.d(t,"B",(function(){return N})),n.d(t,"A",(function(){return L})),n.d(t,"Db",(function(){return M})),n.d(t,"wb",(function(){return U})),n.d(t,"y",(function(){return F})),n.d(t,"E",(function(){return B})),n.d(t,"h",(function(){return G})),n.d(t,"Eb",(function(){return q})),n.d(t,"q",(function(){return V})),n.d(t,"p",(function(){return H})),n.d(t,"Xb",(function(){return K})),n.d(t,"f",(function(){return W})),n.d(t,"o",(function(){return J})),n.d(t,"n",(function(){return Y})),n.d(t,"Bb",(function(){return z})),n.d(t,"P",(function(){return Q})),n.d(t,"S",(function(){return X})),n.d(t,"Q",(function(){return $})),n.d(t,"O",(function(){return Z})),n.d(t,"R",(function(){return ee})),n.d(t,"a",(function(){return te})),n.d(t,"r",(function(){return ne})),n.d(t,"ac",(function(){return se})),n.d(t,"Wb",(function(){return ae})),n.d(t,"i",(function(){return de})),n.d(t,"Vb",(function(){return ue})),n.d(t,"xb",(function(){return be})),n.d(t,"zb",(function(){return pe})),n.d(t,"ab",(function(){return me})),n.d(t,"Gb",(function(){return fe})),n.d(t,"Lb",(function(){return Oe})),n.d(t,"k",(function(){return ge})),n.d(t,"Hb",(function(){return je})),n.d(t,"sb",(function(){return he})),n.d(t,"pb",(function(){return ye})),n.d(t,"qb",(function(){return Ee})),n.d(t,"gb",(function(){return Ie})),n.d(t,"rb",(function(){return ve})),n.d(t,"bb",(function(){return Te})),n.d(t,"w",(function(){return De})),n.d(t,"H",(function(){return xe})),n.d(t,"U",(function(){return Ae})),n.d(t,"tb",(function(){return Re})),n.d(t,"Ib",(function(){return ke})),n.d(t,"j",(function(){return Ue})),n.d(t,"J",(function(){return Fe})),n.d(t,"Ub",(function(){return Ge})),n.d(t,"ob",(function(){return qe})),n.d(t,"nb",(function(){return Ve})),n.d(t,"Jb",(function(){return He})),n.d(t,"K",(function(){return Ke})),n.d(t,"yb",(function(){return We})),n.d(t,"m",(function(){return Je})),n.d(t,"Kb",(function(){return Ye})),n.d(t,"u",(function(){return ze})),n.d(t,"t",(function(){return Qe})),n.d(t,"Yb",(function(){return Xe})),n.d(t,"l",(function(){return $e})),n.d(t,"W",(function(){return nt})),n.d(t,"Z",(function(){return rt})),n.d(t,"X",(function(){return st})),n.d(t,"V",(function(){return ot})),n.d(t,"Y",(function(){return it})),n.d(t,"v",(function(){return at})),n.d(t,"b",(function(){return dt})),n.d(t,"G",(function(){return ut})),n.d(t,"Zb",(function(){return lt})),n.d(t,"cb",(function(){return bt})),n.d(t,"db",(function(){return pt})),n.d(t,"Nb",(function(){return mt})),n.d(t,"Mb",(function(){return ft})),n.d(t,"Ob",(function(){return Ot})),n.d(t,"Pb",(function(){return gt}));n("./node_modules/core-js/modules/web.dom.iterable.js");const r="typeahead_redesign",s="categories_entrypoint_redesign",o="rails_search_results_follow_button",i="redesign_explore_logged_out_v2",c="trends_all_platforms",a="subreddit_top_content",d="chat_posts_rollout_web",u="chat_posts_holdout",l="sequence_redesign",b="guest_survey_1",p="desktop_seo_post_v2_truncate",m="mux_sampling_a",f="mux_sampling_b",O="desktop_seo_post_v2_comment_depth",g="desktop_seo_post_v2_declutter",j="desktop_seo_post_v2_id_card",h="desktop_m2m_home_redirect",y="collapse_pinned_comments",_="d2x_shell_render_mitigation",E="email_collection_v1",I="top_subreddits_test",v="top_subreddits_test_mods_only",S="gold_awarded_comment_highlight",T="gold_extended_awards",C="gold_extended_awards_tooltip",w="desktop_general_cleanup",D="rpan_entry_point",x="streaming_subreddit_integration",P="public_awarding",A="desktop_cat_nav_placement_frontpage",R="desktop_guest_exp_filters",k="desktop_guest_exp_top_posts",N="desktop_guest_exp_post_height",L="desktop_guest_exp_pinned_posts",M="desktop_posting_difficulty_v2",U="redesign_subreddit_search_fix",F="desktop_frontpage_signup_v1",B="desktop_rails_widgets_frontpage",G="create_polls_painted_door",q="subreddit_mention_d2x",V="d2x_gql_subreddit_page",H="d2x_gql_subreddit_more_posts",K="up_and_coming_leaderboard",W="web_chat_simple_reply",J="d2x_frontpage_html_streaming_v1",Y="d2x_commentspage_html_streaming_v1",z="d2x_server_load_listing_below",Q="guest_post_page_null_desc",X="guest_post_page_self_post_desc",$="guest_post_page_qa_desc",Z="guest_post_page_long_titles",ee="guest_post_page_short_titles",te="ad_left_sidebar_removed",ne="d2x_listing_below_all";var re;!function(e){e.Control1="control_1",e.Control2="control_2"}(re||(re={}));const se=e=>e===re.Control1||e===re.Control2;var oe,ie,ce,ae,de,ue,le,be,pe,me,fe,Oe,ge,je,he,ye,_e,Ee,Ie,ve,Se,Te,Ce,we,De,xe,Pe,Ae,Re,ke,Ne,Le,Me,Ue,Fe,Be,Ge,qe,Ve,He,Ke,We,Je,Ye,ze,Qe,Xe,$e,Ze,et,tt,nt,rt,st,ot,it,ct,at;!function(e){e.Enabled="enabled"}(oe||(oe={})),function(e){e.Enabled="enabled"}(ie||(ie={})),function(e){e.Enabled="enabled"}(ce||(ce={})),function(e){e.Treatment1="treatment_1"}(ae||(ae={})),function(e){e.Treatment1="treatment_1"}(de||(de={})),function(e){e.Holdout="holdout",e.AdHoldout="ad_holdout"}(ue||(ue={})),function(e){e.TestTreatment1="toast",e.TestTreatment2="popup",e.TestTreatment3="knoxses"}(le||(le={})),function(e){e.Treatment1="treatment_1"}(be||(be={})),function(e){e.ExploreOld="explore_old",e.ExploreStandardSearchPost="explore_standard_search_post",e.ExploreStandardSearchCommunity="explore_standard_search_community",e.ExploreTrendingSearchCommunity="explore_trending_search_community",e.ExploreTrendingDUCommunity="explore_trending_du_community",e.ExploreTrendingDUCommunityPopular="explore_trending_du_community_pop"}(pe||(pe={})),function(e){e.On="on"}(me||(me={})),function(e){e.Active="active"}(fe||(fe={})),function(e){e.ShowTopContent="show_top_content"}(Oe||(Oe={})),function(e){e.Rollout="enabled",e.Holdout="holdout"}(ge||(ge={})),function(e){e.Treatment1="treatment1"}(je||(je={})),function(e){e.Truncate="truncate",e.SmallBanner="small_banner",e.Both="both"}(he||(he={})),function(e){e.Max1="max_1",e.Max2="max_2"}(ye||(ye={})),function(e){e.Treatment1="treatment_1",e.Treatment2="treatment_2"}(_e||(_e={})),function(e){e.NoActions="no_actions",e.NoAds="no_ads",e.NoWidgets="no_widgets",e.Combined="combined"}(Ee||(Ee={})),function(e){e.On="on"}(Ie||(Ie={})),function(e){e.IdCard="id_card",e.RailSwap="rail_swap"}(ve||(ve={})),function(e){e.Narrow="narrow",e.NarrowCard="narrow_card"}(Se||(Se={})),function(e){e.ListingCapped="listing_capped",e.ListingInfinite="listing_infinite",e.RightRail="right_rail",e.ListingInfiniteLightbox="listing_infinite_lightbox",e.RightRailLightbox="right_rail_lightbox"}(Te||(Te={})),function(e){e.Lightbox="lightbox"}(Ce||(Ce={})),function(e){e.Enabled="enabled"}(we||(we={})),function(e){e.ShellRendered="shell_rendered"}(De||(De={})),function(e){e.Tooltip="tooltip",e.Banner="banner",e.Footer1="footer_1",e.Footer2="footer_2",e.Modal="modal"}(xe||(xe={})),function(e){e.Variant1="variant_1"}(Pe||(Pe={})),function(e){e.TopBanner="top_banner",e.SortView="sort_view",e.All="all"}(Ae||(Ae={})),function(e){e.Enabled="enabled"}(Re||(Re={})),function(e){e.Enabled="enabled"}(ke||(ke={})),function(e){e.Treatment1="treatment_1"}(Ne||(Ne={})),function(e){e.PostsFromDifferentCommunities="posts_from_different_communities",e.CommunityDescWithPosts="community_desc_with_posts"}(Le||(Le={})),function(e){e.PostsFromDifferentCommunities="posts_from_different_communities",e.CommunityDescWithPosts="community_desc_with_posts"}(Me||(Me={})),function(e){e.Left="left",e.LeftBlue="left_blue",e.Top="top",e.TopBlue="top_blue"}(Ue||(Ue={})),function(e){e.FlairSidebar="flair_sidebar",e.FlairTop="flair_top",e.Sorts="sorts",e.TopBanner="top_banner"}(Fe||(Fe={})),function(e){e.TopicsAndDescriptionRequired="all_required",e.NoneRequired="none_required"}(Be||(Be={})),function(e){e.NoCommunityWidgets="no_community_widgets",e.NoRulesModerators="no_rules_moderators",e.RelatedPostsDu="related_posts_du"}(Ge||(Ge={})),function(e){e.MediumHeight="medium_height",e.OnlyTitles="only_titles"}(qe||(qe={})),function(e){e.Compact="compact",e.CompactTimeDelay="compact_time_delay"}(Ve||(Ve={})),function(e){e.Treatment1="sub_diff_warning_v1",e.Treatment2="sub_diff_warning_v2",e.Treatment3="sub_diff_recs_v1",e.Treatment4="sub_diff_recs_v2"}(He||(He={})),function(e){e.CurrentThrottled="current_throttled",e.CurrentUnthrottled="current_unthrottled",e.CurrentUnthrottledCopy="current_unthrottled_copy",e.NewPageUnthrottledCopy="new_page_unthrottled_copy",e.NewPageUnthrottledCopyFields="new_page_unthrottled_copy_fields",e.NewPopUnthrottledCopy="new_pop_unthrottled_copy"}(Ke||(Ke={})),function(e){e.TopMonth="top_month",e.Trending="trending",e.Geo="geo"}(We||(We={})),function(e){e.Treatment="treatment"}(Je||(Je={})),function(e){e.SmIcon="sm_icon",e.SmIconHc="sm_icon_hc"}(Ye||(Ye={})),function(e){e.Enabled="enabled"}(ze||(ze={})),function(e){e.Enabled="enabled"}(Qe||(Qe={})),function(e){e.All="all"}(Xe||(Xe={})),function(e){e.Enabled="enabled"}($e||($e={})),function(e){e.FrontpageHTMLStreaming="frontpage_html_streaming"}(Ze||(Ze={})),function(e){e.CommentspageHTMLStreaming="commentspage_html_streaming"}(et||(et={})),function(e){e.Treatment="treatment"}(tt||(tt={})),function(e){e.Metadata="metadata"}(nt||(nt={})),function(e){e.PostDescription="post_description"}(rt||(rt={})),function(e){e.PostDescription="post_description",e.TopComment="top_comment"}(st||(st={})),function(e){e.TruncTitleSubBrand="trunc_title_sub_brand",e.TruncTitleReddit="trunc_title_reddit",e.TruncTitleSub="trunc_title_sub"}(ot||(ot={})),function(e){e.TitleSubPtypeBrand="title_sub_ptype_brand",e.TitleSubPtypeCom="title_sub_ptype_com"}(it||(it={})),function(e){e.Enabled="enabled"}(ct||(ct={})),function(e){e.Active="active"}(at||(at={}));const dt={[ne]:[at.Active],[Z]:[ot.TruncTitleSubBrand,ot.TruncTitleReddit,ot.TruncTitleSub],[ee]:[it.TitleSubPtypeBrand,it.TitleSubPtypeCom],[z]:[tt.Treatment],[Q]:[nt.Metadata],[X]:[rt.PostDescription],[$]:[st.PostDescription,st.TopComment],[Y]:[et.CommentspageHTMLStreaming],[J]:[Ze.FrontpageHTMLStreaming],[K]:[Xe.All],[q]:[Ye.SmIcon,Ye.SmIconHc],[V]:[ze.Enabled],[H]:[Qe.Enabled],[G]:[Je.Treatment],[B]:[We.TopMonth,We.Trending,We.Geo],[F]:[Ke.CurrentThrottled,Ke.CurrentUnthrottled,Ke.CurrentUnthrottledCopy,Ke.NewPageUnthrottledCopy,Ke.NewPageUnthrottledCopyFields,Ke.NewPopUnthrottledCopy],[U]:[fe.Active],[N]:[qe.OnlyTitles,qe.MediumHeight],[L]:[Ve.Compact,Ve.CompactTimeDelay],[k]:[Ge.NoCommunityWidgets,Ge.NoRulesModerators,Ge.RelatedPostsDu],community_creation_topics:[Be.TopicsAndDescriptionRequired,Be.NoneRequired],[R]:[Fe.FlairSidebar,Fe.FlairTop,Fe.Sorts,Fe.TopBanner],[A]:[Ue.Top,Ue.Left,Ue.TopBlue,Ue.LeftBlue],[D]:[Re.Enabled],[x]:[ke.Enabled],[P]:[Ne.Treatment1],focused_vertical_suggestion_v2:[Le.PostsFromDifferentCommunities,Le.CommunityDescWithPosts],focused_vertical_suggestion_test:[Me.PostsFromDifferentCommunities,Me.CommunityDescWithPosts],[w]:[Ae.TopBanner,Ae.SortView,Ae.All],[W]:[$e.Enabled],[S]:[oe.Enabled],[T]:[ie.Enabled],[C]:[ce.Enabled],[I]:[Pe.Variant1],[v]:[Pe.Variant1],[E]:[xe.Tooltip,xe.Banner,xe.Footer1,xe.Footer2,xe.Modal],[y]:[we.Enabled],desktop_seo_post_v2_lightbox:[Ce.Lightbox],[h]:[Te.ListingCapped,Te.ListingInfinite,Te.RightRail,Te.ListingInfiniteLightbox,Te.RightRailLightbox],desktop_seo_post_v2_narrow:[Se.Narrow,Se.NarrowCard],[j]:[ve.IdCard,ve.RailSwap],[g]:[Ee.NoActions,Ee.NoAds,Ee.NoWidgets,Ee.Combined],[O]:[ye.Max1,ye.Max2],[p]:[he.Truncate,he.SmallBanner,he.Both],[b]:[me.On],[c]:[ue.Holdout,ue.AdHoldout],[r]:[ae.Treatment1],[s]:[de.Treatment1],[o]:[be.Treatment1],[i]:[pe.ExploreOld,pe.ExploreStandardSearchPost,pe.ExploreStandardSearchCommunity,pe.ExploreTrendingSearchCommunity,pe.ExploreTrendingDUCommunity,pe.ExploreTrendingDUCommunityPopular],[a]:[Oe.ShowTopContent],[d]:[ge.Rollout],[u]:[ge.Holdout],[l]:[je.Treatment1],[m]:[Ie.On],[f]:[Ie.On],[M]:[He.Treatment1,He.Treatment2,He.Treatment3,He.Treatment4],[te]:[ct.Enabled]},ut=new Set([A,R,F,i,b,E,h,"focused_vertical_suggestion_v2",B,z,q]),lt=e=>e.reduce((e,t,n)=>(e[t]=n+1,e),{}),bt=(lt(["NFL","Gaming","Memes","Funny","Sports","Wholesome","Video Games","Pics & Gifs","Mindblowing","Videos","News","Cringe","Schadenfreude","Science","Relationships","Learning","Photography","Vroom","Tech","Crypto","TV","Aww","Popcorn","Parenting","Discussion","Food","Beauty","Outdoors","Fashion","Books & Writing","Art & Design","Nostalgia","Music","Travel","Health & Fitness"]),lt(["NFL","Discussion","Relationships","Sports","Gaming","News","Beauty","Health & Fitness","Learning","Parenting","Tech","Crypto","Science","Video Games","TV","Popcorn","Vroom","Food","Outdoors","Fashion","Books & Writing","Art & Design","Nostalgia","Music","Travel","Photography","Funny","Wholesome","Memes","Aww","Pics & Gifs","Mindblowing","Videos","Cringe","Schadenfreude"])),pt=lt(["Video Games","Memes","Sports","Wholesome","Pics & Gifs","Mindblowing","Videos","News","Science","Relationships","Finance & Business","Learning","Photography","Vroom","Tech","Crypto","TV","Aww","Parenting","Discussion","Gaming","Food","Beauty","Outdoors","Fashion","Books & Writing","Art & Design","Music","Travel","Health & Fitness"]),mt=50,ft=41,Ot=20,gt=" …"},"./src/reddit/constants/explore.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r=3,s=3},"./src/reddit/constants/featureThrottling.ts":function(e,t,n){"use strict";var r=n("./src/reddit/constants/experiments.ts"),s=n("./src/reddit/models/FeatureThrottling/index.ts");n.d(t,"a",(function(){return o}));const o={[r.y]:(e=>({times:e,type:s.b.TimesPerSession}))(1)}},"./src/reddit/constants/flair.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return b}));var r=n("./src/reddit/constants/colors.ts"),s=n("./src/reddit/models/Flair/index.ts");const o=64,i=10,c=10,a=100,d=c*(a+1),u={backgroundColor:r.a.defaultFlair,id:"",modOnly:!1,textColor:s.e.Dark,textEditable:!1,richtext:[],text:"",type:s.f.Richtext},l="t3_flairPreviewExamplePost",b=350},"./src/reddit/constants/gold.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u}));const r="ModerationPage--Modal--AddAward",s="ModerationPage--Modal--DeleteAwardConfirmation",o=20,i=4,c=1e4,a=.2,d=.1,u=.1},"./src/reddit/constants/graphql.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Card="CARD",e.Classic="CLASSIC",e.Compact="COMPACT"}(r||(r={}))},"./src/reddit/constants/history.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.IsOverlay="isOverlay",e.ScrollOnLoad="scrollOnLoad",e.CloseLocation="closeLocation",e.JustLoggedIn="JustLoggedIn",e.JustLoggedOut="JustLoggedOut"}(r||(r={}))},"./src/reddit/constants/inFeedChaining.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o}));const r=3,s=5,o=10},"./src/reddit/constants/listings.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o}));n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./src/reddit/i18n/utils.ts");const r=new Set(["friends","random"]);var s;!function(e){e.All="all",e.Explore="explore",e.Home="home",e.Rpan="rpan",e.Popular="popular",e.SubredditCreation="subredditCreation",e.SubredditLeaderboard="subredditLeaderboard",e.Topic="topic",e.Layer="layer"}(s||(s={}));const o={[s.Home]:"/",[s.Popular]:"/r/popular/",[s.All]:"/r/all/",[s.Explore]:"/explore/",[s.Rpan]:"/rpan/",[s.SubredditCreation]:"/subreddits/create",[s.SubredditLeaderboard]:"/subreddits/leaderboard/",[s.Topic]:"/t/",[s.Layer]:"/r/layer/"}},"./src/reddit/constants/modals.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.ADD_REMOVAL_REASON="add_removal_reason",e.ALPHA_CONSUMER="alpha_consumer",e.BADGE_PICKER="badge_picker",e.BADGE_PURCHASE="badge_purchase",e.BAN_USER="ban_user",e.BLADE_NIGHTMODE="blade_nightmode",e.BLADE_UNSAVED_CHANGES="blade_unsaved_changes",e.CHANGE_PASSWORD_MODAL_ID="account_manager_change_password",e.CONFIRM_CLOSE_COIN_MODAL_ID="confirm_close_coin_modal_id",e.CONFIRM_CLOSE_PREMIUM_MODAL_ID="confirm_close_premium_modal_id",e.CONTRIBUTOR_REQUEST="contributor_request",e.CONTRIBUTOR_REQUEST_PENDING="contributor_request_pending",e.CREATE_SUBREDDIT_CHAT="create_subreddit_chat",e.DELETE_SUBREDDIT_CHAT="delete_subreddit_chat",e.DISABLE_TWO_FACTOR="disable_2fa_modal",e.ECONOMY_SUPPORT_MODAL="economy_support_modal",e.EDIT_SUBREDDIT_CHAT="edit_subreddit_chat",e.ENABLE_TWO_FACTOR="enable_2fa_modal",e.GOLD_INTRODUCTION="gold_introduction",e.GOLD_MODAL_CLICK_TEST="gold_modal_click_test",e.GOVERNANCE_OPT_OUT="governance_opt_out",e.GOVERNANCE_RELEASE_NOTES="governance_release_notes",e.HARBERGER_TAX_CRYPTO_BANNER_MANAGE="harberger_tax_crypto_banner_manage",e.HARBERGER_TAX_CRYPTO_BANNER_PURCHASE="hargerger_tax_crypto_banner_purchase",e.HARBERGER_TAX_BANNER_MANAGE="harberger_tax_banner_manage",e.HARBERGER_TAX_BANNER_PURCHASE="harberger_tax_banner_purchase",e.KEYBOARD_SHORTCUTS="keyboard_shortcuts",e.LOGIN_MODAL_ID="account_manager_login",e.MANAGE_SUBREDDIT_CHAT="manage_subreddit_chat",e.MULTIREDDIT_ADD_SUBREDDIT="multireddit_add_subreddit",e.MULTIREDDIT_CREATE="multireddit_create",e.MULTIREDDIT_DUPLICATE="multireddit_duplicate",e.MULTIREDDIT_EDIT="multireddit_edit",e.MUTE_USER="mute_user",e.PINNED_POSTS_LIMIT_REACHED="pinned_posts_limit_reached",e.REDESIGN_MODAL="redesign_modal",e.REGISTER_MODAL_ID="account_manager_register",e.SPEZ_MODAL="spez_modal",e.SUBREDDIT_CHAT_SETTINGS="subreddit_chat_settings",e.SUBREDDIT_PREMIUM_BADGE_MANAGEMENT="subreddit_premium_badge_management",e.SUBREDDIT_PREMIUM_GIFT_MODAL="subreddit_premium_gift",e.SUBREDDIT_PREMIUM_PURCHASE_MODAL="subreddit_premium_purchase",e.SUBREDDIT_PREMIUM_UPLOAD_MODAL="subreddit_premium_upload",e.TRANSFER_POINTS="community_points_transfer",e.TWO_FACTOR_BACKUP_CODES="two_factor_backup_codes",e.USER_FLAIR_MODAL_ID="user_flair_modal",e.PAINTER_MODAL="painter_modal",e.WALLET_REGISTRATION_MODAL="wallet_registration_modal"}(r||(r={}))},"./src/reddit/constants/page.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u}));const r="(frontpage)",s="(modListing)",o="(modListingFiltered)",i="(explore)";var c;!function(e){e.Frontpage="frontpage",e.All="all",e.Mod="mod",e.Friends="friends",e.Popular="popular",e.Explore="explore",e.PostDetail="postDetail",e.Topic="topic",e.OtherDiscussions="otherDiscussions"}(c||(c={}));const a=c.Frontpage,d=c.Popular;var u;!function(e){e[e.Top=0]="Top",e[e.Posts=1]="Posts",e[e.Listings=2]="Listings"}(u||(u={}))},"./src/reddit/constants/parameters.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"k",(function(){return a})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"o",(function(){return p})),n.d(t,"q",(function(){return m})),n.d(t,"t",(function(){return f})),n.d(t,"f",(function(){return O})),n.d(t,"u",(function(){return g})),n.d(t,"v",(function(){return j})),n.d(t,"r",(function(){return h})),n.d(t,"w",(function(){return y})),n.d(t,"x",(function(){return _})),n.d(t,"y",(function(){return E})),n.d(t,"s",(function(){return I})),n.d(t,"e",(function(){return v})),n.d(t,"j",(function(){return S})),n.d(t,"i",(function(){return T})),n.d(t,"p",(function(){return C}));const r="category",s="category_name",o="draft",i="include_over_18",c="is_multi",a="moderator",d="action",u="newUser",l="q",b="connected_account",p="restrict_sr",m="sort",f="t",O="geo_filter",g="verified",j="verifiedEmail",h="source",y="v",_="v2",E="show_source",I="steward_only",v="feature",S=["ad","adHash","clickUrl",f,v],T=["after","before"],C=["ad","include_over_18","q","restrict_sr","sort","t","type",v,c,r,s,h]},"./src/reddit/constants/postCollection.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o}));const r=160,s=120,o=50},"./src/reddit/constants/preferences.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return c}));const r="rpanDuDismissalTime",s="showRpanDu",o="topContentDismissalTime",i="topContentTimesDismissed",c=[...["openPostInNewTab","rememberCommunitySort","sort","stylesEnabled","useMarkdown","layout","rememberCommunityLayout","hasSeenCustomizeFlyout",r,s,o,i],"activityRelevantAds","thirdPartyDataPersonalizedAds","thirdPartySiteDataPersonalizedAds","thirdPartySiteDataPersonalizedContent"]},"./src/reddit/constants/shortcuts.ts":function(e,t,n){"use strict";var r,s;n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),function(e){e.CommentPage="CommentPage",e.Global="Global",e.Lightbox="Lightbox",e.Listing="Listing",e.Modqueue="Modqueue"}(r||(r={})),function(e){e.Close="CLOSE",e.CollapseOrLoad="COLLAPSE_OR_LOAD",e.Downvote="DOWNVOTE",e.Expando="EXPANDO",e.Hide="HIDE",e.Konami="KONAMI",e.NewPost="NEW_POST",e.NextComment="NEXT_COMMENT",e.NextPost="NEXT_POST",e.OpenIndex="OPEN_INDEX",e.OpenLightbox="OPEN_LIGHTBOX",e.OpenLink="OPEN_LINK",e.PrevComment="PREV_COMMENT",e.PrevPost="PREV_POST",e.Reply="REPLY",e.Save="SAVE",e.Upvote="UPVOTE"}(s||(s={}));const o="SHORTCUT_FOCUSABLE_DIV",i=[9,13,32]},"./src/reddit/constants/spezModal.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a}));const r="spezmodal",s=15692976e5,o=1569384e6,i="https://www.usa.gov/register-to-vote",c="https://out.reddit.com/t3_d0jy34?url=https%3A%2F%2Fwww.usa.gov%2Fregister-to-vote&token=AQAA7CWNXTo30aiSOjHV2gAgr4pleLxES4SoxFPkO0-ihMCYQYSC&app_name=web2x",a=1569531372e3},"./src/reddit/constants/stewards.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="CommunityStewards"},"./src/reddit/constants/subredditLeaderboard.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return a})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"f",(function(){return f}));const r="DEFAULT",s="",o="All Communities",i="top",c="MOD",a="moderating",d="UPANDCOMING",u="up-and-coming",l="/subreddits/leaderboard/",b={id:s,name:s},p={id:d,name:u},m=[{name:"Sports",id:"c1015",path:"".concat(l,"sports/")},{name:"News",id:"c1009",path:"".concat(l,"news/")},{name:"Gaming",id:"c1005",path:"".concat(l,"gaming/")},{name:"Aww",id:"c1000",path:"".concat(l,"aww/")}],f=["Sports","Gaming","News","TV","Aww","Memes","Pics & Gifs","Travel","Tech","Music"]},"./src/reddit/constants/things.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r="t1_",s="t3_"},"./src/reddit/constants/thumbnails.ts":function(e,t,n){"use strict";var r;!function(e){e.NSFW="nsfw",e.SELF="self",e.IMAGE="image",e.DEFAULT="default",e.SPOILER="spoiler"}(r||(r={})),t.a=r},"./src/reddit/constants/tracking.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));const r={CLICK:"click",CLOSE:"close",COMPLETE:"complete",DISABLE:"disable",DRAG:"drag",ENABLE:"enable",REJECT:"reject",START:"start",STOP:"stop",VIEW:"view"},s={POST:"post",SCREEN:"screen"},o="media-element",i={allowChatPostCreation:"allow_chat_post_creation",allowPostCrossposts:"allow_post_crossposts",allowImages:"allow_images",allowDiscovery:"allow_discovery",contentVisible:"allow_top",collapseDeletedComments:"collapse_deleted_comments",commentScoreHideMins:"comment_score_hide_mins",crowdControlMode:"crowd_control_mode",crowdControlLevel:"crowd_control_level",crowdControlChatLevel:"crowd_control_chat_level",description:"description",disableContributorRequests:"disable_contributor_requests",domain:"domain",excludeBannedModqueue:"exclude_banned_modqueue",headerHoverText:"header-title",hideAds:"hide_ads",isChatPostFeatureEnabled:"is_chat_post_feature_enabled",keyColor:"key_color",language:"lang",contentOptions:"link_type",over18:"over_18",publicDescription:"public_description",publicTraffic:"public_traffic",restrictCommenting:"restrict_commenting",restrictPosting:"restrict_posting",showMedia:"show_media",showMediaPreview:"show_media_preview",spamComments:"spam_comments",spamLinks:"spam_links",spamSelfposts:"spam_selfposts",spoilersEnabled:"spoilers_enabled",submitLinkLabel:"submit_link_label",submitText:"submit_text",submitTextLabel:"submit_text_label",suggestedCommentSort:"suggested_comment_sort",title:"title",subredditId:"subreddit_id",subredditType:"type",welcomeMessageEnabled:"welcome_message_enabled",welcomeMessageText:"welcome_message",wikiEditAge:"wiki_edit_age",wikiEditKarma:"wiki_edit_karma",wikimode:"wikimode"}},"./src/reddit/constants/video.ts":function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"l",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"j",(function(){return m}));const r=250,s=500,o=25,i=50,c=75,a=95,d=100,u=[o,i,c,a,d],l=3,b=5,p=10,m=[l,b,p]},"./src/reddit/constants/viewabilityEvents.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.Viewable=1]="Viewable",e[e.VideoViewable=2]="VideoViewable",e[e.VideoFullyViewable=3]="VideoFullyViewable",e[e.Impression=4]="Impression"}(r||(r={}))},"./src/reddit/constants/wiki.ts":function(e,t,n){"use strict";n.d(t,"l",(function(){return r})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"k",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return m}));var r;n("./node_modules/core-js/modules/web.dom.iterable.js");!function(e){e.Create="create",e.Edit="edit",e.Revisions="revisions",e.Settings="settings"}(r||(r={}));const s="index",o="pages",i="config/automoderator",c="reddit.com",a=["config/description","config/sidebar","config/stylesheet","config/submit_text"],d="fromWikiEditButton",u=256,l=128,b=new Set(["edit","revisions","settings","discussions","revisions","pages","create"]),p=new Set(["reddit","config","special"]),m=3},"./src/reddit/contexts/InsideOverlay.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n("./node_modules/react/index.js"),s=n.n(r);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const i=s.a.createContext(!1);function c(e){return class extends s.a.Component{render(){return s.a.createElement(i.Consumer,null,t=>s.a.createElement(e,o({},this.props,{isOverlay:t})))}}}},"./src/reddit/contexts/PageLayer/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"t",(function(){return a}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./src/reddit/contexts/PageLayer/selectors.ts");n.d(t,"b",(function(){return o.a})),n.d(t,"c",(function(){return o.c})),n.d(t,"d",(function(){return o.d})),n.d(t,"e",(function(){return o.e})),n.d(t,"f",(function(){return o.f})),n.d(t,"g",(function(){return o.g})),n.d(t,"h",(function(){return o.h})),n.d(t,"i",(function(){return o.i})),n.d(t,"j",(function(){return o.j})),n.d(t,"k",(function(){return o.k})),n.d(t,"l",(function(){return o.l})),n.d(t,"m",(function(){return o.m})),n.d(t,"n",(function(){return o.n})),n.d(t,"o",(function(){return o.o})),n.d(t,"p",(function(){return o.p})),n.d(t,"q",(function(){return o.q})),n.d(t,"r",(function(){return o.r})),n.d(t,"s",(function(){return o.s})),n.d(t,"u",(function(){return o.t})),n.d(t,"v",(function(){return o.u})),n.d(t,"w",(function(){return o.v})),n.d(t,"x",(function(){return o.w})),n.d(t,"y",(function(){return o.x})),n.d(t,"z",(function(){return o.y})),n.d(t,"A",(function(){return o.z})),n.d(t,"B",(function(){return o.A})),n.d(t,"C",(function(){return o.B})),n.d(t,"D",(function(){return o.C})),n.d(t,"E",(function(){return o.D})),n.d(t,"F",(function(){return o.E})),n.d(t,"G",(function(){return o.F})),n.d(t,"H",(function(){return o.G})),n.d(t,"I",(function(){return o.H})),n.d(t,"J",(function(){return o.I})),n.d(t,"K",(function(){return o.J})),n.d(t,"L",(function(){return o.K})),n.d(t,"M",(function(){return o.L})),n.d(t,"N",(function(){return o.M})),n.d(t,"O",(function(){return o.N})),n.d(t,"P",(function(){return o.O})),n.d(t,"Q",(function(){return o.P})),n.d(t,"R",(function(){return o.Q})),n.d(t,"S",(function(){return o.R})),n.d(t,"T",(function(){return o.S})),n.d(t,"U",(function(){return o.T})),n.d(t,"V",(function(){return o.U}));const i=s.a.createContext(null),c=(e,t)=>void 0!==t?Object.keys(t).reduce((n,r)=>(n[r]=t[r](e),n),{}):{pageLayer:e};function a(e){return t=>(class extends s.a.Component{constructor(){super(...arguments),this.renderChildren=n=>{const r=Object.assign({},this.props,c(n,e));return s.a.createElement(t,r)}}render(){return s.a.createElement(i.Consumer,null,this.renderChildren)}})}},"./src/reddit/contexts/PageLayer/selectors.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./node_modules/lodash/isEmpty.js"),s=n.n(r),o=n("./node_modules/reselect/es/index.js"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/isFakeSubreddit/index.ts"),a=n("./src/lib/objectSelector/index.ts"),d=n("./src/lib/search/index.ts"),u=n("./src/reddit/constants/categories.tsx"),l=n("./src/reddit/constants/page.ts"),b=n("./src/reddit/constants/parameters.ts"),p=n("./src/reddit/constants/postLayout.ts"),m=n("./src/reddit/constants/posts.ts");const f={access:!0,config:!0,flair:!0,mail:!0,posts:!0,wiki:!0,chatConfig:!0,chatOperator:!0,all:!0};var O=n("./src/reddit/helpers/flair.ts"),g=(n("./node_modules/core-js/modules/es6.array.sort.js"),n("./src/lib/listingSort/index.ts")),j=n("./src/lib/makeListingKey/index.ts"),h=n("./src/reddit/helpers/getSubredditSortForListingKeyCreation/index.ts"),y=n("./src/reddit/selectors/frontpage.ts");var _=(e,t)=>{const{routeMatch:n,urlParams:r,queryParams:s}=t;if(!n)return;const o=(e=>{const{routeMatch:t,urlParams:n,queryParams:r}=e;if(!t)return;let s="";switch(t.route.meta.name){case i.xb.PROFILE_COMMENTS:case i.xb.PROFILE_POSTS:s=r.sort;break;default:s=n.sort}return s||void 0})(t);switch(n.route.meta.name){case i.xb.INDEX:case i.xb.LISTING:return o||Object(y.a)(e);case i.xb.SUBREDDIT:{const t=r,{subredditName:n}=t,o=Object(h.a)(t),c=Object(j.a)(n,o,s),a=e.listings.postOrder.listingSort[c];if(a){const{sort:e}=Object(g.d)(a.sort);return e}return i.O}default:return o||i.O}},E=n("./src/reddit/models/Flair/index.ts"),I=n("./src/reddit/models/Image/index.tsx"),v=n("./src/reddit/selectors/experiments/categoriesPlacement.ts"),S=n("./src/reddit/selectors/monthsToMinutes.ts"),T=n("./src/reddit/selectors/multireddit.ts"),C=n("./src/reddit/selectors/postCollection.ts"),w=n("./src/reddit/selectors/postDraft.ts"),D=n("./src/reddit/selectors/profile.ts"),x=n("./src/reddit/selectors/subreddit.ts"),P=n("./src/reddit/selectors/subredditModeration.ts"),A=n("./src/reddit/selectors/user.ts");n.d(t,"e",(function(){return R})),n.d(t,"y",(function(){return k})),n.d(t,"E",(function(){return N})),n.d(t,"K",(function(){return L})),n.d(t,"M",(function(){return M})),n.d(t,"x",(function(){return U})),n.d(t,"C",(function(){return F})),n.d(t,"A",(function(){return B})),n.d(t,"S",(function(){return G})),n.d(t,"v",(function(){return q})),n.d(t,"u",(function(){return V})),n.d(t,"z",(function(){return H})),n.d(t,"J",(function(){return K})),n.d(t,"D",(function(){return J})),n.d(t,"H",(function(){return z})),n.d(t,"F",(function(){return Q})),n.d(t,"I",(function(){return X})),n.d(t,"w",(function(){return $})),n.d(t,"c",(function(){return Z})),n.d(t,"a",(function(){return ee})),n.d(t,"s",(function(){return te})),n.d(t,"d",(function(){return ne})),n.d(t,"n",(function(){return re})),n.d(t,"q",(function(){return se})),n.d(t,"m",(function(){return oe})),n.d(t,"o",(function(){return ie})),n.d(t,"p",(function(){return ce})),n.d(t,"G",(function(){return ae})),n.d(t,"h",(function(){return de})),n.d(t,"i",(function(){return ue})),n.d(t,"j",(function(){return le})),n.d(t,"k",(function(){return be})),n.d(t,"B",(function(){return pe})),n.d(t,"g",(function(){return me})),n.d(t,"O",(function(){return fe})),n.d(t,"Q",(function(){return Oe})),n.d(t,"T",(function(){return ge})),n.d(t,"U",(function(){return je})),n.d(t,"L",(function(){return he})),n.d(t,"N",(function(){return ye})),n.d(t,"r",(function(){return _e})),n.d(t,"P",(function(){return Ee})),n.d(t,"b",(function(){return Ie})),n.d(t,"t",(function(){return ve})),n.d(t,"R",(function(){return Se})),n.d(t,"f",(function(){return Te})),n.d(t,"l",(function(){return Ce}));const R=e=>e?e.url:"",k=e=>!!(e&&e.routeMatch&&i.o.FRONTPAGE.includes(e.routeMatch.route.chunk)),N=e=>e&&e.routeMatch&&[i.o.FRONTPAGE,i.o.MULTIREDDIT,i.o.SUBREDDIT].includes(e.routeMatch.route.chunk),L=e=>e&&e.routeMatch&&e.routeMatch.route.chunk===i.o.TOPIC,M=(e,t)=>{let{pageLayer:n}=t;if(!n||!N(n)||!n.routeMatch)return null;const{match:r}=n.routeMatch,s=r.params.subredditName;if(!s)return null;const o=Object(x.B)(e,{subredditName:s});return o?o.name:s},U=(e,t)=>{let{pageLayer:n}=t;const r=M(e,{pageLayer:n});return!!r&&Object(c.a)(r)},F=(e,t)=>{let{pageLayer:n}=t;const r=M(e,{pageLayer:n}),s=k(n),o=Object(A.J)(e);return r===l.g||!o&&s&&!Object(S.g)(e)},B=(e,t)=>{let{pageLayer:n}=t;const r=M(e,{pageLayer:n});return!(r&&!Object(c.a)(r))},G=e=>{if(!e||!e.routeMatch)return;const{route:t}=e.routeMatch;return t.meta.name},q=e=>!(!e||!e.meta||e.meta.name!==i.xb.COMMENTS),V=e=>!!(e&&e.meta&&e.meta.name===i.xb.COMMENTS&&e.urlParams.partialCommentId),H=e=>!(!e||!e.meta||e.meta.name!==i.xb.SEARCH_RESULTS||e.urlParams.subredditName),K=e=>!!(e&&e.meta&&e.meta.name===i.xb.SEARCH_RESULTS&&e.urlParams.subredditName),W=e=>!(!e||!e.meta||e.meta.name!==i.xb.COMMENTS||m.b[e.urlParams.routePrefix]!==m.a.PROFILE),J=e=>!(!e||!e.meta||e.meta.name!==i.xb.POST_CREATION),Y=e=>!(!e||!e.meta||e.meta.name!==i.xb.POST_DRAFT),z=e=>!!(e&&e.meta&&i.ob.has(e.meta.name)),Q=e=>!!(e&&e.meta&&i.mb.has(e.meta.name)),X=e=>!!(e&&e.meta&&i.Gb.has(e.meta.name)),$=e=>!(!e||!e.meta||e.meta.name!==i.xb.EXPLORE),Z=e=>{const t=e&&e.urlParams;if(!t)return;const{multiredditName:n,username:r}=t;return{multiredditName:n,username:r}},ee=e=>{const t=e&&e.urlParams;return t?t.categoryName:void 0},te=e=>{const t=e&&e.urlParams;return t?Object(u.f)(t.topicName):void 0},ne=(e,t)=>{let{pageLayer:n}=t;const r=Z(n);if(!r)return null;const{multiredditName:s,username:o}=r;return s?Object(T.d)(e,{multiredditName:s,username:o}):null},re=(e,t)=>{let{pageLayer:n}=t;if(Y(n)){const t=ve(n);return Object(w.e)(e,{draftId:t})}const r=n&&n.urlParams;return r?r.subredditName:void 0},se=(e,t)=>{let{pageLayer:n}=t;if(n&&n.urlParams&&m.b[n.urlParams.routePrefix]===m.a.PROFILE)return null;const r=re(e,{pageLayer:n});return r?Object(x.B)(e,{subredditName:r}):null},oe=(e,t)=>{let{pageLayer:n}=t;const r=re(e,{pageLayer:n});return r?Object(x.G)(e,r):null},ie=(e,t)=>se(e,t)||le(e,t),ce=(e,t)=>{let{pageLayer:n}=t;const r=((e,t)=>{let{pageLayer:n}=t;const r=oe(e,{pageLayer:n});return r?e.postFlair[r]:null})(e,{pageLayer:n});return r?r.displaySettings.position:E.b.Right},ae=e=>!!(e&&e.routeMatch&&i.pb.has(e.routeMatch.route.meta.name))||W(e)||(e=>!(!e||!e.meta||e.meta.name!==i.xb.COLLECTION_COMMENTS||m.b[e.urlParams.routePrefix]!==m.a.PROFILE))(e),de=e=>{const t=e&&e.urlParams;return t?t.profileName:void 0},ue=e=>{if(e&&e.routeMatch&&G(e)===i.xb.PROFILE_PRIVATE)return e.routeMatch.match.params.listingType},le=(e,t)=>{let{pageLayer:n}=t;const r=W(n)?re(e,{pageLayer:n}):de(n);return r?Object(D.j)(e,{profileName:r}):null},be=(e,t)=>{let{pageLayer:n}=t;const r=W(n)?re(e,{pageLayer:n}):de(n);return r?Object(A.hb)(e,{userName:r}):null},pe=(e,t)=>{let{pageLayer:n}=t;const r=le(e,{pageLayer:n}),s=Object(A.i)(e),o=s&&(s.username?s.username:s.displayText);return!(!o||!r||o!==r.name)},me=(e,t)=>{let{pageLayer:n}=t;if(pe(e,{pageLayer:n}))return f},fe=(e,t)=>{let{pageLayer:n}=t;if(!n)return;const{key:r}=n;return e.platform.referrers[r]},Oe=e=>e?e.queryParams:{},ge=e=>{const t=G(e);if(e&&t&&t===i.xb.SEARCH_RESULTS)return e.queryParams[b.b]?Object(d.a)(e.queryParams[b.b]):Object(d.a)(e.queryParams[b.n])},je=e=>e?e.url:"",he=(e,t)=>{let n,{pageLayer:r}=t;if(void 0!==(n=void 0===r?e.platform.currentPage:r)){const t=G(n);if(t===i.xb.POST_CREATION)return p.g.Large;if(t===i.xb.SUBREDDIT_WIKI)return p.g.Classic;if(t===i.xb.EXPLORE)return p.g.Classic;if(t===i.xb.TOPIC||Object(v.a)(e,{pageLayer:r})&&(k(r)||F(e,{pageLayer:r})))return p.g.Large;if(t===i.xb.PROFILE_SNOOBUILDER)return p.g.Classic;if(t===i.xb.SUBREDDIT&&e.user.prefs.rememberCommunityLayout){const t=((e,t)=>{let{pageLayer:n}=t;const r=oe(e,{pageLayer:n});if(r){const t=e.user.prefs.subreddit[r];if(t&&t.layout)return t.layout}return null})(e,{pageLayer:r});if(t)return p.b[t]}if(i.pb.has(t)){return ye(e,{pageLayer:r})?t===i.xb.PROFILE_POSTS||t===i.xb.PROFILE_PRIVATE?p.g.Classic:p.g.Compact:t===i.xb.PROFILE_OVERVIEW?p.g.Large:p.g.Classic}}return e.user.prefs.layout?p.b[e.user.prefs.layout]:p.g.Classic},ye=(e,t)=>{let{pageLayer:n}=t;return!!Object(P.t)(e)||!(!n||!n.meta)&&n.meta.name===i.xb.MODQUEUE_PAGES},_e=(e,t)=>{let{pageLayer:n}=t;const r=oe(e,{pageLayer:n});if(!r)return!0;const s=e.subreddits.about[r];return!s||s.showMedia},Ee=Object(a.a)((e,t)=>{let{pageLayer:n,postId:r,flairStyleTemplateDraft:s}=t;const o=e.posts.models[r];if(!o)return;const c=o.flair.find(e=>Object(O.p)(e.type));if(!c||void 0===c.templateId)return;const a=oe(e,{pageLayer:n});if(!a||a!==o.belongsTo.id)return;if(!e.structuredStyles.models[a])return;const d=e.structuredStyles.flairTemplate,u=!!s;if(n&&n.meta&&n.meta.name===i.xb.MODERATION_PAGES&&!s)return;let l=s||d.models[c.templateId];if(!l)return;const b=!u&&Object(A.U)(e),p=n&&n.locationState&&n.locationState.isOverlay;if(b||p){if(!l.postPlaceholderImage)return;l={postPlaceholderImage:l.postPlaceholderImage}}return Object.keys(l).filter(e=>l[e]!==I.c).reduce((e,t)=>(e[t]=l[t],e),{})}),Ie=(e,t)=>{let{pageLayer:n}=t;return n?_(e,n):void 0},ve=e=>{if(e)return Y(e)?e.urlParams.draftId:e.queryParams.draft},Se=e=>e&&e.queryParams||{},Te=(e,t)=>{let{pageLayer:n}=t;const r=(e=>e?e.queryParams.collection:void 0)(n);return r?Object(C.q)(e,{collectionId:r}):void 0},Ce=Object(o.a)(re,e=>e.categories.models,e=>e.subreddits.models,e=>e.subreddits.byCategory,(e,t,n,r)=>{if(!e)return;const o=Object.keys(t).find(t=>{const o=r[t];if(s()(o))return!1;const i=o.map(e=>n[e].name);return!s()(i)&&Object(u.d)(i)===e});return o?t[o]:void 0})},"./src/reddit/controls/Button/index.m.less":function(e,t,n){e.exports={DangerButtonStyles:"_2TFttKq5FzfEJ75z_ZdIum",dangerButtonStyles:"_2TFttKq5FzfEJ75z_ZdIum",DangerButton:"_1K_eZyG6kthwPn55PD-EMM",dangerButton:"_1K_eZyG6kthwPn55PD-EMM",active:"_39a0Mt5b1i2joAqIaEHOWJ",ExtraSmallBaseButton:"_2v8rCfSRT4mr5y4pwEhX41",extraSmallBaseButton:"_2v8rCfSRT4mr5y4pwEhX41",PrimaryLinkButton:"wLV79_wV-ziNiWmf3Y7OV",primaryLinkButton:"wLV79_wV-ziNiWmf3Y7OV",PrimaryRouterLink:"_3UhcBirLMXHSbN5vYYBGSF",primaryRouterLink:"_3UhcBirLMXHSbN5vYYBGSF",PrimaryButton:"_2JBsHFobuapzGwpHQjrDlD",primaryButton:"_2JBsHFobuapzGwpHQjrDlD",SecondaryLinkButton:"_1HunhFR-0b-AYs0WG9mU_P",secondaryLinkButton:"_1HunhFR-0b-AYs0WG9mU_P",SecondaryRouterLink:"_2yhUdcPyG1k3qsmDb4y6u_",secondaryRouterLink:"_2yhUdcPyG1k3qsmDb4y6u_",SecondaryButton:"PiO8QDmoJoOL2sDjJAk4C",secondaryButton:"PiO8QDmoJoOL2sDjJAk4C",TertiaryButton:"_1McO-Omm_mC2bkTnVgD6NV",tertiaryButton:"_1McO-Omm_mC2bkTnVgD6NV",TertiaryLinkButton:"_9Yn-qhIEvQgFU6jnrKkSC",tertiaryLinkButton:"_9Yn-qhIEvQgFU6jnrKkSC",TertiaryRouterLink:"SuTcOCtRzb-pPZYaAZTjh",tertiaryRouterLink:"SuTcOCtRzb-pPZYaAZTjh",GoldButton:"_2GYoN_LmWsKeeYnfg8wF7N",goldButton:"_2GYoN_LmWsKeeYnfg8wF7N",PremiumButton:"_14IRbTHWqATJbFJ9PgPswU",premiumButton:"_14IRbTHWqATJbFJ9PgPswU",InlineTextButton:"_3kfXQpuyMJIMeWQCwjZKfw",inlineTextButton:"_3kfXQpuyMJIMeWQCwjZKfw",Button:"_2iuoyPiKHN3kfOoeIQalDT",button:"_2iuoyPiKHN3kfOoeIQalDT",redditStyle:"_2nelDm85zKKmuD94NequP0",ChatButton:"_13twe55MPRo1LqypxB-LJx",chatButton:"_13twe55MPRo1LqypxB-LJx"}},"./src/reddit/controls/Button/index.tsx":function(e,t,n){"use strict";n.d(t,"m",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return g})),n.d(t,"f",(function(){return j})),n.d(t,"b",(function(){return h})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return _})),n.d(t,"i",(function(){return E})),n.d(t,"n",(function(){return I})),n.d(t,"o",(function(){return v})),n.d(t,"c",(function(){return S})),n.d(t,"e",(function(){return T})),n.d(t,"a",(function(){return C})),n.d(t,"d",(function(){return w}));n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./src/lib/classNames/index.ts"),i=n("./src/reddit/controls/InternalLink/index.tsx"),c=n("./src/lib/lessComponent.tsx"),a=n("./src/reddit/controls/Button/index.m.less"),d=n.n(a);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const b=(e,t,n)=>Object(o.a)(e,{[d.a.redditStyle]:!(!t&&!n)});c.a.wrapped(e=>{const{className:t,redditStyle:n,"data-redditstyle":r}=e,o=l(e,["className","redditStyle","data-redditstyle"]);return s.a.createElement("button",u({className:b(t,n,r)},o))},"Button",d.a);const p=e=>{var{className:t,redditStyle:n,"data-redditstyle":r}=e,o=l(e,["className","redditStyle","data-redditstyle"]);return s.a.createElement(i.a,u({className:b(t,n,r)},o))},m=e=>{var{className:t,redditStyle:n,"data-redditstyle":r}=e,o=l(e,["className","redditStyle","data-redditstyle"]);return s.a.createElement("a",u({className:b(t,n,r)},o))},f=e=>{var{className:t,redditStyle:n,"data-redditstyle":r}=e,o=l(e,["className","redditStyle","data-redditstyle"]);return s.a.createElement("button",u({className:b(t,n,r)},o))},O=c.a.wrapped(m,"PrimaryLinkButton",d.a),g=c.a.wrapped(p,"PrimaryRouterLink",d.a),j=c.a.wrapped(f,"PrimaryButton",d.a),h=c.a.wrapped(f,"DangerButton",d.a),y=c.a.wrapped(m,"SecondaryLinkButton",d.a),_=c.a.wrapped(p,"SecondaryRouterLink",d.a),E=c.a.wrapped(f,"SecondaryButton",d.a),I=c.a.wrapped(f,"TertiaryButton",d.a),v=(c.a.wrapped(m,"TertiaryLinkButton",d.a),c.a.wrapped(p,"TertiaryRouterLink",d.a)),S=c.a.wrapped(f,"GoldButton",d.a),T=c.a.wrapped(f,"PremiumButton",d.a),C=c.a.wrapped(f,"ChatButton",d.a),w=c.a.wrapped(f,"InlineTextButton",d.a)},"./src/reddit/controls/InternalLink/index.m.less":function(e,t,n){e.exports={disabledLink:"_1tQt2CUWT3M7NNSMoh_o_4"}},"./src/reddit/controls/InternalLink/index.tsx":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./node_modules/react-router-dom/esm/react-router-dom.js"),i=n("./src/lib/classNames/index.ts"),c=n("./src/reddit/helpers/path/index.ts"),a=n("./src/reddit/controls/InternalLink/index.m.less"),d=n.n(a);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};t.a=e=>{var{children:t,className:n,disabled:r,replace:a,to:b}=e,p=l(e,["children","className","disabled","replace","to"]);return r?s.a.createElement("span",{className:Object(i.a)(d.a.disabledLink,n)},t):("string"==typeof b&&(b=Object(c.b)(b)),s.a.createElement(o.a,u({className:n,to:b},p),t))}},"./src/reddit/controls/OutboundLink/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/lodash/omit.js"),s=n.n(r),o=n("./node_modules/react/index.js"),i=n.n(o),c=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/reselect/es/index.js"),d=n("./src/lib/addQueryParams/index.ts");var u=(e,t)=>t?Object(d.a)(e,{user_id:t}):e,l=n("./src/lib/opener/index.ts"),b=n("./src/lib/redditId/index.ts"),p=n("./src/reddit/selectors/user.ts");function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const f=Object(a.a)(p.a,p.i,(e,t)=>({allowClickTracking:e,userId:t?Object(b.a)(t.id):null})),O=Object(c.b)(f,{}),g=(e,t,n,r)=>{r&&t.outboundUrl&&t.outboundUrlExpiration&&t.outboundUrlExpiration>Date.now()&&(e.href=u(t.outboundUrl,n))},j=O(e=>{const{allowClickTracking:t,href:n,isSponsored:r,source:o,userId:c}=e;let a=s()(e,["allowClickTracking","isSponsored","source","userId"]);const d=o&&o.outboundUrl&&r?o.outboundUrl:n;return a=Object.assign({},a,{href:d,rel:l.a,target:l.b.BLANK}),!o||(e=>{const{outboundUrlCreated:t,outboundUrlReceived:n}=e;return!(!t||!n)&&(t>n+3e5||t<n-36e5)})(o)?i.a.createElement("a",a):i.a.createElement("a",m({},a,{onMouseDown:e=>{if(1===e.button||2===e.button||e.ctrlKey)return!0;g(e.currentTarget,o,c,t)},onMouseLeave:e=>((e,t)=>{e.href=t})(e.currentTarget,d),onTouchStart:e=>g(e.currentTarget,o,c,t)}))});t.a=j},"./src/reddit/customMiddleware/gqlContext.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n("./src/config.ts");const s=e=>{let{apiUrl:t,onBeforeRequest:n,onResponse:r,statsAppName:s,headers:o}=e;return{apiUrl:t,onBeforeRequest:n,onResponse:r,statsAppName:s,headers:o()}},o={unsafeLoggedOut:!1,accessToken:""};t.a=e=>{let t=()=>o;return{gqlContext:()=>{const{headers:n,onBeforeRequest:s,onResponse:o,statsAppName:i}=e();return{apiUrl:r.a.gqlUrl,onBeforeRequest:s,onResponse:o,statsAppName:i,headers:()=>(e=>{const{unsafeLoggedOut:n,accessToken:r}=t();return n?Object.assign({},e,{Authorization:"Bearer ".concat(r)}):Object.assign({},e)})(n)}},middleware:e=>(t=()=>(e=>{if(!e.user.session)return o;const{unsafeLoggedOut:t,accessToken:n}=e.user.session;return{unsafeLoggedOut:!!t,accessToken:n}})(e.getState()),e=>t=>e(t))}}},"./src/reddit/endpoints/accounts/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/headers.ts");const c=async(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{data:{name:t},endpoint:"".concat(e.apiUrl,"/api/block_user"),method:r.bb.POST}),a=async(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{data:{name:n,container:t,type:"enemy"},endpoint:"".concat(e.apiUrl,"/api/unfriend"),method:r.bb.POST}),d=async(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{data:{name:t},endpoint:"".concat(e.apiUrl,"/api/add_whitelisted?include_model"),method:r.bb.POST}),u=async(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{data:{name:t},endpoint:"".concat(e.apiUrl,"/api/remove_whitelisted"),method:r.bb.POST})},"./src/reddit/endpoints/category/categoryList.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/categories.tsx"),c=n("./src/reddit/constants/headers.ts");const a=e=>{const t={},n=[];return e.forEach((e,r)=>{const s={attr:e.category_attr,color:e.category_color||i.a[r%i.a.length],icon:e.category_icon,id:e.category_id,name:e.category_name};n.push(s.id),t[s.id]=s}),{categories:t,categoryIds:n}};t.a=e=>Object(s.b)(Object(o.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/available_subreddit_categories.json?use_extended_categories=true"),method:r.bb.GET})},"./src/reddit/endpoints/category/subreddits.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/headers.ts"),c=n("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),a=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const d=e=>{const t=[],n=[],r={},s={};return e.data.children.forEach(e=>{let{data:o}=e;const i=Object(c.a)(o);t.push(i.id),n.push(i.name),r[i.id]=i,s[i.id]={accountsActive:o.accounts_active,allOriginalContent:o.all_original_content,bannerBackgroundColor:o.banner_background_color,bannerBackgroundImage:o.banner_background_image,contentCategory:o.content_category,allowChatPostCreation:o.allow_chat_post_creation,keyColor:o.key_color,originalContentTagEnabled:o.original_content_tag_enabled,publicDescription:o.public_description,subscribers:o.subscribers,userIsSubscriber:o.user_is_subscriber}}),{subredditIds:t,subredditNames:n,subreddits:r,subredditsAboutInfo:s}};t.a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(a.a)("".concat(e.apiUrl,"/api/subreddits_in_category.json?category_id=").concat(t,"&limit=").concat(n)),method:r.bb.GET})}},"./src/reddit/endpoints/chat/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"i",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"h",(function(){return j})),n.d(t,"a",(function(){return y})),n.d(t,"g",(function(){return I})),n.d(t,"j",(function(){return v}));n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts");const a="api/v1",d="".concat(a,"/sendbird");var u;!function(e){e.PUBLIC="all"}(u||(u={}));const l=10,b=10;class p extends Error{constructor(e,t){super(e),this.response=t}}const m=async(e,t,n)=>{const d={};return n&&(d.public_mode=u.PUBLIC),Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(a,"/subreddit/").concat(t,"/channels"),method:s.bb.GET,data:d})},f=async(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(a,"/subreddit/channels/create"),method:s.bb.POST,data:JSON.stringify({room:n.room,room_type:n.roomType,description:n.description,subreddit:n.subreddit,automute_account_age_threshold:n.minimumAcctAge,automute_on_join_duration:n.newMemberAge})}),O=async(e,t,n,d)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(a,"/subreddit/channels/").concat(t),method:s.bb.PUT,data:JSON.stringify({room:d.room,description:d.description,automute_account_age_threshold:d.minimumAcctAge,automute_on_join_duration:d.newMemberAge})}),g=async(e,t)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(a,"/subreddit/channels/").concat(t),method:s.bb.DELETE}),j=async e=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(d,"/config"),method:s.bb.GET});var h,y;function _(e){const t={bannedWords:e.profanity_filter&&e.profanity_filter.keywords,regexes:e.profanity_filter&&e.profanity_filter.regex_filters,rateLimit:e.user_messages_per_channel,domains:e.domain_filter&&e.domain_filter.domains&&e.domain_filter.domains.join(", "),useDefaultProfanityFilter:e.profanity_filter&&e.profanity_filter.should_check_global,domainFilterOption:void 0};if(!1===e.allow_links)t.domainFilterOption=y.BLOCK_ALL_DOMAINS;else{const{domain_filter:{type:n}={type:void 0}}=e;n===h.BLOCK_MODE?t.domainFilterOption=y.BLOCK_BANNED_DOMAINS:n===h.ALLOW_MODE?t.domainFilterOption=y.ALLOW_APPROVED_DOMAINS:t.domainFilterOption=y.ALLOW_ALL_DOMAINS}return t}function E(e){const t={};return e.rateLimit&&e.rateLimit>0&&(t.user_messages_per_channel=e.rateLimit,t.user_messages_per_channel_duration=b),void 0===e.bannedWords&&void 0===e.regexes&&void 0===e.useDefaultProfanityFilter||(t.profanity_filter={keywords:e.bannedWords,regex_filters:e.regexes,should_check_global:e.useDefaultProfanityFilter}),e.domainFilterOption===y.BLOCK_ALL_DOMAINS?(t.allow_links=!1,t.domain_filter={type:h.DISABLE}):e.domainFilterOption===y.ALLOW_ALL_DOMAINS?(t.allow_links=!0,t.domain_filter={type:h.DISABLE}):e.domainFilterOption===y.ALLOW_APPROVED_DOMAINS&&e.domains?(t.allow_links=!0,t.domain_filter={type:h.ALLOW_MODE,domains:e.domains.split(",")}):e.domainFilterOption===y.BLOCK_BANNED_DOMAINS&&e.domains&&(t.allow_links=!0,t.domain_filter={type:h.BLOCK_MODE,domains:e.domains.split(",")}),t}async function I(e,t){const n=await Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(a,"/chat/subreddit/").concat(t,"/settings"),method:s.bb.GET});if(n.ok&&n.body)return _(n.body)}async function v(e,t,n){const d=await Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(a,"/chat/subreddit/").concat(t,"/settings"),method:s.bb.PUT,data:JSON.stringify(E(n))});if(d.ok&&d.body)return Object.assign({},d,{body:_(d.body)});throw new p("Failed to update subreddit chat settings",d)}!function(e){e[e.BLOCK_MODE=2]="BLOCK_MODE",e[e.ALLOW_MODE=1]="ALLOW_MODE",e[e.DISABLE=0]="DISABLE"}(h||(h={})),function(e){e.ALLOW_ALL_DOMAINS="Allow all domains",e.ALLOW_APPROVED_DOMAINS="Allow links to approved domains",e.BLOCK_BANNED_DOMAINS="Block links to banned domains",e.BLOCK_ALL_DOMAINS="Block all domains"}(y||(y={}))},"./src/reddit/endpoints/economics/tips.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/config.ts"),s=n("./src/reddit/endpoints/governance/requester.ts");function o(e,t){return Object(s.a)(e,{headers:{"X-HTTP-Method-Override":"GET"},endpoint:"".concat(r.a.metaUrl,"/tips-details/").concat(t.subredditId),method:"post",data:{contentIds:t.contentIds}})}},"./src/reddit/endpoints/flair/index.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return j})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return y}));var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts"),a=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const d=(e,t,n,r,a,d)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(n,"/api/selectflair"),method:s.bb.POST,data:{api_type:"json",flair_template_id:r,name:t,text:a,css_class:d}}),u=(e,t,n,r)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/selectflair"),method:s.bb.POST,data:{api_type:"json",flair_template_id:n,link:t,text:r}}),l=(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(n,"/api/setflairenabled"),method:s.bb.POST,data:{api_type:"json",flair_enabled:t}}),b=async(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/enable_sr_user_flair.json"),method:s.bb.POST,data:{subreddit:t,enabled:n}}),p=async(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/enable_sr_link_flair.json"),method:s.bb.POST,data:{subreddit:t,enabled:n}}),m=async(e,t,n,r)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/enable_sr_user_flair_self_assign.json"),method:s.bb.POST,data:{subreddit:r,flair_type:n,enabled:t}}),f=async(e,t,n,r)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/flairtemplate_v2"),method:s.bb.POST,data:{allowable_content:t.allowableContent,css_class:t.cssClass,flair_template_id:t.id,text:t.text,text_editable:t.textEditable,flair_type:r,text_color:t.textColor,background_color:t.backgroundColor,max_emojis:t.maxEmojis,mod_only:t.modOnly,r:n}}),O=async(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/deleteflairtemplate"),method:s.bb.POST,data:{flair_template_id:t,r:n}}),g=async(e,t,n,r)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/flair_template_order/").concat(n),method:s.bb.PATCH,type:"json",data:r}),j=async(e,t)=>Object(o.b)(e,{endpoint:"".concat(r.a.gatewayUrl,"/desktopapi/v1/subreddits/").concat(t,"/userFlair"),method:s.bb.GET,headers:{[c.a]:c.a}}),h=async(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(n,"/api/deleteflair"),method:s.bb.POST,data:{api_type:"json",name:t}}),y=async(e,t)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:Object(a.a)("".concat(e.apiUrl,"/api/top_flair_in_subreddit.json?subreddit=").concat(t)),method:s.bb.GET})},"./src/reddit/endpoints/gold/communityAwards.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"l",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"f",(function(){return v})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return T})),n.d(t,"k",(function(){return C})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return D})),n.d(t,"e",(function(){return x}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/makeGqlRequest/index.ts"),i=n("./src/graphql/operations/DeleteAward.json"),c=n("./src/graphql/operations/DisableAward.json"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/lib/uploadToS3/index.ts"),u=n("./src/graphql/operations/CommunityAwardsBlacklistStatus.json"),l=n("./src/graphql/operations/CreateCommunityAward.json"),b=n("./src/graphql/operations/CreateGlobalAward.json"),p=n("./src/graphql/operations/CreateModAward.json"),m=n("./src/graphql/operations/ManageableAwards.json"),f=n("./src/graphql/operations/UsableAwards.json"),O=n("./src/graphql/operations/UsableAwardsForProfile.json"),g=n("./src/reddit/constants/headers.ts"),j=n("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts");const h=(e,t,n,o)=>{const i={subreddit:t,filepath:n,mimetype:o};return Object(s.b)(Object(a.a)(e,[g.a]),{method:r.bb.POST,endpoint:"".concat(e.apiUrl,"/api/v1/community_awards/award_asset_upload_s3"),data:i})},y=async(e,t)=>Object(d.a)(t,e),_=(e,t,n,r,s,i,c,a,d)=>Object(o.a)(e,Object.assign({},l,{variables:{coinPrice:c,iconHeight:i,iconWidth:s,iconUrl:r,name:n,subredditId:t,startsAt:a,endsAt:d}})),E=(e,t,n,r,s,i,c,a,d)=>Object(o.a)(e,Object.assign({},p,{variables:{iconHeight:i,iconWidth:s,iconUrl:r,monthsOfPremium:c,name:n,subredditId:t,startsAt:a,endsAt:d}})),I=e=>{let{context:t,awardSubType:n,name:r,iconUrl:s,iconWidth:i,iconHeight:c,isNew:a,daysOfPremium:d,daysOfDripExtension:u,coinPrice:l,coinReward:p,startsAt:m,endsAt:f}=e;return Object(o.a)(t,Object.assign({},b,{variables:{awardSubType:n,iconHeight:c,iconWidth:i,iconUrl:s,isNew:a,daysOfPremium:d,daysOfDripExtension:u,coinPrice:l,coinReward:p,name:r,startsAt:m,endsAt:f}}))},v=(e,t)=>Object(o.a)(e,Object.assign({},u,{variables:{subredditId:t}})),S=(e,t)=>Object(o.a)(e,Object.assign({},m,{variables:{subredditId:t}})),T=(e,t)=>Object(o.a)(e,Object.assign({},f,{variables:{subredditId:t,includeAppreciation:!0}})),C=(e,t)=>Object(o.a)(e,Object.assign({},O,{variables:{profileName:t,includeAppreciation:!0}})),w=(e,t)=>Object(o.a)(e,Object.assign({},i,{variables:{awardId:t}})),D=(e,t)=>Object(o.a)(e,Object.assign({},c,{variables:{awardId:t}})),x=async(e,t,n)=>{const o={api_type:"json",award_id:t,raw_json:1};return Object(s.b)(Object(a.a)(e,[g.a]),{method:r.bb.POST,endpoint:"".concat(e.apiUrl,"/api/report_award"),data:o}).then(e=>e.ok?Object.assign({},e):Object.assign({},e,{error:Object(j.a)(e)}))}},"./src/reddit/endpoints/gold/purchase.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"i",(function(){return j})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return y}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/headers.ts"),c=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),a=n("./src/reddit/helpers/genericServerError/index.ts"),d=n("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),u=n("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts");const l=(e,t)=>e.ok?e.body.json&&e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(u.a)(e)}):Object.assign({},e):Object.assign({},e,{error:e.error||Object(a.a)(t)}),b=async e=>{let{coins:t,context:n,correlationId:a,language:d,pennies:u,rememberCard:b,token:p,savedCardId:m}=e;const f={token:p?p.id:void 0,coins:t,pennies:u,remember_card:b,card_id:m,correlation_id:a},O="".concat(n.apiUrl,"/api/v2/gold/stripe/buy_coins"),g=Object(c.a)(O);return Object(s.b)(Object(o.a)(n,[i.a]),{method:r.bb.POST,endpoint:g,data:f}).then(e=>l(e,d))},p=async e=>{let{coins:t,context:n,correlationId:a,gildParams:u,isOldReddit:b,language:p,pennies:m,rememberCard:f,thingId:O,token:g,savedCardId:j}=e;const{gildType:h,includeMessage:y,isAnonymous:_,message:E}=u,I={token:g?g.id:void 0,coins:t,pennies:m,thing_id:O,gild_type:h,message:y?E:"",is_anonymous:_,remember_card:f,card_id:j,correlation_id:a},v="".concat(n.apiUrl,"/api/v2/gold/stripe/buy_coins_and_gild"),S=b?v:Object(c.a)(v);return Object(s.b)(Object(o.a)(n,[i.a]),{method:r.bb.POST,endpoint:S,data:I}).then(e=>(e&&e.ok&&e.body&&e.body.all_awardings&&(e.body.allAwardings=Object(d.a)(e.body.all_awardings)),Object.assign({},e))).then(e=>l(e,p))},m=async e=>{let{context:t,correlationId:n,language:a,pennies:d,token:u}=e;const b={token:u.id,pennies:d,correlation_id:n},p="".concat(t.apiUrl,"/api/v2/gold/stripe/buy_premium_subscription"),m=Object(c.a)(p);return Object(s.b)(Object(o.a)(t,[i.a]),{method:r.bb.POST,endpoint:m,data:b}).then(e=>l(e,a))},f=async e=>{let{buttonId:t,context:n,correlationId:a,language:d}=e;const u={button_id:t,correlation_id:a},b="".concat(n.apiUrl,"/api/v2/gold/paypal/initiate_coins_payment"),p=Object(c.a)(b);return Object(s.b)(Object(o.a)(n,[i.a]),{method:r.bb.POST,endpoint:p,data:u}).then(e=>l(e,d))},O=async e=>{let{buttonId:t,context:n,correlationId:a,language:d}=e;const u={button_id:t,correlation_id:a},b="".concat(n.apiUrl,"/api/v2/gold/paypal/initiate_premium_payment"),p=Object(c.a)(b);return Object(s.b)(Object(o.a)(n,[i.a]),{method:r.bb.POST,endpoint:p,data:u}).then(e=>l(e,d))},g=async e=>{let{buttonId:t,context:n,correlationId:a,gildTypeName:d,isAnonymous:u,isOldReddit:b,language:p,message:m,thingId:f}=e;const O={button_id:t,thing_id:f,gild_type:d,message:m,is_anonymous:u,correlation_id:a},g="".concat(n.apiUrl,"/api/v2/gold/paypal/initiate_coins_and_gild_payment"),j=b?g:Object(c.a)(g);return Object(s.b)(Object(o.a)(n,[i.a]),{method:r.bb.POST,endpoint:j,data:O}).then(e=>l(e,p))},j=async(e,t,n)=>{const c={token:n.id};return Object(s.b)(Object(o.a)(e,[i.a]),{method:r.bb.POST,endpoint:"".concat(e.apiUrl,"/api/v2/gold/stripe/update_creditcard"),data:c}).then(e=>e.ok?Object.assign({},e):Object.assign({},e,{error:Object(u.a)(e)}))},h=async(e,t)=>{const n={card_id:t};return Object(s.b)(Object(o.a)(e,[i.a]),{method:r.bb.POST,endpoint:"".concat(e.apiUrl,"/api/v2/gold/stripe/delete_creditcard"),data:n}).then(e=>e.ok?Object.assign({},e):Object.assign({},e,{error:Object(u.a)(e)}))},y=async(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{method:r.bb.GET,endpoint:"".concat(e.apiUrl,"/api/v2/gold/stripe/creditcards")}).then(e=>e.ok?Object.assign({},e):Object.assign({},e,{error:Object(u.a)(e)}))},"./src/reddit/endpoints/governance/badges.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/config.ts"),s=n("./src/reddit/endpoints/governance/requester.ts");async function o(e,t,n){const o=Object(s.a)(e,{headers:{"X-HTTP-Method-Override":"GET"},method:"post",endpoint:"".concat(r.a.metaUrl,"/badges/").concat(t),data:{selected:!0,users:n}}),i=await o;if(i.ok){const e={},t={},n=i.body;return Object.keys(n).forEach(r=>{const s=n[r];t[r]=s,e[s.userId]||(e[s.userId]=[]),e[s.userId].push(s.id)}),Object.assign({},i,{body:{badges:t,usersAppliedBadges:e}})}return i}async function i(e,t,n){const o=await Object(s.a)(e,{method:"get",endpoint:"".concat(r.a.metaUrl,"/badges/").concat(t,"?users=").concat(n)});if(o.ok){const e={},t=[],n=o.body;return Object.keys(n).forEach(r=>{const s=n[r];e[r]=s,t.push(s.id)}),Object.assign({},o,{body:{badges:e,userOwnedBadges:t}})}return o}function c(e,t,n){let o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Object(s.a)(e,{method:"patch",endpoint:"".concat(r.a.metaUrl,"/badges/").concat(t,"/").concat(n),data:{selected:o}})}},"./src/reddit/endpoints/governance/community.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/reddit/endpoints/governance/requester.ts");function i(e,t){return Object(o.a)(e,{endpoint:"".concat(r.a.metaUrl,"/communities/").concat(t.subredditId,"/me"),method:s.bb.GET})}},"./src/reddit/endpoints/governance/posts.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/config.ts"),s=(n("./src/reddit/models/Poll/index.ts"),n("./src/reddit/endpoints/governance/requester.ts"));function o(e,t,n){return Object(s.a)(e,{method:"get",endpoint:"".concat(r.a.metaUrl,"/polls/").concat(t,"?postIds=").concat(n.join(","))})}},"./src/reddit/endpoints/governance/products/badges.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return a}));var r=n("./src/config.ts"),s=n("./src/reddit/endpoints/governance/requester.ts");function o(e,t){return Object(s.a)(e,{method:"get",endpoint:"".concat(r.a.metaUrl,"/products/").concat(t,"?types=badge")})}function i(e,t){return Object(s.a)(e,{method:"get",endpoint:"".concat(r.a.metaUrl,"/products/").concat(t,"?types=badge,membership")})}function c(e,t){return Object(s.a)(e,{method:"post",endpoint:"".concat(r.a.metaUrl,"/orders"),data:t})}function a(e,t){return Object(s.a)(e,{method:"post",endpoint:"".concat(r.a.metaUrl,"/orders"),data:{currency:"usd",price:t.price,products:t.products,providerArgs:{paymentNonce:t.nonce},providerName:"braintree",subredditId:t.subredditId}})}},"./src/reddit/endpoints/governance/requester.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/lib/makeApiRequest/index.ts");function s(e,t){return Object(r.b)(e,Object.assign({type:"json"},t)).then(e=>{if(e.ok)return{body:e.body,ok:!0,status:e.status};return{error:e.error&&e.error.fields&&e.error.fields[0]?e.error.fields[0].msg:Object.assign({},e.body,{code:e.status}),ok:!1,status:e.status}})}},"./src/reddit/endpoints/governance/wallet.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n("./src/config.ts"),s=(n("./src/lib/bigNumberUtils/percent.ts"),n("./src/lib/constants/index.ts")),o=n("./src/reddit/endpoints/governance/requester.ts");function i(e,t){return Object(o.a)(e,{endpoint:"".concat(r.a.metaUrl,"/wallets/").concat(t.subredditId,"/me"),method:s.bb.GET}).then(e=>{if(e.ok){const n=e.body,r={[t.subredditId]:n};return Object.assign({},e,{body:r})}return e})}function c(e,t){return Object(o.a)(e,{headers:{"X-HTTP-Method-Override":"GET"},endpoint:"".concat(r.a.metaUrl,"/wallets/").concat(t.subredditId),method:s.bb.POST,data:t.userIds}).then(e=>e.ok?Object.assign({},e,{body:{wallets:e.body}}):e)}},"./src/reddit/endpoints/me/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts");const i=e=>Object(o.b)(e,{endpoint:"".concat(r.a.gatewayUrl,"/desktopapi/v1/me"),method:s.bb.GET})},"./src/reddit/endpoints/modQueue/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts"),a=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const d=(e,t,n)=>Object(o.b)(e,{endpoint:Object(a.a)("".concat(r.a.gatewayUrl,"/desktopapi/v1/").concat(t)),method:s.bb.GET,data:Object.assign({moderated_limit:25},n)}),u=(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/modactions/").concat(t),method:s.bb.POST,type:"json",data:n})},"./src/reddit/endpoints/moderator/moderatingSubreddits.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/headers.ts");t.a=async e=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:"".concat(e.apiUrl,"/subreddit_permissions"),method:r.bb.GET})},"./src/reddit/endpoints/moderator/structuredStyles.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return j}));var r=n("./src/graphql/operations/SubredditPostFlairStyleTemplates.json"),s=n("./src/graphql/operations/SubredditStyles.json"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/makeGqlRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/lib/uploadToS3/index.ts"),u=n("./src/reddit/constants/headers.ts"),l=n("./src/reddit/helpers/media/index.ts");const b=async(e,t,n)=>Object(i.b)(Object(a.a)(e,[u.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/structured_styles/").concat(t),method:o.bb.GET,data:{progressive_images:n}}),p=async(e,t,n)=>Object(i.b)(Object(a.a)(e,[u.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/structured_styles/").concat(t),method:o.bb.PATCH,data:n}),m=async(e,t)=>Object(i.b)(Object(a.a)(e,[u.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/structured_styles/").concat(t),method:o.bb.DELETE}),f=async(e,t,n,r,s)=>Object(i.b)(Object(a.a)(e,[u.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/style_asset_upload_s3/").concat(t),method:o.bb.POST,data:{filepath:n,imagetype:r,mimetype:s}}),O=async(e,t,n,r)=>{const s=await Object(l.g)(r),o=await f(e,t,r.name,n,s);if(!o.ok)return o;let i=o.body;return"s3UploadLease"in i&&(i=i.s3UploadLease),Object(d.a)(r,i)},g=(e,t)=>Object(c.a)(e,Object.assign({},s,{variables:{subredditName:t}})),j=(e,t,n)=>Object(c.a)(e,Object.assign({},r,{variables:{subredditName:t,templateIds:n}}))},"./src/reddit/endpoints/page/commentsPage.ts":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/reddit/models/RichTextJson/addEmotesAsImagesParam.ts"),c=n("./src/reddit/models/RichTextJson/addRTJParam.ts");t.a=(e,t,n,a)=>{const d=n?"".concat(r.a.gatewayUrl,"/desktopapi/v1/postcomments/").concat(t,"/").concat(n):"".concat(r.a.gatewayUrl,"/desktopapi/v1/postcomments/").concat(t);return Object(o.b)(e,{data:a,endpoint:Object(i.a)(Object(c.a)(d)),method:s.bb.GET,traceRequestName:"get_comments_page"})}},"./src/reddit/endpoints/page/frontpage.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return f}));n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./src/graphql/operations/Frontpage.json"),s=n("./src/lib/base64/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeGqlRequest/index.ts"),c=n("./src/lib/performanceTimings/index.tsx"),a=n("./src/reddit/constants/graphql.ts"),d=n("./src/reddit/helpers/getPostLimitForMobile/index.ts"),u=n("./src/reddit/helpers/graphql/normalizeFrontpageFromGql/index.ts"),l=n("./src/reddit/selectors/platform.ts"),b=n("./src/reddit/selectors/user.ts");const p=(e,t)=>Object(i.a)(e,Object.assign({},r,{variables:t})),m=(e,t)=>{const{after:n,dist:r,isMobile:o,layout:i,limit:c,sort:u,t:p}=t,m=Object(b.Q)(e),f=Object(l.q)(e),O={recentPostIds:e.posts.recent,includeIdentity:m&&!e.user.account,includeFeatured:!0,adContext:{layout:i?i.toUpperCase():a.a.Card,reddaid:e.user.reddaid,distance:r}};return u&&(O.sort=u.toUpperCase()),p&&(O.range=p.toUpperCase()),o?O.pageSize=Object(d.a)(i):c&&(O.pageSize=c),f&&f.ad&&(O.forceAds={ad:f.ad}),n&&(O.after=Object(s.a)(n)),O},f=async(e,t,n)=>{const r=Date.now(),s=await p(e,t),i=Date.now();if(!s.ok)return s;const a=Date.now(),d=Object(u.a)(s.body.data),l=Date.now(),b=[{duration:i-r,logKeyType:c.a.gqlFetchTiming},{duration:l-a,logKeyType:c.a.gqlNormalizationTiming}];return Object(c.h)(o.o.FRONTPAGE,n,b),Object.assign({},s,{body:d})}},"./src/reddit/endpoints/page/multiredditListing.ts":function(e,t,n){"use strict";var r=n("./src/graphql/operations/MultiredditListing.json"),s=n("./src/lib/makeGqlRequest/index.ts");t.a=(e,t)=>Object(s.a)(e,Object.assign({},r,{variables:t}))},"./src/reddit/endpoints/page/profileOverviewPage.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d}));var r=n("./src/config.ts"),s=n("./src/lib/addAllowQuarantinedParam/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const a=(e,t,n)=>Object(i.b)(e,{data:n,endpoint:Object(s.a)(Object(c.a)("".concat(r.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/conversations"))),method:o.bb.GET}).then(e=>"pinned"in e.body?e:"postIds"in e.body?Object.assign({},e,{body:Object.assign({},e.body,{pinned:e.body.postIds.filter(t=>e.body.posts[t]&&e.body.posts[t].isPinned).reverse()})}):e),d=(e,t,n)=>Object(i.b)(e,{data:n,endpoint:Object(s.a)(Object(c.a)("".concat(r.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/overview"))),method:o.bb.GET}).then(e=>"pinned"in e.body?e:"overviewIds"in e.body?Object.assign({},e,{body:Object.assign({},e.body,{pinned:e.body.overviewIds.filter(t=>e.body.posts[t]&&e.body.posts[t].isPinned).reverse()})}):e)},"./src/reddit/endpoints/page/search.ts":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/search/index.ts"),c=n("./src/reddit/helpers/correlationIdTracker.ts"),a=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const d=(e,t)=>{let n=t?Object.assign({},e,{type:e.restrict_sr?"link":e.type}):e;(n=n.type?n:Object.assign({},n,{type:"link,sr,user"})).q=Object(i.a)(e.q);const r=Object(c.c)(c.a.SearchResults);return r&&(n.search_correlation_id=r),n};t.a=(e,t,n,i)=>Object(o.b)(e,{data:d(i||{},t),endpoint:Object(a.a)(n?"".concat(r.a.gatewayUrl,"/desktopapi/v1/multireddits/").concat(n,"/").concat(t,"/search"):t?"".concat(r.a.gatewayUrl,"/desktopapi/v1/subreddits/").concat(t,"/search"):"".concat(r.a.gatewayUrl,"/desktopapi/v1/search")),method:s.bb.GET})},"./src/reddit/endpoints/page/subredditPage.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/config.ts"),s=n("./src/graphql/operations/SubredditPage.json"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/isAdHocMultireddit/index.ts"),c=n("./src/lib/isFakeSubreddit/index.ts"),a=n("./src/lib/makeApiRequest/index.ts"),d=n("./src/lib/makeGqlRequest/index.ts"),u=n("./src/lib/performanceTimings/index.tsx"),l=n("./src/reddit/constants/graphql.ts"),b=n("./src/reddit/constants/page.ts"),p=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),m=n("./src/reddit/helpers/getPostLimitForMobile/index.ts"),f=n("./src/reddit/models/Post/index.ts"),O=n("./src/reddit/helpers/graphql/normalizeFlairFromGql/index.ts"),g=n("./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts"),j=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),h=n("./src/reddit/helpers/graphql/normalizePreferencesFromGql/index.ts"),y=n("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts"),_=n("./src/reddit/helpers/graphql/normalizeSubredditAboutFromGql/index.ts"),E=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),I=e=>{let{isAccessEnabled:t,isAllAllowed:n,isChatConfigEditingAllowed:r,isChatOperator:s,isConfigEditingAllowed:o,isFlairEditingAllowed:i,isMailEditingAllowed:c,isPostEditingAllowed:a,isWikiEditingAllowed:d}=e;return{access:t,all:n,chatConfig:r,chatOperator:s,config:o,flair:i,mail:c,posts:a,wiki:d}},v=n("./src/reddit/helpers/graphql/normalizeSubredditStylesFromGql/index.ts"),S=n("./src/reddit/helpers/graphql/normalizeUserFromGql/index.ts"),T=n("./src/reddit/models/RichTextJson/addRTJParam.ts"),C=n("./src/reddit/selectors/platform.ts"),w=n("./src/reddit/selectors/user.ts");n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return P}));var D=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const x=(e,t,n)=>{const{after:r,geo_filter:s,isMobile:o,layout:a,limit:d,recentPostIds:u,sort:p,t:f}=n,O=Object(w.Q)(e),g=Object(C.q)(e),j=Object(i.a)(t),h=Object(c.a)(t),y={name:t,includeIdentity:O&&!e.user.account,adContext:{layout:a?a.toUpperCase():l.a.Card,reddaid:e.user.reddaid},isFake:h,includeRecents:h&&u&&u.length>0||!1,includeTrending:h,isAdHocMulti:j,isAll:t===b.d.All,isPopular:t===b.d.Popular,recentPostIds:u||[],subredditNames:j?t.split("+"):[]};return p&&(y.sort=p.toUpperCase()),f&&(y.range=f.toUpperCase()),o?y.pageSize=Object(m.a)(a):d&&(y.pageSize=d),g&&g.ad&&(y.forceAds={ad:g.ad}),(g&&g.geo_filter||s)&&(y.region=g&&g.geo_filter||s),r&&(y.after=btoa(r)),y},P=async(e,t,n)=>{const r=Date.now(),i=await((e,t)=>Object(d.a)(e,Object.assign({},s,{variables:t})))(e,t),c=Date.now();if(!i.ok||!i.body)return i;const a=Date.now(),l=(e=>{let{adhocMultiredditByNames:t,all:n,identity:r,popular:s,recentPosts:o,subredditInfoByName:i,trendingSubreddits:c}=e;const a={authorFlair:{},postIds:[],postInstances:{},posts:{},postFlair:{},profiles:{},recentPostIds:[],structuredStyles:{},subredditAboutInfo:{},subredditPermissions:{},subreddits:{},trendingSubredditIds:[]},d=e=>{if(e.__typename===f.f.DeletedProfilePost||e.__typename===f.f.DeletedSubredditPost)return null;if(a.posts[e.id])return e.id;const t=Object(j.d)(e);a.posts[t.id]=t;const{crosspostRoot:n}=e;n&&n.type===f.a.Post&&n.postInfo&&d(n.postInfo);let r=t.id;switch(e.authorFlair&&(a.authorFlair[t.belongsTo.id]||(a.authorFlair[t.belongsTo.id]={}),a.authorFlair[t.belongsTo.id][t.author]=Object(O.a)(e.authorFlair)[0]),e.__typename){case f.f.ProfilePost:a.profiles[e.profile.id]||(a.profiles[e.profile.id]=Object(y.a)(e.profile));break;case f.f.SubredditPost:a.subreddits[e.subreddit.id]||(a.subreddits[e.subreddit.id]=Object(E.a)(e.subreddit)),a.postFlair[e.subreddit.id]||(a.postFlair[e.subreddit.id]=Object(g.a)(e.subreddit));break;case f.f.AdPost:const n=Object(j.b)(e);if(!n){r=null;break}r=n,a.posts[n]=Object.assign({},t,{id:n,permalink:"".concat(t.permalink,"?instanceId=").concat(encodeURIComponent(n))}),a.posts[t.id]||(a.posts[t.id]=Object.assign({},t,{events:[]})),a.postInstances[e.id]||(a.postInstances[e.id]=[]),a.postInstances[e.id].push(n)}return r},u=i||s||n||t;for(const{node:m}of u.posts.edges){const e=d(m);e&&a.postIds.push(e)}i&&i.styles&&(a.structuredStyles={data:{style:Object(v.a)(i.styles)}});const l=a.postIds.length-1,b=l>=0?a.postIds[l]:"",p=u.posts.dist;if(c){a.trendingSubredditIds=c.map(e=>e.id);for(const e of c)a.subreddits[e.id]=Object(E.a)(e)}if(o)for(const m of o){const e=d(m);e&&a.recentPostIds.push(e)}return Object.assign({},a,{account:r&&Object(S.a)(r)||null,preferences:r&&r.preferences&&Object(h.a)(r.preferences,r.interactions)||null,subredditAboutInfo:i&&Object(_.a)(i),subredditPermissions:i&&i.modPermissions&&I(i.modPermissions),token:b},null!==p&&{dist:p})})(i.body.data),b=Date.now(),p=[{duration:c-r,logKeyType:u.a.gqlFetchTiming},{duration:b-a,logKeyType:u.a.gqlNormalizationTiming}];return Object(u.h)(o.o.SUBREDDIT,n,p),Object.assign({},i,{body:l})},A=e=>{var{recentPostIds:t}=e,n=D(e,["recentPostIds"]);return t&&t.length?Object.assign({},n,{recentPostIds:t.join(",")}):n};t.a=(e,t,n)=>Object(a.b)(e,{endpoint:Object(p.a)(Object(T.a)("".concat(r.a.gatewayUrl,"/desktopapi/v1/subreddits/").concat(t))),method:o.bb.GET,data:n&&A(n)||{},traceRequestName:"get_subreddit_page"})},"./src/reddit/endpoints/post/convert.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/headers.ts"),c=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),a=n("./src/reddit/models/PostCreationForm/index.ts");t.a=(e,t,n)=>{const d={output_mode:"markdown"===t?t:"rtjson"};return t===a.h.MARKDOWN?d.richtext_json=n:d.markdown_text=n,Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/convert_rte_body_format")),method:r.bb.POST,data:d})}},"./src/reddit/endpoints/post/create.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return j}));var r=n("./node_modules/url/url.js"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts"),a=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),d=n("./src/reddit/helpers/flair.ts"),u=n("./src/reddit/helpers/name/index.ts"),l=n("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts"),b=n("./src/reddit/models/Post/index.ts"),p=n("./src/reddit/models/PostCreationForm/index.ts"),m=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const f=e=>{switch(e.kind){case p.p.CROSSPOST:return p.p.CROSSPOST;case p.p.LINK:return p.p.LINK;case p.p.MEDIA:return e.makeGif?p.p.VIDEO_GIF:e.mediaType;default:return"self"}},O=e=>{const t=Object(u.f)(e.destSubreddit.name);return Object.assign({api_type:"json",show_error_list:!0},e.destSubreddit.isProfile?{sr:"u_".concat(t),submit_type:"profile"}:{sr:t,submit_type:"subreddit"},{draft_id:e.draftId||void 0,title:e.title,discussion_type:e.isChatPost?b.b.Chat:void 0,spoiler:e.isSpoiler,nsfw:e.isNSFW,original_content:e.isOC,post_to_twitter:e.postToTwitter,kind:f(e),sendreplies:e.sendReplies},e.gRecaptchaResponse?{"g-recaptcha-response":e.gRecaptchaResponse}:{},{resubmit:e.resubmit},(e=>{switch(e.kind){case p.p.RICH_TEXT:return{richtext_json:JSON.stringify({document:e.document})};case p.p.MARKDOWN:return{text:e.markdown};case p.p.LINK:case p.p.MEDIA:return{url:e.url};case p.p.CROSSPOST:return{crosspost_fullname:e.sourcePostId}}})(e),e.kind===p.p.MEDIA&&"video"===e.mediaType?{video_poster_url:e.videoThumbnailUrl}:{},e.kind===p.p.MEDIA&&e.makeGif?{make_gif:"on"}:{},e.flair?{flair_id:e.flair.templateId,flair_text:Object(d.g)(e.flair)}:{},e.validate_on_submit?{validate_on_submit:e.validate_on_submit}:{},e.eventSchedule&&{event_start:e.eventSchedule.startDate,event_end:e.eventSchedule.endDate,event_tz:e.eventSchedule.timezoneName,unlist:e.eventSchedule.submitTime===p.i.AtEventTime},e.collectionId&&{collection_id:e.collectionId})},g=e=>{const t=/comments\/(\w+)\/.*$/.exec(e),n=t&&t[1];return n?"".concat(s.vb.Post,"_").concat(n):""},j=async(e,t)=>{if(!e.ok)return Object(l.b)(e);const n=e.body.json.data;let s=n.url;s||t.kind!==p.p.MEDIA||(s=await((e,t)=>new Promise(n=>{const r=new WebSocket(e),s=e=>{r.close(),clearTimeout(o),n(e)},o=setTimeout(()=>{s("")},t);r.onmessage=e=>{const t=JSON.parse(e.data),n="success"===t.type?t.payload.redirect:"";s(n)},r.onerror=e=>{s("")}}))(n.websocket_url,3e4));const o=n.id||g(s),i=Object(r.parse)(s).path,c=n.drafts_count;return Object.assign({},e,{body:{id:o,path:i,draftsCount:c}})};t.a=(e,t)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:Object(m.a)(Object(a.a)("".concat(e.apiUrl,"/api/submit?resubmit=true"))),method:s.bb.POST,data:O(t)}).then(async e=>await j(e,t))},"./src/reddit/endpoints/post/draft/helpers.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n("./src/reddit/helpers/flair.ts"),s=n("./src/reddit/models/PostDraft/index.ts");const o=e=>({id:e.json.data.id,draftsCount:e.json.data.drafts_count}),i=e=>{switch(e.kind){case s.b.Link:return"link";case s.b.Markdown:return"markdown";case s.b.RichText:return"richtext";default:return"self"}},c=e=>{switch(e){case"link":return s.b.Link;case"markdown":return s.b.Markdown;case"richtext":return s.b.RichText;default:return"self"}},a=e=>e.title.substring(0,300),d=e=>{switch(e.kind){case s.b.Link:case s.b.Markdown:return e.body;case s.b.RichText:return JSON.stringify({document:e.body})}},u=e=>Object.assign({id:e.draftId||void 0},(e=>e.destSubreddit.id?{subreddit:e.destSubreddit.id,target:e.destSubreddit.isProfile?"profile":"subreddit"}:{})(e),{kind:i(e),title:a(e),body:d(e),spoiler:e.isSpoiler,nsfw:e.isNSFW,original_content:e.isOC},(e=>e?{flair_id:e.templateId||null,flair_text:Object(r.g)(e)||null,flair_text_color:e.textColor||null,flair_background_color:e.backgroundColor||null}:{flair_id:null,flair_text:null,flair_text_color:null,flair_background_color:null})(e.flair),{send_replies:e.sendReplies,is_public_link:e.isPublicLink})},"./src/reddit/endpoints/post/index.tsx":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.to-string.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/headers.ts"),c=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");var a=n("./src/reddit/helpers/reportPage/index.ts");n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"t",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"v",(function(){return O})),n.d(t,"k",(function(){return g})),n.d(t,"j",(function(){return j})),n.d(t,"w",(function(){return h})),n.d(t,"p",(function(){return y})),n.d(t,"l",(function(){return _})),n.d(t,"c",(function(){return E})),n.d(t,"o",(function(){return I})),n.d(t,"x",(function(){return v})),n.d(t,"r",(function(){return S})),n.d(t,"y",(function(){return T})),n.d(t,"h",(function(){return C})),n.d(t,"u",(function(){return w})),n.d(t,"s",(function(){return D})),n.d(t,"a",(function(){return x})),n.d(t,"m",(function(){return P})),n.d(t,"n",(function(){return R})),n.d(t,"q",(function(){return N}));const d=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/approve")),method:r.bb.POST,data:{id:t}}),u=(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/distinguish/").concat(n)),method:r.bb.POST,data:{id:t}}),l=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/fetch_title")),method:r.bb.POST,data:{url:t,api_type:"json"}}),b=(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/follow_post")),method:r.bb.POST,data:{follow:n,fullname:t}}),p=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/hide")),method:r.bb.POST,data:{id:t}}),m=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/unhide")),method:r.bb.POST,data:{id:t}}),f=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/lock")),method:r.bb.POST,data:{id:t}}),O=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/unlock")),method:r.bb.POST,data:{id:t}}),g=(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/set_original_content")),method:r.bb.POST,data:{fullname:t,should_set_oc:n}}),j=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/marknsfw")),method:r.bb.POST,data:{id:t}}),h=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/unmarknsfw")),method:r.bb.POST,data:{id:t}}),y=(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:"".concat(e.apiUrl,"/api/sendreplies"),method:r.bb.POST,data:{id:t,state:n}}),_=(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/remove")),method:r.bb.POST,data:{id:t,spam:n}}),E=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/del")),method:r.bb.POST,data:{id:t}}),I=(e,t)=>((e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/save")),method:r.bb.POST,data:{id:t}}))(e,t),v=(e,t)=>((e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/unsave")),method:r.bb.POST,data:{id:t}}))(e,t),S=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/spoiler")),method:r.bb.POST,data:{id:t}}),T=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/unspoiler")),method:r.bb.POST,data:{id:t}}),C=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:"".concat(e.apiUrl,"/api/ignore_reports"),method:r.bb.POST,data:{id:t}}),w=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:"".concat(e.apiUrl,"/api/unignore_reports"),method:r.bb.POST,data:{id:t}}),D=(e,t,n,c)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:"".concat(e.apiUrl,"/api/set_subreddit_sticky"),method:r.bb.POST,data:{id:t,state:n,to_profile:c}});var x;!function(e){e.Rule="rule",e.SiteRule="siteRule",e.Other="other",e.FileComplaint="fileComplaint"}(x||(x={}));const P=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{method:r.bb.POST,endpoint:Object(c.a)("".concat(e.apiUrl,"/api/report")),data:A(t)}),A=e=>{const t=Object.assign({thing_id:e.id,api_type:"json"},e.timestamp&&{live_stream_relative_report_time_sec:e.timestamp.toString()}),{reportFlowPayload:n}=e;switch(n.customText&&(t.custom_text=n.customText),n.kind){case x.Other:return Object.assign({},t,{reason:"other",other_reason:n.rule});case x.Rule:return Object.assign({},t,{reason:n.rule,rule_reason:n.rule});case x.SiteRule:default:return Object.assign({},t,{reason:"site_reason_selected",site_reason:n.rule})}},R=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{method:r.bb.POST,endpoint:Object(c.a)("".concat(e.apiUrl,"/api/report")),data:k(t)}),k=e=>{const t=Object(a.b)(e);return Object.assign({},t,{api_type:"json",from_help_desk:!0})},N=async(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{method:r.bb.POST,endpoint:Object(c.a)("".concat(e.apiUrl,"/api/set_contest_mode/")),data:{api_type:"json",id:n,state:t}})},"./src/reddit/endpoints/publicAccessNetwork/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return _}));n("./node_modules/core-js/modules/es6.regexp.to-string.js");var r=n("./node_modules/crypto-js/sha256.js"),s=n.n(r),o=n("./node_modules/lodash/omit.js"),i=n.n(o),c=n("./src/config.ts"),a=n("./src/lib/constants/index.ts"),d=n("./src/lib/constants/headers.ts"),u=n("./src/lib/makeRequest/index.ts"),l=(n("./src/reddit/actions/publicAccessNetwork/constants.ts"),n("./src/reddit/components/RichTextEditor/RTEState/index.tsx")),b=n("./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts"),p=n("./src/reddit/i18n/utils.ts"),m=n("./src/reddit/models/PostCreationForm/index.ts"),f=n("./src/reddit/models/Vote/index.ts");const O=async e=>Object(u.b)({endpoint:"".concat(c.a.streamingApiUrl,"/rpan_config_v1"),method:a.bb.GET,headers:i()(e.headers(),[d.c,d.b]),timeoutMs:void 0}).then(v),g=async(e,t)=>Object(u.b)({endpoint:"".concat(c.a.streamingApiUrl,"/videos/").concat(t),method:a.bb.GET,headers:i()(e.headers(),[d.c,d.b])}).then(v),j=async(e,t,n)=>{const r=t||Math.random().toString(),o=parseInt(s()(r).toString(),16)%1e3;return Object(u.b)({endpoint:"".concat(c.a.streamingApiUrl,"/videos/seed/").concat(o).concat(n?"?subreddit=pan2":""),method:a.bb.GET,headers:i()(e.headers(),[d.c,d.b])}).then(v)},h=async(e,t,n)=>Object(u.b)({endpoint:"".concat(c.a.streamingApiUrl,"/videos/").concat(t,"/vote/").concat(S(n)),method:a.bb.POST,headers:i()(e.headers,[d.c,d.b])}).then(v),y=async(e,t)=>Object(u.b)({endpoint:"".concat(c.a.streamingApiUrl,"/videos/").concat(t,"/heartbeat"),method:a.bb.POST,headers:i()(e.headers(),[d.c,d.b])}).then(v),_=async(e,t,n,r)=>{const s=n.rteState;if(!s)return Promise.reject(new Error("Editor state is undefined"));const o=l.a.getRawText(s);return o?E(e,t,o).then(e=>e.ok&&e.body&&e.body.data?Object.assign({},e,{body:{parentId:t,comment:Object.assign({},Object(b.a)(e.body.data,r),{media:I(s)})},error:void 0}):e):Promise.reject(new Error("Cannot send empty message"))},E=async(e,t,n)=>Object(u.b)({endpoint:"".concat(c.a.streamingApiUrl,"/videos/").concat(t,"/comment"),method:a.bb.POST,headers:i()(e.headers,[d.c,d.b]),data:{text:n},type:"json"}).then(v),I=e=>({type:"rtjson",richtextContent:{document:l.a.toRichTextJSON(e).document},rteMode:m.h.RICH_TEXT}),v=e=>{if(e.ok)return Object.assign({},e,{error:void 0});{const t={type:404===e.status?a.D.NOT_FOUND_ERROR:a.D.SERVER_ERROR};return 429===e.status&&(t.fields=[{field:"",msg:Object(p.c)("Try again later")}]),Object.assign({},e,{error:t})}},S=e=>e===f.a.upvoted?"up":e===f.a.downvoted?"down":"unset"},"./src/reddit/endpoints/subreddit/about.ts":function(e,t,n){"use strict";var r=n("./src/graphql/operations/SubredditAbout.json"),s=n("./src/lib/makeGqlRequest/index.ts");t.a=(e,t,n)=>Object(s.a)(e,Object.assign({},r,{variables:{subredditName:t,includeSubreddit:n}}))},"./src/reddit/endpoints/subreddit/models.ts":function(e,t,n){"use strict";var r=n("./src/graphql/operations/SubredditModels.json"),s=n("./src/lib/makeGqlRequest/index.ts");t.a=(e,t)=>Object(s.a)(e,Object.assign({},r,{variables:t}))},"./src/reddit/endpoints/subreddit/rules.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/camelCase.js"),s=n.n(r),o=n("./node_modules/lodash/mapKeys.js"),i=n.n(o),c=n("./src/graphql/operations/SubredditRules.json"),a=n("./src/lib/constants/index.ts"),d=n("./src/lib/makeApiRequest/index.ts"),u=n("./src/lib/makeGqlRequest/index.ts"),l=n("./src/lib/omitHeaders/index.ts"),b=n("./src/reddit/constants/headers.ts"),p=n("./src/reddit/helpers/graphql/helpers.ts"),m=n("./src/reddit/models/Rule/index.ts");n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return y})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return I}));const f=e=>{let{rules:t}=e;return{rules:t.map(e=>Object.assign({},i()(e,(e,t)=>s()(t)),{kind:"link"===e.kind?"post":e.kind}))}},O=(e,t)=>Object(u.a)(e,Object.assign({},c,{variables:{subredditName:t}})).then(e=>(e.ok&&e.body&&(e.body=(e=>{return{rules:(e.data.subreddit&&e.data.subreddit.rules||[]).map(e=>({kind:m.b[e.kind],description:e.content.markdown,descriptionRichText:e.content.richtext,shortName:e.name,violationReason:e.violationReason||"",createdUtc:Object(p.j)(e.createdAt,p.a.Millis),priority:e.priority}))}})(e.body)),e)),g=(e,t)=>Object(d.b)(Object(l.a)(e,[b.a]),{endpoint:"".concat(e.apiUrl,"/user/").concat(t,"/about/rules.json"),method:a.bb.GET}).then(e=>(e.ok&&e.body.rules&&(e.body=f(e.body)),e)),j=e=>e.ok?(e.body=Object(m.g)(JSON.parse(e.body.json.data.rules)),e):e.body,h=async(e,t,n)=>Object(d.b)(Object(l.a)(e,[b.a]),{endpoint:"".concat(e.apiUrl,"/api/add_subreddit_rule"),method:a.bb.POST,data:{r:t,short_name:n.rule,kind:n.kind===m.a.post?"link":n.kind,violation_reason:n.reason,description:n.description,api_type:"json",raw_json:1}}).then(e=>j(e)),y=async(e,t,n,r)=>Object(d.b)(Object(l.a)(e,[b.a]),{endpoint:"".concat(e.apiUrl,"/api/update_subreddit_rule"),method:a.bb.POST,data:{r:t,short_name:n.rule,kind:n.kind===m.a.post?"link":n.kind,violation_reason:n.reason,description:n.description,old_short_name:r,api_type:"json",raw_json:1}}).then(e=>j(e)),_=async(e,t,n)=>Object(d.b)(Object(l.a)(e,[b.a]),{endpoint:"".concat(e.apiUrl,"/api/remove_subreddit_rule"),method:a.bb.POST,data:{r:t,short_name:n,api_type:"json",raw_json:1}}).then(e=>j(e)),E=e=>e.map(e=>encodeURIComponent(e)).join(),I=async(e,t,n)=>Object(d.b)(Object(l.a)(e,[b.a]),{endpoint:"".concat(e.apiUrl,"/api/reorder_subreddit_rules"),method:a.bb.POST,data:{r:t,new_rule_order:E(n),api_type:"json",raw_json:1}}).then(e=>j(e))},"./src/reddit/endpoints/subreddit/settings.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),c=n("./src/reddit/constants/headers.ts");const a=(e,t,n)=>Object(s.b)(Object(o.a)(e,[c.a]),{method:r.bb.POST,endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/delete_sr_").concat(n),data:{raw_json:1}}),d=(e,t)=>Object(s.b)(Object(o.a)(e,[c.a]),{method:r.bb.GET,endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/about/edit.json"),data:{raw_json:1}}).then(e=>e.ok?Object.assign({},e,{body:Object.assign({},b(e.body.data))}):e),u=(e,t,n)=>Object(s.b)(Object(o.a)(e,[c.a]),{method:r.bb.PATCH,endpoint:Object(i.a)("".concat(e.apiUrl,"/api/v1/subreddit/update_settings")),type:"json",data:Object.assign({},p(n,f),{sr:t})}),l=(e,t,n)=>{const i=Object.assign({},m(n),{sr:t});return Object(s.b)(Object(o.a)(e,[c.a]),{method:r.bb.POST,endpoint:"".concat(e.apiUrl,"/api/site_admin"),data:i})},b=e=>({allowChatPostCreation:e.allow_chat_post_creation,allowDiscovery:e.allow_discovery,allowImages:e.allow_images,allowPostCrossposts:e.allow_post_crossposts,collapseDeletedComments:e.collapse_deleted_comments,commentScoreHideMins:e.comment_score_hide_mins,contentOptions:e.content_options,contentVisible:e.default_set,crowdControlMode:e.crowd_control_mode,crowdControlChatLevel:e.crowd_control_chat_level,crowdControlLevel:e.crowd_control_level,description:e.description,disableContributorRequests:e.disable_contributor_requests,domain:e.domain,excludeBannedModqueue:e.exclude_banned_modqueue,headerHoverText:e.header_hover_text,hideAds:e.hide_ads,isChatPostFeatureEnabled:e.is_chat_post_feature_enabled,keyColor:e.key_color,language:e.language,over18:e.over_18,publicDescription:e.public_description,publicTraffic:e.public_traffic,restrictCommenting:e.restrict_commenting,restrictPosting:e.restrict_posting,showMedia:e.show_media,showMediaPreview:e.show_media_preview,spamComments:e.spam_comments,spamLinks:e.spam_links,spamSelfposts:e.spam_selfposts,spoilersEnabled:e.spoilers_enabled,submitLinkLabel:e.submit_link_label,submitText:e.submit_text,submitTextLabel:e.submit_text_label,subredditId:e.subreddit_id,subredditType:e.subreddit_type,suggestedCommentSort:e.suggested_comment_sort,title:e.title,welcomeMessageEnabled:e.welcome_message_enabled,welcomeMessageText:e.welcome_message_text,wikiEditAge:e.wiki_edit_age,wikiEditKarma:e.wiki_edit_karma,wikimode:e.wikimode}),p=(e,t)=>{const n={};for(const r in e)n[t[r]]=e[r];return n},m=e=>({allow_post_crossposts:e.allowPostCrossposts,allow_chat_post_creation:e.allowChatPostCreation,allow_images:e.allowImages,allow_discovery:e.allowDiscovery,allow_top:e.contentVisible,api_type:"json",collapse_deleted_comments:e.collapseDeletedComments,comment_score_hide_mins:e.commentScoreHideMins,crowd_control_mode:e.crowdControlMode,crowd_control_level:e.crowdControlLevel,crowd_control_chat_level:e.crowdControlChatLevel,disable_contributor_requests:e.disableContributorRequests,description:e.description,domain:e.domain,exclude_banned_modqueue:e.excludeBannedModqueue,"header-title":e.headerHoverText,hide_ads:e.hideAds,is_chat_post_feature_enabled:e.isChatPostFeatureEnabled,key_color:e.keyColor,lang:e.language,link_type:e.contentOptions,over_18:e.over18,public_description:e.publicDescription,public_traffic:e.publicTraffic,restrict_commenting:e.restrictCommenting,restrict_posting:e.restrictPosting,show_media:e.showMedia,show_media_preview:e.showMediaPreview,spam_comments:e.spamComments,spam_links:e.spamLinks,spam_selfposts:e.spamSelfposts,spoilers_enabled:e.spoilersEnabled,sr:e.subredditId,submit_link_label:e.submitLinkLabel,submit_text:e.submitText,submit_text_label:e.submitTextLabel,suggested_comment_sort:e.suggestedCommentSort,title:e.title,type:e.subredditType,welcome_message_enabled:e.welcomeMessageEnabled,welcome_message_text:e.welcomeMessageText,wiki_edit_age:e.wikiEditAge,wiki_edit_karma:e.wikiEditKarma,wikimode:e.wikimode}),f={allowPostCrossposts:"allow_post_crossposts",allowImages:"allow_images",allowChatPostCreation:"allow_chat_post_creation",allowDiscovery:"allow_discovery",contentVisible:"allow_top",collapseDeletedComments:"collapse_deleted_comments",commentScoreHideMins:"comment_score_hide_mins",crowdControlMode:"crowd_control_mode",crowdControlLevel:"crowd_control_level",crowdControlChatLevel:"crowd_control_chat_level",description:"description",disableContributorRequests:"disable_contributor_requests",domain:"domain",excludeBannedModqueue:"exclude_banned_modqueue",headerHoverText:"header-title",hideAds:"hide_ads",isChatPostFeatureEnabled:"is_chat_post_feature_enabled",keyColor:"key_color",language:"lang",contentOptions:"link_type",over18:"over_18",publicDescription:"public_description",publicTraffic:"public_traffic",restrictCommenting:"restrict_commenting",restrictPosting:"restrict_posting",showMedia:"show_media",showMediaPreview:"show_media_preview",spamComments:"spam_comments",spamLinks:"spam_links",spamSelfposts:"spam_selfposts",spoilersEnabled:"spoilers_enabled",submitLinkLabel:"submit_link_label",submitText:"submit_text",submitTextLabel:"submit_text_label",suggestedCommentSort:"suggested_comment_sort",title:"title",subredditType:"type",welcomeMessageEnabled:"welcome_message_enabled",welcomeMessageText:"welcome_message_text",wikiEditAge:"wiki_edit_age",wikiEditKarma:"wiki_edit_karma",wikimode:"wikimode"}},"./src/reddit/endpoints/subreddit/similar.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return d}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts"),a=n("./src/reddit/models/MonthsToMinutes/index.ts");!function(e){e.Factorization="factorization",e.CustomModRelevant="custom_mod_relevant"}(r||(r={}));const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.c;const n=new Set,r=e.map(e=>e.data.children).map(e=>e.reduce((e,t)=>{const r=t.data.name;return n.has(r)||(e.push(t),n.add(r)),e},[])),s=Math.max(...r.map(e=>e.length)),o=[];for(let i=0;i<s;i++)r.forEach(e=>{const t=e[i];t&&o.push(t)});return{data:{children:o.slice(0,t)}}};t.b=(e,t)=>Object(o.b)(Object(i.a)(e,[c.a]),{data:{sr_fullnames:t.subredditIds.join(","),limit:t.count,variant:t.variant},endpoint:"".concat(e.apiUrl,"/api/similar_subreddits.json"),method:s.bb.GET})},"./src/reddit/endpoints/subreddit/topSubreddits.ts":function(e,t,n){"use strict";var r=n("./src/graphql/operations/TopSubreddits.json"),s=n("./src/lib/makeGqlRequest/index.ts");t.a=(e,t)=>Object(s.a)(e,Object.assign({},r,{variables:t}))},"./src/reddit/endpoints/user/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return f}));var r=n("./src/config.ts"),s=n("./src/graphql/operations/ExperimentVariants.json"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/makeGqlRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/reddit/constants/headers.ts"),u=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const l=(e,t)=>Object(i.b)(e,{endpoint:Object(u.a)("".concat(r.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/about")),method:o.bb.GET,data:{api_type:"json",gilding_detail:1,awarded_detail:1}}),b=e=>Object(i.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/seen_layout_switch"),method:o.bb.POST}),p=e=>Object(i.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/seen_give_award_tooltip"),method:o.bb.POST}),m=e=>Object(i.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/seen_modal"),method:o.bb.POST}),f=(e,t)=>Object(c.a)(e,Object.assign({},s,{variables:t}),{traceRequestName:"get_experiments"})},"./src/reddit/endpoints/user/preferences.ts":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts");n("./node_modules/core-js/modules/web.dom.iterable.js");const c={activityRelevantAds:"activity_relevant_ads",acceptPrivateMessages:"accept_pms",allowClickTracking:"allow_clicktracking",collapseReadMessages:"collapse_read_messages",defaultCommentSort:"default_comment_sort",emailDigests:"email_digests",emailUnreadMessages:"email_messages",emailUnsubscribe:"email_unsubscribe_all",geopopular:"geopopular",hasSeenCustomizeFlyout:"has_seen_customize_flyout",hideAds:"hide_ads",hideFromRobots:"hide_from_robots",hideNSFW:"no_profanity",highlightComments:"highlight_new_comments",ignoreSuggestedSort:"ignore_suggested_sort",inBeta:"beta",labelNSFW:"label_nsfw",markMessagesRead:"mark_messages_read",nightmode:"nightmode",over18:"over_18",sendWelcomeMessages:"send_welcome_messages",showMessagesInInbox:"threaded_messages",showNotifications:"live_orangereds",showUsernameMentionNotifications:"monitor_mentions",privateFeeds:"private_feeds",autoplayVideo:"video_autoplay",rpanDuDismissalTime:"rpan_du_dismissal_time",showActiveCommunities:"top_karma_subreddits",showRpanDu:n("./src/reddit/constants/preferences.ts").c,showTwitter:"show_twitter",stylesEnabled:"styles_enabled",openPostInNewTab:"open_post_in_new_tab",rememberCommunitySort:"remember_community_sort",useMarkdown:"use_markdown",sort:"sort",layout:"layout",rememberCommunityLayout:"remember_community_layout",topContentDismissalTime:"top_content_dismissal_time",topContentTimesDismissed:"top_content_times_dismissed",thirdPartyDataPersonalizedAds:"third_party_data_personalized_ads",thirdPartySiteDataPersonalizedAds:"third_party_site_data_personalized_ads",thirdPartySiteDataPersonalizedContent:"third_party_site_data_personalized_content"};var a=e=>{const t={};return Object.keys(e).map(n=>{c.hasOwnProperty(n)&&(t[c[n]]=e[n])}),t};const d={isContributorRequestTimestamp:"is_contributor_request_timestamp",sort:"sort",stylesEnabled:"styles_enabled",layout:"layout"};var u=e=>{const t={};return Object.keys(e).map(n=>{t[d[n]]=e[n]}),t},l=n("./src/reddit/constants/headers.ts");n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return j})),n.d(t,"h",(function(){return h}));const b=e=>Object(o.b)(Object(i.a)(e,[l.a]),{method:s.bb.PATCH,endpoint:"".concat(e.apiUrl,"/api/v1/me/prefs"),type:"json",data:{over_18:"true"}}),p=(e,t)=>Object(o.b)(Object(i.a)(t,[l.a]),{method:s.bb.PATCH,endpoint:"".concat(t.apiUrl,"/api/v1/me/prefs"),type:"json",data:{video_autoplay:e}}),m=(e,t)=>Object(o.b)(Object(i.a)(t,[l.a]),{method:s.bb.PATCH,endpoint:"".concat(t.apiUrl,"/api/v1/me/prefs"),type:"json",data:{nightmode:e}}),f=(e,t)=>Object(o.b)(Object(i.a)(t,[l.a]),{method:s.bb.PATCH,endpoint:"".concat(t.apiUrl,"/api/v1/me/prefs"),type:"json",data:{geopopular:e}}),O=(e,t)=>Object(o.b)(Object(i.a)(t,[l.a]),{method:s.bb.PATCH,endpoint:"".concat(t.apiUrl,"/api/v1/me/prefs"),type:"json",data:a(e)}),g=(e,t)=>Object(o.b)(Object(i.a)(t,[l.a]),{method:s.bb.POST,endpoint:"".concat(t.apiUrl,"/api/quarantine_optin"),data:{sr_name:e,api_type:"json",accept:!0}}),j=(e,t)=>Object(o.b)(t,{method:s.bb.POST,endpoint:"".concat(r.a.gatewayUrl,"/desktopapi/v1/set_preferences"),type:"json",data:{type:"account",preferences:a(e)}}),h=(e,t,n)=>Object(o.b)(n,{method:s.bb.POST,endpoint:"".concat(r.a.gatewayUrl,"/desktopapi/v1/set_preferences"),type:"json",data:{type:"subreddit",subreddit_id:e,preferences:u(t)}})},"./src/reddit/featureFlags/communityTopics.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/models/User/index.ts"),s=n("./src/reddit/selectors/user.ts");const o=()=>!0,i=new Set(["0perspective","coachzzz","flash_55","mikapp","ggalex","jdawg1000","hidehidehidden","ringrob"]),c=e=>{if(!e.user.account)return!1;const t=Object(r.f)(e.user.account).toLowerCase();return Object(s.G)(e)&&i.has(t)}},"./src/reddit/featureFlags/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./node_modules/lodash/isNil.js"),s=n.n(r),o=n("./node_modules/lodash/mapValues.js"),i=n.n(o),c=n("./src/lib/getParsedUserAgent/index.ts"),a=n("./src/reddit/selectors/user.ts"),d=n("./src/reddit/featureFlags/utils.ts"),u=n("./src/reddit/featureFlags/communityTopics.ts"),l=n("./src/reddit/selectors/platform.ts");const b=new Set(["gradiationtestbed","stadia"]);var p=n("./src/reddit/featureFlags/layers.ts"),m=n("./src/reddit/selectors/moderatorPermissions.ts"),f=n("./src/reddit/selectors/subreddit.ts");const O=new Set(["scheduled_posts_test","gameofthrones","LateShow","WritingPrompts","DCFU","FlashTV","supergirlTV","TheOrville","BuffaloBills","rbny","seahawks","Mariners","NASCAR","BlackOps4","CODZombies","LabourUK","StreetOutlaws","pokemon","pokemontrades","SVExchange","brakebills","askhistorianspanel","ClashRoyale","Brawlstars","CasualConversation","tf2","SCP","DankMemesFromSite19","TitansTV","youngjustice","DCDoomPatrol","swampthingtv","HarleyQuinnTV","StargirlDCU","Pigifs","MovieDetails","FruitsBasket","Charleston","TeraOnline","indianapolis","warhawk","lounge","GetMotivated","Stormlight_Archive","Cosmere","brandonsanderson","thelegendarium","StarWarsBattlefront","SandersForPresident","cincinnati","girlsfrontline","Romania","ClevelandIndians","shortcuts","HomePod","Snooful","slovenia","TheGita","TheMahabharata","TheRamayana","AnthemTheGame","Games","chile","TheMandalorianTV","LokiTV","WANDAVISION","CassianAndor","OnePunchMan","india","xxketo4u2","xxKetoOver50","TheVoice","nfl","mac","blackmirror","appletv","Psephology","AppleArcade","AppleTVPlus","overwatch","dankmemes","arg","slideforreddit","TacoBell","MonsterHunter","shadownet","shadownetwork","TheFantasyInn","GameDevs","musicproduction","PromoteYourMusic","HipHopCollabs","SpotifyPlaylists","puppy101","HauntingOfHillHouse","SecularTarot","StandardPoodles","F1FeederSeries","FormulaE","TohokuJapan","ketoscience","TechnicalDeathMetal","DebateAnAtheist","KetoNews","manatees","BillHsomething","chromatics","cerner","911FOX","MarvelAvengersProject","PantheonMMO","Superman","batman","DCcomics","discworld","panelshow","panelshows","intothebadlands","dndnext","FireEmblemHeroes","fireemblem","streetwear","svc518","Mississauga","rupaulsdragrace","SpoiledDragRace","RPDR_UK","Jaguars","alteredcarbon","Letterkenny","DarkSaint","kotobukiya","MegamiDevice","FrameArms","BoomBeach","GolfClash","WomensSoccer","problemgambling","gambling","hamiltonmusical","GoNets","summonerswar","eagles","Arrow","BlackLightning","boardgames","BoardGameExchange","kosovo","angelsbaseball","orangecounty","Socialism","PaisosCatalans","Amsterdam","ElectricForest","bassnectar","nfrealmusic","sillyrosster","PS4Pro","PSVR","PS5","comptia","starwarscanon","projectfi","android_beta","Sekiro","Nioh","denvernuggets","giantbomb","titanfolk","attackontitan","residentevil","maryland","traaaaaaannnnnnnnnns","WeAreNotAsking","redditvision_sc","redditvision_nf","urbanplanning","valveindex","HiTMAN","Competitiveoverwatch","ProjectRunway","sitecore","aem","YangForPresidentHQ","MaddenMobileForums","InsiderMemeTrading","CommentAwardsForum","AsianBeautyAdvice","NewOrleans","malefashionadvice","HBOGameofThrones","AskBibleScholars","EMS","NewToEMS","ItalyInformatica","antiassholedesign","BleachBraveSouls","selectivemutism","weddingplanning","INDYCAR","leagueoflegends","Albania","westcoasteagles","CitiesSkylines","Comcast_Xfinity","AssassinsCreed","iOSProgramming","MarvelStudios","cryptocurrency","BostonUprising","HarryPotterWU","Gnomesinthings","TheSilphRoad","SpaceXLounge","FinalFantasy","the_revolupun","pathfinder2e","Drugs","retrogaming","FallenOrder","TaylorSwift","Dachschaden","pathofexile","BoneAppleTea","MarioKartWii","bostontrees","MAMMJ","NYCtrees","chitrees","Philippines","boottoobig","thedivision","travisscott","jitakyoei","shieldbro","islamabad","CarletonU","Charlotte","BestDisney","Arithmancy","sysadmin","progmetal","discgolf","adultswim","greenday","Rainbow6","TibiaMMO","gaybros","bangtan","Splatoon","zerocarb","Aleague","phoenix","xcxheads","judocss","Cloud9","asoiaf","alttpr","spacex","csgo","ffxiv","MMA","Gwent","NBA2k","Colts","MCPE","Gunpla","Muse","disney","eddit","excel","Bestbuy","judo","SubredditDrama","TrollYChromosome","stepschallenge","survivor","whatssnoo"].map(e=>e.toLowerCase())),g=new Set(["QATrustedUser","redesign","legaladvice","askwomen","exmormon","bestoflegaladvice","relationships","makeupaddiction","rupaulsdragrace","politicalhumor","amitheasshole","christianity","askwomenadvice","mariners","analog","futurology","writingprompts","blackpeopletwitter","ffxiv","dogswithjobs","gaming","science","politics","games","Colorado","iphone","Seattle","tifu","nottheonion","Denver","convopolis","JARTEM","markistest","chattest","browns","TwoXChromosomes","jailbreak","modernwarfare","linux","kpop","lgbt","rage","MorbidReality","BigBoobsGW","discordapp","SCP","LosAngelesRams","pathofexile","3amjokes","bisexual","Military","weightroom","london","actuallesbians","gatesopencomeonin","FortniteCompetitive","fireemblem","melbourne","traaaaaaannnnnnnnnns","China","JUSTNOFAMILY","theydidthemonstermath","transtimelines","sandiego","syriancivilwar","ontario","Browns","pittsburgh","MtF","phoenix","florida","greece","Stadia","arizona","NewOrleans","Charlotte","Detroit","trans","Miami","Sacramento","ask_transgender","BlackLadiesFitness","stlouisblues","Virginia","AskScienceFiction","motogp","AzureLane","lifeisstrange","DarlingInTheFranxx","flightsim","twice","selfie","coys","askcarsales","FulfillmentByAmazon","SonicTheHedgehog","ContraPoints","GenderCritical","Columbus","ElectricForest","titanfolk","NPR","BethesdaSoftworks","coversongs","velvethippos","feemagers","5ToubunNoHanayome","Neverwinter","Habs","Toyota","Bestbuy","plexshares","TheWalkingDeadGame","blessedcomments","bassnectar","Pete_Buttigieg","GamerGhazi","battlebots","pelotoncycle","Epstein","androidcirclejerk","CatsWithDogs","immigration","MysteryDungeon","Dogfree","Justnofil","rollerblading","Charleston","PuertoRico","PennStateUniversity","angelsbaseball","Spokane","leagueoflegends","CasualConversation","unitedkingdom","PeopleSellingMirrors","personalfinance","TheBukuProject","Fitness","Minecraft","voodoo","nfl","ReformedHumor","pcgaming","nra","DnD","scifi","comics","CarletonU","cursedcomments","JUSTNOMIL","ItalyInformatica","TrollXChromosomes","tuesday","formula1","asoiaf","LetterstoJNMIL","NotMyJob","canada","ClevelandIndians","vegaslocals","SandersForPresident","medicine","socialism","Iowa","BattlefieldV","badhistory","FireEmblemHeroes","nova","hinduism","Vive","TrueCrimeDiscussion","SeattleWA","razer","DuelLinks","EnoughTrumpSpam","Megumin","HaveWeMet","Konosuba","cowboys","collapse","disneyvacation","ADHD","teslamotors","insaneparents","marvelstudios","baseball","askaconservative","apple","MadeMeSmile","circumcision","AskMen","cars","europe","JoeBiden","transsupport","PoliticalMemes","brisbane","omad"].map(e=>e.toLowerCase()));var j=n("./src/reddit/featureFlags/stewardReports.ts"),h=n("./src/reddit/featureFlags/subredditPoints.ts");const y=new Set(["askaliberal","asktransgender","askwomen","bisexual","blackladies","exchristian","exmormon","gendercynical","girlgamers","neoliberal","nothowgirlswork","progresspics","subredditdrama","teenagers","thegirlsurvivalguide","thequickbrowncorgi","traaaaaaannnnnnnnnns","transpositive","trollxchromosomes","twoxchromosomes"]);n.d(t,"d",(function(){return E})),n.d(t,"a",(function(){return I})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return T})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return w})),n.d(t,"e",(function(){return D}));const _={introModal:Object(d.e)(d.h),markdownMode:d.h,modQueue:Object(d.f)(d.h,d.i),spBadges:h.c,spCustomBadges:h.e,spCommunityTipJar:h.d,spEmotes:h.f,spEmotesModTools:h.g,spFavoriteCreators:h.h,spFreeTrialSubscriptions:h.i,spGiphy:h.j,spGovPolls:h.k,spHarberger:h.l,spKarmaPoints:h.m,spLeaderboard:h.n,spLoadtest:h.o,spPoints:h.p,spPolls:h.q,spPremium:h.r,spPremiumSubscriptions:h.s,spPremiumUpsells:h.t,spPublicPoints:h.u,spSpinoffs:h.v,spStellarWalletRegistration:h.w,spSupport:h.x,spTipping:h.y,spTopTippers:h.z,spWalletRegistrationBanner:h.A,scheduledPosts:Object(d.f)(d.h,e=>{const t=Object(l.e)(e),n=!!t&&Object(m.e)(e,{subredditId:Object(f.G)(e,t)});return!!t&&n&&O.has(t.toLowerCase())}),communityTopics:u.b,adminCommunityTopics:u.a,events:Object(d.f)(Object(d.c)("event_posts"),d.h),collections:Object(d.f)(Object(d.c)("collections"),d.h),rteVideoPoster:d.h,userSeenSubredditChatFtux:a.cb,userInChat:a.B,userInSubredditChat:a.E,userInChatUserSettings:a.C,devAndStagingWatermark:d.h,fpsMeter:d.l,rabbitHole:d.l,measureScrollFPS:d.i,showVerboseErrors:Object(d.f)(d.h,d.i),stewardReports:j.b,uappBanner:d.l,experiments:Object(d.a)(d.j,Object(d.e)(d.g)),enableGraphQl:d.j,importExportThemes:d.i,flairRestrictions:d.m,newPostRequirements:d.m,spezModal:Object(d.f)(d.h,Object(d.a)(d.n,Object(d.b)("US"))),superbOwl:d.k,enableShadowMode:Object(d.d)(0),pushNotificationsBrowserSupported:e=>{const t=navigator.userAgent,n=Object(c.a)(t).browser.version;if(!n)return!1;let r;try{r=n.split(/[^\d]/)[0]}catch(s){return!1}return!!(Object(c.b)(t)&&parseInt(r)>=50&&Object(c.c)(t))||(!!(Object(c.d)(t)&&parseInt(r)>52&&Object(c.c)(t))||!!(Object(c.f)(t)&&parseInt(r)>=27&&Object(c.c)(t)))},enableCrowdControlMode:e=>!1,enableCrowdControlLevel:e=>{const t=Object(l.e)(e);return!!t&&g.has(t.toLowerCase())},enableToxicityWarning:e=>{const t=Object(l.e)(e);return!!t&&y.has(t.toLowerCase())},snoovatar30:d.h,isEmailPermissionRequired:Object(d.c)("is_email_permission_required"),focusedVerticalsExperiment:d.m,subredditInlineEditing:d.m,layersEmbed:p.b,layersEmbedQuickLink:p.c,subredditMentionD2xExperiment:d.m,googleStadiaSidebarWidgetEnabled:e=>{const t=Object(l.e)(e);return!!t&&b.has(t.toLowerCase())},__requiredDoNotRemove:d.l},E=i()(_,(e,t)=>n=>{const r=n.featureFlags.overrides[t];return s()(r)?e(n):r}),I=Object.keys(_),v=e=>e.filter(e=>"__requiredDoNotRemove"!==e),S=/^feature_(.*)$/i,T=e=>{const t=e.match(S);if(null!==t)return t[1]},C="FEATURES__FEATURE_SET",w="FEATURES__FEATURE_TOGGLED",D=e=>{let{featureName:t}=e;return(e,n)=>{const r=(0,E[t])(n());e((e=>{let{featureName:t,currentValue:n}=e;return{type:w,payload:{featureName:t,currentValue:n}}})({featureName:t,currentValue:r}))}}},"./src/reddit/featureFlags/layers.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return d}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/selectors/platform.ts");const s=new Set(["layer","isslayerstest"]);const o=e=>{const t=Object(r.e)(e);return!!t&&a(t.toLowerCase())},i=e=>o(e)&&!1,c=e=>o(e)&&!0,a=e=>s.has(e.toLowerCase()),d=()=>!1},"./src/reddit/featureFlags/profileCollections.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/models/User/index.ts");const s=new Set(["0perspective","almondparfitt","almondparfitt","avocadoast","chtorrr","coachzzz","crowd__pleaser","dadintech","flash_55","igabeup","kalluraya","kp-krunal","kpkrunal","lakelly000","sodypop","vlkoti","wokata","wting","mynameizkhan","mattkula","wokata","vladkonon"]),o=e=>{if(!e.user.account)return!1;const t=Object(r.f)(e.user.account).toLowerCase();return s.has(t)}},"./src/reddit/featureFlags/stewardReports.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/selectors/platform.ts"),s=n("./src/reddit/featureFlags/utils.ts");const o=new Set(["beautyguruchatter","dodgers","fantasy","natureismetal","nomansskythegame","nyc","parenting","rarepuppers","seattlewa","stardewvalley","stewards_testing"]),i=Object(s.c)("steward_ui"),c=(e,t)=>{let{subredditName:n}=t;return!!n&&o.has(n.toLowerCase())&&i(e)},a=e=>{const t=Object(r.e)(e);return!!t&&c(e,{subredditName:t})}},"./src/reddit/featureFlags/subredditPoints.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return x})),n.d(t,"e",(function(){return P})),n.d(t,"d",(function(){return A})),n.d(t,"f",(function(){return R})),n.d(t,"g",(function(){return k})),n.d(t,"h",(function(){return N})),n.d(t,"i",(function(){return L})),n.d(t,"j",(function(){return M})),n.d(t,"k",(function(){return U})),n.d(t,"l",(function(){return F})),n.d(t,"m",(function(){return B})),n.d(t,"n",(function(){return G})),n.d(t,"o",(function(){return q})),n.d(t,"p",(function(){return V})),n.d(t,"q",(function(){return H})),n.d(t,"r",(function(){return K})),n.d(t,"s",(function(){return W})),n.d(t,"t",(function(){return J})),n.d(t,"u",(function(){return Y})),n.d(t,"v",(function(){return z})),n.d(t,"w",(function(){return Q})),n.d(t,"y",(function(){return X})),n.d(t,"A",(function(){return $})),n.d(t,"x",(function(){return Z})),n.d(t,"z",(function(){return ee}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/selectors/platform.ts");const s=new Set(["daonuts","ethtrader","karma_chameleon","pointsrtesty","stellartest"]),o=new Set(["badgesroyaletest","fortnitebr","funkygoose"]),i=new Set(["funkygoose"]),c=new Set(["badgesroyaletest","fortnitebr","funkygoose"]),a=new Set(["fortnitebr","funkygoose"]),d=new Set(["funkygoose"]),u=new Set(["badgesroyaletest","fortnitebr"]),l=new Set(["badgesroyaletest","daonuts","ethtrader","fortnitebr","funkygoose","stellartest"]),b=new Set(["daonuts","ethtrader","funkygoose","funkygooseeggs","karma_chameleon","modtestmeyourpoints","mountainbiking","nr4madastest","pointsrtesty","project_kairos","qameplease","stellar","stellartest"]),p=new Set(["daonuts","ethtrader","funkygoose","stellar"]),m=new Set(["badgesroyaletest","fortnitebr"]),f=new Set(["badgesroyaletest","daonuts","ethtrader","fortnitebr","funkygoose","stellar","stellartest"]),O=new Set([]),g=new Set(["daonuts","ethtrader","funkygoose","funkygooseeggs","karma_chameleon","modtestmeyourpoints","mountainbiking","nr4madastest","pointsrtesty","project_kairos","qameplease","stellar","stellartest"]),j=new Set(["daonuts","ethtrader","funkygoose","funkygooseeggs","karma_chameleon","modtestmeyourpoints","mountainbiking","nr4madastest","pointsrtesty","project_kairos","qameplease","stellar","stellartest"]),h=new Set(["daonuts","ethtrader","funkygoose","badgesroyaletest","fortnitebr","stellartest"]),y=new Set(["badgesroyaletest","daonuts","ethtrader","fortnitebr","funkygoose","stellartest"]),_=new Set(["badgesroyaletest","fortnitebr","funkygoose"]),E=new Set(["daonuts","ethtrader","funkygoose","mountainbiking","stellar","stellartest"]),I=new Set(["funkygoose"]),v=new Set(["badgesroyaletest","daonuts","ethtrader","fortnitebr","funkygoose","shittymorph","stellartest"]),S=new Set(["daonuts","ethtrader","funkygoose","mountainbiking","stellar","stellartest"]),T=new Set(["funkygoose"]),C=new Set(["stellar","stellartest"]),w=new Set(["daonuts","ethtrader"]),D=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{const n=Object(r.e)(e);if(n){for(const e of t)if(!e.has(n.toLowerCase()))return!1;return!0}return!1}},x=D(g,s),P=D(o),A=D(v,i),R=D(c),k=D(a),N=D(v,d),L=D(y,u),M=D(l),U=D(g,j,b),F=D(g,p),B=D(m),G=D(f),q=D(O),V=D(g),H=D(g,j),K=D(v,h),W=D(v,y),J=D(v,_),Y=D(E),z=D(g,I),Q=D(C),X=D(E,S),$=D(w),Z=D(v),ee=D(v,T)},"./src/reddit/featureFlags/utils.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.to-string.js");var r=n("./node_modules/crypto-js/sha256.js"),s=n.n(r),o=n("./src/reddit/constants/spezModal.ts");var i=n("./src/reddit/selectors/runTimeEnvVars.ts"),c=n("./src/reddit/selectors/user.ts");n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"l",(function(){return O})),n.d(t,"g",(function(){return g})),n.d(t,"i",(function(){return j})),n.d(t,"h",(function(){return h})),n.d(t,"j",(function(){return y})),n.d(t,"n",(function(){return _})),n.d(t,"k",(function(){return E}));const a=e=>t=>!e(t),d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.some(t=>t(e))},u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.every(t=>t(e))},l=e=>t=>((e,t)=>{let{user:n}=e;const r=n&&n.features;return!(!r||!r[t])})(t,e),b=e=>t=>((e,t)=>{let{user:n}=e;if(0===t)return!1;const r=n&&n.loid.loid;return!!r&&parseInt(s()(r).toString(),16)%1e3<10*t})(t,e),p=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.some(t=>t===e.meta.country)},m=(e,t)=>n=>{const r=n.meta.pageloadServerTime;return r>e&&r<t},f=e=>!0,O=e=>!1,g=e=>!1,j=c.G,h=d(g,i.c),y=e=>!!e.user.session,_=m(o.d,o.e),E=m(15492132e5,15492561e5)},"./src/reddit/helpers/adCount/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),o=n("./src/reddit/selectors/platform.ts");const i=(e,t,n)=>[e,t,n].join("/"),c=(e,t)=>{switch(t){case s.a.SUBREDDIT:case s.a.COMMENTS_OVERLAY:case s.a.COMMENTS:{const t=Object(o.i)(e);return[i(r.c.ABOVE_THE_FOLD,t,0),i(r.c.BELOW_THE_FOLD,t,1)]}case s.a.FRONTPAGE:return[i(r.c.ABOVE_THE_FOLD,!1,0),i(r.c.BELOW_THE_FOLD,!1,1)];case s.a.MULTIREDDIT:case s.a.SEARCH_RESULTS:return[i(r.c.BELOW_THE_FOLD,!1,0)];default:return[i(r.c.ABOVE_THE_FOLD,!1,0),i(r.c.BELOW_THE_FOLD,!1,1)]}}},"./src/reddit/helpers/addRedesignIdentifier/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a}));var r=n("./src/config.ts"),s=n("./node_modules/url/url.js"),o=n.n(s),i=n("./src/lib/addQueryParams/index.ts");function c(e){const{protocol:t,host:n}=o.a.parse(e),s="".concat(t,"//").concat(n)===r.a.oauthUrl?r.a.telemetry.appName.redesignR2:r.a.telemetry.appName.redesign,c={redditWebClient:s,app:"".concat(s,"-").concat("client","-").concat("production")};return Object(i.a)(e,c)}const a=()=>{const e=r.a.telemetry.appName.redesignR2;return{redditWebClient:e,app:"".concat(e,"-").concat("client","-").concat("production")}}},"./src/reddit/helpers/canonicalUrls.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return j})),n.d(t,"e",(function(){return y}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./node_modules/url/url.js"),o=n.n(s),i=n("./src/lib/addQueryParams/index.ts"),c=n("./src/lib/isAdHocMultireddit/index.ts"),a=n("./src/lib/isFakeSubreddit/index.ts"),d=n("./src/reddit/actions/otherDiscussions/constants.ts"),u=n("./src/reddit/models/Comment/index.ts"),l=n("./src/reddit/models/Post/index.ts"),b=(n("./src/reddit/selectors/meta.ts"),n("./src/reddit/selectors/multireddit.ts")),p=n("./src/reddit/selectors/subreddit.ts");const m=(e,t,n,s)=>{const o=Object(i.a)(n,s),c=e.platform&&e.platform.currentPage&&e.platform.currentPage.locationState||void 0;t(Object(r.c)(o,c))},f=(e,t,n)=>{const{params:r,queryParams:s,url:o}=n,{multiredditName:i,username:c}=r,a=Object(b.g)(e,{multiredditName:i,username:c});if(!a)return;const d=o===a,u=o.endsWith("/");if(d&&u)return;const l=u?o:"".concat(o,"/"),p=d?l:"".concat(a).concat(l.substr(a.length));m(e,t,p,s)},O=(e,t,n)=>{const{params:r,queryParams:s,url:o}=n,{subredditName:i}=r;if(i){const n="/user/".concat(i,"/"),r=o.endsWith("/"),c=Object(p.b)(e,{profileName:i});if(!c)return;const a=n===c;if(a&&r)return;const d=r?o:"".concat(o,"/"),u=a?d:d.replace(n,c);m(e,t,u,s)}},g=(e,t)=>{let n;if(Object(a.a)(t)&&Object(c.a)(t)){const{subredditIds:r}=Object(b.a)(e,{listingName:t});if(!r)return;const s=Object(p.Z)(e,{subredditIds:r}).map(e=>e.name).sort().join("+");n="/r/".concat(s,"/")}return n},j=(e,t,n)=>{const{params:r,queryParams:s,url:i}=n,{partialCommentId:c,partialPostId:a}=r,b=c?Object(u.e)(c):"",p=a?Object(l.m)(a):"";if(b){const n=e.comments.models[b];if(!n)return;const r=o.a.parse(n.permalink).pathname;r&&r!==i&&m(e,t,r,s)}else if(p){const r=e.posts.models[p];if(!r)return;const c=o.a.parse(r.permalink).pathname,a=Object(d.d)(n.path),u=c&&a?Object(d.e)(c):c;c&&c!==i&&!a?m(e,t,c,s):u&&u!==Object(d.e)(i)&&a&&m(e,t,u,s)}},h=e=>e.replace(/\/$/,""),y=(e,t,n)=>{const{params:r,queryParams:s,url:o}=n,{subredditName:i}=r;if(i){const n="/r/".concat(i,"/"),r=o.endsWith("/");let d=o;if(Object(a.a)(i)&&Object(c.a)(i)){const t=g(e,i);t&&(d=d.replace(h(n),h(t)))}else{const t=Object(p.d)(e,{subredditName:i});if(!t)return;const s=(Object(a.a)(i)?n.toLowerCase():n)===t;if(s&&r)return;const c=r?o:"".concat(o,"/");d=s?c:c.replace(h(n),h(t))}d!==o&&m(e,t,d,s)}}},"./src/reddit/helpers/categoryPickerWidget/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./src/reddit/helpers/name/index.ts");const s=(e,t)=>t.map(t=>{const n=Object(r.f)(t.name),s=n.split(" & ").join("_and_");return Object.assign({},t,{name:n,path:t.path||"".concat(e).concat(s,"/")})}),o=e=>Object(r.f)(e).split("_and_").join(" & ")},"./src/reddit/helpers/chooseVariant/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return O}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/helpers/featureThrottling/store/index.ts"),i=n("./src/reddit/helpers/trackers/experiments.ts"),c=n("./src/reddit/selectors/experiments/index.ts"),a=n("./src/reddit/selectors/telemetry.ts");const d=(e,t)=>{if(!t.experimentEligibilitySelector(e))return!1;if(t.isThrottled&&o.a.isFeatureThrottled(t.experimentName))return!1;if(t.throttledVariants){const n=((e,t)=>{const n=Object(c.b)(e,t),r=Object(c.a)(e,t);return void 0!==r?r:n&&n.name||void 0})(e,t),r=n&&t.throttledVariants[n];if(r&&o.a.isFeatureThrottled(r))return!1}return!0},u=()=>!0,l={},b=[s.d,s.e],p=Object(r.a)((e,t)=>e,c.b,c.a,d,(e,t)=>t.expEventOverride,(e,t)=>t.experimentName,(e,t,n,r,s,o)=>{if(!r)return;if(!t)return n&&l[o]!==n&&!1!==s&&(Object(i.a)(e,{experimentName:o}),l[o]=n),n;const c=t.name,a=void 0!==n?n:t.variant;if(a){l[c]===a||!1===s||Object(i.a)(e,{experimentName:o})}return a}),m=Object(r.a)(c.b,c.a,e=>a.user(e),(e,t)=>t.expEventOverride,(e,t)=>t.customPayloadMaker&&t.customPayloadMaker(e),d,(e,t)=>t.experimentName,(function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0;if(!o)return;if(!e)return t&&!1!==r&&l[c]!==t&&!b.includes(c)&&(Object(i.b)(n,{id:-1,isOverride:!0,name:c,variant:t,version:"-1"},s),l[c]=t),t;const a=e.name,{id:d}=e,u=void 0!==t,p=u?t:e.variant;if(p){const t=-1===d,o=l[a]===p;t||o||!1===r||b.includes(c)||(Object(i.b)(n,Object.assign({},e,{isOverride:u,variant:p}),s),l[a]=p)}return u?t:p})),f=(e,t)=>{const n=a.user(e),r=Object(c.b)(e,t),s=Object(c.a)(e,t),o=void 0!==s;if(r){const e=o?s:r.variant;e&&Object(i.b)(n,Object.assign({},r,{isOverride:o,variant:e}),{})}},O=(e,t)=>{const n=Object(c.b)(e,{experimentName:t}),r=Object(c.a)(e,{experimentName:t});if(!n)return r?{id:-1,isOverride:!0,name:t,variant:r,version:"-1"}:null;const s=void 0!==r,o=s?r:n.variant;return o?Object.assign({},n,{isOverride:s,variant:o}):null}},"./src/reddit/helpers/commentList/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/constants/comments.ts"),s=n("./src/reddit/selectors/comments.ts"),o=n("./src/reddit/constants/experiments.ts"),i=n("./src/reddit/helpers/chooseVariant/index.ts");n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return l}));const c=(e,t)=>t().comments.models[e],a=e=>{switch(e.commentLink.type){case r.a.Comment:return e.commentsDict[e.commentLink.id];case r.a.MoreComments:return e.moreCommentsDict[e.commentLink.id];case r.a.ContinueThread:return e.continueThreadDict[e.commentLink.id]}},d=(e,t)=>e.type===r.a.MoreComments?t[e.id].numComments:1,u=(e,t,n,r)=>{let o=Object(s.o)(r,{commentLink:t,commentsPageKey:e}),i=t;for(;o&&o.depth>n&&o.prev&&(i=o.prev,(o=Object(s.o)(r,{commentLink:i,commentsPageKey:e}))&&!(o.depth<=n)););return i.id},l=(e,t,n)=>{const{commentLists:r,comments:s}=e,{head:c}=r[t];if(c)return Object.keys(s).filter(e=>{const t=s[e];return!(!t.isStickied||!((e,t)=>{const n=Object(i.c)(e,{experimentEligibilitySelector:i.a,experimentName:o.g,expEventOverride:t});return!!(Object(o.ac)(n)?void 0:n)})(n))||(e=>!1!==e.collapsed)(t)})}},"./src/reddit/helpers/correlationIdTracker.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return d}));var r,s=n("./node_modules/uuid/v4.js"),o=n.n(s);!function(e){e.AwardCreationFlow="AwardCreationFlow",e.AwardDeletionFlow="AwardDeletionFlow",e.Explore="Explore",e.GildingFlow="GildingFlow",e.GiftPremiumFlow="GiftPremiumFlow",e.GoldPayment="GoldPayment",e.PostComposer="PostComposer",e.PremiumSettings="PremiumSettings",e.SearchResults="SearchResults",e.VideoView="VideoView"}(r||(r={}));const i={},c=e=>i[e],a=e=>i[e]=o()(),d=e=>i[e]=void 0},"./src/reddit/helpers/dom/index.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"a",(function(){return f}));n("./node_modules/core-js/modules/es6.regexp.to-string.js");var r=n("./node_modules/lodash/map.js"),s=n.n(r),o=n("./src/lib/FocusTrap/index.ts");const i=e=>"INPUT"===e.tagName.toUpperCase()||"TEXTAREA"===e.tagName.toUpperCase()||"DIV"===e.tagName.toUpperCase()&&e.isContentEditable,c=e=>{let t=e;do{if(i(t))return!0}while(t=t.parentElement);return!1},a=()=>{const e=document.getSelection();return!!e&&(e.rangeCount>0&&e.getRangeAt(0).toString().length>0)},d=()=>a()?(()=>{const e=document.getSelection();if(!e)return[];const t=e.getRangeAt(0).cloneContents().childNodes;return s()(t,e=>e.textContent||"")})():null,u=(e,t)=>{const n=document.createRange();return n.selectNode(t),e.compareBoundaryPoints(Range.END_TO_START,n)<0&&e.compareBoundaryPoints(Range.START_TO_END,n)>0},l=e=>{const t=window.getSelection();if(1!==t.rangeCount)return;const n=t.getRangeAt(0);if(!u(n,e))return;const{startContainer:r,startOffset:s,endContainer:o,endOffset:i}=n,c=document.createRange();c.selectNode(e);let a=!0;if(-1===c.compareBoundaryPoints(Range.START_TO_START,n)&&(c.setStart(r,s),a=!1),1===c.compareBoundaryPoints(Range.END_TO_END,n)&&(c.setEnd(o,i),a=!1),a)return[e];const d=document.createElement("div");return d.appendChild(c.cloneContents()),[...d.childNodes]},b=(e,t,n)=>{let r=e;for(;r&&(!n||!n(r));){if(r&&t(r))return r;r=r.parentElement}},p=e=>e&&e.parentElement&&b(e.parentElement,e=>"static"!==window.getComputedStyle(e).getPropertyValue("position")),m=e=>{if(!e||e.hidden)return!0;if(window.getComputedStyle){const t=window.getComputedStyle(e);if("none"===t.display||"hidden"===t.visibility)return!0}return!!e.parentElement&&m(e.parentElement)},f=e=>{e.querySelectorAll(o.a).forEach(e=>{e.tabIndex=-1})}},"./src/reddit/helpers/economics/sortBadges.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));n("./node_modules/core-js/modules/es6.array.sort.js");function r(e,t){if(e.placement&&!t.placement)return-1;if(t.placement&&!e.placement)return 1;if(e.position&&!t.position)return-1;if(t.position&&!e.position)return 1;let n=0;return e.placement&&t.placement&&(n=e.placement.localeCompare(t.placement)),0===n&&e.position&&t.position&&(n=e.position-t.position),0===n&&(n=e.title.localeCompare(t.title)),n}function s(e){return[...e].sort(r)}},"./src/reddit/helpers/favoriteCreators/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.array.sort.js"),n("./src/lib/constants/index.ts"),n("./src/config.ts"),n("./src/reddit/endpoints/governance/requester.ts");n("./src/reddit/endpoints/economics/tips.ts");n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d}));const r={creators:{},lastFetch:0,posts:[],tippablePosts:{}},s=e=>"favorite-creators-".concat(e),o=e=>{try{const t=localStorage.getItem(s(e));if(t)return Object.assign({},r,JSON.parse(t))}catch(t){}return r},i=(e,t)=>{try{return localStorage.setItem(s(e),JSON.stringify(t)),!0}catch(n){}return!1},c=e=>{const t=o(e).creators;return Object.keys(t).sort((e,n)=>t[e]-t[n]).slice(0,100)},a=(e,t)=>{const n=o(e);if(Object.keys(n.creators).length>=200&&!n.creators[t]){const t=c(e),r=t[t.length-1];delete n.creators[r]}return n.creators[t]=(n.creators[t]||0)+1,i(e,n)},d=(e,t)=>{const n=o(e);return delete n.creators[t],i(e,n)}},"./src/reddit/helpers/featureThrottling/store/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/uuid/v4.js"),s=n.n(r),o=n("./src/reddit/constants/featureThrottling.ts"),i=n("./src/reddit/helpers/localStorage/index.ts"),c=n("./node_modules/lodash/uniq.js"),a=n.n(c),d=n("./node_modules/reselect/es/index.js"),u=n("./src/reddit/models/FeatureThrottling/index.ts");const l=[],b=(e,t,n)=>{switch(e.type){case u.b.TimesPerPeriod:{const n=Date.now()-e.period;return t.filter(e=>e.when>=n).length<e.times}case u.b.TimesPerSession:return t.filter(e=>e.sessionId===n).length<e.times;case u.b.TimesTotal:return t.length<e.times;case u.b.NthSession:return a()([...t.map(e=>e.sessionId),n]).length%e.nth==0;case u.b.Combined:return(e.op===u.a.And?Array.prototype.every:Array.prototype.some).call(e.configs,e=>b(e,t,n));default:return!1}},p=Object(d.a)((e,t)=>t.name,(e,t)=>t.sessionId,(e,t)=>o.a[t.name],(e,t)=>e[t.name]||l,(e,t,n,r)=>{if(!n)return!1;try{return b(n,r,t)}catch(s){return!1}}),m=(e,t)=>!p(e,t);const f=new class{constructor(){this.isReady=!1,this.listeners=new Set,this.sessionId="",this.throttlingData={},this.subscribe=e=>{this.listeners.has(e)||(this.listeners.add(e),this.isReady&&e(this.throttlingData))},this.unsubscribe=e=>{this.listeners.delete(e)},this.persistToLSAndNotify=e=>{Object(i.L)(this.throttlingData),this.notifyAll(e)},this.isFeatureThrottled=e=>!!this.isReady&&m(this.throttlingData,{name:e,sessionId:this.sessionId}),this.throttleFeature=e=>{o.a[e]&&!this.isFeatureThrottled(e)&&(this.throttlingData=Object.assign({},this.throttlingData,{[e]:[...this.throttlingData[e]||[],{sessionId:this.sessionId,when:Date.now()}]}),this.persistToLSAndNotify(e))},this.resetFeature=e=>{o.a[e]&&(this.throttlingData=Object.assign({},this.throttlingData,{[e]:[]}),this.persistToLSAndNotify(e))}}initialize(){const e=Object(i.j)();if(!e)return;const t=Object.keys(o.a);let n=!1;Object.keys(e).forEach(r=>{t.includes(r)||(delete e[r],n=!0)}),n&&Object(i.L)(e),this.throttlingData=e,this.sessionId=s()(),this.isReady=!0,this.notifyAll()}notifyAll(e){this.isReady&&this.listeners.forEach(t=>{t(this.throttlingData,e)})}};t.a=f},"./src/reddit/helpers/filterListingResponse/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./node_modules/lodash/findLastIndex.js"),s=n.n(r),o=n("./src/reddit/models/WhitelistStatus/index.ts"),i=n("./src/reddit/selectors/telemetry.ts"),c=n("./src/telemetry/index.ts"),a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const d=(e,t)=>{let{subreddits:n,profiles:r}=t;const s=n[e.belongsTo.id]||r[e.belongsTo.id];return!e.isNSFW&&s&&s.wls===o.a.ALL_ADS};t.a=(e,t,n)=>{var{postIds:r,posts:o,subreddits:u,profiles:l}=n,b=a(n,["postIds","posts","subreddits","profiles"]);const p=e.listings.postOrder.ids[t],m=(r||[]).filter(e=>!p||!p.includes(e)),f=p.map(t=>e.posts.models[t]),O=f.length-(s()(f,e=>e.isSponsored)+1),g=m.map(e=>o[e]);let j;const h=[],y={subreddits:u,profiles:l};for(let s=0;s<g.length;s++){const n=g[s];let r=!1;if(n.isSponsored){const e=s>0&&g[s-1],t=s<g.length-1&&g[s+1];e&&d(e,y)&&t&&d(t,y)&&(r=!0)}n.isSponsored&&r&&(null==j&&O+s>=3||s-j>=3)?(j=s,h.push(n.id)):n.isSponsored?n.isSponsored&&Object(c.a)(Object.assign({source:"feed",action:"remove",noun:"ad"},i.defaults(e),{listing:i.listing(e,t)})):h.push(n.id)}return Object.assign({},b,{subreddits:u,profiles:l,posts:o,postIds:h})}},"./src/reddit/helpers/flair.ts":function(e,t,n){"use strict";n.d(t,"p",(function(){return l})),n.d(t,"g",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"o",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"q",(function(){return g})),n.d(t,"n",(function(){return h})),n.d(t,"h",(function(){return y})),n.d(t,"c",(function(){return I})),n.d(t,"b",(function(){return v})),n.d(t,"l",(function(){return S})),n.d(t,"f",(function(){return C})),n.d(t,"d",(function(){return w})),n.d(t,"r",(function(){return x})),n.d(t,"k",(function(){return P})),n.d(t,"m",(function(){return A})),n.d(t,"j",(function(){return R})),n.d(t,"e",(function(){return k}));n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./node_modules/lodash/isEqual.js"),s=n.n(r),o=n("./src/lib/addQueryParams/index.ts"),i=n("./src/lib/formatEmojiName/index.ts"),c=n("./src/reddit/constants/colors.ts"),a=n("./src/reddit/constants/flair.ts"),d=n("./src/reddit/i18n/utils.ts"),u=n("./src/reddit/models/Flair/index.ts");const l=e=>e===u.f.Text||e===u.f.Richtext||e===u.f.Image||e===u.f.Meta,b=e=>e.e===u.c.Emoji?Object(i.b)(e.a):e.t,p=e=>e.type===u.f.Richtext?e.richtext.map(b).join(""):e.text||"",m=e=>p(e).length,f=(e,t)=>p(e)===p(t),O=e=>!e.allowableContent||e.allowableContent===u.a.Emoji||e.allowableContent===u.a.All,g=e=>!e.allowableContent||e.allowableContent===u.a.Text||e.allowableContent===u.a.All,j=e=>!!e.find(e=>e.e===u.c.Text),h=e=>e.type===u.f.Richtext?j(e.richtext):!!e.text,y=e=>e.type===u.f.Richtext?e.richtext.reduce((e,t)=>t.e===u.c.Emoji?e+1:e,0):0,_=e=>({e:u.c.Text,t:e}),E=(e,t)=>({e:u.c.Emoji,a:e,u:t}),I=function(e){let t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=e.type===u.f.Richtext?{backgroundColor:e.backgroundColor,cssClass:e.cssClass,richtext:e.richtext,templateId:e.id,textColor:e.textColor,type:e.type}:{backgroundColor:e.backgroundColor,cssClass:e.cssClass,templateId:e.id,text:e.text,textColor:e.textColor,type:e.type},n&&(t=w({flair:t,template:e})),t},v=()=>{return{backgroundColor:c.a.defaultFlair,text:"",textColor:u.e.Dark,type:u.f.Text}},S=e=>{let{maxEmojis:t}=e;if("string"==typeof t){const e=parseInt(t,10);return Number.isInteger(e)?e:a.d}return"number"==typeof t?t:a.d},T=(e,t)=>{if(t>=e.length)return e;let n=e,r=-1,s=0,o=-1;for(let i=0;i<e.length;i++)if(e[i].e===u.c.Emoji)if(++s===t)o=i;else if(s>t){r=o+1;break}if(r>=0){n=e.slice(0,r);let t="";for(let n=r;n<e.length;n++)t+=b(e[n]);n.push(_(t))}return n},C=(e,t)=>{const n=e.type===u.f.Richtext?e.richtext:[],r=p(e);return Object.assign({},t,{type:e.type,richtext:n,text:r})},w=e=>{const{flair:t,template:n,ignoreTextAllowance:r=!1}=e,s=!!r||g(n);let o=t;if(t.type===u.f.Richtext){let e=t.richtext;e=O(n)?T(e,S(n)):T(e,0),!s&&j(e)&&(e=e.filter(e=>e.e!==u.c.Text)),e!==t.richtext&&(o=Object.assign({},t,{richtext:e}))}else t.text&&!s&&(o=Object.assign({},t,{text:""}));return o},D=()=>!0,x=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D;const{emojis:r,snoomojis:o}=t,c=e.type===u.f.Richtext?e.richtext:[_(e.text)],a=[];return c.forEach(e=>{if(e.e===u.c.Text){e.t.split(/(:[-\w]+:)/).forEach(e=>{if(!e)return;if(i.a.test(e)){const t=e,s=t.slice(1,-1),i=r[s]||o[s];if(i&&n(i)){const e=E(t,i.url);return void a.push(e)}}const t=a[a.length-1];t&&t.e===u.c.Text?t.t+=e:a.push(_(e))})}else a.push(e)}),s()(a,c)?e:Object.assign({},e,{type:u.f.Richtext,richtext:a})},P=e=>{const t=S(e),n=Object(d.a)("emojiCount",["emoji","emojis"],t);return e.allowableContent===u.a.Emoji?Object(d.c)("Allows up to ".concat(Object(d.b)("emojiCount",t)," ").concat(n," only")):e.allowableContent===u.a.Text?Object(d.c)("Allows text only"):Object(d.c)("Allows text and up to ".concat(Object(d.b)("emojiCount",t)," ").concat(n))},A=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=m(e),s=g(t),o=O(t);if(0===r&&!n.allowBlank)return s&&o?Object(d.c)("Error: text or emoji is required"):o?Object(d.c)("Error: emoji is required"):Object(d.c)("Error: text is required");if(r>a.g&&!n.allowOverflow)return Object(d.c)("Error: character limit exceeded");const i=S(t),c=y(e);return!s&&h(e)?Object(d.c)("Error: Only emojis allowed"):!o&&c>0?Object(d.c)("Error: Emojis aren't allowed"):c>i?Object(d.c)("Error: Exceeds ".concat(Object(d.b)("maxEmojiCount",i)," emoji limit")):void 0},R=e=>'flair_name:"'.concat(p(e),'"'),k=(e,t)=>Object(o.a)(e,{f:t})},"./src/reddit/helpers/genericServerError/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/app/strings/index.ts");const o=Object(s.e)("error.type.generic");t.a=e=>({type:r.D.SERVER_ERROR,fields:[{field:"",msg:o(e)}]})},"./src/reddit/helpers/getCommentsPageSort/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/extractQueryParams/index.ts"),o=n("./node_modules/lodash/fromPairs.js"),i=n.n(o),c=n("./src/reddit/constants/parameters.ts"),a=n("./src/reddit/selectors/experiments/chatPost.ts"),d=n("./src/reddit/selectors/user.ts");t.a=(e,t)=>{const{user:n}=e,o=t&&e.posts.models[t],u=o&&o.suggestedSort?o.suggestedSort:"",l=!!n&&Object(d.A)(e);let b,p=r.r,m=!1;n&&n.prefs&&(b=n.prefs.defaultCommentSort),l?p=b:u?p=u:b&&(p=b);const f=(e=>{const t=e.platform.currentPage&&e.platform.currentPage.url;return t&&i()([...Object(s.a)(t)])||new Set([])})(e),O=c.q in f?f[c.q]:"";return(r.Sb.has(O)?O:p)===O&&(p=O),O&&(m=!0),Object(a.d)(e,{postId:t})&&(p=r.q.CHAT,m=!1),{hasSortParam:m,sortToUse:p}}},"./src/reddit/helpers/getErrorMsgFromR2JQueryResponse.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const r={INVALID_EMAIL:"You entered an invalid email. Please try again.",RATELIMITED:"You are doing that too much. Please try later.",WRONG_PASSWORD:"You entered an incorrect password. Please try again."},s=(e,t)=>-1!==e.indexOf(t);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Something went wrong. Please try again.";const n=e&&e.body&&e.body.jquery&&e.body.jquery[14]&&e.body.jquery[14][3]&&e.body.jquery[14][3][0];return"string"!=typeof n?t:s(n,"the following emails are invalid")?r.INVALID_EMAIL:s(n,"wrong password")?r.WRONG_PASSWORD:s(n,"you are doing that too much")?r.RATELIMITED:t}},"./src/reddit/helpers/getGenericUploadError.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/lib/constants/index.ts");function s(e){return{type:r.D.UNKNOWN_ERROR,fields:[{field:e,msg:"Image failed to upload"}]}}},"./src/reddit/helpers/getPostFromRouteMatch/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./src/reddit/models/Post/index.ts"),s=n("./src/lib/constants/index.ts");t.a=(e,t)=>{if(!t){const{currentPage:n}=e.platform;if(!n)return null;t=n.routeMatch}const{name:n}=t.route.meta;if(n===s.xb.COMMENTS||n===s.xb.DUPLICATES){const{partialPostId:n}=t.match.params,s=Object(r.m)(n);return e.posts.models[s]}return null}},"./src/reddit/helpers/getPostLimitForMobile/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/reddit/constants/postLayout.ts");function s(e){return e?r.c[e]:r.f}},"./src/reddit/helpers/getRichTextContent.ts":function(e,t,n){"use strict";var r=n("./src/lib/env/index.ts"),s=n("./src/lib/sentry/index.ts"),o=n("./src/reddit/helpers/isComment.ts"),i=n("./src/reddit/models/RichTextJson/index.ts"),c=(n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./src/reddit/models/RichTextJson/nodeMakers.ts"));n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return b}));const a={document:"[Unable to render content]".split("\n").map(e=>Object(c.l)([Object(c.s)(e,null)]))};const d=(e,t)=>{const n=Object(o.a)(t.id),i="getRichTextContent: ".concat(e," (in ").concat(n?"comment":"post",")");s.c.withScope(e=>{e.setExtra("info",{id:t.id,permalink:t.permalink,media:t.media}),e.setTag("rtjson","getting_content"),s.c.captureMessage(i)}),Object(r.b)()||console.log("".concat(t.id,": ").concat(i))},u=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=void 0===t?a:t,s=e.media;if(!s)return n&&d("Media object is missing",e),r;if("rtjson"!==s.type)return n&&d("Media object type is not rtjson",e),r;const o=s.richtextContent;return o?Array.isArray(o.document)?o:(n&&d("Invalid richtextContent document",e),r):(n&&d("Missing richtextContent property",e),r)},l=e=>!!u(e,null,!1),b=e=>{const t=u(e,null,!1);if(!t)return;const n=t.document,r=[];return n.forEach(e=>{if(e.e===i.u){e.c.forEach(e=>{e.e===i.A&&r.push(e.t)})}}),0!==r.length?r.join(" "):void 0};t.a=u},"./src/reddit/helpers/getS3KeyFromUrl/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/url/url.js"),s=n.n(r);t.a=e=>{const{pathname:t=""}=s.a.parse(e);return t.startsWith("/")?t.slice(1):t}},"./src/reddit/helpers/getSubredditErrorProps/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/components/ContentGate/index.tsx");t.a=(e,t,n)=>{let s,o,i,c,a,d;return e?e.quarantinedSubreddit?(o=r.a.QuarantinedSubreddit,c=e.quarantineMessage,a=e.quarantineMessageHtml,d=e.quarantineRequiresEmail):e.privateSubreddit?(o=r.a.PrivateSubreddit,i=e.subredditDescription):e.goldSubreddit?o=r.a.GoldSubreddit:e.subredditBanned?(o=r.a.SubredditBanned,s=e.subredditBanMessage):e.subredditDoesNotExist&&(o=r.a.SubredditDoesNotExist):t&&(o=r.a.Nsfw),o&&n?{banMessage:s,contentGateType:o,subredditDescription:i,subredditName:n,quarantineMessage:c,quarantineMessageHtml:a,quarantineRequiresEmail:d}:void 0}},"./src/reddit/helpers/getSubredditOrProfileIconData/index.tsx":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./src/reddit/models/StructuredStyles/index.ts");const o={};t.a=e=>e.subredditOrProfile?{url:e.shouldHideNsfwIcon&&e.subredditOrProfile.isNSFW?"".concat(r.a.assetPath,"/img/avatar_over18.png"):e.subredditOrProfile.communityIcon||e.subredditOrProfile.icon.url,color:Object(s.h)(e.subredditOrProfile)}:o},"./src/reddit/helpers/getSubredditSortForListingKeyCreation/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/isFakeSubreddit/index.ts");t.a=e=>{const{sort:t,subredditName:n}=e,o=!n||Object(s.a)(n)?r.O:void 0;return t||o}},"./src/reddit/helpers/getSubredditUrl/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/isFakeSubreddit/index.ts");t.a=e=>e&&!Object(r.a)(e.name)?e.url:""},"./src/reddit/helpers/getTimeSortForListing/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/listingSort/index.ts");t.a=(e,t)=>{if(e)return Object(s.a)(e)?t||r.Pb:void 0}},"./src/reddit/helpers/governanceErrorText/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("./node_modules/core-js/modules/web.dom.iterable.js");function r(e){return e[0].toUpperCase()+e.slice(1)}function s(e){return"extra"in e?"string"==typeof e.extra?e.extra:Object.keys(e.extra).map(t=>e.extra[t]).map(r).join(" "):"Something wen't wrong. Please try again later."}},"./src/reddit/helpers/graphql/helpers.ts":function(e,t,n){"use strict";n.d(t,"k",(function(){return s})),n.d(t,"i",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"j",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"e",(function(){return O}));n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./src/reddit/models/Gold/Award.ts");const s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return JSON.parse(e)}catch(n){return t}},o=e=>{switch(e){case"UP":return 1;case"DOWN":return-1;default:return 0}},i=e=>e.reduce((e,t)=>{let{award:n,total:s}=t;if(void 0!==n.icon){const t=Object(r.e)(n,s);e.push(t)}return e},[]);var c;!function(e){e[e.Seconds=3]="Seconds",e[e.Millis=0]="Millis"}(c||(c={}));const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.Seconds;if(!e)return 0;let n=Date.parse(e);return Number.isNaN(n)&&(n=Date.parse(e.replace("+0000","Z"))),Number.isNaN(n)||n<=0?0:n-n%Math.pow(10,t)},d=e=>{const t={},n=e.split("?")[1];if(!n)return t;const r=n.split("&");for(const s of r){const[e,n]=s.split("=");t[e]=n}return t},u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("string"!=typeof e||"string"!=typeof t||e.split("?")[0]!==t.split("?")[0])return!1;const r=["auto","crop",...n],s=d(e),o=d(t),i=new Set([...Object.keys(s),...Object.keys(o)]),c=[...i].filter(e=>!r.includes(e));return c.every(e=>{switch(e){case"s":return s[e]&&o[e];case"blur":const t=parseInt(s[e]),n=parseInt(o[e]);return!isNaN(t)&&!isNaN(n)&&Math.abs(t-n)<=10;default:return s[e]===o[e]}})},l=(e,t)=>e===t||u(e,t),b=()=>!0,p=(e,t)=>e&&e.toUpperCase()===t,m=(e,t)=>Math.abs(e-t)<Math.max(20,.1*e),f=window.URL,O=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{const r=new f(e),s=new f(t);for(const e of n)r.searchParams.delete(e),s.searchParams.delete(e);return r.searchParams.sort(),s.searchParams.sort(),r.toString()===s.toString()}catch(r){return!1}}},"./src/reddit/helpers/graphql/normalizeAllowedPostTypesFromGql/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/models/Subreddit/index.ts");const s={[r.a.Image]:"images",[r.a.Link]:"links",[r.a.Spoiler]:"spoilers",[r.a.Text]:"text",[r.a.Video]:"videos"};t.a=e=>{return Object.assign({},{images:!1,links:!1,spoilers:!1,text:!1,videos:!1},e.reduce((e,t)=>(e[s[t]]=!0,e),{}))}},"./src/reddit/helpers/graphql/normalizeFlairFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}));var r=n("./src/reddit/models/Flair/index.ts"),s=n("./src/reddit/helpers/graphql/helpers.ts");const o=e=>{switch(e){case r.h.Dark:return r.e.Dark;case r.h.Light:return r.e.Light}},i=(e,t,n,o,i)=>{const c=[];return i===r.f.Richtext?(c.push(Object.assign({type:i,richtext:Object(s.k)(o,[])||[]},e)),t&&c.push(Object.assign({type:r.f.Text,text:t},e))):c.push(Object.assign({type:i,text:n},e)),c},c=e=>{const{text:t,richtext:n}=e,{id:r,textColor:s,type:c,text:a,backgroundColor:d,cssClass:u}=e.template,l=Object.assign({backgroundColor:d||"",cssClass:u},r&&{templateId:r},s&&{textColor:o(s)});return i(l,a||"",t,n,c)},a=e=>{const{text:t,richtext:n,cssClass:r}=e,{id:s,textColor:c,type:a,text:d,backgroundColor:u,cssClass:l,richtext:b}=e.template,p=Object.assign({backgroundColor:u||"",cssClass:r||l},s&&{templateId:s},c&&{textColor:o(c)});return i(p,d||"",t||"",n||b,a)}},"./src/reddit/helpers/graphql/normalizeFrontpageFromGql/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/models/Post/index.ts"),s=n("./src/reddit/models/Live/index.ts"),o=(e,t)=>t?{announcementUrl:t.url,buttonCta:t.callToAction,description:t.description||"",icon:s.a[t.icon]&&t.icon.toLowerCase(),id:t.id,isAnnouncement:!0,numTimesDismissable:t.maxDismissCount,title:t.title,viewerCount:0}:e?{announcementUrl:"",buttonCta:"",description:e.description||"",icon:"",id:e.id,isAnnouncement:!1,numTimesDismissable:0,title:e.title,viewerCount:e.viewerCount}:null,i=n("./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts"),c=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),a=n("./src/reddit/helpers/graphql/normalizePreferencesFromGql/index.ts"),d=n("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts"),u=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),l=n("./src/reddit/helpers/graphql/normalizeUserFromGql/index.ts");t.a=e=>{let{trendingSubreddits:t=[],identity:n,home:s,featuredAnnouncement:b,featuredLiveEvent:p,recentPosts:m=[]}=e;const f=[],O=[],g={postIds:[],postInstances:{},posts:{},postFlair:{},profiles:{},subreddits:{}},j=e=>{if(g.posts[e.id])return e.id;const t=Object(c.d)(e);g.posts[t.id]=t;const{crosspostRoot:n}=e;n&&n.type===r.a.Post&&n.postInfo&&j(n.postInfo);let s=t.id;switch(e.__typename){case r.f.ProfilePost:g.profiles[e.profile.id]||(g.profiles[e.profile.id]=Object(d.a)(e.profile));break;case r.f.SubredditPost:g.subreddits[e.subreddit.id]||(g.subreddits[e.subreddit.id]=Object(u.a)(e.subreddit)),g.postFlair[e.subreddit.id]||(g.postFlair[e.subreddit.id]=Object(i.a)(e.subreddit));break;case r.f.AdPost:const n=Object(c.b)(e);if(!n){s=null;break}s=n,g.posts[n]=Object.assign({},t,{id:n,permalink:"".concat(t.permalink,"?instanceId=").concat(encodeURIComponent(n))}),g.posts[t.id]||(g.posts[t.id]=Object.assign({},t,{events:[]})),g.postInstances[e.id]||(g.postInstances[e.id]=[]),g.postInstances[e.id].push(n)}return s};for(const r of t){const e=Object(u.a)(r);g.subreddits[e.id]=e,f.push(e.id)}for(const{node:r}of s.posts.edges){const e=j(r);e&&g.postIds.push(e)}for(const r of m){if(!r)continue;const e=j(r);e&&O.push(e)}const h=g.postIds.length-1,y=h>=0?g.postIds[h]:"",_=s.posts.dist;return Object.assign({},g,{account:n&&Object(l.a)(n)||null,featuredLiveThread:o(p,b)||{},preferences:n&&n.preferences&&Object(a.a)(n.preferences,n.interactions)||null},0!==f.length&&{trendingSubredditIds:f},0!==O.length&&{recentPostIds:O},{token:y},null!==_&&{dist:_})}},"./src/reddit/helpers/graphql/normalizeModeratorPartFromGql/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/helpers/graphql/helpers.ts");const s=(e,t)=>!!e&&(e.verdict==="MOD_".concat(t.toUpperCase())||e.verdict==="ADMIN_".concat(t.toUpperCase())),o=e=>e&&e.length?e.map(e=>[e.reason||"",e.author&&e.author.name||""]):null,i=e=>e&&e.length?e.map(e=>[e.reason||"",e.count||0]):null;t.a=e=>{let{moderationInfo:t}=e;if(!t)return;const n=(e=>e&&e.verdictBy&&e.verdictBy.name||null)(t),c=(e=>e&&Object(r.j)(e.verdictAt)||null)(t),a=s(t,"spammed"),d=s(t,"approved"),u=s(t,"removed"),{approvedBy:l=null,approvedAtUTC:b=null,bannedBy:p=null,bannedAtUTC:m=null}=d?{approvedBy:n,approvedAtUTC:c}:{bannedBy:n,bannedAtUTC:c};return Object.assign({isSpam:a,isApproved:d,isRemoved:u,ignoreReports:t.isReportingIgnored,numReports:t.reportCount||null,modNote:t.modNote,approvedBy:l,approvedAtUTC:b,bannedBy:p,bannedAtUTC:m},u&&{modReasonBy:n},{modReports:o(t.modReports)||[],userReports:i(t.userReports)||[],modReportsDismissed:o(t.dismissedModReports)||[],userReportsDismissed:i(t.dismissedUserReports)||[]})}},"./src/reddit/helpers/graphql/normalizeMultiredditDataFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));var r=n("./node_modules/lodash/forEach.js"),s=n.n(r),o=n("./node_modules/lodash/merge.js"),i=n.n(o),c=n("./src/lib/env/index.ts"),a=n("./src/lib/sentry/index.ts"),d=n("./src/reddit/helpers/graphql/helpers.ts"),u=n("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts"),l=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),b=n("./src/reddit/models/GqlTopLevelField.ts"),p=n("./src/reddit/models/Multireddit/index.ts");function m(e){const t={multireddits:{},multiredditsByUser:{},subreddits:{},profiles:{}};if(!e)return t;const{path:n}=e,r=n.toLowerCase(),s=r.endsWith("/")?r:r+"/",o={created:0,description:e.descriptionContent?e.descriptionContent.markdown:"",descriptionHtml:null,descriptionRtJson:e.descriptionContent?JSON.parse(e.descriptionContent.richtext):null,displayText:e.displayName,followerCount:e.followerCount,name:e.name,icon:e.icon,isFavorited:e.isFavorited,isFollowed:e.isFollowed,isNSFW:e.isNsfw||!1,isQuarantined:e.isQuarantined||!1,subredditCount:e.subredditCount,ownerId:e.ownerInfo.id,url:s,visibility:e.visibility&&e.visibility.toLowerCase()||p.e.Private};if(o.created=Object(d.j)(e.createdAt)/1e3,e.sources){o.subredditIds=[],o.profileIds=[];for(const{node:n}of e.sources.edges){if(n.__typename===b.a.Subreddit)o.subredditIds.push(n.id),t.subreddits[n.id]=t.subreddits[n.id]||Object(l.a)(n);else if(n.__typename===b.a.Profile)o.profileIds.push(n.id),t.profiles[n.id]=t.profiles[n.id]||Object(u.a)(n);else{const e='Unexpected Multireddit.sources node with type "'.concat(n.__typename,'"');Object(c.b)()?a.c.captureMessage(e):console.error(e)}n.isNSFW&&(o.isNSFW=!0),n.isQuarantined&&(o.isQuarantined=!0)}}return t.multireddits[s]=o,t.multiredditsByUser[e.ownerInfo.id]=[s],t}function f(e){const t={},n={},r={},o={},c=e.map(m);for(const a of c)s()(a.multiredditsByUser,(e,t)=>{n[t]=[...n[t]||[],...e]}),i()(t,a.multireddits),i()(r,a.profiles),i()(o,a.subreddits);return{multireddits:t,multiredditsByUser:n,profiles:r,subreddits:o}}t.a=m},"./src/reddit/helpers/graphql/normalizeMultiredditListingFromGql/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/helpers/graphql/normalizeFlairFromGql/index.ts"),s=n("./src/reddit/helpers/graphql/normalizeMultiredditDataFromGql/index.ts"),o=n("./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts"),i=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),c=n("./src/reddit/helpers/graphql/normalizePreferencesFromGql/index.ts"),a=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),d=n("./src/reddit/helpers/graphql/normalizeUserFromGql/index.ts"),u=n("./src/reddit/models/Post/index.ts");t.a=e=>{const t={account:null,dist:0,features:null,multireddits:{},multiredditsByUser:{},pageInfo:null,postFlair:{},postIds:[],postInstances:{},posts:{},preferences:null,profiles:{},subreddits:{},token:void 0};if(!e)return t;const{identity:n,multireddit:l}=e;if(n&&(t.account=Object(d.a)(n)||null,t.preferences=Object(c.a)(n.preferences,n.interactions)||null),!l)return t;const{posts:b}=l;if(b){t.pageInfo=b.pageInfo;for(const{node:e}of b.edges){const n=e;t.postIds.push(n.id);const{post:s,crosspost:c}=n&&Object(i.a)(n);t.posts[s.id]=s,c&&(t.posts[c.id]=c),n.__typename!==u.f.DeletedProfilePost&&n.__typename!==u.f.DeletedSubredditPost&&(n.authorFlair&&(t.postFlair[s.belongsTo.id]||(t.postFlair[s.belongsTo.id]={}),t.postFlair[s.belongsTo.id][s.author]=Object(r.a)(n.authorFlair)[0]),n.__typename===u.f.SubredditPost&&(t.subreddits[n.subreddit.id]||(t.subreddits[n.subreddit.id]=Object(a.a)(n.subreddit)),t.postFlair[n.subreddit.id]||(t.postFlair[n.subreddit.id]=Object(o.a)(n.subreddit))))}}else t.pageInfo={endCursor:null,hasNextPage:!1,hasPreviousPage:!1,startCursor:null};t.postIds.length&&(t.dist=t.postIds.length),t.pageInfo.hasNextPage&&(t.token=t.pageInfo.endCursor||"");const{multireddits:p,multiredditsByUser:m,profiles:f,subreddits:O}=Object(s.a)(l);return Object.assign({},t,{multireddits:p,multiredditsByUser:m,profiles:Object.assign({},t.profiles,f),subreddits:Object.assign({},t.subreddits,O)})}},"./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/models/Flair/index.ts");function s(e){switch(e){case r.g.LEFT:return r.b.Left;case r.g.RIGHT:return r.b.Right;default:return null}}function o(e){let{isEnabled:t=!1,position:n}=e;return{isEnabled:t,position:s(n)}}t.a=e=>{let{postFlairSettings:t}=e;return Object.assign({},t&&{displaySettings:t&&o(t)})}},"./src/reddit/helpers/graphql/normalizePostFromGql/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/sentry/index.ts"),o=n("./src/reddit/constants/adEvents.ts"),i=n("./src/reddit/constants/thumbnails.ts"),c=n("./src/reddit/helpers/graphql/normalizeFlairFromGql/index.ts"),a=n("./src/reddit/helpers/graphql/normalizeModeratorPartFromGql/index.ts");const d=/i\.redd\.it|v\.redd\.it|i\.reddituploads\.com/;var u=n("./src/reddit/models/Flair/index.ts"),l=n("./src/reddit/models/Media/index.ts");const b=e=>{switch(e){case"IMPRESSION":return o.a.Impression;case"CLICK":return o.a.Click;case"COMMENTS_VIEW":return o.a.CommentsView;case"UPVOTE":return o.a.Upvote;case"DOWNVOTE":return o.a.Downvote;case"COMMENT_SUBMITTED":return o.a.CommentSubmitted;case"VIEWABLE_IMPRESSION":return o.a.ViewableImpression;case"COMMENT_UPVOTE":return o.a.CommentUpvote;case"COMMENT_DOWNVOTE":return o.a.CommentDownvote;case"VIDEO_VIEWABLE_IMPRESSION":return o.a.VideoViewableImpression;case"VIDEO_FULLY_VIEWABLE_IMPRESSION":return o.a.VideoFullyViewableImpression;case"VIDEO_PLAYED_WITH_SOUND":return o.a.VideoPlayedWithSound;case"VIDEO_PLAYED_EXPANDED":return o.a.VideoPlayedExpanded;case"VIDEO_WATCHED_25":return o.a.VideoWatched25;case"VIDEO_WATCHED_50":return o.a.VideoWatched50;case"VIDEO_WATCHED_75":return o.a.VideoWatched75;case"VIDEO_WATCHED_95":return o.a.VideoWatched95;case"VIDEO_WATCHED_100":return o.a.VideoWatched100;case"VIDEO_STARTED":return o.a.VideoStarted;case"VIDEO_WATCHED_3_SECS":return o.a.VideoWatchedSeconds3;case"VIDEO_WATCHED_5_SECS":return o.a.VideoWatchedSeconds5;case"VIDEO_WATCHED_10_SECS":return o.a.VideoWatchedSeconds10}};var p=n("./src/reddit/models/Post/index.ts"),m=n("./src/reddit/models/PostCreationForm/index.ts"),f=n("./src/reddit/models/RichTextJson/index.ts"),O=n("./src/reddit/models/User/index.ts"),g=n("./src/reddit/helpers/graphql/helpers.ts");n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return N})),n.d(t,"d",(function(){return B}));var j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const h={document:[]},y=e=>e.__typename===p.f.DeletedProfilePost||e.__typename===p.f.DeletedSubredditPost,_=[p.e.Embed,p.e.Image,p.e.Video,p.e.Gifvideo],E=e=>{const t=e.thumbnail?Object.assign({url:e.thumbnail.url},e.thumbnail.dimensions):{url:i.a.DEFAULT,width:null,height:null};return e.__typename===p.f.AdPost&&e.authorOnlyInfo&&t.url?t:e.__typename!==p.f.SubredditPost||e.subreddit.isThumbnailsEnabled?t:e.isSelfPost?Object.assign({},t,{url:i.a.SELF}):e.media&&e.media.typeHint&&_.includes(e.media.typeHint)?Object.assign({},t,{url:i.a.IMAGE}):Object.assign({},t,{url:i.a.DEFAULT})},I=e=>{switch(e.__typename){case p.f.SubredditPost:return{id:e.subreddit.id,type:"subreddit"};default:return{id:e.profile.id,type:"profile"}}},v=e=>{var{flair:t,isNsfw:n,isSpoiler:r}=e,s=j(e,["flair","isNsfw","isSpoiler"]);const o=[];t&&o.push(...Object(c.b)(t)),r&&o.push({text:"spoiler",type:u.f.Spoiler}),n&&o.push({text:"nsfw",type:u.f.Nsfw});let i=!1;return s.__typename===p.f.ProfilePost?i=s.profile.isQuarantined:s.__typename===p.f.SubredditPost&&(i=s.subreddit.isQuarantined),i&&o.push({text:"quarantined",type:u.f.Quarantined}),o},S=e=>e.map(e=>{let{type:t,url:n}=e;return{url:n||"",type:b(t)}}),T=e=>{var{domain:t,url:n}=e,r=j(e,["domain","url"]);if(r.__typename===p.f.AdPost||!r.isSelfPost&&!(e=>d.test(e))(t||"")){const e=r.outboundLink&&r.outboundLink.expiresAt&&Object(g.j)(r.outboundLink.expiresAt);return Object.assign({displayText:t||"",url:n||""},r.outboundLink&&{outboundUrl:r.outboundLink.url||void 0,outboundUrlCreated:e&&e-36e5||void 0,outboundUrlExpiration:e||void 0})}return null},C={small:108,medium:216,large:320,xlarge:640,xxlarge:960,xxxlarge:1080},w=(e,t)=>{const n=e&&(t?e.animated:e.still);if(!n)return[];const r=e&&e.still&&e.still.source?e.still.source.dimensions.width:0;return Object.keys(C).reduce((e,s)=>{const o=n[t?"".concat(t,"_").concat(s):s];if(!o||C[s]>r)return e;const i=Object.assign({url:o.url},o.dimensions);return i?[...e,i]:e},[])},D=e=>{const{media:t,isSelfPost:n}=e;if(n)return e.content&&e.content.richtext?l.n.RTJSON:l.n.TEXT;switch(t&&t.typeHint){case p.e.Image:return l.n.IMAGE;case p.e.Gifvideo:return l.n.GIFVIDEO;case p.e.Video:return l.n.VIDEO;case p.e.Embed:return l.n.EMBED;default:return null}},x=e=>e.authorOnlyInfo&&e.authorOnlyInfo.contentMode===p.d.Markdown?m.h.MARKDOWN:m.h.RICH_TEXT,P=e=>Math.min(e.height,e.width),A=(e,t)=>{const{media:n,content:r}=e,s=(e=>e.isSpoiler||e.isNsfw)(e)?n&&n.obfuscatedStill&&n.obfuscatedStill.source&&n.obfuscatedStill.source.url:null;switch(t){case l.n.VIDEO:{const e=400,r=w(n),o=n&&n.still&&n.still.source&&Object.assign({url:n.still.source.url},n.still.source.dimensions);let i;if(r.length){i=r.reduce((e,t)=>e.width>t.width?e:t);const t=r.reduce((t,n)=>P(n)>e&&o&&P(n)<P(o)?[...t,n]:t,[]);t.length&&(i=t.reduce((e,t)=>P(e)<P(t)?e:t))}else i=o;return{type:t,obfuscated:s,hlsUrl:n&&n.streaming&&n.streaming.hlsUrl||"",dashUrl:n&&n.streaming&&n.streaming.dashUrl||"",isGif:!!n&&!!n.streaming&&n.streaming.isGif,scrubberThumbSource:n&&n.streaming&&n.streaming.scrubberMediaUrl||"",width:n&&n.streaming?n.streaming.dimensions.width:0,height:n&&n.streaming?n.streaming.dimensions.height:0,posterUrl:i&&i.url||void 0}}case l.n.TEXT:return{type:t,obfuscated:null,markdownContent:e.content?e.content.markdown:"",content:"",rteMode:x(e)};case l.n.RTJSON:return{type:t,obfuscated:null,markdownContent:e.content?e.content.markdown:"",richtextContent:Object(g.k)(r.richtext,h),content:"",rteMode:x(e),mediaMetadata:F(e)};case l.n.IMAGE:{const r=n&&n.animated&&n.animated.gif_source?"gif":null;let o="";return"i.redd.it"===e.domain&&e.url?o=e.url:n&&n.still&&n.still.source&&(o=n.still.source.url),{type:t,obfuscated:s,resolutions:w(n,r),width:n&&n.still&&n.still.source?n.still.source.dimensions.width:0,height:n&&n.still&&n.still.source?n.still.source.dimensions.height:0,content:o}}case l.n.EMBED:return{type:t,obfuscated:s,width:n&&n.video&&n.video.dimensions&&n.video.dimensions.width||0,height:n&&n.video&&n.video.dimensions&&n.video.dimensions.height||0,provider:n&&n.video&&n.video.attribution&&n.video.attribution.providerName||"",content:n&&n.video&&n.video.embedUrl?n.video.embedUrl:""};case l.n.GIFVIDEO:return{type:t,obfuscated:s,resolutions:w(n,"mp4"),width:n&&n.still&&n.still.source?n.still.source.dimensions.width:0,height:n&&n.still&&n.still.source?n.still.source.dimensions.height:0,gifBackgroundImage:n&&n.still&&n.still.source?n.still.source.url:"",content:n&&n.animated&&n.animated.mp4_source?n.animated.mp4_source.url:""};default:return null}},R={events:[],isBlank:!1,isSponsored:!1},k=/\.gif\?(.*$)/,N=e=>{const t=e.adEvents.find(e=>b(e.type)===o.a.Impression),n=t&&t.url&&t.url.match(k);return n&&n[1]?"t3_".concat(n[1]):null},L=e=>e?e.toLowerCase():null,M=e=>{let{isLive:t,startsAt:n,endsAt:r}=e;return{eventIsLive:t,eventStart:Date.parse(n),eventEnd:Date.parse(r)}};t.a=e=>{const t={post:B(e)},{crosspostRoot:n}=e;return n&&n.type===p.a.Post&&n.postInfo&&(t.crosspost=B(n.postInfo)),t};const U=e=>e&&e.__typename!==O.d.DeletedRedditor?"name"in e&&e.name||"":r.z,F=e=>e.content&&e.content.richtextMedia&&e.content.richtextMedia.length?e.content.richtextMedia.reduce((e,t)=>{switch(t.__typename){case p.c.ImageAsset:"image/gif"===t.mimetype?e[t.id]={e:f.r,id:t.id,s:{gif:t.url,x:t.height,y:t.width}}:e[t.id]={e:f.s,id:t.id,s:{u:t.url,x:t.height,y:t.width}};break;case p.c.VideoAsset:e[t.id]={dashUrl:t.dashUrl,e:f.t,hlsUrl:t.hlsUrl,id:t.id,x:t.height,y:t.width}}return e},{}):null,B=e=>{const{awardings:t,commentCount:n,createdAt:o,crosspostCount:i,crosspostRoot:c,discussionType:d,domain:u,id:l,isArchived:b,isContestMode:m,isGildable:f,isHidden:O,isLocked:j,isNsfw:h,isOriginalContent:y,isSaved:_,isSpoiler:C,isStickied:w,liveCommentsWebsocket:x,permalink:P,removedBy:k,removedByCategory:N,score:F,suggestedCommentSort:B,title:G,upvoteRatio:q,viewCount:V,voteState:H}=e,K=N&&"NONE"!==N?N.toLowerCase():null,W=c&&(c.type===p.a.Post?c.postInfo&&c.postInfo.id:c.comment&&c.comment.id);c&&!W&&s.c.withScope(e=>{e.setExtra("postId",l),Object(s.a)(e,{serverLogging:!1}),s.c.captureMessage("Lack of post or comment in crosspostRoot")});const J=t?Object(g.h)(t):void 0,Y=Object.assign({allAwardings:J,author:r.z,authorId:"",approvedAtUTC:null,approvedBy:null,bannedAtUTC:null,bannedBy:null,belongsTo:{id:"",type:"subreddit"},contestMode:m,created:Object(g.j)(o),crosspostParentId:W,crosspostRootId:W,discussionType:d,distinguishType:null,domain:u||"",events:[],flair:v(e),hidden:O,id:l,ignoreReports:!1,isApproved:!1,isArchived:b,isBlank:!1,isCrosspostable:!1,isGildable:f,isLocked:j,isMediaOnly:!1,isMeta:!1,isNSFW:h,isOriginalContent:y,isPinned:!1,isRemoved:!1,isScoreHidden:null===F,isSpam:!1,isSpoiler:C,isSponsored:!1,isStickied:w,liveCommentsWebsocket:x,media:null,modReports:[],numComments:n||0,numCrossposts:i||0,numReports:null,permalink:"https://www.reddit.com".concat(P),postCategories:null,postId:l,previewComments:[],removedBy:k&&k.name?k.name:null,removedByCategory:K,saved:_,score:null!==F&&F>0?F:0,sendReplies:!1,source:T(e),suggestedSort:B&&r.q[B]||null,thumbnail:{height:null,url:"",width:null},title:G||"",upvoteRatio:q,userReports:[],viewCount:V||0,voteState:H?Object(g.i)(H):0},e.__typename===p.f.AdPost?(e=>{const{adEvents:t,callToAction:n,domain:r,isBlank:s}=e;return{callToAction:n,domainOverride:r,events:S(t),isBlank:s,isSponsored:!0}})(e):R,Object(a.a)(e));if(e.__typename===p.f.DeletedProfilePost||e.__typename===p.f.DeletedSubredditPost)return Y;const{authorInfo:z,authorOnlyInfo:Q,distinguishedAs:X,isCrosspostable:$,isMediaOnly:Z,isPollIncluded:ee,media:te,postEventInfo:ne}=e,re=(e=>e&&e.still&&e.still.source?Object.assign({url:e.still.source.url},e.still.source.dimensions):void 0)(te);return Object.assign({},Y,{author:z&&U(z)||r.z,authorId:z&&z.id||"",belongsTo:I(e),distinguishType:L(X),isCrosspostable:$,isMediaOnly:Z,isMeta:ee,media:A(e,D(e)),thumbnail:E(e)},re&&{preview:re},Q&&{sendReplies:Q.isReceivingPostReplies},ne&&{eventInfo:M(ne)})}},"./src/reddit/helpers/graphql/normalizePreferencesFromGql/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/models/User/index.ts");t.a=(e,t)=>({allowClickTracking:e.isClickTrackingEnabled,autoplayVideo:!e.isVideoAutoplayDisabled,defaultCommentSort:e.defaultCommentSort&&s.c[e.defaultCommentSort]?r.q[e.defaultCommentSort]:r.q.CONFIDENCE,geopopular:e.geopopular,hideNSFW:e.isNsfwMediaBlocked,ignoreSuggestedSort:e.isSuggestedSortIgnored,labelNSFW:e.isNsfwLabelShown,markMessagesRead:e.isMessageAutoReadEnabled,nightmode:e.isNightModeEnabled,over18:e.isNsfwContentShown,account:{openPostInNewTab:e.isNewTabOpenedForPostView,rpanDuDismissalTime:e.rpanDuDismissedAt,sort:e.globalCommunityPostFeedSort.range?"".concat(e.globalCommunityPostFeedSort.sort.toLowerCase(),"_").concat(e.globalCommunityPostFeedSort.range.toLowerCase()):e.globalCommunityPostFeedSort.sort.toLowerCase(),showRpanDu:e.isRpanDuShown,stylesEnabled:e.isCommunityStylingEnabled,rememberCommunitySort:e.isCommunityPostFeedSortingPreserved,useMarkdown:e.isMarkdownDefaultEditorMode,rememberCommunityLayout:e.isCommunityLayoutPreserved,layout:e.postFeedLayout.toLowerCase(),hasSeenCustomizeFlyout:t&&t.isDefaultPostLayoutAware}})},"./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),s=n("./src/reddit/models/Subreddit/index.ts"),o=n("./src/reddit/models/User/index.ts"),i=n("./src/reddit/models/WhitelistStatus/index.ts");const c=e=>{let{pageInfo:t,edges:n}=e;const s={moderatedSubredditIds:[],pageInfo:t,subreddits:{}};for(const{node:o}of n){const e=Object(r.a)(o);s.subreddits[e.id]=e,s.moderatedSubredditIds.push(e.id)}return s};t.a=e=>{let{name:t,path:n,redditorInfo:r,styles:c,wls:a,id:d,title:u,isQuarantined:l,isNSFW:b,subscribers:p}=e;const{height:m,icon:f,width:O}=c&&c.legacyIcon&&{height:c.legacyIcon.dimensions.height,icon:c.legacyIcon.url,width:c.legacyIcon.dimensions.width}||{height:null,icon:c&&c.icon||"",width:null},g=c&&c.legacyPrimaryColor,j=r&&r.__typename===o.d.AvailableRedditor&&r.prefixedName||"";return Object.assign({url:n,displayText:j,icon:{url:f,width:O,height:m},communityIcon:f,type:s.b.User,name:t.substr(2)},g&&{primaryColor:g},a&&{whitelistStatus:a.toLowerCase(),wls:i.a[a]},{id:d,title:u,isQuarantined:l,isNSFW:b,subscribers:p})}},"./src/reddit/helpers/graphql/normalizeSubredditAboutFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n("./src/reddit/helpers/graphql/helpers.ts"),s=n("./src/reddit/helpers/graphql/normalizeAllowedPostTypesFromGql/index.ts");const o=e=>{const t=Object(s.a)(e.allowedPostTypes),n=e.moderation?e.moderation.coins:void 0;return{[e.id]:{accountsActive:e.activeCount,activity7Day:e.activity7Day,allOriginalContent:!1,allowedPostTypes:t,allowChatPostCreation:e.isChatPostCreationAllowed,coins:n,created:Object(r.j)(e.createdAt),disableContributorRequests:!1,emojisEnabled:!0,isChatPostFeatureEnabled:e.isChatPostFeatureEnabled,isCrosspostableSubreddit:e.isCrosspostDestination,originalContentTagEnabled:!0,publicDescription:e.publicDescription.markdown,restrictCommenting:!1,restrictPosting:!0,showMedia:!0,subscribers:e.subscribersCount,userIsBanned:e.isUserBanned,userIsContributor:e.isContributor,userIsSubscriber:e.isSubscribed,usingNewModmail:!0}}},i=e=>e.reduce((e,t)=>Object.assign({},e,o(t)),{});t.a=o},"./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return b}));var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),o=n("./src/reddit/models/GqlTopLevelField.ts"),i=n("./src/reddit/models/WhitelistStatus/index.ts");const c=e=>e.subredditRecommendations.recommendations.map(u).reduce((e,t)=>(e[t.id]=t,e),{}),a=e=>{const t={posts:{},subredditTopContent:{}},n=[],{__typename:i}=e;if(i!==o.a.Subreddit)return null;const{id:c,isSubscribed:a,name:d,topContent:u}=e,{posts:l,range:b}=u;return l.forEach(e=>{const{post:r,crosspost:o}=Object(s.a)(e),i=r.id;if(t.posts[i]=r,n.push(i),o){const e=o.id;t.posts[e]=o}}),t.subredditTopContent[d.toLowerCase()]={id:c,isSubscribed:a,name:d,postIds:n,range:r.Ob[b]},t},d=e=>e.reduce((e,t)=>{const n=a(t);if(!n)return e;const r=e||{posts:{},subredditTopContent:{}};return{posts:Object.assign({},r.posts,n.posts),subredditTopContent:Object.assign({},r.subredditTopContent,n.subredditTopContent)}},null),u=e=>{const{path:t,prefixedName:n,type:r,styles:s,wls:o,id:c,isQuarantined:a,isNSFW:d,name:u,subscribers:l,title:b,isFreeFormReportingAllowed:p}=e,{height:m,icon:f,width:O}=s&&s.legacyIcon&&{height:s.legacyIcon.dimensions.height,icon:s.legacyIcon.url,width:s.legacyIcon.dimensions.width}||{height:null,icon:s&&s.icon||"",width:null},g=s&&s.primaryColor,j=s&&s.icon;return Object.assign({url:t,displayText:n,icon:{url:f,width:O,height:m}},j&&{communityIcon:j},{type:r.toLowerCase(),primaryColor:g||""},o&&{whitelistStatus:o.toLowerCase(),wls:i.a[o]},{freeFormReports:p,id:c,isQuarantined:a,isNSFW:d,name:u,subscribers:l,title:b})},l=e=>e.reduce((e,t)=>{const n=u(t);return e[n.id]=n,e},{}),b=e=>e;t.a=u},"./src/reddit/helpers/graphql/normalizeSubredditStylesFromGql/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");t.a=e=>{const t={menuPosition:e.menuPosition?e.menuPosition.toLowerCase():void 0,bannerCommunityNameFormat:e.bannerCommunityNameFormat?e.bannerCommunityNameFormat.toLowerCase():void 0,bannerShowCommunityIcon:e.bannerShowCommunityIcon?e.bannerShowCommunityIcon.toLowerCase():void 0,bannerHeight:e.bannerHeight?e.bannerHeight.toLowerCase():void 0,postVoteIcons:e.postVoteIcons?e.postVoteIcons.toLowerCase():void 0,submenuBackgroundStyle:e.submenuBackgroundStyle?e.submenuBackgroundStyle.toLowerCase():void 0,backgroundImagePosition:e.backgroundImagePosition?e.backgroundImagePosition.toLowerCase():void 0,bannerBackgroundImagePosition:e.bannerBackgroundImagePosition?e.bannerBackgroundImagePosition.toLowerCase():void 0,bannerPositionedImagePosition:e.bannerPositionedImagePosition?e.bannerPositionedImagePosition.toLowerCase():void 0,postBackgroundImagePosition:e.postBackgroundImagePosition?e.postBackgroundImagePosition.toLowerCase():void 0,postPlaceholderImagePosition:e.postPlaceholderImagePosition?e.postPlaceholderImagePosition.toLowerCase():void 0,menuBackgroundOpacity:e.menuBackgroundOpacity||void 0,backgroundImage:e.backgroundImage||void 0,bannerBackgroundImage:e.bannerBackgroundImage||void 0,bannerPositionedImage:e.bannerPositionedImage||void 0,communityIcon:e.icon||void 0,menuBackgroundImage:e.menuBackgroundImage||void 0,postBackgroundImage:e.postBackgroundImage||void 0,postDownvoteIconActive:e.postDownvoteIconActive||void 0,postDownvoteIconInactive:e.postDownvoteIconInactive||void 0,postPlaceholderImage:e.postPlaceholderImage||void 0,postUpvoteIconActive:e.postUpvoteIconActive||void 0,postUpvoteIconInactive:e.postUpvoteIconInactive||void 0,bannerBackgroundColor:e.bannerBackgroundColor||void 0,bannerOverlayColor:e.bannerOverlayColor||void 0,menuBackgroundColor:e.menuBackgroundColor||void 0,menuLinkColorActive:e.menuLinkColorActive||void 0,menuLinkColorInactive:e.menuLinkColorInactive||void 0,menuLinkColorHover:e.menuLinkColorHover||void 0,submenuBackgroundColor:e.submenuBackgroundColor||void 0,primaryColor:e.primaryColor||void 0,highlightColor:e.highlightColor||void 0,postTitleColor:e.postTitleColor||void 0,backgroundColor:e.backgroundColor||void 0,postBackgroundColor:e.postBackgroundColor||void 0,postDownvoteCountColor:e.postDownvoteCountColor||void 0,postUpvoteCountColor:e.postUpvoteCountColor||void 0,mobileKeyColor:e.mobileKeyColor||void 0,mobileBannerImage:e.mobileBannerImage||void 0,sidebarWidgetHeaderColor:e.sidebarWidgetHeaderColor||void 0,sidebarWidgetBackgroundColor:e.sidebarWidgetBackgroundColor||void 0,secondaryBannerPositionedImage:e.secondaryBannerPositionedImage||void 0};return Object.keys(t).forEach(e=>{void 0===t[e]&&delete t[e]}),t}},"./src/reddit/helpers/graphql/normalizeTopSubredditsFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return d}));n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./node_modules/lodash/isEmpty.js"),s=n.n(r),o=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const c=e=>{let{edges:t,pageInfo:n}=e;const r={},s=[];for(let c of t){const{node:e}=c,t=i(c,["node"]),n=Object(o.a)(e);r[n.id]=n,s.push(t)}return{pageInfo:n,rankings:s,subreddits:r}},a=e=>{let{edges:t}=e;const n={},r=[];for(let s of t){const{node:e}=s,t=i(s,["node"]),c=Object(o.a)(e);n[c.id]=Object.assign({},c,{bannerBackgroundImage:e&&e.styles&&e.styles.bannerBackgroundImage}),r.push(t)}return{rankings:r,subreddits:n}},d=e=>{const t={},n=[];for(let r=0;r<e.length;r++){const i=e[r];if(s()(i))continue;const c=Object(o.a)(i);t[c.id]=c,n.push({id:c.id,rank:r,rankDelta:0,cursor:""})}return{rankings:n,subreddits:t}}},"./src/reddit/helpers/graphql/normalizeUserFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));n("./node_modules/core-js/modules/es6.regexp.replace.js"),n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/reddit/models/User/index.ts"),s=n("./src/reddit/helpers/graphql/helpers.ts"),o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const i=e=>e&&e.expiresAt&&Object(s.j)(e.expiresAt,s.a.Seconds)/1e3||null,c=e=>e&&e.unreadCount?e.unreadCount:0,a=/^u\//,d=e=>e.replace(a,"/user/"),u=e=>e.__typename===r.d.DeletedRedditor?null:"name"in e&&e.name||null;t.a=e=>{var{redditor:t,inbox:n,premium:a,preferences:u,coins:l}=e,b=o(e,["redditor","inbox","premium","preferences","coins"]);let p={commentKarma:0,hasUserProfile:!1,id:t.id,isGold:!1,postKarma:0,url:""};if(t.__typename===r.d.AvailableRedditor){const{karma:e,profile:n}=t,r=n&&n.styles&&n.styles.legacyIcon&&n.styles.legacyIcon.url;p=Object.assign({},p,r&&{accountIcon:r},{commentKarma:e?e.fromComments:0,displayText:t.name,hasExternalAccount:t.isLinkedToExternalAccount,hasUserProfile:!!n,isGold:!!t.isGilded,postKarma:e?e.fromPosts:0,profileId:n&&n.id||void 0,url:t.prefixedName&&d(t.prefixedName)||void 0})}const{interactions:m,modMail:f}=b;return Object.assign({},p,{coins:l,created:Object(s.j)(b.createdAt,s.a.Seconds)/1e3,goldExpiration:i(a),hasUnreadMail:c(n)>0,hasUnreadModmail:!!f&&f.isUnread,hasUnreadOldModmail:!!f&&f.isUnread,hasVerifiedEmail:!!b.isEmailVerified,inboxCount:c(n),inRedesignBeta:u.isInRedesignBeta,isEmployee:!!b.isEmployee,isFPR:!!b.isForcePasswordReset,isMod:!!b.isModerator,isSuspended:b.isSuspended,nightmode:u.isNightModeEnabled,seenLayoutSwitch:!!m&&m.isLayoutSwitchAware,seenGiveAwardTooltip:!!m&&m.isGiveAwardTooltipAware,seenPremiumAdblockModal:!!m&&m.isAdblockModalAware,seenRedesignModal:!!m&&m.isRedesignModalAware,seenSubredditChatFtux:!!m&&m.isSubredditChatAware,showRecentPosts:u.isRecentPostsShown,showTrending:u.isTrendingSubredditsShown},a&&a.subscription&&{hasAndroidSubscription:a.subscription.isAndroidAvailable,hasGoldSubscription:a.subscription.isGoldAvailable,hasIOSSubscription:a.subscription.isIOSAvailable,hasPaypalSubscription:a.subscription.isPaypalAvailable,hasStripeSubscription:a.subscription.isStripeAvailable})}},"./src/reddit/helpers/history/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n("./node_modules/lodash/omit.js"),s=n.n(r);const o=(e,t)=>{const n=history.state?history.state.state:{},r=Object.assign({},history.state,{state:Object.assign({},n,{[e]:t})});history.replaceState(r,window.document.title)},i=e=>{const t=Object.assign({},history.state,{state:Object.assign({},s()(history.state.state,e))});history.replaceState(t,window.document.title)},c=e=>history&&history.state&&history.state.state&&history.state.state[e]},"./src/reddit/helpers/isComment.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n("./src/reddit/constants/things.ts");function s(e){if(!e)return!1;return e.substring(0,3)===r.a}const o=e=>s(e.id);t.a=s},"./src/reddit/helpers/isPost.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n("./src/reddit/constants/things.ts");function s(e){if(!e)return!1;return e.substring(0,3)===r.b}const o=e=>s(e.id);t.a=s},"./src/reddit/helpers/makeProfileListingKey/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeListingKey/index.ts");const o=(e,t)=>"".concat(r.Qb).concat(e.toLowerCase(),"--private--").concat(t);t.a=function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i="".concat(r.Qb).concat(e,"--").concat(t);return Object(s.a)(i,n,o)}},"./src/reddit/helpers/media/index.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"k",(function(){return c})),n.d(t,"j",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"h",(function(){return j})),n.d(t,"n",(function(){return h})),n.d(t,"e",(function(){return y}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.regexp.to-string.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/models/Media/index.ts");function o(e){return new Promise((t,n)=>{try{const r=new FileReader;r.onloadend=e=>{try{const n=e.target.result,r=new Uint8Array(n).subarray(0,4);let s="";for(let e=0;e<r.length;e++)s+=r[e].toString(16);const o=function(e){switch(e){case"89504e47":return"image/png";case"47494638":return"image/gif";default:return"ffd8ff"===e.slice(0,6)?"image/jpeg":null}}(s);t(o)}catch(r){n(r)}},r.readAsArrayBuffer(e)}catch(r){n(r)}})}const i=e=>e.startsWith("video/"),c=e=>e.startsWith("image/"),a=e=>"image/gif"===e,d=e=>{if(e)return i(e)?"video":c(e)?"image":void 0},u=e=>r.a.has(e)||r.b.has(e),l=e=>window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(e):null;function b(e,t){try{return new File([e],t,{type:e.type,lastModified:Date.now()})}catch(n){const r=new Blob([e],{type:e.type});return Object.assign(r,{name:t,lastModified:Date.now()}),r}}function p(e){const t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return new Blob([r],{type:n})}const m=(e,t,n)=>{e.addEventListener(t,r=>(e.removeEventListener(t,n),n(r)))},f=(e,t)=>new Promise((n,r)=>{const s=()=>{e.readyState>=2&&n(e)};m(e,"error",()=>{r(new Error("Invalid video source"))}),["loadedmetadata","loadeddata","suspend"].forEach(t=>m(e,t,s)),e.src=t,s()}),O=(e,t)=>new Promise(n=>{m(e,"seeked",()=>n(e)),e.currentTime=t});async function g(e,t,n){let r=e.currentTime;for(;null!==r;){await O(e,r),t.height=e.videoHeight,t.width=e.videoWidth;const s=t.getContext("2d");s&&s.drawImage(e,0,0),r=n({dataUrl:t.toDataURL(),time:e.currentTime})}}async function j(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.createElement("video");let r;if(await f(n,e),t){n.currentTime=0;const e=document.createElement("canvas");await g(n,e,e=>(r=e,null))}return{width:n.videoWidth,height:n.videoHeight,duration:n.duration,firstFrame:r}}const h=(e,t,n)=>{if("fastly"===e){let e;return(e=t.startsWith("US-")||"North-America"===t?"NA":t.startsWith("EU-")?"EU":t.startsWith("Asia-")||"Asia"===t?"AS":"APAC"===t?"OC":t.startsWith("SA-")?"SA":"South-Africa"===t?"AF":"UNKNOWN")+"-"+n}},y=(e,t,n)=>{if(e.media&&(e.media.type===s.n.IMAGE||e.media.type===s.n.GIFVIDEO)){const r=e.media.resolutions;for(let e=0;e<r.length;e++){const s=r[e];if(s.width>=t||s.height>=n)return s}}if(e.thumbnail&&!e.isNSFW&&!e.isSpoiler){const r=e.thumbnail,s=r&&r.width||0,o=r&&r.height||0;if(s>=t||o>=n)return e.thumbnail}return null}},"./src/reddit/helpers/monthsToMinutes/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return b}));var r=n("./node_modules/js-cookie/src/js.cookie.js"),s=n.n(r),o=n("./src/config.ts"),i=n("./src/reddit/constants/cookie.ts"),c=n("./src/reddit/constants/localStorage.ts"),a=n("./src/reddit/selectors/monthsToMinutes.ts");const d=()=>s.a.get(i.d),u=e=>{const t=(e=>e.join(","))(Object(a.h)(e)),n=new Date;n.setFullYear(n.getFullYear()+2),s.a.set(i.d,t,{expires:n,domain:o.a.cookieDomain})},l=()=>{s.a.remove(i.d,{domain:o.a.cookieDomain})},b=()=>{localStorage.removeItem(c.u),l()}},"./src/reddit/helpers/name/index.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return p}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js"),n("./node_modules/lodash/capitalize.js");const r=/^(r|u)?\//i,s=/^r\//i,o=/^u\//i,i=e=>e.replace(r,""),c=e=>i(e.toLowerCase().trim()),a=e=>"r/".concat(i(e)),d=e=>"u/".concat(i(e)),u=e=>r.test(e),l=e=>s.test(e),b=e=>o.test(e),p=(e,t)=>!((e,t)=>u(e)&&u(t)&&e[0].toLowerCase()!==t[0].toLowerCase())(e,t)&&c(e)===c(t)},"./src/reddit/helpers/normalizeUsername/index.tsx":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.replace.js");t.a=e=>{const t=/^((\/u\/)|(u\/))/;return/^((\/u\/)|(u\/))(.+)/.test(e)?e.replace(t,""):e}},"./src/reddit/helpers/onBeforeRequestFactory/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/url/url.js"),s=n.n(r),o=n("./src/config.ts"),i=n("./src/lib/addQueryParams/index.ts"),c=(n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.constructor.js"),n("./src/reddit/selectors/subreddit.ts"));const a=new RegExp("^/desktopapi/v1/(duplicates/[^/]+|frontpage|news|search|subreddits/(all|popular))(/|$)"),d=new RegExp("^/desktopapi/v1/(search|subreddits|postcomments|collection_postcomments|submitpage)(/|$)"),u=new RegExp("^/desktopapi/v1/(subreddits|postcomments|collection_postcomments)/?$"),l=(new RegExp("^/desktopapi/v1/(postcomments)(/+|$)"),new RegExp("^/desktopapi/v1/frontpage/?$")),b=new RegExp("^/desktopapi/v1/submitpage(/|$)");var p=(e,t,n)=>{const r=new Set;e.user.session&&!e.user.session.unsafeLoggedOut&&(e.user.account||(r.add("identity"),r.add("prefs"),r.add("prefsAccount")),(e=>!a.test(e.pathname||""))(t)&&r.add("identity")),!e.live.isFrontpageLoaded&&(e=>l.test(e.pathname||""))(t)&&r.add("featuredLiveThread");const s=t.pathname||"";if(d.test(s)||u.test(s)){const s=((e,t)=>{if(b.test(e.pathname||"")){const{subreddit:e}=t.data;return e}})(t,n),o=e.platform.currentPage,i=o&&o.urlParams.subredditName,a=s||i||"",d=Object(c.G)(e,a);d&&e.structuredStyles.models[d]||r.add("structuredStyles"),e.user.prefs.subreddit[d]||r.add("prefsSubreddit")}return[...r].join(",")},m=n("./src/reddit/selectors/user.ts");t.a=e=>t=>{const n=s.a.parse(t.endpoint,!0),{host:r,protocol:c}=n;if("".concat(c,"//").concat(r)===o.a.gatewayUrl){const r={},s=Object(m.X)(e.getState())?"1":"";r.allow_over18=s,r.include=p(e.getState(),n,t),t.endpoint=Object(i.a)(t.endpoint,r)}}},"./src/reddit/helpers/overlay/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var r=n("./node_modules/history/esm/history.js"),s=n("./node_modules/react-router-redux/es/index.js"),o=n("./src/reddit/helpers/path/index.ts");const i=e=>{if("string"==typeof e)return Object(r.c)(Object(o.b)(e),{isOverlay:!0});{const t=Object(r.c)(e);return t.state=Object.assign({},t.state||{},{isOverlay:!0}),t}},c=e=>Object(s.b)(i(e))},"./src/reddit/helpers/pageActionLoginRedirect.ts":function(e,t,n){"use strict";n("./node_modules/history/esm/history.js"),n("./src/reddit/actions/platform.ts");var r=n("./src/config.ts");t.a=(e,t)=>{const n=t.platform.currentPage&&t.platform.currentPage.url;let s="".concat(r.a.accountManagerOrigin,"/login/");const o=window.location.origin;n&&(s+="?dest=".concat(encodeURIComponent("".concat(o).concat(n)))),window.location.href=s}},"./src/reddit/helpers/path/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./node_modules/path-browserify/index.js"),s=n.n(r);const o=(e,t)=>s.a.join(s.a.sep,e||"",t),i=e=>e.replace(/^.*\/\/[^\/]+/,"")},"./src/reddit/helpers/pixels.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./src/lib/LRUCache/index.ts"),s=n("./src/lib/sentry/index.ts");const o=new r.a(1e3),i=e=>{let{url:t,type:n}=e;if(!t)return s.c.captureMessage("Pixel of type ".concat(n," has no url")),!1;if(!o.get(t)){return(new Image).src=t,o.set(t,!0),!0}return!1},c=(e,t)=>e.filter(e=>e.type===t).every(i)},"./src/reddit/helpers/postCollection.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>!!e.collectionIds&&e.collectionIds.length>=1},"./src/reddit/helpers/postEvent.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>e&&!!e.eventInfo},"./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o}));var r=n("./src/reddit/models/Gold/Award.ts");t.a=e=>e.map(e=>({awardType:e.award_type,awardSubType:e.award_sub_type?e.award_sub_type:r.a.Global,coinPrice:e.coin_price,coinReward:e.coin_reward,count:e.count,daysOfDripExtension:e.days_of_drip_extension,daysOfPremium:e.days_of_premium,description:e.description,iconUrl:e.icon_url,resizedIcons:e.resized_icons,id:e.id,isEnabled:e.is_enabled,isNew:!!e.is_new,name:e.name,subredditCoinReward:e.subreddit_coin_reward}));const s=e=>{const{icon_url:t,resized_icons:n}=e;let s,o,i;for(const{url:r,width:c}of n||[])32===c&&(s={url:r}),64===c&&(o={url:r}),128===c&&(i={url:r});return{awardType:e.award_type.toUpperCase(),awardSubType:e.award_sub_type?e.award_sub_type.toUpperCase():r.b.Global,coinPrice:e.coin_price,coinReward:e.coin_reward,daysOfDripExtension:e.days_of_drip_extension,daysOfPremium:e.days_of_premium,description:e.description,id:e.id,isEnabled:e.is_enabled,isNew:!!e.is_new,name:e.name,icon:{url:t},icon32:s,icon64:o,icon128:i,subredditCoinReward:e.subreddit_coin_reward}},o=e=>{const{top_award:t,total_count:n}=e;return{topAward:t&&s(t),totalCount:n}}},"./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/helpers/isComment.ts"),o=n("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),i=n("./src/reddit/models/Vote/index.ts"),c=e=>!0===e?i.a.upvoted:!1===e?i.a.downvoted:i.a.notVoted,a=n("./src/reddit/models/Comment/index.ts");n.d(t,"b",(function(){return d}));t.a=(e,t)=>{const n={approvedAtUTC:e.approved_at_utc,approvedBy:e.approved_by,author:e.author,authorId:e.author_fullname,bannedAtUTC:e.banned_at_utc,bannedBy:e.banned_by,body:e.body_html,bodyMD:e.body,collapsed:e.collapsed,collapsedReason:e.collapsed_reason,collapsedBecauseCrowdControl:e.collapsed_because_crowd_control,created:e.created_utc,deletedBy:u(e),distinguishType:e.distinguished||"",editedAt:null,id:e.name,ignoreReports:e.ignore_reports,isAdmin:"admin"===e.distinguished,isApproved:e.approved,isDeleted:e.author===r.z,isGildable:e.can_gild,isLocked:e.locked,isMod:"moderator"===e.distinguished,isOp:e.is_submitter,isRemoved:e.removed,isScoreHidden:e.score_hidden,isSpam:e.spam,isStickied:e.stickied,isSaved:e.isSaved,subredditId:e.subreddit_id,markdown:e.body,media:{mediaMetadata:e.media_metadata,type:"rtjson",richtextContent:d(e.rtjson),rteMode:e.rte_mode},modReports:e.mod_reports,modReportsDismissed:e.mod_reports_dismissed,numReports:e.num_reports,parentId:Object(s.a)(e.parent_id)?e.parent_id:null,permalink:e.permalink,postAuthor:e.link_author||null,postId:e.link_id,postTitle:e.link_title||null,sendReplies:e.send_replies,score:e.score,stewardReports:e.steward_reports,stewardReportsDismissed:e.steward_reports_dismissed,userReports:e.user_reports,userReportsDismissed:e.user_reports_dismissed,voteState:c(e.likes)};return e.all_awardings&&(n.allAwardings=Object(o.a)(e.all_awardings)),e.awarders&&(n.awarders=e.awarders),e.associated_award&&(n.associatedAwardId=e.associated_award.id,n.associatedAward=Object(o.b)(e.associated_award)),n};const d=e=>"string"==typeof e?JSON.parse(e):e,u=e=>e.author!==r.z?null:e.body===r.A?a.a.User:e.body===r.wb?a.a.Moderator:null},"./src/reddit/helpers/r2/normalizePostFromR2/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),s=n("./src/reddit/models/Flair/index.ts"),o=n("./src/reddit/models/Media/index.ts"),i=n("./src/reddit/models/PostCreationForm/index.ts"),c=n("./src/reddit/models/Vote/index.ts");const a=e=>{const t=[];return e.link_flair_richtext&&e.link_flair_richtext.length&&t.push({richtext:e.link_flair_richtext,type:s.f.Richtext,textColor:e.link_flair_text_color||"dark",backgroundColor:e.link_flair_background_color||"",templateId:e.link_flair_template_id}),e.link_flair_text&&t.push({text:e.link_flair_text,type:s.f.Text,textColor:e.link_flair_text_color||"dark",backgroundColor:e.link_flair_background_color||"",templateId:e.link_flair_template_id}),e.spoiler&&t.push({text:"spoiler",type:s.f.Spoiler}),e.over_18&&t.push({text:"nsfw",type:s.f.Nsfw}),t},d=e=>e?e.map(e=>({categoryId:e.category_id,categoryName:e.category_name})):[],u=e=>{const t=e.preview&&e.preview.enabled;let n=!1,r=null,s={},c={};const a=e.over_18||e.spoiler;if(e.preview&&(n=!!(c=e.preview.images[0].variants).mp4,s=e.preview.images[0].source,a&&(r=c.obfuscated.source.url)),e.is_self)return Object.assign({content:e.selftext_html,type:o.n.TEXT,markdownContent:e.selftext,obfuscated:r,rteMode:e.rte_mode||i.h.RICH_TEXT},e.rtjson&&{richtextContent:e.rtjson,type:o.n.RTJSON,mediaMetadata:e.media_metadata});if(e.media&&e.media.reddit_video){const t=e.media.reddit_video;return{hlsUrl:t.hls_url,dashUrl:t.dash_url,isGif:t.is_gif,scrubberThumbSource:t.scrubber_media_url,obfuscated:r,posterUrl:t.url,width:t.width,height:t.height,type:o.n.VIDEO}}if(e.secure_media&&e.secure_media.oembed){return{content:e.secure_media_embed.media_domain_url,type:o.n.EMBED,width:e.secure_media.oembed.width,height:e.secure_media.oembed.height,obfuscated:r,provider:e.secure_media.oembed.provider_name}}if(t&&n)return{content:c.mp4.source.url,type:o.n.GIFVIDEO,width:c.mp4.source.width,height:c.mp4.source.height,gifBackgroundImage:s.url,gifBackgroundResolutions:e.preview.images[0].resolutions,obfuscated:r,resolutions:c.mp4.resolutions};if(t){const t=c.gif?c.gif.resolutions:e.preview.images[0].resolutions;return{content:s.url,type:o.n.IMAGE,width:s.width,height:s.height,obfuscated:r,resolutions:t}}return null},l=e=>{const t={};if(e.promoted&&e.outbound_link||!e.is_self&&!e.is_reddit_media_domain){if(t.displayText=e.domain,t.url=e.url,e.outbound_link){const n=e.outbound_link;t.outboundUrl=n.url,t.outboundUrlExpiration=n.expiration,t.outboundUrlCreated=n.created}return t}return null};t.a=e=>{return{allAwardings:e.all_awardings?Object(r.a)(e.all_awardings):[],awarders:e.awarders,author:e.author,authorId:e.author_fullname,approvedAtUTC:e.approved_at_utc,approvedBy:e.approved_by,bannedAtUTC:e.banned_at_utc,bannedBy:e.banned_by,belongsTo:{type:"user"===e.subreddit_type?"profile":"subreddit",id:e.subreddit_id||""},callToAction:e.call_to_action||null,contestMode:e.contest_mode,created:1e3*e.created,crosspostParentId:e.cross_post_parent_id||null,crosspostRootId:e.cross_post_root_id||null,discussionType:e.discussion_type||null,distinguishType:e.distinguish_type||null,domain:e.domain,domainOverride:e.domain_override||null,events:e.events||[],flair:a(e),hidden:e.hidden,id:e.name,ignoreReports:e.ignore_reports,isApproved:e.approved,isArchived:e.archived,isBlank:e.is_blank,isCrosspostable:e.is_crosspostable,isFollowed:e.is_followed||!1,isGildable:e.can_gild,isLocked:e.locked,isMediaOnly:e.media_only,isMeta:e.is_meta,isNSFW:e.over_18,isOriginalContent:e.is_original_content,isPinned:e.pinned,isRemoved:e.removed,isSpam:e.spam,isSpoiler:e.spoiler,isSponsored:e.promoted,isStickied:e.stickied,liveCommentsWebsocket:e.liveCommentsWebsocket||e.websocket_url,media:u(e),modNote:e.mod_note||null,modReports:e.mod_reports,numComments:e.num_comments,numCrossposts:e.num_crossposts||0,numDuplicates:e.num_duplicates,numReports:e.num_reports||0,permalink:"https://www.reddit.com".concat(e.permalink),postCategories:d(e.post_categories),preview:e.preview&&e.preview.images&&e.preview.images[0]&&e.preview.images[0].source?{url:e.preview.images[0].source.url,width:e.preview.images[0].source.width,height:e.preview.images[0].source.height}:void 0,previewComments:[],previousVisits:e.previous_visits,postId:e.name,modRemovalReason:e.mod_reason_title,modReasonBy:e.mod_reason_by,removedBy:e.removed_by,removedByCategory:e.removed_by_category,saved:e.saved,score:e.score,stewardReports:e.steward_reports,isScoreHidden:!!e.hide_score,sendReplies:e.send_replies,source:l(e),suggestedSort:e.suggested_sort,thumbnail:{url:e.thumbnail,width:e.thumbnail_width,height:e.thumbnail_height},title:e.title,userReports:e.user_reports,upvoteRatio:e.upvote_ratio,viewCount:e.view_count||0,voteState:Object(c.d)(e.likes)}}},"./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};t.a=(e,t)=>{const n=Object(r.a)(e),{wls:o}=n,i=s(n,["wls"]);return Object.assign({},i,{name:t})}},"./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n("./src/lib/constants/index.ts");const s=e=>{for(const t of e){const e=t[0]||"";switch(e){case r.D.NO_STRIPE_SUBSCRIPTION:case r.D.USER_DOESNT_EXIST:case r.D.USER_REQUIRED_ERROR:case r.D.VALIDATION_ERROR:return e;case r.D.NO_USER:case r.D.NO_TEXT:case r.D.NO_URL:return r.D.VALIDATION_ERROR;case r.D.CREDIT_CARD_FAILURE:case r.D.CREDIT_CARD_FAILURE_GENERIC:return r.D.CREDIT_CARD_FAILURE;default:if(e.startsWith("SUBMIT_VALIDATION"))return r.D.SUBMIT_VALIDATION_ERROR}}return r.D.VALIDATION_ERROR},o=e=>{const t=e.body;return{type:s(t.json.errors),fields:t.json.errors.map(e=>({field:e[2]||"",msg:e[1]}))}},i=e=>{const t=e.body;return!e.ok&&t&&t.json&&t.json.errors?Object.assign({},e,{error:o(e)}):e};t.a=o},"./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts":function(e,t,n){"use strict";t.a=e=>({allowContractors:e.allow_contractors,communityIcon:e.community_icon,displayText:e.display_name_prefixed,icon:{height:e.icon_size?e.icon_size[1]:0,url:e.community_icon||e.icon_img||"",width:e.icon_size?e.icon_size[0]:0},id:e.name,isNSFW:e.over_18||e.over18,isQuarantined:!!e.quarantine,name:e.display_name,primaryColor:e.primary_color,subscribers:e.subscribers,title:e.title,type:e.subreddit_type,url:e.url,wls:e.wls})},"./src/reddit/helpers/redesignOptoutCookie/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d}));var r=n("./src/config.ts"),s=n("./node_modules/js-cookie/src/js.cookie.js"),o=n.n(s);const i="redesign_optout";function c(){const e=new Date;return e.setFullYear(e.getFullYear()+3),e}function a(){o.a.get(i)||o.a.set(i,"true",{domain:r.a.cookieDomain,expires:c()})}function d(){o.a.get(i)&&o.a.remove(i,{domain:r.a.cookieDomain})}},"./src/reddit/helpers/reportPage/index.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return O}));n("./node_modules/core-js/modules/es6.regexp.constructor.js");var r=n("./src/reddit/models/RulesSequence/index.ts");const s="(?:old\\.reddit\\.".concat("(?:com|local)","|new\\.reddit\\.").concat("(?:com|local)","|reddit\\.").concat("(?:com|local)","|www\\.reddit\\.").concat("(?:com|local)",")"),o="(?:".concat("(?:r)","|").concat("(?:user|u)",")"),i="(?:https?://)",c="^".concat(i).concat(s,"/").concat(o,"/").concat("(?:[^/]+)","/comments/").concat("(?:\\w+)","/").concat("(?:[^/]+)","/").concat("(\\w+)","(?:/.*)?"),a="^".concat(i).concat(s,"/").concat(o,"/").concat("(?:[^/]+)","/comments/").concat("(\\w+)","(?:/.*)?"),d="^".concat(i).concat(s,"/message/messages/").concat("(\\w+)","(?:/.*)?"),u="^".concat(i,"?").concat("(?:mod.reddit.com/mail)","/").concat("(?:[^/]+)","/").concat("(\\w+)","(?:/)?$"),l="^".concat(i,"?").concat("(?:mod.reddit.com/mail)","/").concat("(?:[^/]+)","/").concat("(\\w+)","/").concat("(\\w+)","(?:/)?$"),b="(?:".concat(a,"|").concat(c,"|").concat(d,"|").concat(u,"|").concat(l,")"),p="(?:(?:".concat(i,"?").concat(s,"/)?").concat("(?:user|u)","/)?").concat("([\\w-]+)","(?:/)?"),m="(?:(?:".concat(i,"?").concat(s,"/)?").concat("(?:r)","/)?").concat("([\\w-]+)","(?:/)?"),f=e=>{const t=new RegExp(c),n=new RegExp(a),r=new RegExp(d),s=new RegExp(u),o=new RegExp(l);let i,b,f;if(e.thingUrl){const c=e.thingUrl.trim();if(t.test(c)){const e=t.exec(c);e&&e.length>1&&(i="t1_"+e[1])}else if(n.test(c)){const e=n.exec(c);e&&e.length>1&&(i="t3_"+e[1])}else if(r.test(c)){const e=r.exec(c);e&&e.length>1&&(i="t4_"+e[1])}else if(o.test(c)){const e=o.exec(c);e&&e.length>2&&(b=e[1],f=e[2])}else if(s.test(c)){const e=s.exec(c);e&&e.length>1&&(b=e[1])}}const O=new RegExp(p),g=new RegExp(m),j=[];let h;if(e.subredditName){const t=e.subredditName.trim();if(g.test(t)){const e=g.exec(t);e&&e.length>1&&(h=e[1])}}if(e.usernames&&e.usernames.length)for(let c=0;c<e.usernames.length;c++){const t=e.usernames[c].trim();if(O.test(t)){const e=O.exec(t);e&&e.length>1&&j.push(e[1])}}const{reason:y}=e;return{reason:"site_reason_selected",site_reason:y.reasonText,additional_info:e.additionalInfo?e.additionalInfo.join(","):void 0,custom_text:e.customText,modmail_conv_id:b,modmail_msg_id:f,sr_name:h,thing_id:i,usernames:j.length?j.join(","):void 0}},O=(e,t)=>{const n=new r.a;return g(n,e,t,0),n},g=(e,t,n,r)=>{for(let s=0;s<t.length;s++){const o=t[s];e.update(s,r);const i=e.getSequence().length;if(o.reasonAsParam===n)return;if(o.nextStepReasons&&o.nextStepReasons.length&&(g(e,o.nextStepReasons,n,r+1),e.getSequence().length>i))return;e.cut(r-1)}}},"./src/reddit/helpers/routeKey/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return x})),n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return N}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeCommentsPageKey/index.ts"),c=n("./src/lib/makeExplorePageKey/index.ts"),a=n("./src/lib/makeListingKey/index.ts"),d=n("./src/lib/makePostCreationPageKey/index.ts"),u=n("./src/lib/makeSearchKey/index.ts"),l=n("./src/reddit/constants/postLayout.ts"),b=n("./src/reddit/helpers/makeProfileListingKey/index.ts"),p=n("./src/reddit/constants/categories.tsx"),m=n("./src/reddit/constants/listings.ts"),f=n("./src/reddit/constants/page.ts"),O=n("./src/reddit/constants/parameters.ts"),g=n("./src/reddit/constants/wiki.ts"),j=n("./src/reddit/helpers/getCommentsPageSort/index.ts"),h=n("./src/reddit/helpers/getSubredditSortForListingKeyCreation/index.ts"),y=n("./src/reddit/models/Comment/index.ts"),_=n("./src/reddit/models/Multireddit/index.ts"),E=n("./src/reddit/models/Post/index.ts"),I=n("./src/reddit/models/User/index.ts"),v=n("./src/reddit/routes/modListing/index.ts"),S=n("./src/reddit/selectors/experiments/feedFilters.ts"),T=n("./src/reddit/selectors/frontpage.ts");const C=(e,t,n)=>{const{route:r}=e,{name:s}=r.meta;if(!s||!o.M.has(s)&&s!==o.xb.COINS&&s!==o.xb.COMMENTS&&s!==o.xb.POST_CREATION&&s!==o.xb.PREMIUM&&s!==o.xb.PUBLIC_ACCESS_NETWORK&&s!==o.xb.SEARCH_RESULTS&&s!==o.xb.EXPLORE&&s!==o.xb.SETTINGS&&s!==o.xb.SUBREDDIT_WIKI||!n&&(s===o.xb.COMMENTS||s===o.xb.DUPLICATES))return null;switch(s){case o.xb.POST_CREATION:return Object(d.a)(e.match.params);case o.xb.INDEX:case o.xb.LISTING:case o.xb.SUBREDDIT:case o.xb.TOPIC:return D(e,t).listingKey;case o.xb.PROFILE_COMMENTS:case o.xb.PROFILE_POSTS:case o.xb.PROFILE_OVERVIEW:case o.xb.PROFILE_PRIVATE:return x(e,t);case o.xb.MULTIREDDIT:return P(e,t);case o.xb.COMMENTS:return R(e,t,n);case o.xb.SEARCH_RESULTS:return A(e);case o.xb.SUBREDDIT_WIKI:return L(e);case o.xb.COINS:case o.xb.PREMIUM:case o.xb.PUBLIC_ACCESS_NETWORK:return s;case o.xb.SETTINGS:return k(e);case o.xb.EXPLORE:return N(e);default:return null}},w={listingKey:null},D=(e,t)=>{const{route:n,match:r}=e,{name:s}=n.meta;if(!o.M.has(s)&&s!==o.xb.POST_CREATION&&s!==o.xb.SUBREDDIT_WIKI)return w;const{queryParams:i}=r;switch(s){case o.xb.INDEX:case o.xb.LISTING:{const e=Object(T.a)(t),n=r.params,s=n.sort?n.sort:e;return{listingKey:Object(a.a)(f.b,s,i),sort:s}}case o.xb.PROFILE_COMMENTS:case o.xb.PROFILE_POSTS:{const{profileName:e}=r.params,{sort:t}=i;return{listingKey:Object(a.a)("u_".concat(e),t,i),sort:t}}case o.xb.POST_CREATION:case o.xb.SUBREDDIT:{const e=r.params,{subredditName:n}=e,s=i.f,o=Object(h.a)(e),c=Object(S.a)(t),d=Object(S.d)(c);if(s&&d){const e={[O.n]:s,[O.o]:"1"},t=Object(u.c)(e);return{listingKey:Object(u.b)(n,void 0,t),sort:o}}return{listingKey:Object(a.a)(n,o,i),sort:o}}case o.xb.TOPIC:{const e=r.params,t=e.sort||o.O,n=Object(p.f)(e.topicName);return{listingKey:Object(a.a)(m.b.Topic,t,Object.assign({},e,{topicName:n})),sort:t}}case o.xb.MOD_LISTING:{const e=r.params,{sort:t=o.O}=e,n=Object(v.d)(r.path)?f.f:f.e;return{listingKey:Object(a.a)(n,t,i),sort:t}}case o.xb.MULTIREDDIT:return{listingKey:P(e,t)};case o.xb.SEARCH_RESULTS:return{listingKey:C(e,t,null)};default:return w}},x=(e,t)=>{const{route:n,match:r}=e,{name:s}=n.meta;if(!o.M.has(s)&&s!==o.xb.POST_CREATION)return null;const{params:i,queryParams:c}=r,{profileName:d}=i,{sort:u=o.rb}=c;switch(s){case o.xb.PROFILE_OVERVIEW:const e=(t.user.prefs&&t.user.prefs.profileLayout?t.user.prefs.profileLayout:l.g.Large)===l.g.Compact?o.ib:o.jb;return Object(b.a)((d||"").toLowerCase(),e,u,c);case o.xb.PROFILE_COMMENTS:case o.xb.PROFILE_POSTS:return Object(a.a)("u_".concat(d),u,c);case o.xb.PROFILE_PRIVATE:const{listingType:n}=i;return Object(b.b)(d.toLowerCase(),n);default:return null}},P=(e,t)=>{const{route:n,match:r}=e,{name:s}=n.meta;if(s!==o.xb.MULTIREDDIT)return null;const{params:i,queryParams:c}=r,{multiredditName:d,sort:u=o.N.HOT}=i;let{username:l}=i;l||(l=t.user.account?Object(I.f)(t.user.account):"me");const b=Object(_.h)(l,d);return Object(a.a)(b,u,c)},A=e=>{const{route:t,match:n}=e,{name:r}=t.meta;if(r!==o.xb.SEARCH_RESULTS)return null;const{subredditName:i}=n.params,{username:c}=n.params,a=Object(u.c)(s()(n.queryParams,O.p));return Object(u.b)(i,c,a)},R=(e,t,n)=>{const{route:r,match:s}=e,{name:c}=r.meta;if(!c||c!==o.xb.COMMENTS)return null;const{partialCommentId:a,partialPostId:d}=s.params,u=Object(E.m)(d),l=a&&Object(y.e)(a),{hasSortParam:b,sortToUse:p}=Object(j.a)(t,u);return Object(i.a)(u,l,{sort:p,hasSortParam:b})},k=e=>"SettingsPage-"+e.match.params.page,N=e=>{const{route:t,match:n}=e,{name:r}=t.meta;if(!r||r!==o.xb.EXPLORE)return null;const{categoryName:s}=n.queryParams;return Object(c.a)({categoryName:s})},L=e=>{const{route:t,match:n}=e;if(t.meta.name!==o.xb.SUBREDDIT_WIKI)return;const{subredditName:r=g.e,wikiPageName:s,wikiSubRoute:i}=n.params;return["Wiki",r,i,s].join("--")}},"./src/reddit/helpers/stewards.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/constants/stewards.ts");const o=new Set([r.fb.Modqueue,r.fb.Reports,r.fb.Spam]),i=e=>e.bannedBy===s.a,c=e=>o.has(e)},"./src/reddit/helpers/tags/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/values.js"),s=n.n(r);const o=e=>s()(e).sort((t,n)=>{const r=e[t.tag.id].tag.text.toLowerCase(),s=e[n.tag.id].tag.text.toLowerCase();return r<s?-1:r>s?1:0}),i=e=>!e.id&&!!e.action},"./src/reddit/helpers/timeApiRoute/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/lib/constants/index.ts"),s=n("./src/telemetry/index.ts");async function o(e,t){const n=s.c.start();try{const o=await t();return Object(s.b)(r.l.Redesign,{page:e,type:"route",duration:s.c.end(n)}),o}finally{s.c.cancel(n)}}},"./src/reddit/helpers/trackers/authorHovercard.ts":function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return b}));var r=n("./src/reddit/helpers/isComment.ts"),s=n("./src/reddit/selectors/telemetry.ts");const o=(e,t)=>({comment:t&&Object(r.a)(t)?s.comment(e,t):null,post:t?s.post(e,t):null,profile:s.profile(e),screen:s.screen(e)}),i=(e,t)=>n=>Object.assign({source:"user_hovercard",action:"click",noun:e},o(n,t)),c=e=>t=>Object.assign({source:"user_hovercard",action:"view",noun:"hover_user_hovercard"},o(t,e)),a=e=>t=>Object.assign({source:"user_hovercard",action:"click",noun:"mute_dialog_in_context"},o(t,e)),d=e=>t=>Object.assign({source:"user_hovercard",action:"click",noun:"ban_dialog_in_context"},o(t,e)),u=e=>t=>Object.assign({source:"user_hovercard",action:"click",noun:"unban_user_in_context"},o(t,e)),l=e=>t=>Object.assign({source:"user_hovercard",action:"click",noun:"change_user_flair_in_context",userSubreddit:s.userSubreddit(t)},o(t,e)),b=e=>t=>Object.assign({source:"user_hovercard",action:"click",noun:"create_chat"},e&&o(t,e))},"./src/reddit/helpers/trackers/blade.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"j",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return O})),n.d(t,"k",(function(){return g}));var r=n("./src/reddit/constants/blade.ts"),s=n("./src/reddit/selectors/telemetry.ts");const o=(e,t)=>n=>Object.assign({},s.defaults(n),{source:r.d.Appearance,action:"click",noun:e,actionInfo:s.actionInfo(n,{paneName:t}),subreddit:s.subreddit(n)}),i=e=>o("save_style",e),c=e=>o("cancel_style",e),a=e=>t=>({source:r.d.Structure,action:"click",noun:e,screen:s.screen(t),subreddit:s.subreddit(t)}),d=e=>t=>({source:r.d.Appearance,action:"click",noun:e,screen:s.screen(t),subreddit:s.subreddit(t)}),u=(e,t)=>n=>({source:"colorpicker",action:"click",noun:e,actionInfo:s.actionInfo(n,{paneName:r.g[t]}),screen:s.screen(n),subreddit:s.subreddit(n)}),l=e=>t=>({source:r.h[e],action:"click",noun:"colorpicker",actionInfo:s.actionInfo(t,{paneName:r.g[e]}),screen:s.screen(t),subreddit:s.subreddit(t)}),b=e=>({screen:s.screen(e),subreddit:s.subreddit(e)}),p=()=>e=>Object.assign({source:r.d.Appearance,action:"view",noun:"blade"},b(e)),m=e=>t=>Object.assign({source:r.a[e],action:"click",noun:r.b[e]},b(t)),f=()=>e=>Object.assign({source:r.d.Appearance,action:"click",noun:"back"},b(e)),O=(e,t)=>Object.assign({},s.defaults(e),(e=>t=>Object.assign({source:r.d.PostFlairManagement,action:"click",noun:e},b(t)))(t)(e)),g=e=>t=>({source:r.d.MenuLinks,action:"click",noun:e?"wiki_link_on":"wiki_link_off",screen:s.screen(t),subreddit:s.subreddit(t),userSubreddit:s.userSubreddit(t)})},"./src/reddit/helpers/trackers/chat.ts":function(e,t,n){"use strict";n.d(t,"m",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"l",(function(){return f})),n.d(t,"i",(function(){return O})),n.d(t,"h",(function(){return g})),n.d(t,"j",(function(){return j})),n.d(t,"f",(function(){return h}));var r=n("./src/reddit/constants/chat.ts"),s=n("./src/reddit/selectors/telemetry.ts"),o=n("./src/telemetry/models/Event.ts");const i=e=>({screen:Object(s.screen)(e),subreddit:Object(s.subreddit)(e)}),c=()=>e=>Object.assign({source:o.b.ChatSidebarWidget,action:"view",noun:"chat_rooms",chat:Object(s.numberChannels)(e)},i(e)),a=e=>t=>Object.assign({source:o.b.ChatSidebarWidget,action:"click",noun:"view_room",chat:Object(s.channel)(t,e)},i(t)),d=e=>t=>Object.assign({source:o.b.ChatSidebarWidget,action:"click",noun:"join_room",chat:Object(s.channel)(t,e)},i(t)),u=()=>e=>Object.assign({source:o.b.ChatSidebarWidget,action:"click",noun:"view_all_rooms",chat:Object(s.numberChannels)(e)},i(e)),l=e=>t=>Object.assign({source:o.b.ChatSidebarModal,action:"click",noun:"view_room",chat:Object(s.channel)(t,e)},i(t)),b=e=>t=>Object.assign({source:o.b.ChatSidebarModal,action:"click",noun:"join_room",chat:Object(s.channel)(t,e)},i(t)),p=()=>e=>Object.assign({source:o.b.ChatSetup,action:"view",noun:"create_chat_room"},i(e)),m=e=>t=>{const{channelSendbirdUrl:n,type:s}=e;return Object.assign({source:o.b.ChatSetup,action:"submit",noun:"create_chat_room",chat:{id:n,type:r.f[s]}},i(t))},f=()=>e=>Object.assign({source:o.b.ChatSetup,action:"view",noun:"edit_chat_room"},i(e)),O=e=>t=>{const{channelSendbirdUrl:n,type:s}=e;return Object.assign({source:o.b.ChatSetup,action:"submit",noun:"edit_chat_room",chat:{id:n,type:r.f[s]}},i(t))},g=e=>t=>{const{channelSendbirdUrl:n,type:s}=e;return Object.assign({source:o.b.ChatSetup,action:"submit",noun:"delete_chat_room",chat:{id:n,type:r.f[s]}},i(t))},j=()=>e=>Object.assign({source:o.b.Nav,action:"view",noun:"orangered_06"},i(e)),h=e=>t=>Object.assign({source:"settings_privacy",action:"save",noun:"receive_chat_invites",setting:{value:e,oldValue:e},actionInfo:Object(s.actionInfo)(t,{settingValue:e})},Object(s.defaults)(t))},"./src/reddit/helpers/trackers/coins.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return p}));var r=n("./src/reddit/selectors/telemetry.ts"),s=n("./node_modules/uuid/v4.js"),o=n.n(s);let i;const c=()=>i,a=()=>i=o()(),d=()=>i=void 0,u="coins_marketing",l=()=>e=>Object.assign({source:u,action:"click",noun:"get_coins",correlationId:c()},r.defaults(e)),b=e=>t=>Object.assign({source:u,action:"click",noun:"coins_".concat(e),correlationId:c()},r.defaults(t)),p=()=>e=>Object.assign({source:u,action:"click",noun:"get_premium",correlationId:c()},r.defaults(e))},"./src/reddit/helpers/trackers/commentList.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/telemetry/index.ts"),s=n("./src/reddit/selectors/telemetry.ts");const o=(e,t)=>{Object(r.a)(Object.assign({action:"view",source:"commentlist",noun:"bottom"},s.defaults(e),{listing:s.listing(e,t),subreddit:s.subreddit(e)}))}},"./src/reddit/helpers/trackers/commentsPage.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return f}));var r=n("./src/reddit/models/PostDraft/index.ts"),s=n("./src/telemetry/index.ts"),o=n("./src/reddit/constants/tracking.ts"),i=n("./src/reddit/selectors/comments.ts"),c=n("./src/reddit/selectors/platform.ts"),a=n("./src/reddit/selectors/telemetry.ts");const d=e=>{const t=Object(c.o)(e);return Object.assign({source:"comment_composer",action:o.d.CLICK},Object(a.defaults)(e),{screen:Object(a.screen)(e),subreddit:Object(a.subreddit)(e),post:t?Object(a.post)(e,t):null,profile:Object(a.profile)(e)})},u=(e,t,n,r)=>{const o={commentId:r,commentsPageKey:n},c=r&&Object(i.j)(e,o)||0;return Object(s.a)(Object.assign({noun:"comment"},d(e),{comment:r?Object(a.comment)(e,r):null,listing:Object(a.listing)(e,void 0,{depth:c}),commentComposer:{editorMode:t}}))},l=e=>Object(s.a)(Object.assign({noun:"cancel"},d(e))),b=(e,t)=>{t===r.c.replyToPost&&Object(s.a)(Object.assign({noun:"input"},d(e)))},p=(e,t)=>Object(s.a)(Object.assign({source:"comment",noun:"delete",action:"click"},Object(a.defaults)(t),{screen:Object(a.screen)(t),subreddit:Object(a.subreddit)(t),post:Object(a.post)(t,e)})),m=e=>Object(s.a)(Object.assign({noun:"edit"},d(e))),f=e=>Object(s.a)(Object.assign({noun:"save_edit"},d(e)))},"./src/reddit/helpers/trackers/communityTopics.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"h",(function(){return O})),n.d(t,"g",(function(){return g}));var r,s=n("./src/reddit/selectors/tags.ts"),o=n("./src/reddit/selectors/telemetry.ts"),i=n("./src/telemetry/index.ts");!function(e){e.communitySettings="community_settings",e.idCard="id_card"}(r||(r={}));const c=(e,t)=>Object(s.t)(e,{itemId:t}).reduce((e,t)=>{let{topicTagIds:n,topicTagContents:r,topicTagTypes:s}=e;return n.push(t.tag.id),r.push(t.tag.text),s.push(t.tag.type),{topicTagIds:n,topicTagContents:r,topicTagTypes:s}},{topicTagIds:[],topicTagContents:[],topicTagTypes:[]}),a=(e,t,n)=>{if(!n.id)return{content:n.displayText};const r=Object(s.b)(e)[n.id]||Object(s.d)(e,{subredditId:t})[n.id];return r?{id:r.id,content:r.text,type:r.type}:null},d=(e,t,n)=>{if(!n)return null;const r=Object(s.b)(e)[n]||Object(s.d)(e,{subredditId:t})[n];return r?{id:r.id,content:r.text,type:r.type}:null},u=(e,t,n)=>Object.assign({},o.defaults(e),{subreddit:Object.assign({},o.subreddit(e)||{},{id:t},c(e,t)),source:n.context,action:"click"}),l=(e,t,n)=>{Object(i.a)(((e,t,n)=>Object.assign({},u(e,t.subredditId,n),{noun:t.isRelevant?"restore_related_topic":"remove_related_topic",topicTag:d(e,t.subredditId,t.tagId)}))(e,t,n))},b=(e,t,n,r)=>{Object(i.a)(Object.assign({},u(e,t,r),{topicTag:a(e,t,n),noun:"add_related_topic"}))},p=(e,t,n,r)=>{return!Object(s.k)(e,{subredditId:t})&&n.id?Object(i.a)(((e,t,n,r)=>Object.assign({},u(e,t,r),{topicTag:a(e,t,n),noun:"topic_auto_suggest"}))(e,t,n,r)):n.id?Object(i.a)(((e,t,n,r)=>Object.assign({},u(e,t,r),{topicTag:a(e,t,n),noun:"topic_auto_complete"}))(e,t,n,r)):Object(i.a)(((e,t,n,r)=>Object.assign({},u(e,t,r),{topicTag:a(e,t,n),noun:"topic_add_new"}))(e,t,n,r))},m=(e,t,n,r)=>Object(i.a)(Object.assign({},u(e,t,r),{topicTag:a(e,t,n),noun:"topic_remove"})),f=(e,t,n)=>Object(i.a)(Object.assign({},u(e,t,n),{noun:"topic_tag_field"})),O=(e,t,n)=>Object(i.a)(Object.assign({},u(e,t,n),{noun:n.context===r.communitySettings?"save":"save_community_topics"})),g=(e,t,n,r)=>{const s=u(e,t,r);Object(i.a)(Object.assign({},s,{action:"view",noun:"error",actionInfo:Object.assign({},s.actionInfo,{reason:n})}))}},"./src/reddit/helpers/trackers/discoveryUnit.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return y})),n.d(t,"K",(function(){return v})),n.d(t,"L",(function(){return S})),n.d(t,"A",(function(){return T})),n.d(t,"B",(function(){return C})),n.d(t,"E",(function(){return w})),n.d(t,"F",(function(){return D})),n.d(t,"h",(function(){return x})),n.d(t,"v",(function(){return P})),n.d(t,"w",(function(){return A})),n.d(t,"J",(function(){return R})),n.d(t,"u",(function(){return k})),n.d(t,"x",(function(){return N})),n.d(t,"y",(function(){return L})),n.d(t,"z",(function(){return M})),n.d(t,"C",(function(){return U})),n.d(t,"D",(function(){return F})),n.d(t,"M",(function(){return B})),n.d(t,"s",(function(){return G})),n.d(t,"t",(function(){return q})),n.d(t,"G",(function(){return V})),n.d(t,"H",(function(){return H})),n.d(t,"I",(function(){return K})),n.d(t,"c",(function(){return W})),n.d(t,"b",(function(){return J})),n.d(t,"a",(function(){return Y})),n.d(t,"e",(function(){return z})),n.d(t,"d",(function(){return Q})),n.d(t,"r",(function(){return Z})),n.d(t,"l",(function(){return ee})),n.d(t,"q",(function(){return te})),n.d(t,"j",(function(){return ne})),n.d(t,"k",(function(){return re})),n.d(t,"m",(function(){return se})),n.d(t,"o",(function(){return oe})),n.d(t,"p",(function(){return ie})),n.d(t,"n",(function(){return ce})),n.d(t,"i",(function(){return ae}));var r,s=n("./src/lib/stringInterpolate/index.ts"),o=n("./src/reddit/actions/focusedVerticals/constants.ts"),i=n("./src/reddit/constants/categories.tsx"),c=n("./src/reddit/constants/tracking.ts"),a=n("./src/reddit/helpers/correlationIdTracker.ts"),d=n("./src/reddit/models/DiscoveryUnit/index.ts"),u=n("./src/reddit/models/Widgets/index.ts"),l=n("./src/reddit/selectors/posts.ts"),b=n("./src/reddit/selectors/telemetry.ts"),p=n("./src/reddit/selectors/widgets.ts"),m=n("./src/telemetry/index.ts");!function(e){e.HEADER_SUBREDDIT="header_subreddit",e.ITEM_POST="item_post",e.ITEM_POST_SUBREDDIT="item_post_subreddit",e.ITEM_SUBREDDIT="item_subreddit",e.ITEM_SUBREDDIT_HIDE="item_subreddit_hide",e.ITEM_SUBREDDIT_SUBSCRIBE="item_subreddit_subscribe",e.ITEM_SUBREDDIT_UNSUBSCRIBE="item_subreddit_unsubscribe"}(r||(r={}));const f="discovery_unit",O=(e,t,n)=>Object.assign({},b.defaults(e),{source:f,screen:b.screen(e),discoveryUnit:{id:t.id,type:t.unitType,title:t.title&&n?Object(s.a)(t.title,{subredditName:n.name}):t.title,name:t.unitName}}),g=(e,t,n)=>Object.assign({},O(e,t,n),{source:"global",action:"view",noun:"discovery_unit"}),j=(e,t)=>Object.assign({},b.defaults(e),{correlationId:Object(a.c)(a.a.SearchResults),screen:b.screen(e),noun:"search_result_discovery_unit",post:t?b.post(e,t):null,discoveryUnit:{name:d.s,id:"xd_72",type:"listing"}}),h=(e,t)=>{Object(m.a)(y(t)(e))},y=(e,t)=>n=>g(n,e,t),_=(e,t,n,r)=>"unitName"in t?O(e,t,r):((e,t,n)=>Object.assign({},b.defaults(e),{source:"search",screen:b.screen(e),search:n?Object.assign({},b.search(e,n),{structureType:b.StructureType.Trending}):null,discoveryUnit:{id:t.name,type:"listing",title:t.layout.title,name:t.name}}))(e,t,n),E=(e,t,n,s,o)=>Object.assign({},_(e,t,s,o),{action:"view",noun:r.ITEM_POST,post:b.post(e,n)}),I=e=>{let{post:t,rawQuery:n,searchQuery:r}=e;return{displayQuery:decodeURIComponent(r),rawQuery:n?decodeURIComponent(n):void 0,structureType:t&&t.isSponsored?b.StructureType.PromotedTrend:b.StructureType.Trending}},v=(e,t)=>{const n=t.post?t.post.id:void 0;Object(m.a)(Object.assign({},j(e,n),{metaSearch:I(t),source:"search",action:"click"}))},S=(e,t)=>{const n=t.post?t.post.id:void 0;Object(m.a)(Object.assign({},j(e,n),{metaSearch:I(t),source:"search",action:"view"}))},T=(e,t,n,r)=>{Object(m.a)(E(e,t,n,r))},C=(e,t,n,r)=>s=>E(s,e,t,n,r),w=(e,t,n,s)=>{const o=_(e,t,s);Object(m.a)(Object.assign({},o,Object(p.b)(e,n),{action:"view",noun:r.ITEM_SUBREDDIT}))},D=(e,t,n)=>{Object(m.a)(Object.assign({},O(e,t),{source:f,action:c.d.CLICK,noun:"title_category",subreddit:{categoryName:Object(i.g)(n)}}))},x=(e,t)=>{Object(m.a)(Object.assign({},O(e,t),{source:f,action:c.d.CLICK,noun:"show_less_often"}))},P=(e,t,n,r)=>{Object(m.a)(A(t,n,r)(e))},A=(e,t,n,s)=>o=>{const i=_(o,e,n,s);return Object.assign({},i,{source:f,action:c.d.CLICK,noun:r.ITEM_POST,post:b.post(o,t)})},R=()=>e=>t=>({source:"search",action:c.d.CLICK,noun:r.ITEM_POST,post:b.post(t,e),search:{structureType:b.StructureType.Trending}}),k=(e,t)=>n=>s=>Object.assign({},e?O(s,e,t):{},{source:f,action:c.d.CLICK,noun:r.ITEM_POST,post:b.post(s,n)}),N=(e,t,n,r)=>{Object(m.a)(L(t,n,r)(e))},L=(e,t,n,r)=>s=>{const o=Object(l.b)(s,{postId:t}),i=o?Object(p.b)(s,o):void 0,a=_(s,e,n,r);return Object.assign({},a,i,{source:f,action:c.d.CLICK,noun:"item_post_subreddit",post:b.post(s,t)})},M=(e,t,n)=>r=>s=>{const o=Object(l.b)(s,{postId:t}),i=o?Object(p.b)(s,o):void 0,a=_(s,e,void 0,n);return Object.assign({},a,i,{source:f,action:c.d.CLICK,noun:r?"item_post_subreddit_unsubscribe":"item_post_subreddit_subscribe",post:b.post(s,t)})},U=(e,t,n)=>{Object(m.a)(Object.assign({},O(e,t),Object(p.b)(e,n),{source:f,action:c.d.CLICK,noun:r.ITEM_SUBREDDIT}))},F=(e,t)=>n=>r=>Object.assign({},O(r,e),Object(p.b)(r,t),{source:f,action:c.d.CLICK,noun:n?"item_subreddit_unsubscribe":"item_subreddit_subscribe"}),B=(e,t,n)=>{const r=_(e,t);Object(m.a)(Object.assign({},r,Object(p.b)(e,n),{source:"search",action:c.d.CLICK,noun:"search_result_discovery_unit_subreddit"}))},G=(e,t,n)=>{const r=_(e,t);Object(m.a)(Object.assign({},r,Object(p.b)(e,n),{source:f,action:c.d.CLICK,noun:"footer_subreddit"}))},q=(e,t)=>n=>{const r=t?Object(u.k)(t):void 0,s=r?Object(p.b)(n,r):void 0;return Object.assign({},O(n,e,t),s,{source:f,action:c.d.CLICK,noun:"footer_subreddit"})},V=(e,t,n)=>{Object(m.a)(Object.assign({},O(e,t),Object(p.b)(e,n),{source:f,action:c.d.CLICK,noun:"title_subreddit"}))},H=(e,t)=>n=>{const r=Object(u.k)(t);return Object.assign({},O(n,e,t),Object(p.b)(n,r),{source:f,action:c.d.CLICK,noun:"title_subreddit"})},K=(e,t)=>n=>r=>Object.assign({},O(r,e),Object(p.b)(r,t),{source:f,action:c.d.CLICK,noun:n?"title_subreddit_unsubscribe":"title_subreddit_subscribe"}),W=(e,t)=>n=>Object.assign({},O(n,e,t),{action:"status",actionInfo:b.actionInfo(n,{success:!0}),noun:"loading"}),J=(e,t,n)=>r=>Object.assign({},O(r,e,n),{action:"status",actionInfo:b.actionInfo(r,{reason:t,success:!1}),noun:"loading"}),Y=(e,t)=>n=>Object.assign({},O(n,e,t),{action:"click",noun:"close"}),z=(e,t,n)=>r=>Object.assign({},_(r,e,t,n),{action:"click",noun:"scroll"}),Q=(e,t)=>n=>Object.assign({},O(n,e,t),{action:"click",noun:"overflow_menu"}),X=()=>({id:"xd_focus_verticals",unitType:d.f.Listing,experiment:"",title:o.a,unitName:"focused_vertical_suggestion",enabled:!1,layout:d.d.Large,surface:d.e.Frontpage,url:"gql.reddit.com"}),$=(e,t,n)=>b.actionInfo(e,{position:n}),Z=(e,t,n)=>{const r=X();return e=>Object.assign({},g(e,r),{actionInfo:$(e,0,n),subreddit:b.subredditById(e,t)})},ee=(e,t,n)=>{const r=X();return e=>Object.assign({},E(e,r,t),{actionInfo:$(e,0,n)})},te=(e,t,n)=>{const s=X();return e=>Object.assign({},O(e,s),{actionInfo:$(e,0,n),subreddit:b.subredditById(e,t)||null,source:f,action:c.d.VIEW,noun:r.ITEM_SUBREDDIT})},ne=(e,t,n)=>{const s=X();return e=>Object.assign({},O(e,s),{actionInfo:$(e,0,n),post:b.post(e,t)||null,source:f,action:c.d.CLICK,noun:r.ITEM_POST})},re=(e,t,n,s)=>{const o=X();return e=>Object.assign({},O(e,o),{actionInfo:$(e,0,s),subreddit:b.subredditById(e,n)||null,post:b.post(e,t)||null,source:f,action:c.d.CLICK,noun:r.ITEM_POST_SUBREDDIT})},se=(e,t,n)=>{const s=X();return e=>Object.assign({},O(e,s),{actionInfo:$(e,0,n),subreddit:b.subredditById(e,t)||null,source:f,action:c.d.CLICK,noun:r.ITEM_SUBREDDIT})},oe=(e,t,n,s)=>{const o=X();return e=>Object.assign({},O(e,o),{actionInfo:$(e,0,n),subreddit:b.subredditById(e,t)||null,post:s?b.post(e,s):null,source:f,action:c.d.CLICK,noun:r.ITEM_SUBREDDIT_SUBSCRIBE})},ie=(e,t,n,s)=>{const o=X();return e=>Object.assign({},O(e,o),{actionInfo:$(e,0,n),subreddit:b.subredditById(e,t)||null,post:s?b.post(e,s):null,source:f,action:c.d.CLICK,noun:r.ITEM_SUBREDDIT_UNSUBSCRIBE})},ce=(e,t,n)=>{const s=X();return e=>Object.assign({},O(e,s),{actionInfo:$(e,0,n),subreddit:b.subredditById(e,t)||null,source:f,action:c.d.CLICK,noun:r.ITEM_SUBREDDIT_HIDE})},ae=(e,t,n)=>{const s=X();return e=>Object.assign({},O(e,s),{actionInfo:$(e,0,n),subreddit:b.subredditById(e,t)||null,source:f,action:c.d.CLICK,noun:r.HEADER_SUBREDDIT})}},"./src/reddit/helpers/trackers/emailCollection.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l}));var r=n("./src/reddit/constants/tracking.ts"),s=n("./src/reddit/selectors/experiments/emailCollection.ts"),o=n("./src/reddit/selectors/telemetry.ts");const i=e=>t=>({source:e,action:r.d.VIEW,actionInfo:o.actionInfo(t,{settingValue:Object(s.a)(t)}),noun:"email_collection"}),c=e=>t=>({source:e,action:r.d.CLICK,actionInfo:o.actionInfo(t,{settingValue:Object(s.a)(t)}),noun:"add_email_collection"}),a=e=>t=>({source:e,action:"close",actionInfo:o.actionInfo(t,{settingValue:Object(s.a)(t)}),noun:"email_collection"}),d=e=>Object.assign({},o.defaults(e),{source:"popup",action:r.d.CLICK,actionInfo:o.actionInfo(e,{settingValue:Object(s.a)(e)}),noun:"save_email_collection"}),u=e=>t=>Object.assign({},o.defaults(t),{source:"popup",action:r.d.CLICK,actionInfo:o.actionInfo(t,{reason:e?"1":"0",settingValue:Object(s.a)(t)}),noun:"email_digest_check"}),l=e=>Object.assign({},o.defaults(e),{source:"popup",action:r.d.CLICK,actionInfo:o.actionInfo(e,{settingValue:Object(s.a)(e)}),noun:"email_settings_link"})},"./src/reddit/helpers/trackers/emailVerification.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return u}));var r=n("./src/reddit/selectors/telemetry.ts");const s="tooltip",o=e=>t=>Object.assign({},Object(r.defaults)(t),{action:"view",noun:"verification",source:e}),i=e=>t=>Object.assign({},Object(r.defaults)(t),{action:"close",noun:"verification",source:e}),c=(e,t)=>n=>Object.assign({},Object(r.defaults)(n),{action:"click",noun:"verification_".concat(t),source:e}),a=e=>t=>Object.assign({},Object(r.defaults)(t),{action:"send",noun:"verification_email_".concat(e),source:"email"}),d=e=>t=>Object.assign({},Object(r.defaults)(t),{action:"click",noun:"verification_email_".concat(e),source:"email"}),u=()=>e=>Object.assign({},Object(r.defaults)(e),{action:"confirm",noun:"verification_email",source:"email"})},"./src/reddit/helpers/trackers/experiments.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d}));var r=n("./src/reddit/selectors/experiments/index.ts"),s=n("./src/reddit/selectors/platform.ts"),o=n("./src/reddit/selectors/telemetry.ts"),i=n("./src/telemetry/index.ts"),c=n("./src/telemetry/models/Event.ts");const a=(e,t,n)=>{Object(i.a)(Object.assign({source:c.e.Experiment,action:c.c.Expose,noun:c.d.UserId,actionInfo:void 0,app:o.app(),experiment:t,referrer:void 0,session:void 0,user:e},n))},d=(e,t)=>{const n=o.request(e),a=Object(r.c)(e);a&&(n.canonical_url=a);const d=Object(r.a)(e,t),u=void 0!==d,l=Object(r.b)(e,t);let b;u?b={id:-1,isOverride:!0,name:t.experimentName,variant:d,version:"-1"}:l&&(b=Object.assign({},l,{isOverride:!1}));const p=Object(s.o)(e),m=p?o.post(e,p):void 0;Object(i.a)({source:c.e.Experiment,action:c.c.Expose,noun:c.d.CanonicalUrl,actionInfo:void 0,app:o.app(),experiment:b,post:m,request:n,referrer:void 0,session:void 0,subreddit:o.subreddit(e),user:o.user(e)})}},"./src/reddit/helpers/trackers/gild.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"clickGildEvent",(function(){return u})),n.d(t,"clickRpanGiveAward",(function(){return l})),n.d(t,"clickAddAward",(function(){return b})),n.d(t,"viewGildModalEvent",(function(){return p})),n.d(t,"clickSelectAwardEvent",(function(){return m})),n.d(t,"viewGiveAwardTooltipEvent",(function(){return f})),n.d(t,"triggerAnonymousEvent",(function(){return O})),n.d(t,"clickMessageInputEvent",(function(){return g})),n.d(t,"typeMessageInputEvent",(function(){return j})),n.d(t,"clickLearnMoreLinkEvent",(function(){return h})),n.d(t,"clickQuestionMarkEvent",(function(){return y})),n.d(t,"clickConfirmAwardEvent",(function(){return _})),n.d(t,"clickNextButtonEvent",(function(){return E})),n.d(t,"clickCloseGildModalEvent",(function(){return I})),n.d(t,"viewSuccessAwardEvent",(function(){return v}));var r=n("./src/reddit/models/Gold/Award.ts"),s=n("./src/reddit/selectors/telemetry.ts"),o=n("./src/reddit/helpers/correlationIdTracker.ts"),i=n("./src/reddit/helpers/isComment.ts");const c=e=>e.awardType===r.c.Global&&e.awardSubType===r.b.Global?e.id:e.awardType===r.c.Global&&e.awardSubType===r.b.Appreciation?"gid_appreciation":e.awardType===r.c.Community?"gid_community":"gid_mod",a=e=>({awardId:e.id,awardName:e.name,numberCoinsToRecipient:e.coinReward,type:c(e)}),d=(e,t)=>Object.assign({},s.defaults(e),{comment:s.comment(e,t),correlationId:Object(o.c)(o.a.GildingFlow),post:s.post(e,t),screen:s.screen(e),subreddit:s.subreddit(e)}),u=e=>t=>Object.assign({},d(t,e),{source:Object(i.a)(e)?"comment":"post",action:"click",noun:"give_gold"}),l=e=>t=>Object.assign({},d(t,e),{source:"stream_player",action:"click",noun:"give_gold"}),b=e=>t=>Object.assign({},d(t,e),{source:Object(i.a)(e)?"comment":"post",action:"click",noun:"add_award"}),p=(e,t,n)=>r=>Object.assign({},d(r,n),{source:"give_gold",action:"view",noun:"page",goldPurchase:{defaultOption:e,defaultAnonymous:t}}),m=(e,t)=>n=>Object.assign({},d(n,t),{source:"give_gold",action:"click",noun:c(e),goldPurchase:a(e)}),f=e=>t=>Object.assign({},d(t,e),{source:"give_gold",action:"view",noun:"tooltip"}),O=(e,t)=>n=>Object.assign({},d(n,t),{source:"give_gold",action:e,noun:"anonymous"}),g=e=>t=>Object.assign({},d(t,e),{source:"give_gold",action:"click",noun:"message_input"}),j=e=>t=>Object.assign({},d(t,e),{source:"give_gold",action:"type",noun:"message_input"}),h=e=>t=>Object.assign({},d(t,e),{source:"give_gold",action:"click",noun:"learn_more"}),y=e=>t=>Object.assign({},d(t,e),{source:"give_gold",action:"click",noun:"question"}),_=(e,t)=>n=>Object.assign({},d(n,e),{source:"give_gold",action:"click",noun:"confirm",goldPurchase:Object.assign({contentType:Object(i.a)(e)?"comment":"post"},a(t))}),E=e=>t=>Object.assign({},d(t,e),{source:"give_gold",action:"click",noun:"next"}),I=e=>t=>Object.assign({},d(t,e),{source:"give_gold",action:"click",noun:"close"}),v=(e,t,n)=>r=>Object.assign({},d(r,e),{source:"give_gold",action:"view",noun:"success",goldPurchase:Object.assign({contentType:Object(i.a)(e)?"comment":"post",numberCoins:t},a(n))})},"./src/reddit/helpers/trackers/inlineSubredditEditing.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l}));var r,s=n("./src/reddit/constants/tracking.ts"),o=n("./src/reddit/selectors/telemetry.ts");!function(e){e.SubredditInlineTooltip="subreddit_inline_tooltip",e.EditSubredditIcon="edit_subreddit_icon",e.EditSubredditDescription="edit_subreddit_description",e.SaveDescription="save_description",e.Error="error"}(r||(r={}));const i=e=>({subreddit:o.subreddit(e),userSubreddit:o.userSubreddit(e)}),c=e=>Object.assign({source:"subreddit_tooltip",noun:r.SubredditInlineTooltip,action:s.d.VIEW},i(e)),a=e=>Object.assign({source:"id_card",noun:r.EditSubredditIcon,action:s.d.CLICK},i(e)),d=e=>Object.assign({source:"id_card",noun:r.EditSubredditDescription,action:s.d.CLICK},i(e)),u=(e,t)=>n=>Object.assign({source:"id_card",noun:r.SaveDescription,action:s.d.CLICK,setting:{value:String(e),oldValue:String(t)}},i(n)),l=(e,t)=>Object.assign({source:"id_card",noun:r.Error,action:s.d.VIEW},i(e),o.defaults(e),{actionInfo:o.actionInfo(e,{reason:t})})},"./src/reddit/helpers/trackers/lightbox.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n("./src/reddit/constants/tracking.ts"),s=n("./src/telemetry/index.ts"),o=n("./src/reddit/selectors/platform.ts"),i=n("./src/reddit/selectors/telemetry.ts");const c=e=>({profile:i.profile(e),screen:i.screen(e),subreddit:i.subreddit(e)}),a=(e,t,n)=>r=>Object.assign({source:Object(o.i)(r)||n?"post_lightbox":"post_detail",action:"click",noun:t},c(r),{post:i.post(r,e)}),d=(e,t)=>n=>{const r=i.currentPost(n);return r?a(r.id,e,t)(n):Object.assign({source:Object(o.i)(n)||t?"post_lightbox":"post_detail",action:"click",noun:e},c(n))},u=(e,t)=>n=>Object(s.a)(Object.assign({},a(e,t)(n),i.defaults(n))),l=e=>t=>Object.assign({source:"id_card",action:r.d.CLICK,noun:e},c(t),{post:i.currentPost(t),userSubreddit:i.userSubreddit(t)})},"./src/reddit/helpers/trackers/media.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n("./src/reddit/selectors/telemetry.ts");const s=(e,t,n)=>s=>({source:"videoplayer",action:t,noun:n,post:r.post(s,e),media:r.media(s,e),profile:r.profile(s),subreddit:r.subreddit(s),actionInfo:r.mediaActionInfo(s,e),correlationId:r.videoCorrelationId()}),o=e=>t=>({source:"videoplayer",action:"underrun",noun:"playback",post:r.post(t,e),profile:r.profile(t),subreddit:r.subreddit(t),actionInfo:r.mediaActionInfo(t,e),media:r.media(t,e)}),i=(e,t,n)=>o=>Object.assign({},s(e,t,n)(o),{timer:r.videoPlayerFirstFrameTimer(o,e),media:Object.assign({},r.media(o,e),r.videoPlayerMaxTimeServed(o,e))})},"./src/reddit/helpers/trackers/modTools.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"l",(function(){return O}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/selectors/telemetry.ts");const s=new Set(["approve","ignore_reports","remove","restore_reports","spam"]),o=e=>({screen:Object(r.screen)(e),profile:Object(r.profile)(e),subreddit:Object(r.subreddit)(e),userSubreddit:Object(r.userSubreddit)(e)}),i=e=>t=>Object.assign({source:"nav",action:"click",noun:e?"mod_mode_on":"mod_mode_off"},o(t)),c=(e,t)=>n=>Object.assign({source:"post_mod_action_menu",action:"click",noun:e,modAction:Object(r.modActionSelector)(n,t),post:Object(r.post)(n,t)},o(n)),a=(e,t)=>n=>Object.assign({source:"comment",action:"click",noun:e,modAction:s.has(e)?Object(r.modActionSelector)(n,t):void 0,post:Object(r.post)(n,t),comment:Object(r.comment)(n,t)},o(n)),d=(e,t)=>n=>Object.assign({source:"comment_overflow_menu",action:"click",noun:e,post:Object(r.post)(n,t),comment:Object(r.comment)(n,t)},o(n)),u=(e,t)=>n=>Object.assign({source:"mod_distinguish_menu",action:"click",noun:e,post:Object(r.post)(n,t),comment:Object(r.comment)(n,t)},o(n)),l=(e,t)=>n=>Object.assign({source:"comment_mod_action_menu",action:"click",noun:e,modAction:Object(r.modActionSelector)(n,t),post:Object(r.post)(n,t),comment:Object(r.comment)(n,t)},o(n)),b=(e,t)=>n=>Object.assign({source:"comment_report_menu",action:"click",noun:e,comment:Object(r.comment)(n,t),post:Object(r.post)(n,t)},o(n)),p=(e,t)=>n=>Object.assign({source:"post_report_menu",action:"click",noun:e,post:Object(r.post)(n,t)},o(n)),m=(e,t)=>n=>({source:"post",action:"click",noun:e,modAction:Object(r.modActionSelector)(n,t),post:Object(r.post)(n,t),subreddit:Object(r.subredditByPostOrCommentId)(n,t)}),f=(e,t)=>n=>({source:"comment",action:"click",noun:e,comment:Object(r.comment)(n,t),modAction:Object(r.modActionSelector)(n,t),post:Object(r.post)(n,t),subreddit:Object(r.subredditByPostOrCommentId)(n,t)}),O=(e,t)=>n=>Object.assign({source:e,action:"click",noun:"steward_reports_only",actionInfo:Object(r.actionInfo)(n,{settingValue:t?"on":"off"})},o(n))},"./src/reddit/helpers/trackers/post.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return j}));var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/helpers/trackers/modTools.ts"),o=n("./src/reddit/models/Post/index.ts"),i=n("./src/telemetry/index.ts"),c=n("./src/reddit/selectors/telemetry.ts");const a=e=>e&&e.meta&&e.meta.name&&e.meta.name===r.xb.DUPLICATES,d=(e,t,n)=>{const{currentPage:r}=e.platform,s=a(r)?"other_discussions":"post";return Object(i.a)(Object.assign({source:s,action:"view",noun:"post"},c.defaults(e),{actionInfo:c.actionInfo(e,{position:n}),post:c.post(e,t),profile:c.profile(e),media:c.media(e,t),screen:c.screen(e),subreddit:c.subreddit(e)}))},u=(e,t)=>Object(i.a)(Object.assign({source:"post",action:"view",noun:"ad"},c.defaults(e),{post:c.post(e,t),media:c.media(e,t),screen:c.screen(e),subreddit:c.subreddit(e)})),l=(e,t,n,r)=>Object(i.a)(Object.assign({source:"post",action:"consume",noun:"post"},c.defaults(e),{actionInfo:c.actionInfo(e,{position:r}),post:c.post(e,t,n),media:c.media(e,t),screen:c.screen(e),subreddit:c.subreddit(e)})),b=(e,t,n,r)=>({noun:r,post:c.post(e,t),source:n}),p=(e,t,n,r)=>{const{currentPage:s}=e.platform;if(a(s)){const n=Object(o.m)(s&&s.urlParams.partialPostId||"");return{noun:"post",post:c.post(e,n),source:"other_discussions",targetPost:c.post(e,t)}}return b(e,t,n,r)},m=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";return r=>{const{currentPage:o}=r.platform,i=a(o)?p(r,e,n,t):b(r,e,n,t);return Object.assign({},i,c.defaults(r),{action:"click",media:c.media(r,e),modAction:s.a.has(i.noun)?c.modActionSelector(r,e):void 0,subreddit:c.subreddit(r)||c.subredditByPostOrCommentId(r,e)})}},f=(e,t)=>n=>Object(i.a)(Object.assign({source:"post",action:"click",noun:t},c.defaults(n),{post:c.post(n,e),media:c.media(n,e),screen:c.screen(n),session:c.session(n),subreddit:c.subreddit(n)})),O=(e,t)=>({post:c.post(e,t),profile:c.profile(e)}),g=e=>t=>Object.assign({action:"pin",noun:"post",source:"profile"},O(t,e),c.defaults(t)),j=e=>t=>Object.assign({action:"unpin",noun:"post",source:"profile"},O(t,e),c.defaults(t))},"./src/reddit/helpers/trackers/postComposer.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"s",(function(){return h})),n.d(t,"r",(function(){return y})),n.d(t,"n",(function(){return _})),n.d(t,"v",(function(){return E})),n.d(t,"m",(function(){return I})),n.d(t,"i",(function(){return v})),n.d(t,"p",(function(){return S})),n.d(t,"o",(function(){return T})),n.d(t,"l",(function(){return C})),n.d(t,"k",(function(){return w})),n.d(t,"u",(function(){return D})),n.d(t,"d",(function(){return x})),n.d(t,"j",(function(){return A})),n.d(t,"h",(function(){return R})),n.d(t,"e",(function(){return k})),n.d(t,"f",(function(){return N})),n.d(t,"b",(function(){return L})),n.d(t,"q",(function(){return M})),n.d(t,"g",(function(){return U})),n.d(t,"t",(function(){return F}));var r=n("./src/reddit/constants/tracking.ts"),s=n("./src/reddit/helpers/correlationIdTracker.ts"),o=n("./src/reddit/helpers/media/index.ts"),i=n("./src/reddit/models/PostCreationForm/index.ts"),c=n("./src/reddit/models/PostDraft/index.ts"),a=n("./src/reddit/selectors/postDraft.ts"),d=n("./src/reddit/selectors/telemetry.ts"),u=n("./src/reddit/selectors/user.ts"),l=n("./src/telemetry/index.ts"),b=n("./src/telemetry/models/PostComposer.ts"),p=n("./src/telemetry/models/PostDraft.ts");const m={imageOnly:"image",linkOnly:"link",media:"media",poll:"self",post:"self",crosspost:"crosspost"},f=e=>Object.assign({source:"post_composer",action:r.d.CLICK},d.defaults(e),{screen:d.screen(e),correlationId:Object(s.c)(s.a.PostComposer)}),O=(e,t)=>"self"!==t?{}:{editorMode:e.user.prefs.editorMode===i.h.MARKDOWN?"markdown":"rte"},g=e=>{Object(l.a)(Object.assign({noun:"cancel"},f(e)))},j=e=>{Object(l.a)(Object.assign({noun:"discard"},f(e)))},h=e=>{Object(l.a)(Object.assign({noun:"subreddit_choice",subreddit:d.subreddit(e)},f(e),{actionInfo:d.chatPostActionInfo(e)}))},y=e=>{Object(l.a)(Object.assign({noun:"subreddit_selector"},f(e)))},_=(e,t)=>{Object(l.a)(Object.assign({noun:"post_type_selector",postComposer:{type:m[t]}},f(e)))},E=(e,t,n)=>{"image_upload"===t||"video_upload"===t?Object(l.a)(Object.assign({noun:t},f(e))):Object(l.a)(Object.assign({noun:"text_option",postComposer:{textType:t,finalStatus:n?"on":"off"}},f(e)))},I=(e,t,n)=>{Object(l.a)(Object.assign({noun:"post",subreddit:d.subreddit(e),postComposer:Object.assign({type:t},O(e,t)),post:n?d.post(e,n):null},f(e)))},v=(e,t)=>{const n=t===i.h.MARKDOWN?"markdown_mode":"rte_mode";Object(l.a)(Object.assign({noun:n},f(e)))},S=(e,t)=>{Object(l.a)(Object.assign({noun:"save",subreddit:d.subreddit(e),postComposer:Object.assign({type:t},O(e,t))},f(e)))},T=(e,t)=>{const n=e.uploads[t];n.error&&Object(l.a)(Object.assign({},f(e),{noun:"media",action:r.d.REJECT,actionInfo:Object.assign({},d.actionInfo(e),{reason:JSON.stringify(n.error)})}))},C=(e,t)=>{t.forEach(t=>{const n=Object(o.f)(t.type);n&&Object(l.a)(Object.assign({},f(e),{action:r.d.DRAG,noun:n}))})},w=(e,t,n)=>{Object(l.a)(Object.assign({},f(e),{noun:"input",postComposer:{inputType:n},action:t,actionInfo:d.chatPostActionInfo(e)}))},D=(e,t,n)=>{Object(l.a)(Object.assign({},f(e),{noun:n,action:Object(b.getToggleAction)(t),actionInfo:d.chatPostActionInfo(e)}))},x=e=>{Object(l.a)(Object.assign({},f(e),{noun:"hide_oc_description",action:r.d.CLICK}))},P=(e,t)=>{if(t){const n=d.subredditById(e,t);if(n)return{subreddit:n};const r=d.profileById(e,t);if(r)return{profile:r}}},A=(e,t)=>{const{draftId:n,destSubreddit:r}=t,s=Object(u.i)(e),o=Object(a.d)(e,{draftId:n}),i={authorId:s?s.id:void 0,createdTimestamp:o?o.created:void 0,id:n||void 0,nsfw:t.isNSFW,originalContent:t.isOC,spoiler:t.isSpoiler,titleLength:t.title.length};switch(t.kind){case c.b.Link:i.type=p.DraftType.Link,i.urlLength=t.body.length;break;case c.b.Markdown:i.type=p.DraftType.Self,i.bodyTextLength=t.body.length;break;case c.b.RichText:i.type=p.DraftType.RichText,t.documentStats&&(i.bodyTextLength=t.documentStats.textLength,i.numberRteImages=t.documentStats.rteImagesCount,i.numberRteVideos=t.documentStats.rteVideosCount);break;case c.b.Image:i.type=p.DraftType.Image;break;case c.b.Video:i.type=p.DraftType.Video}return Object.assign({postDraft:i},P(e,r.id))},R=(e,t)=>{Object(l.a)(Object.assign({noun:"draft_load"},f(e),A(e,t)))},k=(e,t)=>{Object(l.a)(Object.assign({noun:t.draftId?"draft_update":"draft_create"},f(e),A(e,t)))},N=(e,t)=>{Object(l.a)(Object.assign({noun:"draft_delete"},f(e),((e,t)=>{const n=Object(u.i)(e),r={authorId:n?n.id:void 0,createdTimestamp:t.created,id:t.id,nsfw:t.isNSFW,originalContent:t.isOriginalContent,spoiler:t.isSpoiler,titleLength:t.title.length};switch(t.kind){case c.b.Link:r.type=p.DraftType.Link,r.urlLength=(t.body||"").length;break;case c.b.Markdown:r.type=p.DraftType.Self,r.bodyTextLength=(t.body||"").length;break;case c.b.RichText:r.type=p.DraftType.RichText}return Object.assign({postDraft:r},P(e,t.subredditId))})(e,t)))},L=e=>{Object(l.a)(Object.assign({},f(e),{noun:"social_connect_link",action:r.d.CLICK}))},M=(e,t)=>{Object(l.a)(Object.assign({},f(e),{noun:"twitter_share_checkbox",action:Object(b.getToggleAction)(t)}))},U=(e,t,n)=>{Object(l.a)(Object.assign({},f(e),A(e,t),{noun:"draft_share",action:n?r.d.ENABLE:r.d.DISABLE}))},F=(e,t,n,r)=>{Object(l.a)(Object.assign({},f(e),{noun:"suggested_subreddit",subreddit:{id:n,name:r,postDifficultyRating:t}}))}},"./src/reddit/helpers/trackers/postList.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"j",(function(){return f}));var r=n("./src/telemetry/index.ts"),s=n("./src/reddit/selectors/telemetry.ts");const o=(e,t)=>Object.assign({},s.defaults(e),{media:s.media(e,t),post:s.post(e,t),profile:s.profile(e),subreddit:s.subreddit(e)}),i=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"stop",noun:"autoplay_initial_load"}))},c=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"complete",noun:"autoplay_initial_load"}))},a=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"start",noun:"autoplay_initial_load"}))},d=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"start",noun:"autoplay_network_load"}))},u=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"consume",noun:"autoplay"}))},l=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"start",noun:"autoplay"}))},b=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"start",noun:"autoplay_buffering"}))},p=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"stop",noun:"autoplay"}))},m=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"stop",noun:"autoplay_buffering"}))},f=(e,t)=>{Object(r.a)(Object.assign({action:"view",source:"postlist",noun:"bottom"},s.defaults(e),{listing:s.listing(e,t),subreddit:s.subreddit(e)}))}},"./src/reddit/helpers/trackers/premium.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n("./src/reddit/selectors/telemetry.ts"),s=n("./node_modules/uuid/v4.js"),o=n.n(s);let i;const c=()=>i,a=()=>i=o()(),d=()=>i=void 0,u="premium_marketing",l=()=>e=>Object.assign({source:u,action:"click",noun:"get_premium",correlationId:c()},r.defaults(e)),b=()=>e=>Object.assign({source:u,action:"click",noun:"price",correlationId:c()},r.defaults(e)),p=()=>e=>Object.assign({source:u,action:"click",noun:"redeem_code",correlationId:c()},r.defaults(e)),m=()=>e=>Object.assign({source:u,action:"click",noun:"manage",correlationId:c()},r.defaults(e))},"./src/reddit/helpers/trackers/profileSettings.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"j",(function(){return f})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return j})),n.d(t,"i",(function(){return h})),n.d(t,"c",(function(){return y})),n.d(t,"h",(function(){return _})),n.d(t,"a",(function(){return E}));var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/reddit/constants/tracking.ts"),i=n("./src/reddit/selectors/telemetry.ts"),c=n("./src/telemetry/index.ts"),a=n("./src/telemetry/models/PostComposer.ts");const d=e=>Object.assign({source:"profile_settings"},Object(i.defaults)(e)),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Object(i.currentProfileModelSelector)(e);if(n)return s()(n,["id","name","type",...t])},l=e=>{Object(c.a)(Object.assign({},d(e),{noun:"twitter_connect_link",action:o.d.CLICK}))},b=e=>{Object(c.a)(Object.assign({},d(e),{noun:"twitter_disconnect_link",action:o.d.CLICK}))},p=(e,t)=>{Object(c.a)(Object.assign({},d(e),{noun:"display_twitter_checkbox",action:Object(a.getToggleAction)(t)}))},m=(e,t)=>{Object(c.a)(Object.assign({},d(e),{noun:"twitter_account",action:o.d.CLICK,profile:{id:t.id,name:t.username}}))},f=e=>{Object(c.a)(Object.assign({},d(e),{profile:u(e,["display_name","about","avatar_url","cover_url","nsfw","content_visible","communities_visible"]),action:o.d.VIEW,noun:"settings_page"}))},O={profileIcon:"avatar",profileBanner:"cover"},g=(e,t)=>{Object(c.a)(Object.assign({},d(e),{profile:u(e,["avatar_url","cover_url"]),action:"upload",noun:O[t]}))},j=(e,t)=>{Object(c.a)(Object.assign({},d(e),{profile:u(e,[]),action:"remove",noun:O[t]}))},h=e=>{Object(c.a)(Object.assign({},d(e),{profile:u(e,["display_name","about","nsfw","content_visible","communities_visible"]),action:"click",noun:"save_settings"}))},y=e=>t=>Object.assign({},d(t),{profile:u(t,[]),action:e?"select":"deselect",noun:"content_visible"}),_=e=>t=>Object.assign({},d(t),{profile:u(t,[]),action:e?"select":"deselect",noun:"nsfw"}),E=e=>t=>Object.assign({},d(t),{profile:u(t,[]),action:e?"select":"deselect",noun:"active_in_communities"})},"./src/reddit/helpers/trackers/screenview.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return E})),n.d(t,"d",(function(){return I})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return S})),n.d(t,"j",(function(){return T})),n.d(t,"m",(function(){return C})),n.d(t,"b",(function(){return w})),n.d(t,"h",(function(){return D})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return P})),n.d(t,"a",(function(){return R})),n.d(t,"i",(function(){return k})),n.d(t,"n",(function(){return U})),n.d(t,"p",(function(){return F})),n.d(t,"c",(function(){return B})),n.d(t,"o",(function(){return V}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makePostDraftPageKey/index.ts"),o=n("./src/reddit/helpers/getCommentsPageSort/index.ts"),i=n("./src/reddit/helpers/routeKey/index.ts"),c=n("./src/reddit/helpers/trackers/postComposer.ts"),a=n("./src/reddit/helpers/trackers/profileSettings.ts"),d=n("./src/reddit/models/Comment/index.ts"),u=n("./src/reddit/models/Post/index.ts"),l=n("./src/reddit/selectors/profile.ts"),b=n("./src/reddit/selectors/subreddit.ts"),p=n("./src/reddit/constants/categories.tsx"),m=n("./src/reddit/helpers/correlationIdTracker.ts"),f=n("./src/reddit/helpers/trackers/coins.ts"),O=n("./src/reddit/helpers/trackers/premium.ts"),g=n("./src/reddit/helpers/trackers/searchResults.ts"),j=n("./src/reddit/selectors/experiments/searchFix.ts"),h=n("./src/reddit/selectors/postDraft.ts"),y=n("./src/reddit/selectors/telemetry.ts"),_=n("./src/telemetry/index.ts");const E=(e,t,n,c)=>{const{route:l}=e,{name:b}=l.meta;if(b)switch(b){case r.xb.COMMENTS:{const{partialCommentId:r,partialPostId:s}=e.match.params,a=Object(u.m)(s),l=Object(i.a)(e,t,t.posts.models[a]);if(!l)return;const b=r&&Object(d.e)(r),{sortToUse:p}=Object(o.a)(t,a);Object(_.a)(w(l,a,b,n,c,p)(t));break}case r.xb.INDEX:case r.xb.LISTING:case r.xb.MULTIREDDIT:case r.xb.SUBREDDIT:{const s=Object(i.d)(e,t);if(!s.listingKey)return;const{params:o,queryParams:a}=e.match,{sort:d=(s.sort?s.sort:r.N.HOT)}=o,u=a.t;Object(_.a)(I(s.listingKey,d,n,c,u)(t));break}case r.xb.TOPIC:{const s=Object(i.d)(e,t);if(!s.listingKey)return;const{params:o}=e.match,a=s.sort?s.sort:r.N.HOT,{sort:d=a,topicName:u}=o;Object(_.a)(q(s.listingKey,u,d,n,c)(t));break}case r.xb.PROFILE_OVERVIEW:{const s=Object(i.e)(e,t);if(!s)return;const{params:o,queryParams:a}=e.match,{sort:d=r.rb}=o,u=a.t;Object(_.a)(v(s,d,n,c,u)(t));break}case r.xb.PROFILE_POSTS:{const s=Object(i.e)(e,t);if(!s)return;const{queryParams:o}=e.match,{sort:a=r.rb,t:d=r.Pb}=o;Object(_.a)(S(s,a,n,c,d)(t));break}case r.xb.PROFILE_COMMENTS:{const s=Object(i.e)(e,t);if(!s)return;const{queryParams:o}=e.match,{sort:a=r.rb,t:d=r.Pb}=o;Object(_.a)(T(s,a,n,c,d)(t));break}case r.xb.SETTINGS:e.match.params.page===r.Kb.Profile?Object(a.j)(t):Object(_.a)(L(n,c)(t));break;case r.xb.POST_CREATION:break;case r.xb.POST_DRAFT:{const{draftId:r}=e.match.params,o=Object(s.a)(e.match.params);if(!o)return;A(t,o,r,n,c);break}case r.xb.SUBREDDIT_WIKI:Object(_.a)(G(n,c)(t));break;case r.xb.COINS:Object(_.a)(R(n,c)(t));break;case r.xb.PREMIUM:Object(_.a)(k(n,c)(t));break;case r.xb.APPEAL:Object(_.a)(N(n,c)(t));break;case r.xb.EXPLORE:{const r=Object(i.b)(e);if(!r)return;Object(_.a)(M(r,n,c)(t));break}}},I=(e,t,n,r,s,o)=>i=>{const{api:c}=i.listings.postOrder,a=!c.error[e]&&!c.pending[e];return Object.assign({source:"global",action:"view",noun:"screen"},y.defaults(i),{actionInfo:y.actionInfo(i,{success:a}),customFeed:y.customFeed(i),listing:y.listing(i,e,{sort:t,sortTime:s}),screen:y.screen(i),subreddit:y.subreddit(i),timer:y.timer(n,r),userSubreddit:y.userSubreddit(i),adblock:y.adblock(i),postFlair:{title:o}})},v=(e,t,n,r,s)=>o=>{const i=y.listing(o,e);i&&(i.sort=t,s&&(i.sortTime=s));const{api:c}=o.listings.postOrder,a=!c.error[e]&&!c.pending[e];return Object.assign({listing:i,source:"global",action:"view",noun:"screen"},y.defaults(o),{actionInfo:y.actionInfo(o,{success:a}),profile:y.profile(o),screen:y.screen(o),subreddit:y.subreddit(o),timer:y.timer(n,r),userSubreddit:y.userSubreddit(o),adblock:y.adblock(o)})},S=(e,t,n,r,s)=>o=>{const i=y.listing(o,e);i&&(i.sort=t,s&&(i.sortTime=s));const{api:c}=o.listings.postOrder,a=!c.error[e]&&!c.pending[e];return Object.assign({listing:i,source:"global",action:"view",noun:"screen"},y.defaults(o),{actionInfo:y.actionInfo(o,{success:a}),profile:y.profile(o),screen:y.screen(o),subreddit:y.subreddit(o),timer:y.timer(n,r),userSubreddit:y.userSubreddit(o),adblock:y.adblock(o)})},T=(e,t,n,r,s)=>o=>{const i=y.profileComments(o,e);i&&(i.sort=t,s&&(i.sortTime=s));const{api:c}=o.profileCommentsPage,a=!c.error[e]&&!c.pending[e];return Object.assign({listing:i,source:"global",action:"view",noun:"screen"},y.defaults(o),{actionInfo:y.actionInfo(o,{success:a}),profile:y.profile(o),screen:y.screen(o),subreddit:y.subreddit(o),timer:y.timer(n,r),userSubreddit:y.userSubreddit(o),adblock:y.adblock(o)})},C=e=>(t,n)=>r=>{const s=!r.profilePrivatePage.api.error[e]&&!r.profilePrivatePage.api.pending[e];return Object.assign({source:"global",action:"view",noun:"screen"},y.defaults(r),{actionInfo:y.actionInfo(r,{success:s}),profile:y.profile(r),screen:y.screen(r),subreddit:y.subreddit(r),timer:y.timer(n,t),userSubreddit:y.userSubreddit(r),adblock:y.adblock(r)})},w=(e,t,n,r,s,o)=>i=>{const{api:c}=i.commentsPage,a=!c.error[e]&&!c.pending[e],d=Object.assign({source:"global",action:"view",noun:"screen"},y.defaults(i),{actionInfo:y.actionInfo(i,{success:a}),post:y.post(i,t),profile:y.profile(i),screen:y.screen(i),subreddit:y.subreddit(i),timer:y.timer(r,s),userSubreddit:y.userSubreddit(i),adblock:y.adblock(i),postEvent:y.postEventI13nSelector(i,{postId:t}),postCollection:y.postCollectionI13nSelector(i,{postId:t}),listing:y.listing(i,void 0,{sort:o})});return n&&(d.comment=y.comment(i,n)),d},D=(e,t,n)=>r=>{const s=r.creations.api.page.fetched[e],o=r.platform.currentPage?r.platform.currentPage.queryParams.source_id:void 0;return Object.assign({source:"global",action:"view",noun:"screen"},y.defaults(r),{actionInfo:y.actionInfo(r,{success:s}),post:o?y.post(r,o):void 0,screen:y.screen(r),subreddit:y.subreddit(r),timer:y.timer(t,n),userSubreddit:y.userSubreddit(r),adblock:y.adblock(r)})},x=(e,t,n)=>{Object(_.a)(Object.assign({source:"global",action:"view",noun:"screen"},y.defaults(e),{actionInfo:y.actionInfo(e,{success:t}),screen:y.screen(e),subreddit:y.subredditById(e,Object(b.G)(e,n)),userSubreddit:y.userSubreddit(e),adblock:y.adblock(e)}))},P=(e,t,n,r)=>{Object(_.a)(Object.assign({source:"global",action:"view",noun:"screen"},y.defaults(e),{profile:y.profileById(e,Object(l.m)(e,r)),screen:y.screen(e),subreddit:y.subredditById(e,Object(b.G)(e,n)),userSubreddit:y.userSubreddit(e),adblock:y.adblock(e)}))},A=(e,t,n,r,s)=>{const o=e.creations.api.page.pending[t],i=!e.creations.api.page.error[t]&&!o&&!!n,a=Object(h.h)(e,n);Object(_.a)(Object.assign({source:"global",action:"view",noun:"screen"},y.defaults(e),{actionInfo:y.actionInfo(e,{success:i}),screen:y.screen(e),subreddit:y.subreddit(e),timer:y.timer(r,s),userSubreddit:y.userSubreddit(e),adblock:y.adblock(e)},a?Object(c.j)(e,a):{}))},R=(e,t)=>n=>Object.assign({source:"coins_marketing",action:"view",noun:"page",correlationId:f.e()},y.defaults(n),{timer:y.timer(e,t),adblock:y.adblock(n)}),k=(e,t)=>n=>Object.assign({source:"premium_marketing",action:"view",noun:"page",correlationId:O.f()},y.defaults(n),{timer:y.timer(e,t),adblock:y.adblock(n)}),N=(e,t)=>n=>Object.assign({source:"appeal",action:"view",noun:"page"},y.defaults(n),{timer:y.timer(e,t)}),L=(e,t)=>n=>Object.assign({source:"global",action:"view",noun:"screen"},y.defaults(n),{actionInfo:y.actionInfo(n),timer:y.timer(e,t)}),M=(e,t,n)=>r=>{const{api:s}=r.listings.listingOrder,o=!s.error[e]&&!s.pending[e];return Object.assign({source:"global",action:"view",noun:"screen"},y.defaults(r),{actionInfo:y.actionInfo(r,{success:o}),screen:y.screen(r),timer:y.timer(t,n),userSubreddit:y.userSubreddit(r),adblock:y.adblock(r)})},U=()=>e=>Object.assign({source:"global",action:"view",noun:"screen"},y.defaults(e)),F=()=>e=>Object.assign({source:"global",action:"view",noun:"screen"},y.defaults(e)),B=()=>e=>Object.assign({action:"view",source:"global",noun:"screen"},y.defaults(e),{actionInfo:y.actionInfo(e)}),G=(e,t)=>n=>Object.assign({source:"global",action:"view",noun:"screen"},y.defaults(n),{customFeed:y.customFeed(n),subreddit:y.subreddit(n),timer:y.timer(e,t),userSubreddit:y.userSubreddit(n),adblock:y.adblock(n)}),q=(e,t,n,r,s,o)=>i=>Object.assign({},I(e,n,r,s,o)(i),{subreddit:{categoryName:Object(p.g)(t)}}),V=(e,t,n,s,o)=>i=>{let c=!0;if(t.type.indexOf(r.Jb.Posts)>-1){const{api:t}=i.listings.listingOrder;c=c&&!t.error[e]&&!t.pending[e]}if(t.type.indexOf(r.Jb.Subreddits)>-1||t.type.indexOf(r.Jb.Users)>-1){const{api:t}=i.listings.postOrder;c=c&&!t.error[e]&&!t.pending[e]}const a=Object(j.c)(i),d=o&&Object(j.b)(a);return Object.assign({},g.b(i,t),{source:"global",action:"view",noun:"screen",actionInfo:y.actionInfo(i,{success:c}),timer:y.timer(n,s),search:Object.assign({},y.search(i,t),d&&{originElement:o})},d&&{correlationId:Object(m.c)(m.a.SearchResults)})}},"./src/reddit/helpers/trackers/searchResults.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"m",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"o",(function(){return j})),n.d(t,"n",(function(){return h})),n.d(t,"f",(function(){return y})),n.d(t,"i",(function(){return _})),n.d(t,"g",(function(){return E})),n.d(t,"h",(function(){return I}));var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/helpers/correlationIdTracker.ts"),o=n("./src/reddit/selectors/experiments/searchFix.ts"),i=n("./src/reddit/selectors/telemetry.ts");const c="search",a="search_results_best",d=(e,t)=>{const n=i.subreddit(e);return{screen:i.screen(e),subreddit:n&&t&&t.restrict_sr?n:null}},u=(e,t)=>n=>{const r=t;return r.structureType="related",Object.assign({action:e,correlationId:Object(s.c)(s.a.SearchResults),noun:"related_search",source:c,search:i.search(n,r)},d(n))},l=(e,t,n,r)=>s=>Object.assign({},d(s,n),{source:c,action:"click",noun:t,actionInfo:i.actionInfo(s,r?{pageType:"search_results_best",position:0}:void 0),discoveryUnit:r?i.discoveryUnit(r):null,search:i.search(s,n),post:i.post(s,e),media:i.media(s,e)}),b=(e,t,n)=>s=>{let o=!0;if(t.type.indexOf(r.Jb.Posts)>-1){const{api:t}=s.listings.listingOrder;o=o&&!t.error[e]&&!t.pending[e]}if(t.type.indexOf(r.Jb.Subreddits)>-1||t.type.indexOf(r.Jb.Users)>-1){const{api:t}=s.listings.postOrder;o=o&&!t.error[e]&&!t.pending[e]}return Object.assign({},d(s,t),{source:c,action:"view",noun:"search_results_post",actionInfo:i.actionInfo(s,{success:o,pageType:"search_results_best",position:0}),discoveryUnit:i.discoveryUnit(n),search:i.search(s,t)})},p=(e,t)=>n=>({action:"view",actionInfo:i.actionInfo(n),metaSearch:i.metaSearch(t),noun:e,screen:i.screen(n),search:i.smartSearch(n,t),source:c}),m=(e,t)=>n=>({action:"click",actionInfo:i.actionInfo(n),noun:e,metaSearch:i.metaSearch(t),screen:i.screen(n),search:i.smartSearch(n,t),source:c}),f=(e,t,n)=>r=>({action:t,actionInfo:i.actionInfo(r),noun:e,screen:i.screen(r),search:i.search(r,n),source:a});var O;!function(e){e.TopResults="tab_top_results",e.Posts="tab_posts",e.CommunitiesAndUsers="tab_communities"}(O||(O={}));const g=(e,t)=>n=>Object.assign({},d(n,t),{source:c,action:"click",noun:e,correlationId:Object(s.c)(s.a.SearchResults),actionInfo:i.actionInfo(n),search:i.search(n,t)}),j=(e,t)=>n=>Object.assign({},d(n,t),{source:c,action:"click",noun:e,correlationId:Object(s.c)(s.a.SearchResults),actionInfo:i.actionInfo(n),search:i.search(n,t)}),h=(e,t)=>n=>({action:"click",correlationId:Object(s.c)(s.a.SearchResults),noun:e?r.Ib.ToSubreddit:r.Ib.ToGlobal,search:i.search(n,t),source:c}),y=(e,t,n,r)=>a=>{const u=Object(o.c)(a),l=r&&Object(o.b)(u);return Object.assign({},d(a,n),{source:c,action:"click",noun:"search_result_post",correlationId:Object(s.c)(s.a.SearchResults),actionInfo:i.actionInfo(a,{relativePosition:i.getRelativePostOrder(a,t,e)}),search:Object.assign({},i.search(a,n),l&&{originElement:r}),post:i.post(a,t)})},_=(e,t)=>n=>{const r=Object(o.c)(n),a=t&&Object(o.b)(r);return Object.assign({},d(n,e),{source:c,action:"click",noun:"search_result_subreddit",correlationId:Object(s.c)(s.a.SearchResults),actionInfo:i.actionInfo(n),search:Object.assign({},i.search(n,e),a&&{originElement:t}),subreddit:i.subreddit(n)})},E=(e,t,n,r)=>a=>{const u=Object(o.c)(a),l=r&&Object(o.b)(u);return Object.assign({},d(a,n),{source:c,action:"view",noun:"search_results_post",correlationId:Object(s.c)(s.a.SearchResults),actionInfo:i.actionInfo(a,{relativePosition:i.getRelativePostOrder(a,t,e),position:i.getAbsoluteOrder(a,t,e)}),search:Object.assign({},i.search(a,n),l&&{originElement:r}),post:i.post(a,t)})},I=(e,t,n)=>r=>{const a=Object(o.c)(r),u=n&&Object(o.b)(a);return Object.assign({},d(r),{source:c,action:"click",noun:"search_result_".concat(e),correlationId:Object(s.c)(s.a.SearchResults),actionInfo:i.actionInfo(r),search:Object.assign({},i.search(r,t),u&&{originElement:n}),[e]:i[e](r)})}},"./src/reddit/helpers/trackers/subredditCreation.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return c}));var r=n("./src/reddit/selectors/telemetry.ts");const s=e=>t=>Object.assign({source:e,noun:"create_community_button",action:"click"},r.defaults(t),{actionInfo:r.actionInfo(t,{settingValue:t.user.account&&t.user.account.isMod?"existing_mod":"new_mod"})}),o=(e,t,n)=>s=>Object.assign({source:"community_form",noun:"save_community_button",action:"click"},r.defaults(s),{actionInfo:r.actionInfo(s,{settingValue:e}),subreddit:{id:n,name:t.name,publicDescription:t.publicDescription,nsfw:t.over18,accessType:t.type,topicTagContents:t.allTags}}),i=()=>e=>Object.assign({source:"community_form",noun:"cancel",action:"click"},r.defaults(e),{actionInfo:r.actionInfo(e)}),c=e=>t=>Object.assign({source:"community_form",noun:"error_message",action:"view"},r.defaults(t),{actionInfo:r.actionInfo(t,{reason:e})})},"./src/reddit/i18n/components.tsx":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var r=n("./node_modules/react/index.js"),s=n.n(r);function o(e){return s.a.createElement(s.a.Fragment,null,e.children)}function i(e){return s.a.createElement(s.a.Fragment,null,e.children)}function c(e){return s.a.createElement(s.a.Fragment,null,1===e.count?e.singular:e.plural)}},"./src/reddit/models/ApiRequestState/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r,s=n("./node_modules/uuid/v4.js"),o=n.n(s);!function(e){e[e.Pending=0]="Pending",e[e.Complete=1]="Complete",e[e.Failed=2]="Failed"}(r||(r={}));const i=()=>o()()},"./src/reddit/models/Badge/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return d}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./src/config.ts");function o(e){return"userId"in e}function i(e){return!(!e.extra||!e.extra.membership)&&!!e.extra.membership.included}function c(e,t,n){const r=n.media[0],s=Object.keys(r);if(r["0x0"])return r["0x0"];let o={width:1/0,height:1/0,url:""};if(s.forEach(n=>{const s=r[n],[i,c]=n.split("x").map(e=>parseInt(e));(i<o.width&&i>=e||c<o.height&&c>=t)&&(o={height:c,width:i,url:s})}),!o.url&&s.length){const e=Object.keys(r)[0],t=r[e],[n,s]=e.split("x").map(e=>parseInt(e));o={height:s,width:n,url:t}}return o.url}function a(e){return e.startsWith("https")?e:"".concat(s.a.assetPath,"/").concat(e)}function d(e,t,n){const r=c(e,t,n),s=c(2*e,2*t,n);return{url:a(r),url2x:a(s)}}!function(e){e.First="p1",e.Second="p2"}(r||(r={}))},"./src/reddit/models/Badge/managementPage.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c}));var r,s,o=n("./src/reddit/models/Badge/index.ts");!function(e){e.Loyalty="loyalty",e.Achievement="achievement",e.Cosmetic="cosmetic"}(r||(r={})),function(e){e.Gallery="gallery",e.MyBadges="my-badges"}(s||(s={}));const i={[r.Loyalty]:o.a.First,[r.Achievement]:o.a.Second,[r.Cosmetic]:void 0},c=e=>e===o.a.First?r.Loyalty:e===o.a.Second?r.Achievement:r.Cosmetic},"./src/reddit/models/Comment/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l}));var r,s,o=n("./src/lib/constants/index.ts"),i=n("./src/reddit/constants/comments.ts"),c=n("./src/reddit/constants/things.ts");!function(e){e.User="user",e.Moderator="moderator"}(r||(r={})),function(e){e.None="",e.Friend="F",e.Submitter="S",e.Moderator="M",e.Admin="A",e.Alumni="special",e.Cake="cake"}(s||(s={}));const a=e=>"".concat(c.a).concat(e&&e.toLowerCase()),d=e=>({id:e,type:i.a.Comment}),u=e=>e.author===o.z;var l;!function(e){e.DeletedComment="DeletedComment",e.Comment="Comment"}(l||(l={}))},"./src/reddit/models/DiscoveryUnit/index.ts":function(e,t,n){"use strict";var r,s,o,i;n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"k",(function(){return a})),n.d(t,"i",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"n",(function(){return b})),n.d(t,"o",(function(){return p})),n.d(t,"s",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"m",(function(){return g})),n.d(t,"j",(function(){return j})),n.d(t,"q",(function(){return h})),n.d(t,"r",(function(){return y})),n.d(t,"t",(function(){return _})),n.d(t,"p",(function(){return E})),n.d(t,"g",(function(){return I})),function(e){e.Community="community",e.CommunityCategory="community_category",e.FavoriteSubreddits="favorite_subreddits",e.Listing="listing",e.RecentlyVisitedSubreddits="recently_visited_subreddits",e.SubredditListing="subreddit_listing"}(r||(r={})),function(e){e.Comments="comments",e.Communities="communities",e.Explore="explore",e.Frontpage="front_page",e.Popular="popular",e.SubredditListing="subreddit_listing"}(s||(s={})),function(e){e.Large="large",e.Small="small"}(o||(o={})),function(e){e.Wide="wide",e.Description="description",e.ActionButton="action_button",e.SeeMore="see_more",e.HideItems="hide_items",e.HideUnit="hide_unit",e.ShowLess="show_less",e.PostShowSubredditHeader="post_show_subreddit_header",e.UnitShowSubredditHeader="unit_show_subreddit_header",e.PreviewMode="preview_mode"}(i||(i={}));const c="posts_in_category_rails_hero",a="posts_in_subreddit_hero",d="posts_in_category_rails_small",u="posts_in_subreddit_small",l="community_banner_posts",b="search_posts",p="search_subreddits",m="trending_on_popular",f="best_of_community",O="chaining_similar_subreddits_posts",g="posts_in_subreddit_vertical",j="posts_in_rec_home",h="top_week_posts",y="top_week_posts_large",_="trending_posts",E="top_month_posts",I="geopopular_posts"},"./src/reddit/models/Duplicates/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("./node_modules/core-js/modules/es6.array.sort.js");function r(e,t){return"".concat(e,"-sort[").concat(t.sort,"]-crossposts_only[").concat(t.crossposts_only,"]")}},"./src/reddit/models/Emoji/index.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return c}));const r=24,s=64e3,o=128,i=128,c=(e,t,n,r)=>Object.assign({name:e,url:t,subredditId:n},r)},"./src/reddit/models/ExternalAccount/index.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Twitter="twitter"}(r||(r={}))},"./src/reddit/models/FeatureThrottling/index.ts":function(e,t,n){"use strict";var r,s;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),function(e){e[e.TimesPerSession=0]="TimesPerSession",e[e.TimesTotal=1]="TimesTotal",e[e.TimesPerPeriod=2]="TimesPerPeriod",e[e.NthSession=3]="NthSession",e[e.Combined=4]="Combined"}(r||(r={})),function(e){e.And="and",e.Or="or"}(s||(s={}))},"./src/reddit/models/Flair/index.ts":function(e,t,n){"use strict";var r,s,o,i,c,a,d,u;n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u})),function(e){e.Text="text",e.Emoji="emoji"}(r||(r={})),function(e){e.Image="image",e.Meta="meta",e.Nsfw="nsfw",e.Oc="oc",e.Richtext="richtext",e.Spoiler="spoiler",e.Text="text",e.Quarantined="quarantined"}(s||(s={})),function(e){e.Dark="dark",e.Light="light"}(o||(o={})),function(e){e.Text="text",e.Emoji="emoji",e.All="all"}(i||(i={})),function(e){e.UserFlair="USER_FLAIR",e.LinkFlair="LINK_FLAIR"}(c||(c={})),function(e){e.Left="left",e.Right="right"}(a||(a={})),function(e){e.Dark="DARK",e.Light="LIGHT"}(d||(d={})),function(e){e.RIGHT="RIGHT",e.LEFT="LEFT"}(u||(u={}))},"./src/reddit/models/Gold/Award.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"k",(function(){return c})),n.d(t,"i",(function(){return a})),n.d(t,"j",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"a",(function(){return b})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"l",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return j}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.symbol.js");var r,s,o=n("./src/config.ts"),i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};!function(e){e.Global="GLOBAL",e.Moderator="MODERATOR",e.Community="COMMUNITY"}(r||(r={})),function(e){e.Global="GLOBAL",e.Moderator="MODERATOR",e.Community="COMMUNITY",e.Appreciation="APPRECIATION"}(s||(s={}));const c={awardType:r.Global,awardSubType:s.Global,coinPrice:100,coinReward:0,description:"",daysOfDripExtension:0,icon:{url:"".concat(o.a.assetPath,"/img/gold/badges/award-silver-medium.png?v=2")},id:"gid_1",isEnabled:!0,isNew:!1,name:"Silver",daysOfPremium:0},a={awardType:r.Global,awardSubType:s.Global,coinPrice:500,coinReward:100,description:"",daysOfDripExtension:0,icon:{url:"".concat(o.a.assetPath,"/img/gold/badges/award-gold-medium.png?v=2")},id:"gid_2",isEnabled:!0,isNew:!1,name:"Gold",daysOfPremium:7},d={awardType:r.Global,awardSubType:s.Global,coinPrice:1800,coinReward:0,description:"",daysOfDripExtension:31,icon:{url:"".concat(o.a.assetPath,"/img/gold/badges/award-platinum-medium.png?v=2")},id:"gid_3",isEnabled:!0,isNew:!1,name:"Platinum",daysOfPremium:31},u=[c,a,d];u.reduce((e,t)=>(e[t.id]=t,e),{});var l,b;!function(e){e.Global="global",e.Community="community",e.Moderator="moderator"}(l||(l={})),function(e){e.Global="global",e.Community="community",e.Moderator="moderator",e.Appreciation="appreciation"}(b||(b={}));const p={500:8,1e3:4,2e3:1,5e3:1,1e4:1,4e4:1},m=e=>{const t=e.reduce((e,t)=>t.awardType!==r.Community?e:(e[t.coinPrice]=(e[t.coinPrice]||0)+1,e),{}),n=e.map(e=>({price:e.coinPrice,filled:!0,award:e}));return Object.keys(p).forEach(e=>{const r=t[e]||0,s=Math.max(p[e]-r,0);s>0&&n.push({filled:!1,price:parseInt(e),quantity:s})}),n},f=e=>{const t=e.reduce((e,t)=>t.awardType!==r.Community?e:(e[t.coinPrice]=(e[t.coinPrice]||0)+1,e),{});return Object.keys(p).reduce((e,n)=>{const r=t[n]||0;return p[n]-r>0?[...e,parseInt(n)]:e},[])};function O(e){return e.sort((e,t)=>e.awardType===r.Moderator&&t.awardType!==r.Moderator?-1:t.awardType===r.Moderator&&e.awardType!==r.Moderator?1:t.coinPrice-e.coinPrice)}function g(e){const{count:t,iconUrl:n,resizedIcons:r}=e,s=i(e,["count","iconUrl","resizedIcons"]);let o,c;for(const{url:i,width:a}of r||[])32===a&&(o={url:i}),128===a&&(c={url:i});return Object.assign({},s,{icon:{url:n},icon32:o,icon128:c,awardType:s.awardType.toUpperCase(),awardSubType:s.awardSubType.toUpperCase()})}function j(e,t){const{awardType:n,awardSubType:r,icon:s,icon32:o,icon128:c}=e,a=i(e,["awardType","awardSubType","icon","icon32","icon128"]),d=[];return o&&d.push({height:32,url:o.url,width:32}),c&&d.push({height:128,url:c.url,width:128}),Object.assign({awardType:n.toLowerCase(),awardSubType:r?r.toLowerCase():b.Global,count:t,iconUrl:s.url,resizedIcons:d},a)}},"./src/reddit/models/Gold/Coins/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));var r=n("./src/config.ts");const s={coins500:{coins:500,pennies:199,assetPath:"".concat(r.a.assetPath,"/img/gold/coins-package-500.png")},coins1100:{coins:1100,pennies:399,assetPath:"".concat(r.a.assetPath,"/img/gold/coins-package-1100.png"),percentBonus:10},coins1800:{coins:1800,pennies:599,assetPath:"".concat(r.a.assetPath,"/img/gold/coins-package-1800.png"),percentBonus:20},coins7200:{coins:7200,pennies:1999,assetPath:"".concat(r.a.assetPath,"/img/gold/coins-package-7200.png"),percentBonus:43},coins40000:{coins:4e4,pennies:9999,assetPath:"".concat(r.a.assetPath,"/img/gold/coins-package-40000.png"),percentBonus:59},coinsVariable:{coins:1/0,pennies:1/0,assetPath:"".concat(r.a.assetPath,"/img/gold/coins-package-40000.png")}},o=(e,t)=>{for(const n in s){if("coins500"===n)continue;const r=s[n];if(t-r.coins<=e)return r}return s.coins40000},i=e=>{const t=s.coins40000;if(e<=t.coins)return o(0,e);const n=t.pennies/t.coins,r=s.coinsVariable;return r.coins=e,r.pennies=Math.ceil(n*e),r}},"./src/reddit/models/GqlTopLevelField.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Comment="Comment",e.Multireddit="Multireddit",e.PostInfo="PostInfo",e.Profile="Profile",e.RedditorInfo="RedditorInfo",e.Subreddit="Subreddit",e.UnavailableSubreddit="PrivateSubreddit"}(r||(r={}))},"./src/reddit/models/Live/index.ts":function(e,t,n){"use strict";var r,s;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),function(e){e.Ama="ama",e.Announcement="announcement",e.Document="document",e.Moderation="moderation",e.Snoo="snoo"}(r||(r={})),function(e){e.Ama="AMA",e.Announcement="ANNOUNCEMENT",e.Document="DOCUMENT",e.Moderation="MODERATION",e.Snoo="SNOO"}(s||(s={}))},"./src/reddit/models/Media/index.ts":function(e,t,n){"use strict";n.d(t,"t",(function(){return r})),n.d(t,"D",(function(){return i})),n.d(t,"E",(function(){return c})),n.d(t,"B",(function(){return a})),n.d(t,"C",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return f})),n.d(t,"w",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"m",(function(){return j})),n.d(t,"o",(function(){return h})),n.d(t,"p",(function(){return y})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return E})),n.d(t,"r",(function(){return I})),n.d(t,"s",(function(){return v})),n.d(t,"h",(function(){return S})),n.d(t,"b",(function(){return T})),n.d(t,"q",(function(){return C})),n.d(t,"v",(function(){return w})),n.d(t,"u",(function(){return D})),n.d(t,"d",(function(){return x})),n.d(t,"g",(function(){return P})),n.d(t,"x",(function(){return A})),n.d(t,"A",(function(){return R})),n.d(t,"y",(function(){return k})),n.d(t,"z",(function(){return N}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./node_modules/url/url.js"),o=n.n(s);!function(e){e.YouTube="YouTube",e.Vimeo="Vimeo",e.BandCamp="BandCamp",e.Gfycat="Gfycat",e.GfycatOld="gfycat",e.Giphy="Giphy",e.Imgur="Imgur",e.SoundCloud="SoundCloud",e.Spotify="Spotify",e.Streamable="Streamable",e.Twitch="Twitch.tv",e.Twitter="Twitter",e.IFrameEmbed="iframe embed"}(r||(r={}));const i=e=>"text"===e.type,c=e=>"video"===e.type,a=e=>"image"===e.type,d=e=>"rtjson"===e.type,u={TEXT:"text",VIDEO:"video",IMAGE:"image",EMBED:"embed",GIFVIDEO:"gifvideo",RTJSON:"rtjson"},l=new Set([u.TEXT,u.IMAGE,u.RTJSON]),b=512,p=250,m=60,f=0,O=608,g=.5625,j=869,h=273,y=486,_=700,E=822,I=363,v=645,S=new Set([r.Gfycat,r.GfycatOld,r.Giphy,r.SoundCloud,r.Spotify,r.Twitter,r.Vimeo,r.YouTube]),T=new Set([r.BandCamp,r.Gfycat,r.GfycatOld,r.Giphy,r.Imgur,r.SoundCloud,r.Spotify,r.Streamable,r.Twitch,r.Twitter,r.YouTube,r.Vimeo]),C=new Set([r.SoundCloud,r.Spotify,r.Streamable,r.Twitter,r.Vimeo,r.YouTube]),w=new Set([r.Gfycat,r.GfycatOld,r.Imgur]),D=["gif","jpeg","jpg","png","tiff"],x=new Set([u.VIDEO,u.GIFVIDEO,u.EMBED]);var P,A;!function(e){e.Mute="mute",e.Pause="pause",e.Play="play"}(P||(P={})),function(e){e.Pause="pauseVideo",e.Play="playVideo",e.Mute="mute"}(A||(A={}));const R=e=>e.source?e.source.url:e.media&&e.media.type!==u.VIDEO&&e.media.content?e.media.content:"",k=e=>{const t=o.a.parse(e);if(t&&t.pathname)return t.pathname.split("/")[1]},N=e=>{if(!c(e))return;const t=e;let n;if(t.hlsUrl)n=t.hlsUrl;else{if(!t.dashUrl)return;n=t.dashUrl}return k(n)}},"./src/reddit/models/ModQueue/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));var r=n("./src/reddit/helpers/isPost.ts"),s=n("./src/reddit/models/Flair/index.ts");const o=1;var i;!function(e){e.Approve="approve",e.Flair="flair",e.IgnoreReports="ignore_reports",e.Lock="lock",e.MarkNSFW="mark_nsfw",e.RemovalReason="removal_reason",e.Remove="remove",e.Spam="spam",e.Spoiler="spoiler",e.UnignoreReports="unignore_reports",e.Unlock="unlock",e.UnmarkNSFW="unmark_nsfw",e.Unspoiler="unspoiler"}(i||(i={}));const c={},a={ignore_reports:i.UnignoreReports,lock:i.Unlock,mark_nsfw:i.UnmarkNSFW,remove:i.Approve,spam:i.Approve,spoiler:i.Unspoiler,unignore_reports:i.IgnoreReports,unlock:i.Lock,unmark_nsfw:i.MarkNSFW,unspoiler:i.Spoiler},d=(e,t,n,o,a)=>{switch(t){case"approve":{const e={};return n.forEach(t=>{e[t]={approvedBy:o,isApproved:!0,isRemoved:!1,isSpam:!1,bannedBy:null,modNote:null,modReasonBy:null,modRemovalReason:null,numReports:0}}),e}case"flair":{const t={};return n.forEach(n=>{if(Object(r.a)(n)){const r=e[n].flair.filter(e=>e.type===s.f.Nsfw||e.type===s.f.Spoiler);a&&a.flair&&r.push(a.flair),t[n]={flair:r}}}),t}case"ignore_reports":{const e={};return n.forEach(t=>{e[t]={ignoreReports:!0}}),e}case"lock":{const e={};return n.forEach(t=>{e[t]={isLocked:!0}}),e}case"mark_nsfw":{const t={},o={text:"nsfw",type:s.f.Nsfw};return n.forEach(n=>{if(Object(r.a)(n)){const r=e[n],s=r.isNSFW?r.flair:r.flair?[...r.flair,o]:{[n]:o};t[n]={isNSFW:!0,flair:s}}}),t}case"remove":{const e={};return n.forEach(t=>{e[t]={approvedBy:null,isApproved:!1,isRemoved:!0,isSpam:!1,bannedBy:o}}),e}case"spam":{const e={};return n.forEach(t=>{e[t]={approvedBy:null,isApproved:!1,isRemoved:!1,isSpam:!0,bannedBy:o}}),e}case"spoiler":{const t={},o={text:"spoiler",type:s.f.Spoiler};return n.forEach(n=>{if(Object(r.a)(n)){const r=e[n],s=r.isSpoiler?r.flair:r.flair?[...r.flair,o]:{[n]:o};t[n]={isSpoiler:!0,flair:s}}}),t}case"unignore_reports":{const e={};return n.forEach(t=>{e[t]={ignoreReports:!1}}),e}case"unlock":{const e={};return n.forEach(t=>{e[t]={isLocked:!1}}),e}case"unmark_nsfw":{const t={};return n.forEach(n=>{if(Object(r.a)(n)){const r=e[n],o=r.flair?r.flair.filter(e=>e.type!==s.f.Nsfw):null;t[n]={isNSFW:!1,flair:o}}}),t}case"unspoiler":{const t={};return n.forEach(n=>{if(Object(r.a)(n)){const r=e[n],o=r.flair?r.flair.filter(e=>e.type!==s.f.Spoiler):null;t[n]={isSpoiler:!1,flair:o}}}),t}case i.RemovalReason:{const e={};return n.forEach(t=>{e[t]={modNote:a&&a.modNote,modReasonBy:o,modRemovalReason:a&&a.removalReason}}),e}default:return c}}},"./src/reddit/models/ModeratingSubreddits/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return a}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./node_modules/lodash/snakeCase.js"),o=n.n(s);!function(e){e.access="access",e.config="config",e.flair="flair",e.mail="mail",e.posts="posts",e.wiki="wiki",e.chatConfig="chatConfig",e.chatOperator="chatOperator",e.all="all"}(r||(r={}));const i=Object.freeze({all:!0,access:!0,chatConfig:!0,chatOperator:!0,config:!0,flair:!0,mail:!0,posts:!0,wiki:!0}),c=i,a=e=>{return Object.keys(e).map(t=>(e[t]?"+":"-")+o()(t)).join(",")}},"./src/reddit/models/MonthsToMinutes/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return d}));const r=9,s=10,o=2;var i,c,a,d;!function(e){e.Home="home_active",e.SubscribeFeed="subscribe_feed",e.SubscribeIdCard="subscribe_id",e.SubscribeReminder="subscribe_reminder",e.Vote="vote",e.VoteReminder="vote_reminder",e.VoteSuccess="vote_success"}(i||(i={})),function(e){e[e.Welcome=0]="Welcome",e[e.Subscribe=1]="Subscribe",e[e.Vote=2]="Vote",e[e.Signup=3]="Signup"}(c||(c={})),function(e){e.Subscribe="Subscribe",e.Vote="Vote"}(a||(a={})),function(e){e.Initial="initial",e.BannerVisible="bannerVisible",e.HomeVisited="homeVisited"}(d||(d={}))},"./src/reddit/models/Multireddit/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return l}));const r=50,s=500,o=2;var i,c;function a(e){return"string"==typeof e.url}!function(e){e.Hidden="hidden",e.Private="private",e.Public="public"}(i||(i={})),function(e){e.TooShort="tooshort",e.SameName="samename",e.Generic="generic"}(c||(c={}));const d=(e,t)=>"/user/".concat(e,"/m/").concat(t,"/").toLowerCase(),u=e=>/^\/user\/([^/]+)\//.exec(e)[1];function l(e){return!!e.subredditIds||!!e.profileIds}},"./src/reddit/models/Option/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const r=e=>!e.id,s=e=>!!e.id,o=(e,t)=>r(e)&&r(t)?e.displayText.toLowerCase().trim()===t.displayText.toLowerCase().trim():!(!s(e)||!s(t))&&e.id===t.id},"./src/reddit/models/Poll/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));var r,s,o=n("./node_modules/bignumber.js/bignumber.js");!function(e){e.GovGeneric="governance:generic",e.ReplaceTopMod="governance:replace-top-mod",e.Spinoff="governance:spin-off"}(r||(r={})),function(e){e.ByVoters="byVoters",e.ByVotingPower="byVotingPower"}(s||(s={}));const i={[r.ReplaceTopMod]:()=>[{text:"Yes"},{text:"No"}],[r.Spinoff]:e=>[{text:e?"Yes, I'd like to join r/".concat(e):"Yes, I'd like to join the new community"},{text:"No"}]};function c(e,t){const n=!!e.options.filter(e=>t.options[e.id].userSelected).length,r=new Date(e.endsAt).getTime()<Date.now();return n||r}function a(e,t){let n=e.options[0],r=new o.BigNumber(t.options[n.id].votes);for(const s of e.options){const e=new o.BigNumber(t.options[s.id].votes);e.isGreaterThan(r)&&(n=s,r=e)}return n}function d(e){switch(e.type){case r.GovGeneric:case r.ReplaceTopMod:case r.Spinoff:return!0;default:return!1}}},"./src/reddit/models/Post/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"g",(function(){return s})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"j",(function(){return j})),n.d(t,"l",(function(){return h})),n.d(t,"i",(function(){return y})),n.d(t,"k",(function(){return _}));var r,s,o=n("./src/reddit/constants/posts.ts"),i=n("./src/reddit/constants/things.ts"),c=n("./src/reddit/models/PublicAccessNetwork/index.ts"),a=n("./src/lib/constants/index.ts");!function(e){e.Chat="CHAT",e.Comment="COMMENT"}(r||(r={})),function(e){e.AntiEvilOps="anti_evil_ops",e.Author="author",e.AuthorDeleted="deleted",e.CommunityOps="community_ops",e.ContentTakedown="content_takedown",e.CopyrightTakedown="copyright_takedown",e.Moderator="moderator",e.Reddit="reddit"}(s||(s={}));const d=e=>"".concat(i.b).concat(e&&e.toLowerCase()),u=e=>e.startsWith(i.b)?e.substr(i.b.length):e,l=e=>e===a.z;var b,p,m,f,O,g;!function(e){e.AdPost="AdPost",e.DeletedProfilePost="DeletedProfilePost",e.DeletedSubredditPost="DeletedSubredditPost",e.ProfilePost="ProfilePost",e.SubredditPost="SubredditPost"}(b||(b={})),function(e){e.MOD_APPROVED="MOD_APPROVED",e.MOD_REMOVED="MOD_REMOVED",e.MOD_SPAMMED="MOD_SPAMMED",e.ADMIN_REMOVED="ADMIN_REMOVED",e.ADMIN_APPROVED="ADMIN_APPROVED",e.ADMIN_SPAMMED="ADMIN_SPAMMED"}(p||(p={})),function(e){e.ImageAsset="ImageAsset",e.VideoAsset="VideoAsset"}(m||(m={})),function(e){e.Post="POST",e.Comment="COMMENT"}(f||(f={})),function(e){e.Embed="EMBED",e.Image="IMAGE",e.Video="VIDEO",e.Gifvideo="GIFVIDEO"}(O||(O={})),function(e){e.Richtext="RICHTEXT",e.Markdown="MARKDOWN"}(g||(g={}));const j=e=>e.belongsTo.type===o.a.PROFILE,h=e=>e.belongsTo.type===o.a.SUBREDDIT,y=e=>!!e.source&&Object(c.a)(e.source.url),_=e=>e.isStickied},"./src/reddit/models/PostCollection/index.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.TIMELINE="TIMELINE",e.GALLERY="GALLERY"}(r||(r={}))},"./src/reddit/models/PostCreationForm/index.ts":function(e,t,n){"use strict";n.d(t,"m",(function(){return s})),n.d(t,"n",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"r",(function(){return c})),n.d(t,"v",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return p})),n.d(t,"p",(function(){return m})),n.d(t,"q",(function(){return f})),n.d(t,"j",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return y})),n.d(t,"f",(function(){return _})),n.d(t,"o",(function(){return E})),n.d(t,"s",(function(){return I})),n.d(t,"t",(function(){return v})),n.d(t,"u",(function(){return S})),n.d(t,"i",(function(){return T}));var r=n("./src/reddit/models/Upload/index.ts");const s=Object(r.e)(r.b.POST_CREATION_MEDIA),o=Object(r.e)(r.b.POST_CREATION_VIDEO_POSTER),i={isProfile:!1,name:""};var c;!function(e){e[e.Post=0]="Post",e[e.Draft=1]="Draft",e[e.ScheduledPost=2]="ScheduledPost"}(c||(c={}));const a=["title","body","link","flair"],d=e=>a.includes(e);var u,l,b,p,m,f,O;!function(e){e.MARKDOWN="markdown",e.RICH_TEXT="richtext"}(u||(u={})),function(e){e.POST_CREATION="POST_CREATION",e.POST_EDITING="POST_EDITING"}(l||(l={})),function(e){e.CLICK="click",e.TYPE="type"}(b||(b={})),function(e){e.TITLE="title",e.BODY="body",e.URL="url"}(p||(p={})),function(e){e.CROSSPOST="crosspost",e.LINK="link",e.RICH_TEXT="richText",e.MARKDOWN="markdown",e.MEDIA="media",e.VIDEO_GIF="videogif",e.SELF="self"}(m||(m={})),function(e){e.ImageWillBeRemoved="SrChangePrompt_ImageWillBeRemoved",e.VideoWillBeRemovedMediaNotAllowed="SrChangePrompt_VideoWillBeRemovedMediaNotAllowed",e.VideoWillBeRemovedTooLongForGif="SrChangePrompt_VideoWillBeRemovedTooLongForGif"}(f||(f={})),function(e){e.POST_OVERFLOW_MENU="postOverflowMenu",e.COLLECTION_INFO_POST="colletionInfoPost"}(O||(O={}));const g="POST_DRAFTS_MODAL_ID",j="COLLECTIONS_LIST_MODAL_ID",h="CREATE_COLLECTION_MODAL_ID",y="DISCARD_POST_ON_CREATE_POST_MODAL_ID",_="EVENT_SCHEDULE_PICKER_MODAL_ID",E="POST_SCHEDULE_PICKER_MODAL_ID",I=(e,t,n)=>"".concat(_,"-[postId: ").concat(e,"]-isOverlay[").concat(t,"]-pos[").concat(n,"]"),v=(e,t)=>"".concat(j,"-[postId: ").concat(e,"]-isOverlay[").concat(t,"]"),S=(e,t)=>"".concat(h,"-[postId: ").concat(e,"]-isOverlay[").concat(t,"]");var T;!function(e){e.Now="now",e.AtEventTime="atEventTime"}(T||(T={}))},"./src/reddit/models/PostDraft/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i}));var r,s,o=n("./src/lib/constants/index.ts");!function(e){e[e.Image=0]="Image",e[e.Link=1]="Link",e[e.Markdown=2]="Markdown",e[e.RichText=3]="RichText",e[e.Video=4]="Video"}(r||(r={})),function(e){e[e.replyToPost=0]="replyToPost",e[e.replyToComment=1]="replyToComment",e[e.edit=2]="edit"}(s||(s={}));const i={[r.Image]:o.Fb.MEDIA,[r.Link]:o.Fb.LINK_ONLY,[r.Markdown]:o.Fb.POST,[r.RichText]:o.Fb.POST,[r.Video]:o.Fb.MEDIA}},"./src/reddit/models/PostRequirements/index.ts":function(e,t,n){"use strict";var r,s;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),function(e){e.None="NONE",e.Whitelist="WHITELIST",e.Blacklist="BLACKLIST"}(r||(r={})),function(e){e.None="NONE",e.Required="REQUIRED",e.NotAllowed="NOT_ALLOWED"}(s||(s={}))},"./src/reddit/models/Profile/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r;!function(e){e.Downvoted="downvoted",e.Hidden="hidden",e.Saved="saved",e.Upvoted="upvoted"}(r||(r={}))},"./src/reddit/models/Profile/mock.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/config.ts"),s=n("./src/reddit/models/Subreddit/index.ts");const o={t5_100:{id:"t5_100",isNSFW:!1,displayText:"u/cfb",name:"cfb",title:"CFB Title",type:s.b.User,url:"/user/cfb",subscribers:1,icon:{url:"".concat(r.a.assetPath,"/img/placeholder_gradient_light-280.png"),width:120,height:120}},t5_200:{id:"t5_200",isNSFW:!1,displayText:"u/test",name:"test",title:"Test User Title",type:s.b.User,url:"/user/test",subscribers:10,icon:{url:"".concat(r.a.assetPath,"/img/placeholder_gradient_light-280.png"),width:120,height:120}},t5_300:{id:"t5_200",isNSFW:!1,displayText:"u/shitty_watercolour",name:"shitty_watercolour",title:"Shitty_Watercolour Title",type:s.b.User,url:"/user/shitty_watercolour",subscribers:20,icon:{url:"".concat(r.a.assetPath,"/img/placeholder_gradient_light-280.png"),width:120,height:120}}}},"./src/reddit/models/PublicAccessNetwork/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r,s=n("./src/reddit/actions/publicAccessNetwork/constants.ts");!function(e){e.NOT_STARTED="NOT_STARTED",e.PUBLISHED="PUBLISHED",e.IS_LIVE="IS_LIVE",e.DISCONNECTED="DISCONNECTED",e.KILLED="KILLED",e.PURGED="PURGED",e.ENDED="ENDED"}(r||(r={}));const o=e=>!!e&&e.toLowerCase().startsWith(s.Q)&&e.toLowerCase().endsWith(s.P)},"./src/reddit/models/RichTextJson/addEmotesAsImagesParam.ts":function(e,t,n){"use strict";var r=n("./src/lib/addQueryParams/index.ts");t.a=e=>Object(r.a)(e,{emotes_as_images:!0})},"./src/reddit/models/RichTextJson/addRTJParam.ts":function(e,t,n){"use strict";var r=n("./src/lib/addQueryParams/index.ts");t.a=e=>Object(r.a)(e,{rtj:"only"})},"./src/reddit/models/RichTextJson/index.ts":function(e,t,n){"use strict";var r;n.d(t,"j",(function(){return r})),n.d(t,"A",(function(){return s})),n.d(t,"w",(function(){return o})),n.d(t,"n",(function(){return i})),n.d(t,"o",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"v",(function(){return d})),n.d(t,"y",(function(){return u})),n.d(t,"B",(function(){return l})),n.d(t,"C",(function(){return b})),n.d(t,"x",(function(){return p})),n.d(t,"u",(function(){return m})),n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"q",(function(){return h})),n.d(t,"p",(function(){return y})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return E})),n.d(t,"d",(function(){return I})),n.d(t,"z",(function(){return v})),n.d(t,"h",(function(){return S})),n.d(t,"m",(function(){return T})),n.d(t,"s",(function(){return w})),n.d(t,"a",(function(){return D})),n.d(t,"r",(function(){return x})),n.d(t,"D",(function(){return P})),n.d(t,"t",(function(){return A})),n.d(t,"i",(function(){return R})),n.d(t,"F",(function(){return k})),n.d(t,"E",(function(){return N})),function(e){e[e.bold=1]="bold",e[e.italic=2]="italic",e[e.underline=4]="underline",e[e.strikethrough=8]="strikethrough",e[e.subscript=16]="subscript",e[e.superscript=32]="superscript",e[e.monospace=64]="monospace"}(r||(r={}));const s="text",o="raw",i="br",c="link",a="c/",d="p/",u="r/",l="u/",b="@",p="spoilertext",m="par",f="h",O="hr",g="blockquote",j="code",h="li",y="list",_="L",E="R",I="C",v="table",S="embed",T="img";var C;!function(e){e.Valid="valid",e.Unprocessed="unprocessed",e.Failed="failed",e.Invalid="invalid"}(C||(C={}));const w="Image",D="gif",x="AnimatedImage",P="video",A="RedditVideo",R={document:[]},k=e=>!e||!e.document||(e=>0===e.length||1===e.length&&(e=>"par"===e.e&&(!e.c||0===e.c.length))(e[0]))(e.document),N=(e,t)=>{const n=e&&e[t];if(n&&(!n.status||n.status===C.Valid))return n}},"./src/reddit/models/RichTextJson/nodeMakers.ts":function(e,t,n){"use strict";n.d(t,"s",(function(){return s})),n.d(t,"m",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"n",(function(){return c})),n.d(t,"o",(function(){return a})),n.d(t,"t",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return f})),n.d(t,"q",(function(){return O})),n.d(t,"p",(function(){return g})),n.d(t,"r",(function(){return j})),n.d(t,"g",(function(){return h})),n.d(t,"b",(function(){return y})),n.d(t,"u",(function(){return _})),n.d(t,"e",(function(){return E})),n.d(t,"h",(function(){return I})),n.d(t,"a",(function(){return v}));var r=n("./src/reddit/models/RichTextJson/index.ts");const s=(e,t)=>Object.assign({e:r.A,t:e},t?{f:t}:null),o=e=>({e:r.w,t:e}),i=(e,t,n)=>Object.assign({e:r.o,t:e,u:t},n?{f:n}:null),c=e=>({e:r.x,c:[s(e,null)]}),a=(e,t)=>({e:r.y,t:e,l:t}),d=(e,t)=>({e:r.B,t:e,l:t}),u=e=>({e:r.u,c:e}),l=(e,t)=>({e:r.k,l:e,c:t}),b=e=>({e:r.b,c:e}),p=e=>({e:"code",c:e}),m=e=>({e:r.q,c:e}),f=(e,t)=>({e:r.p,c:e,o:t}),O=(e,t)=>Object.assign({c:e},t?{a:t}:{}),g=e=>({c:e}),j=(e,t)=>({e:r.z,h:e,c:t}),h=(e,t)=>({e:r.m,id:e,c:t}),y=(e,t)=>({e:r.a,id:e,c:t}),_=(e,t,n,s)=>Object.assign({e:r.D,id:e,c:t,gifify:s},n?{p:h(n)}:{}),E=(e,t)=>"image/gif"===t?{e:r.a,id:e}:{e:r.m,id:e},I=()=>({e:r.n}),v={e:r.u,c:[{e:r.A,t:""}]}},"./src/reddit/models/Rule/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return u}));const r={all:"all",post:"post",comment:"comment"},s={all:"all",link:"post",comment:"comment"},o={LINK_AND_COMMENT:"all",LINK:"post",COMMENT:"comment"},i=15,c=100,a=100,d=500,u=e=>({rules:e.map(e=>({kind:s[e.kind],description:e.description,descriptionHtml:e.description_html,shortName:e.short_name,violationReason:e.violation_reason,createdUtc:e.created_utc,priority:e.priority}))})},"./src/reddit/models/RulesSequence/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(){this.sequence=[]}getSequence(){return this.sequence}update(e,t){const n=this.sequence.slice(0,t);n.push(e),this.sequence=n}cut(e){const t=this.sequence.slice(0,e+1);this.sequence=t}}},"./src/reddit/models/ScheduledPost/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return b}));var r,s,o,i=n("./src/reddit/models/GqlTopLevelField.ts"),c=n("./src/reddit/models/User/index.ts");!function(e){e.LINK="LINK",e.SELF="SELF"}(r||(r={})),function(e){e.RTJSON="RTJSON",e.TEXT="TEXT"}(s||(s={})),function(e){e.CREATED="CREATED",e.PROCESSING="PROCESSING",e.FAILED="FAILED",e.SUCCESS="SUCCESS"}(o||(o={}));const a=e=>e.__typename===c.d.AvailableRedditor,d=e=>e.__typename===i.a.Subreddit;var u,l;!function(e){e[e.MONDAY=0]="MONDAY",e[e.TUESDAY=1]="TUESDAY",e[e.WEDNESDAY=2]="WEDNESDAY",e[e.THURSDAY=3]="THURSDAY",e[e.FRIDAY=4]="FRIDAY",e[e.SATURDAY=5]="SATURDAY",e[e.SUNDAY=6]="SUNDAY"}(u||(u={})),function(e){e.Hourly="hourly",e.Daily="daily",e.Weekly="weekly",e.Monthly="monthly",e.Annually="annually"}(l||(l={}));const b="custom"},"./src/reddit/models/SearchDiscoveryUnit/index.ts":function(e,t,n){"use strict";var r,s,o;n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),function(e){e.Default="DEFAULT",e.Trending="TRENDING"}(r||(r={})),function(e){e.Communities="COMMUNITIES",e.Posts="POSTS",e.Queries="QUERIES"}(s||(s={})),function(e){e.Carousel="CAROUSEL",e.Hero="HERO",e.Row="ROW",e.Widget="WIDGET",e.PromotedTrendHero="PROMOTED_TREND_HERO"}(o||(o={}))},"./src/reddit/models/Subreddit/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u}));var r,s,o=n("./src/reddit/models/GqlTopLevelField.ts");!function(e){e.Archived="archived",e.EmployeesOnly="employees_only",e.GoldOnly="gold_only",e.GoldRestricted="gold_restricted",e.Private="private",e.Public="public",e.Restricted="restricted",e.User="user"}(r||(r={})),function(e){e.Unknown="UNKNOWN",e.Private="PRIVATE",e.GoldOnly="GOLD_ONLY",e.Banned="BANNED",e.Quarantined="QUARANTINED"}(s||(s={}));const i=e=>"__typename"in e&&e.__typename===o.a.UnavailableSubreddit,c=e=>"__typename"in e&&e.__typename===o.a.UnavailableSubreddit,a=e=>e.type===r.User;var d;function u(e){return!!e&&(e.originalContentTagEnabled||!!e.contentCategory)}!function(e){e.Image="IMAGE",e.Link="LINK",e.Spoiler="SPOILER",e.Text="TEXT",e.Video="VIDEO"}(d||(d={}))},"./src/reddit/models/Subreddit/mock.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./src/config.ts"),s=n("./src/reddit/models/Subreddit/index.ts"),o=n("./src/reddit/models/WhitelistStatus/index.ts");const i={t5_1:{id:"t5_1",displayText:"r/cfb",name:"cfb",title:"CFB Title",type:s.b.Public,url:"/r/cfb",icon:{url:"".concat(r.a.assetPath,"/img/placeholder_gradient_light-280.png"),width:120,height:120},subscribers:14343103,wls:o.a.ALL_ADS,isNSFW:!1},t5_2:{id:"t5_2",displayText:"r/test",name:"test",title:"Test Title",type:s.b.Private,url:"/r/test",icon:{url:"".concat(r.a.assetPath,"/img/placeholder_gradient_light-280.png"),width:120,height:120},subscribers:1,wls:void 0,isNSFW:!1},t5_3:{id:"t5_2",displayText:"r/test",name:"test",title:"Gold Title",type:s.b.GoldOnly,url:"/r/test",icon:{url:"".concat(r.a.assetPath,"/img/placeholder_gradient_light-280.png"),width:120,height:120},subscribers:1,wls:void 0,isNSFW:!1}}},"./src/reddit/models/SubredditAutocomplete/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return a}));var r,s=n("./src/reddit/helpers/getSubredditOrProfileIconData/index.tsx"),o=n("./src/reddit/models/User/index.ts");!function(e){e[e.OWN_PROFILE=0]="OWN_PROFILE",e[e.SUBSCRIBED_TO_SUBREDDIT=1]="SUBSCRIBED_TO_SUBREDDIT",e[e.OTHER_SUBREDDIT=2]="OTHER_SUBREDDIT",e[e.MODERATED_SUBREDDIT=3]="MODERATED_SUBREDDIT"}(r||(r={}));const i=(e,t)=>c(e,r.SUBSCRIBED_TO_SUBREDDIT,t),c=(e,t,n)=>{const{color:r,url:o}=Object(s.a)({shouldHideNsfwIcon:n,subredditOrProfile:e});return{iconUrl:o,id:e.id,isNsfw:e.isNSFW,name:e.name,primaryColor:r,subscribers:e.subscribers,type:t}},a=e=>({iconUrl:e.accountIcon,id:e.id,name:Object(o.f)(e),type:r.OWN_PROFILE})},"./src/reddit/models/SubredditChannel/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return a}));var r,s,o=n("./src/chat/models/Channel/utils/removeSendbirdPrefix.ts");!function(e){e.Public="public",e.Private="private"}(r||(r={})),function(e){e.Joined="joined",e.Invited="invited",e.Unsorted="none"}(s||(s={}));const i={channelId:"",channelSendbirdUrl:"",subredditId:"",name:"",description:"",membersCount:0,type:r.Public,channelState:s.Unsorted,minimumAcctAge:0,newMemberAge:0,isModQueue:!1},c=e=>{const t={};return e.length&&e.forEach(e=>{const n=(e=>({channelId:Object(o.a)(e.url),channelSendbirdUrl:e.url,channelState:e.member_state,subredditId:e.subreddit.id,isModQueue:e.is_modqueue,name:e.name,type:e.type,description:e.description,membersCount:e.member_count,minimumAcctAge:e.automute_account_age_threshold||0,newMemberAge:e.automute_on_join_duration||0}))(e);t[n.channelId]=n}),t},a=e=>({channelId:Object(o.a)(e.channel_url),channelSendbirdUrl:e.channel_url,channelState:s.Joined,subredditId:e.subreddit_id,isModQueue:!1,name:e.room,type:e.roomType,description:e.description,membersCount:1,minimumAcctAge:e.automute_account_age_threshold,newMemberAge:e.automute_on_join_duration})},"./src/reddit/models/SubredditModeration/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i}));const r=999;var s;!function(e){e.Editable="editable",e.Invited="invited"}(s||(s={}));const o={searchTerm:null,userId:null,username:null},i=(e,t,n)=>"".concat(e,"-").concat(((e,t)=>t||e||"1")(n,t))},"./src/reddit/models/SubredditRestrictions/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return u}));var r,s,o,i,c=n("./src/reddit/i18n/utils.ts");!function(e){e.Create="create",e.Draft="draft"}(r||(r={})),function(e){e.Comment="comment_composer",e.IdCard="id_card",e.PostSubmission="post_submission"}(s||(s={})),function(e){e.PostAndComment="post and comment",e.Post="post",e.Comment="comment",e.View="view"}(o||(o={})),function(e){e.Post="restrictPosting",e.Comment="restrictCommenting"}(i||(i={}));const a={[o.Post]:Object(c.c)("post"),[o.Comment]:Object(c.c)("comment"),[o.PostAndComment]:Object(c.c)("post and comment")},d={[r.Create]:Object(c.c)("create"),[r.Draft]:Object(c.c)("draft")},u=e=>Object(c.c)("Anyone can view this community, but only approved users can ".concat(Object(c.b)("restrictionType",a[e]||a[o.Post])))},"./src/reddit/models/Tags/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return c}));const r=25,s=64;var o;!function(e){e.EVENT="EVENT",e.COLLECTION="COLLECTION",e.CLASSIFICATION="CLASSIFICATION",e.POST_CLASSIFICATION="POST_CLASSIFICATION",e.SUBREDDIT_CLASSIFICATION="SUBREDDIT_CLASSIFICATION",e.COMMENT_CLASSIFICATION="COMMENT_CLASSIFICATION"}(o||(o={}));const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{id:e.id,displayText:e.text,selected:t}},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i(e.tag,t)}},"./src/reddit/models/Toast/index.ts":function(e,t,n){"use strict";var r,s,o;n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o})),function(e){e.AuthError="auth-error"}(r||(r={})),function(e){e[e.SuccessCommunity=0]="SuccessCommunity",e[e.SuccessCommunityGreen=1]="SuccessCommunityGreen",e[e.SuccessMod=2]="SuccessMod",e[e.Error=3]="Error",e[e.Undo=4]="Undo",e[e.EuCookiePolicy=5]="EuCookiePolicy",e[e.UappBanner=6]="UappBanner",e[e.AuthError=7]="AuthError",e[e.Custom=8]="Custom",e[e.Modal=9]="Modal"}(s||(s={})),function(e){e[e.subscribeMilestone=0]="subscribeMilestone",e[e.subscribeCap=1]="subscribeCap",e[e.voteMilestone=2]="voteMilestone"}(o||(o={}))},"./src/reddit/models/Upload/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return a}));n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./src/reddit/helpers/getS3KeyFromUrl/index.ts");const s={POST_CREATION_MEDIA:"POST_CREATION_MEDIA",POST_CREATION_VIDEO_POSTER:"POST_CREATION_VIDEO_POSTER",RTE_MEDIA:"RTE_MEDIA"},o=(e,t)=>t?"".concat(e).concat("/").concat(t):e,i=e=>Object(r.a)(e).split("/").slice(-1)[0],c={PENDING:"PENDING",UPLOADING:"UPLOADING",SUCCESS:"SUCCESS",FAILED:"FAILED",CANCELED:"CANCELED"},a=e=>{let{status:t}=e;return t===c.PENDING||t===c.UPLOADING}},"./src/reddit/models/User/index.ts":function(e,t,n){"use strict";var r,s;n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l})),function(e){e.CommentForm="commentForm"}(r||(r={})),function(e){e.MarkdownModeNotification="markdownModeNotification"}(s||(s={}));const o={commentForm:{markdownModeNotification:!1}};var i;!function(e){e.Favorites="favorites",e.Multis="multis",e.Moderating="moderating",e.Subscriptions="subscriptions",e.Profiles="profiles"}(i||(i={}));const c={favorites:!1,multis:!1,moderating:!1,subscriptions:!1,profiles:!1},a=e=>{const t=e.username||e.displayText;if(!t)throw new Error("Invalid username!");return t},d=e=>{const t=1e3*e.created;if(t)return new Date(t).getTime()};var u,l;!function(e){e.AvailableRedditor="Redditor",e.DeletedRedditor="DeletedRedditor",e.UnavailableRedditor="UnavailableRedditor"}(u||(u={})),function(e){e.BLANK="BLANK",e.CONFIDENCE="CONFIDENCE",e.CONTROVERSIAL="CONTROVERSIAL",e.LIVE="LIVE",e.NEW="NEW",e.OLD="OLD",e.QA="QA",e.RANDOM="RANDOM",e.TOP="TOP"}(l||(l={}))},"./src/reddit/models/Vote/index.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return c})),function(e){e[e.downvoted=-1]="downvoted",e[e.notVoted=0]="notVoted",e[e.upvoted=1]="upvoted"}(r||(r={}));const s=(e,t)=>e.voteState===t?r.notVoted:t,o=e=>{switch(e){case!0:return r.upvoted;case!1:return r.downvoted;default:return r.notVoted}},i=(e,t)=>{const n=e.voteState===t,r=n?0:t,s=n?e.score-t:e.score-e.voteState+t;return Object.assign({},e,{voteState:r,score:s})},c=e=>"UP"===e?r.upvoted:"DOWN"===e?r.downvoted:r.notVoted},"./src/reddit/models/WhitelistAndBlocked.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.pending="pending",e.error="error",e.waitingForRequest="waitingForRequest"}(r||(r={}))},"./src/reddit/models/WhitelistStatus/index.ts":function(e,t,n){"use strict";var r,s;n.d(t,"a",(function(){return r})),function(e){e[e.NO_ADS=0]="NO_ADS",e[e.HOUSE_ONLY=1]="HOUSE_ONLY",e[e.PROMO_ADULT_NSFW=3]="PROMO_ADULT_NSFW",e[e.PROMO_ALL=5]="PROMO_ALL",e[e.ALL_ADS=6]="ALL_ADS"}(r||(r={})),function(e){e.NO_ADS="NO_ADS",e.HOUSE_ONLY="HOUSE_ONLY",e.PROMO_SPECIFIED="PROMO_SPECIFIED",e.PROMO_ADULT_NSFW="PROMO_ADULT_NSFW",e.PROMO_ADULT="PROMO_ADULT",e.PROMO_ALL="PROMO_ALL",e.ALL_ADS="ALL_ADS"}(s||(s={}))},"./src/reddit/models/Widgets/index.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"o",(function(){return o})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"m",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"u",(function(){return f})),n.d(t,"p",(function(){return O})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"j",(function(){return I})),n.d(t,"i",(function(){return v})),n.d(t,"k",(function(){return S})),n.d(t,"h",(function(){return T})),n.d(t,"t",(function(){return M})),n.d(t,"l",(function(){return U})),n.d(t,"n",(function(){return F})),n.d(t,"r",(function(){return B})),n.d(t,"q",(function(){return G})),n.d(t,"s",(function(){return q}));var r=n("./src/reddit/models/Subreddit/index.ts");const s=1,o=()=>({backgroundColor:null,headerColor:null}),i=()=>({id:null,kind:"textarea",shortName:"",text:"",textHtml:void 0,styles:o()}),c=e=>{return{id:e.id,kind:e.kind,text:e.text,shortName:e.shortName,styles:e.styles}},a=()=>({currentlyViewingCount:0,currentlyViewingText:"",description:"",id:null,kind:"id-card",shortName:"Community details",subscribersCount:0,subscribersText:"",styles:o()});var d;!function(e){e.Text="text",e.Image="image"}(d||(d={}));const u=32,l=288,b=e=>{return{id:e.id,kind:e.kind,shortName:e.shortName,description:e.description,buttons:e.buttons,styles:e.styles}},p=()=>({id:null,kind:"button",shortName:"",description:null,descriptionHtml:null,buttons:[],styles:o()}),m="#000000",f=()=>({kind:d.Text,text:"",url:"",color:m,hoverState:void 0}),O=e=>e.kind===d.Image?e.linkUrl:e.url,g={FULL:"full",COMPACT:"compact"},j=e=>{return{id:e.id,display:e.display,kind:e.kind,subreddit:e.subreddit,shortName:"Subreddit Rules",styles:e.styles}},h=()=>({id:null,kind:"subreddit-rules",display:"full",data:[],subreddit:"",shortName:"Subreddit Rules",styles:o()});var y;!function(e){e.Cloud="cloud",e.List="list"}(y||(y={}));const _=()=>({id:null,kind:"post-flair",display:y.List,order:[],shortName:"",styles:o(),templates:{}}),E=e=>{return{id:e.id,display:e.display,kind:e.kind,order:e.order,shortName:e.shortName,styles:e.styles}},I=(e,t)=>{const n={id:e.id,displayText:e.displayText,name:e.name,subscribers:e.subscribers,iconUrl:e.icon&&e.icon.url,isSubscribed:!1,type:"subreddit",primaryColor:e.primaryColor,isNSFW:e.isNSFW};return t&&t.publicDescription&&(n.description=t.publicDescription),t&&t.bannerBackgroundImage&&(n.bannerBackgroundImage=t.bannerBackgroundImage),t&&t.bannerBackgroundColor&&(n.bannerBackgroundColor=t.bannerBackgroundColor),n},v=e=>({id:e.id,name:e.name,subscribers:e.subscribers,iconUrl:e&&e.icon.url,type:"profile",isNSFW:e.isNSFW}),S=e=>Object(r.d)(e)?v(e):I(e),T=e=>({iconUrl:e.iconUrl,id:e.id,name:e.name,subscribers:e.subscribers,primaryColor:e.primaryColor,type:"subreddit",isNSFW:e.isNsfw||!1}),C=e=>{const t=e.data.map(e=>e.name),n=Object.assign({},e);return n.data=t,n},w=()=>({id:null,kind:"community-list",shortName:"",data:[],description:"",styles:o()}),D=()=>({id:null,kind:"calendar",shortName:"",configuration:{numEvents:10,showDate:!0,showTime:!0,showTitle:!0,showLocation:!0,showDescription:!0},configuredAtUTC:null,data:[],googleCalendarId:"",moderator:null,requiresSync:!0,synchronizedAtUTC:null,styles:o()}),x=e=>{return{id:e.id,kind:e.kind,shortName:e.shortName,googleCalendarId:e.googleCalendarId,moderator:e.moderator,requiresSync:e.requiresSync,configuredAtUTC:e.configuredAtUTC,configuration:Object.assign({},e.configuration,{numEvents:e.configuration.numEvents||10}),data:e.data,styles:e.styles}},P=e=>(e.data.forEach((function(e){void 0===e.linkUrl&&(e.linkUrl="")})),e),A=()=>({data:[],id:null,kind:"image",shortName:""}),R=()=>({id:null,kind:"custom",shortName:"",text:"",css:"",height:null,imageData:[]}),k=e=>({id:e.id,kind:e.kind,shortName:e.shortName,text:e.text,css:e.css,height:e.height,imageData:e.imageData}),N=e=>({id:e.id,kind:e.kind,styles:e.styles}),L=()=>({id:null,kind:"menu",data:[],showWiki:!1});function M(e){return"widgetId"in e}function U(e){switch(e.kind){case"subreddit-rules":return j(e);case"community-list":return C(e);case"image":return P(e);case"calendar":return x(e);case"textarea":return c(e);case"button":return b(e);case"custom":return k(e);case"moderators":return N(e);case"post-flair":return E(e);default:return e}}function F(e){switch(e){case"textarea":return i();case"button":return p();case"subreddit-rules":return h();case"image":return A();case"community-list":return w();case"calendar":return D();case"menu":return L();case"custom":return R();case"id-card":return a();case"post-flair":return _();default:throw new Error("Unknown widget type encountered")}}function B(e){return"structuredStyles.widgets.".concat(e,".label")}function G(e){return"structuredStyles.widgets.".concat(e,".description")}function q(e){switch(e.kind){case"textarea":case"button":case"image":case"subreddit-rules":case"community-list":case"calendar":case"custom":case"id-card":case"post-flair":return e.shortName;default:return e.kind}}var V;!function(e){e[e.Pending=0]="Pending",e[e.Complete=1]="Complete",e[e.Failed=2]="Failed"}(V||(V={}))},"./src/reddit/reducers/comments/visitHighlightingFilter/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("./node_modules/core-js/modules/es6.array.sort.js");var r,s=n("./src/reddit/actions/comment/index.ts"),o=n("./src/reddit/actions/platform.ts");!function(e){e.First="First",e.Last="Last",e.None="None"}(r||(r={}));const i=r.Last;t.b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a:return i;case s.a:return t.payload.sort;default:return e}}},"./src/reddit/reducers/economics/paymentSystems/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("./node_modules/core-js/modules/es6.symbol.js");var r,s=n("./src/reddit/actions/economics/paymentSystems/constants.ts"),o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};!function(e){e[e.Failure=0]="Failure",e[e.Fetched=1]="Fetched",e[e.NotFetched=2]="NotFetched",e[e.Pending=3]="Pending"}(r||(r={}));const i={status:r.NotFetched};t.b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.a:if(e.status===r.Fetched&&e.data.stripe&&e.data.stripe.sources){const n=t.payload.cardId,r=e.data.stripe.sources,s=n,i=(r[s],o(r,["symbol"==typeof s?s:s+""]));return Object.assign({},e,{data:Object.assign({},e.data,{stripe:Object.assign({},e.data.stripe,{sources:i})})})}return e;case s.e:if(e.status===r.Fetched&&e.data.braintree&&e.data.braintree.sources){const n=t.payload.sourceId,r=e.data.braintree.sources,s=n,i=(r[s],o(r,["symbol"==typeof s?s:s+""]));return Object.assign({},e,{data:Object.assign({},e.data,{braintree:Object.assign({},e.data.braintree,{sources:i})})})}return e;case s.b:return{error:t.payload.error,status:r.Failure};case s.c:return{data:t.payload,status:r.Fetched};case s.d:return{status:r.Pending};default:return e}}},"./src/reddit/reducers/economics/subredditPremium/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./src/lib/constants/specialMembership.ts"),o=n("./src/reddit/actions/economics/subredditPremium/constants.ts"),i=n("./src/reddit/helpers/economics/sortBadges.ts"),c=n("./src/reddit/models/Badge/index.ts"),a=n("./src/reddit/models/Badge/managementPage.ts");!function(e){e[e.NotFetched=0]="NotFetched",e[e.Fetched=1]="Fetched"}(r||(r={}));const d={};function u(e){return"userId"in e}function l(e,t,n,r){e.forEach(e=>{e.collections&&Object.keys(e.collections).forEach(s=>{let o;(o=e.placement?e.placement===c.a.First?r[a.a.Loyalty][s]:r[a.a.Achievement][s]:u(e)?r[a.a.Cosmetic][a.c.MyBadges][s]:r[a.a.Cosmetic][a.c.Gallery][s])&&(u(e)?n.has(e.id)&&o.unlocked.push(e):t.has(e.id)||o.locked.push(e))})})}function b(e){const t=(e,t)=>{const n=parseInt(e.price||"0"),r=parseInt(t.price||"0");return n===r?Object(i.b)(e,t):n-r};return e.locked.sort(t),e.unlocked.sort(t),e}function p(e,t){return Object.keys(e).map(t=>e[t]).filter(e=>!!e.locked.length||!!e.unlocked.length||e.id===s.a).map(b).sort((e,n)=>{const r=t[e.id],s=t[n.id];return Object(i.b)(r,s)})}function m(e){const t={[a.a.Loyalty]:{},[a.a.Achievement]:{},[a.a.Cosmetic]:{[a.c.Gallery]:{},[a.c.MyBadges]:{}}};Object.keys(e.collections).forEach(n=>{const r=e.collections[n],s={description:r.description,highlight:r.extra&&r.extra.style&&r.extra.style.color,id:r.id,locked:[],title:r.title,unlocked:[]};t[a.a.Loyalty][n]=Object.assign({},s,{locked:[],unlocked:[]}),t[a.a.Achievement][n]=Object.assign({},s,{locked:[],unlocked:[]}),t[a.a.Cosmetic][a.c.Gallery][n]=Object.assign({},s,{locked:[],unlocked:[]}),t[a.a.Cosmetic][a.c.MyBadges][n]=Object.assign({},s,{locked:[],unlocked:[]})});const n=new Set;e.userOwnedBadges.forEach(t=>{const r=e.badges[t];r&&n.add(r.type)});const r=new Set(e.userOwnedBadges);return l(Object.keys(e.badges).map(t=>e.badges[t]),n,r,t),l(Object.keys(e.products).map(t=>e.products[t]),n,r,t),{collections:{[a.a.Loyalty]:p(t[a.a.Loyalty],e.collections),[a.a.Achievement]:p(t[a.a.Achievement],e.collections),[a.a.Cosmetic]:{[a.c.Gallery]:p(t[a.a.Cosmetic][a.c.Gallery],e.collections),[a.c.MyBadges]:p(t[a.a.Cosmetic][a.c.MyBadges],e.collections)}},subscription:e.subscription,userOwnedBadges:e.userOwnedBadges.map(t=>e.badges[t]).filter(Boolean)}}t.b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.b:{const{subredditId:n}=t.payload,s=e[n];return s&&s.status===r.Fetched?Object.assign({},e,{[n]:Object.assign({},s,{data:Object.assign({},s.data),raw:Object.assign({},s.raw)})}):e}case o.j:{const{subredditId:n}=t.payload,s=e[n];return s&&s.status===r.Fetched?Object.assign({},e,{[n]:Object.assign({},s,{data:Object.assign({},s.data,{subscription:Object.assign({},s.data.subscription||{},{settings:{renew:!1}})}),raw:Object.assign({},s.raw,{subscription:Object.assign({},s.raw.subscription||{},{settings:{renew:!1}})})})}):e}case o.k:{const n=t.payload;return Object.assign({},e,{[n.subredditId]:{raw:n,data:m(n),status:r.Fetched}})}default:return e}}},"./src/reddit/reducers/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/redux/es/index.js"),s=n("./src/reddit/actions/modal.ts");const o={};var i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.e:if(!t.payload.actionSource&&!t.payload.redirectUrl)return o;return Object.assign({},e,t.payload);default:return e}},c=n("./src/reddit/actions/authorFlair.ts"),a=n("./src/reddit/actions/badge.ts"),d=n("./src/reddit/actions/economics/subredditPremium/constants.ts"),u=n("./src/reddit/actions/economics/support/constants.ts"),l=n("./src/reddit/actions/governance/constants.ts"),b=n("./src/reddit/actions/harbergerTax/constants.ts"),p=n("./src/reddit/actions/layers.ts"),m=n("./src/reddit/actions/platform.ts"),f=n("./src/reddit/actions/postCreation/constants.ts"),O=n("./src/reddit/actions/product.ts"),g=n("./src/reddit/actions/reportFlow.ts"),j=n("./src/reddit/actions/structuredStyles/constants.ts"),h=n("./src/reddit/constants/modals.ts");var y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.c:{const n=t.payload;return e===n?null:n}case s.b:case f.x:case p.c:case p.d:case s.d:case m.a:case g.f:return null;case j.e:return e===h.a.BLADE_UNSAVED_CHANGES?null:e;case j.d:return e===h.a.BLADE_NIGHTMODE?null:e;case c.a:return e===h.a.USER_FLAIR_MODAL_ID?null:h.a.USER_FLAIR_MODAL_ID;case a.c:return h.a.BADGE_PICKER;case O.b:return h.a.BADGE_PURCHASE;case l.e:return h.a.GOVERNANCE_OPT_OUT;case l.r:return h.a.TRANSFER_POINTS;case l.o:return h.a.GOVERNANCE_RELEASE_NOTES;case b.e:return h.a.HARBERGER_TAX_BANNER_PURCHASE;case b.c:return h.a.HARBERGER_TAX_BANNER_MANAGE;case b.b:return h.a.HARBERGER_TAX_CRYPTO_BANNER_PURCHASE;case b.a:return h.a.HARBERGER_TAX_CRYPTO_BANNER_MANAGE;case u.a:return h.a.ECONOMY_SUPPORT_MODAL;case l.x:return h.a.WALLET_REGISTRATION_MODAL;case d.g:return h.a.SUBREDDIT_PREMIUM_GIFT_MODAL;case d.h:return h.a.SUBREDDIT_PREMIUM_PURCHASE_MODAL;case d.d:return h.a.SUBREDDIT_PREMIUM_BADGE_MANAGEMENT;case d.l:return h.a.SUBREDDIT_PREMIUM_UPLOAD_MODAL;case p.a:case p.e:return h.a.PAINTER_MODAL;default:return e}},_=n("./src/reddit/actions/post.ts"),E=n("./src/reddit/actions/video.ts");const I={};var v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.a:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adImpression=Date.now(),r}case _.b:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adViewableImpression=Date.now(),r}case E.d:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adVideoViewable=Date.now(),r}case E.a:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adVideoFullyViewable=Date.now(),r}case E.c:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adVideoStarted=Date.now(),r}case E.b:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adVideoPlayedWithSound=Date.now(),r}case E.q:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adVideoPlayedExpanded=Date.now(),r}case E.e:{const{postId:n,percentage:r}=t.payload,s=Object.assign({},e);s[n]||(s[n]={});const o="adVideoWatchedPercent".concat(r);return s[n].adVideoWatchedPercent||(s[n][o]={}),s[n][o]=Date.now(),s}case E.f:{const{postId:n,seconds:r}=t.payload,s=Object.assign({},e);s[n]||(s[n]={});const o="adVideoWatchedSeconds".concat(r);return s[n].adVideoWatchedSeconds||(s[n][o]={}),s[n][o]=Date.now(),s}default:return e}},S=(n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./src/reddit/actions/apiRequestState.ts"));const T={};var C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.d:case S.a:case S.b:{const n=t.payload;return Object.assign({},e,{[n.apiRequestId]:n})}case S.c:{const n=t.payload;if(!(n in e))return e;if(1===Object.keys(e).length)return T;const r=Object.assign({},e);return delete r[n],r}default:return e}},w=n("./src/reddit/actions/subredditModeration.ts");var D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.e:case w.d:return null;case w.c:return t.payload;default:return e}},x=n("./src/reddit/models/SubredditModeration/index.ts");const P={};var A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.e:{const{subredditId:n,fetchedToken:r}=t.payload,s=Object(x.d)(n,r);return Object.assign({},e,{[s]:!0})}case w.d:case w.c:{const{subredditId:n,fetchedToken:r}=t.payload,s=Object(x.d)(n,r);return Object.assign({},e,{[s]:!1})}default:return e}},R=Object(r.c)({error:D,pending:A});const k={};var N=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.d:{const{fetchedToken:n,subredditId:r}=t.payload,s=Object(x.d)(r,n);return Object.assign({},e,{[s]:!0})}default:return e}};const L={};var M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.d:{const{subredditId:e,after:n}=t.payload;return{[e]:n}}default:return e}},U=n("./node_modules/lodash/merge.js"),F=n.n(U);const B={};var G=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.b:case w.d:{const{subredditId:n,approvedSubmitters:r}=t.payload,s={[n]:r};return F()(Object.assign({},e),s)}case w.i:{const{subredditId:n,userId:r}=t.payload,s=Object.assign({},e);return delete s[n][r],s}default:return e}};var q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.h:case w.g:return null;case w.f:return t.payload;default:return e}};var V=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.h:return!0;case w.g:case w.f:return!1;default:return e}},H=Object(r.c)({error:q,pending:V});var K=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.h:return null;case w.g:{const e=t.payload.approvedSubmitterIds[0];return e?t.payload.approvedSubmitters[e]:null}default:return e}},W=Object(r.c)({api:H,result:K});const J={};var Y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.d:{const{subredditId:n,approvedSubmitterIds:r}=t.payload;return e[n]?Object.assign({},e,{[n]:[...e[n],...r]}):Object.assign({},e,{[n]:r})}case w.i:{const{subredditId:n,userId:r}=t.payload;return{[n]:e[n].filter(e=>e!==r)}}case w.b:{const{subredditId:n,approvedSubmitterIds:r}=t.payload,s=r[0];return s&&e[n]&&-1===e[n].indexOf(s)?{[n]:[s,...e[n]]}:e}default:return e}},z=Object(r.c)({api:R,fetchedTokens:N,loadMore:M,models:G,search:W,userOrder:Y});var Q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a:return t.payload;default:return e}},X=n("./node_modules/lodash/mergeWith.js"),$=n.n(X),Z=n("./src/reddit/actions/comment/index.ts"),ee=n("./src/reddit/actions/comment/websocket.ts"),te=n("./src/reddit/actions/grantUserFlair/constants.ts"),ne=n("./src/reddit/actions/modQueue/constants.ts"),re=n("./src/reddit/actions/page.ts"),se=n("./src/reddit/actions/pages/profileComments.ts"),oe=n("./src/reddit/actions/pages/profilePosts.ts"),ie=n("./src/reddit/actions/pages/profilePrivate/constants.ts"),ce=n("./src/reddit/actions/pages/search.ts"),ae=n("./src/reddit/actions/pages/subreddit.ts"),de=n("./src/reddit/actions/profileConversations.ts"),ue=n("./src/reddit/actions/subreddit.ts"),le=n("./src/reddit/actions/userFlair.ts"),be=n("./src/reddit/models/User/index.ts");const pe={};var me=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.a:case ee.b:{const n=t.payload,{authorFlair:r}=n;if(r){return $()(Object.assign({},e),r,(e,t,n)=>{if("richtext"===n)return t})}return e}case ie.c:case ie.i:case ie.e:case ie.g:case ce.c:{const{authorFlair:n}=t.payload;if(n){return F()(Object.assign({},e),n)}return e}case Z.u:case ae.b:case re.b:case se.b:case se.e:case oe.e:case oe.b:case de.e:case ue.i:return fe(e,t.payload);case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:return fe(e,t.payload.response);case le.i:{const{subredditId:n,userName:r,applied:s,displaySettings:{isUserEnabled:o}}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:o?s:null})})}case te.h:case te.b:{const{subredditId:n,userName:r,applied:s}=t.payload;return e[n]&&e[n][r]?Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:s})}):e}case le.a:{const{subredditId:n,userName:r,applied:s,displaySettings:{isEnabled:o}}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:o?s:null})})}default:return e}};const fe=(e,t)=>{let{account:n,authorFlair:r,userFlair:s}=t;const o=F()(Object.assign({},e),r);if(!s||!n)return o;const i=Object.keys(s)[0];if(!i)return o;const c=Object(be.f)(n),a=s[i]&&s[i].applied,d=s[i]&&s[i].displaySettings&&s[i].displaySettings.isUserEnabled;return c&&a&&d?F()(o,{[i]:{[c]:a}}):o};var Oe=Object(r.c)({inContext:Q,models:me}),ge=n("./src/reddit/actions/gold/constants.ts");const je={};var he=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.a:{const{disabled:n,subredditId:r}=t.payload;return n?Object.assign({},e,{[r]:n}):e}default:return e}};var ye=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.e:case ge.f:return null;case ge.d:return t.payload;default:return e}};var _e=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a:case ge.f:case ge.d:return!1;case ge.e:return!0;default:return e}},Ee=Object(r.c)({error:ye,pending:_e}),Ie=Object(r.c)({api:Ee});var ve=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.E:case ge.D:return null;case ge.C:return t.payload;default:return e}};const Se={};var Te=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.E:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case ge.D:case ge.C:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Ce=Object(r.c)({error:ve,pending:Te});const we={};var De=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.D:{const{awards:n,subredditId:r}=t.payload,s=n.map(e=>e.id);return Object.assign({},e,{[r]:s})}case ge.f:{const{award:n,subredditId:r}=t.payload;if(n&&n.id){if(!e[r])return Object.assign({},e,{[r]:[n.id]});if(-1===e[r].indexOf(n.id))return Object.assign({},e,{[r]:[n.id,...e[r]]})}return e}case ge.i:{const{awardId:n,subredditId:r}=t.payload,s=Object.assign({},e);if(s[r]){const e=s[r].indexOf(n);if(-1!==e){const t=[...s[r]];return t.splice(e,1),s[r]=t,s}}return e}default:return e}},xe=Object(r.c)({api:Ce,order:De});n("./node_modules/core-js/modules/es6.regexp.split.js");const Pe=e=>{const t=e.split("+");if(1===t.length)return e;const n="".concat(t[1].substring(0,2),":").concat(t[1].substring(2));return"".concat(t[0],"+").concat(n)};var Ae=e=>(e.startsAt&&(e.startsAt="number"==typeof e.startsAt?new Date(e.startsAt).toISOString():Pe(e.startsAt)),e.endsAt&&(e.endsAt="number"==typeof e.endsAt?new Date(e.endsAt).toISOString():Pe(e.endsAt)),e),Re=n("./src/reddit/models/Gold/Award.ts"),ke=n("./src/reddit/actions/discoveryUnit.ts"),Ne=n("./src/reddit/actions/frontpage.ts"),Le=n("./src/reddit/actions/multireddit/constants.ts"),Me=n("./src/reddit/actions/pages/collectionCommentsPage.ts"),Ue=n("./src/reddit/actions/pages/modListing/constants.ts"),Fe=n("./src/reddit/actions/pages/postCreation.ts"),Be=n("./src/reddit/actions/pages/profileOverview.ts"),Ge=n("./src/reddit/actions/profileOverviewChrono.ts"),qe=n("./src/reddit/actions/recommendations.ts"),Ve=n("./src/reddit/actions/search.ts");const He={},Ke=(e=>t=>{for(let n=0;n<e.length;n++)t=e[n](t);return t})([Ae]);var We=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.D:case ge.L:{const{awards:n}=t.payload,r=n.reduce((e,t)=>(e[t.id]=Ke(t),e),{});return F()(Object.assign({},e),r)}case ge.f:{const{award:n}=t.payload;return n&&n.id?e[n.id]?F()(Object.assign({},e),{[n.id]:Ke(n)}):Object.assign({},e,{[n.id]:Ke(n)}):e}case ge.l:{const{awardId:n}=t.payload;return e[n]?Object.assign({},e,{[n]:Object.assign({},e[n],{isEnabled:!1})}):e}case Me.b:case Z.u:case ee.a:case Fe.b:case ke.e:case Ne.b:case Ue.e:case Ue.h:case ne.f:case ne.m:case ne.p:case ne.v:case Le.r:case re.b:case re.g:case re.l:case ce.c:case se.b:case se.e:case de.b:case de.e:case Be.b:case Be.e:case Ge.b:case oe.b:case oe.e:case ie.c:case ie.e:case ie.i:case ie.g:case qe.b:case Ve.c:case ue.i:case ae.b:{const n={},r=t.payload.posts||[],s=t.payload.comments||[];for(const e in r){const t=r[e].allAwardings||[];for(const e of t)n[e.id]=Ke(Object(Re.d)(e))}for(const e in s){const t=s[e],{associatedAward:r,allAwardings:o=[]}=t;for(const e of o)n[e.id]=Ke(Object(Re.d)(e));r&&(n[r.id]=Ke(r))}return Object.assign({},e,n)}default:return e}};var Je=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.M:case ge.L:return null;case ge.K:return t.payload;default:return e}};const Ye={};var ze=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.M:{const{subredditOrProfileId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case ge.L:case ge.K:{const{subredditOrProfileId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Qe=Object(r.c)({error:Je,pending:ze});const Xe={};var $e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.L:{const{awards:n,subredditOrProfileId:r}=t.payload,s=n.map(e=>e.id);return Object.assign({},e,{[r]:s})}default:return e}},Ze=Object(r.c)({api:Qe,order:$e}),et=Object(r.c)({blacklist:he,create:Ie,manageable:xe,models:We,usable:Ze});const tt={};var nt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.e:case a.f:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:void 0})}case a.d:{const{subredditId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const rt={};var st=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.e:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case a.f:case a.d:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},ot=Object(r.c)({error:nt,pending:st});const it={};var ct=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.h:case a.i:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:void 0})}case a.g:{const{subredditId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const at={};var dt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.h:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case a.i:case a.g:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},ut=Object(r.c)({error:ct,pending:dt}),lt=Object(r.c)({subreddit:ot,user:ut});const bt={};var pt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.k:case a.f:case a.i:case O.d:{const{badges:n}=t.payload;return Object.assign({},e,n)}case l.a:{const n=t.payload.campaigns&&t.payload.campaigns.giveaway,r=n&&n.lastUsers;if(!r)return e;const s=r.reduce((e,t)=>Object.assign({},e,t.badges||{}),{});return Object.assign({},e,s)}default:return e}},mt=Object(r.c)({api:lt,models:pt});var ft=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.m:case w.l:return null;case w.k:return t.payload;default:return e}};const Ot={};var gt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.m:{const{subredditId:n,fetchedToken:r}=t.payload,s=Object(x.d)(n,r);return Object.assign({},e,{[s]:!0})}case w.l:case w.k:{const{subredditId:n,fetchedToken:r}=t.payload,s=Object(x.d)(n,r);return Object.assign({},e,{[s]:!1})}default:return e}},jt=Object(r.c)({error:ft,pending:gt});const ht={};var yt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.l:{const{fetchedToken:n,subredditId:r}=t.payload,s=Object(x.d)(r,n);return Object.assign({},e,{[s]:!0})}default:return e}},_t=n("./src/reddit/actions/inContextModeration.ts");var Et=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _t.a:return t.payload;default:return e}};const It={};var vt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.l:{const{subredditId:e,after:n}=t.payload;return{[e]:n}}default:return e}};const St={};var Tt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.j:case w.l:{const{subredditId:n,bannedUsers:r}=t.payload,s=e[n]||{};return Object.assign({},e,{[n]:Object.assign({},s,r)})}case w.q:{const{subredditId:n,userId:r}=t.payload,s=Object.assign({},e);return delete s[n][r],s}default:return e}};var Ct=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.p:case w.o:return null;case w.n:return t.payload;default:return e}};var wt=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.p:return!0;case w.o:case w.n:return!1;default:return e}},Dt=Object(r.c)({error:Ct,pending:wt});var xt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.p:case w.n:return null;case w.o:{const e=t.payload.bannedUserIds[0];return e?t.payload.bannedUsers[e]:null}default:return e}},Pt=Object(r.c)({api:Dt,result:xt});const At={};var Rt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.l:{const{subredditId:n,bannedUserIds:r}=t.payload;return e[n]?Object.assign({},e,{[n]:[...e[n],...r]}):Object.assign({},e,{[n]:r})}case w.q:{const{subredditId:n,userId:r}=t.payload;return{[n]:e[n].filter(e=>e!==r)}}case w.j:{const{subredditId:n,bannedUserIds:r}=t.payload,s=r[0];return s&&e[n]&&-1===e[n].indexOf(s)?{[n]:[s,...e[n]]}:e}default:return e}},kt=Object(r.c)({api:jt,fetchedTokens:yt,inContext:Et,loadMore:vt,models:Tt,search:Pt,userOrder:Rt}),Nt=n("./src/reddit/actions/blockedRedditors.ts");const Lt={message:""};var Mt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nt.c:case Nt.d:return e;case Nt.b:return t.payload;default:return e}};var Ut=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nt.d:return!0;case Nt.c:case Nt.b:return!1;default:return e}},Ft=Object(r.c)({error:Mt,pending:Ut});const Bt={ids:[]};var Gt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nt.a:return{ids:[...e.ids,t.payload],timestamp:e.timestamp};case Nt.e:const n=e.ids.slice();return n.splice(e.ids.indexOf(t.payload),1),Object.assign({},e,{ids:n});case Nt.c:return{ids:[...e.ids,...t.payload],timestamp:Date.now()};default:return e}},qt=Object(r.c)({api:Ft,list:Gt}),Vt=n("./src/reddit/actions/userBlocks.ts");const Ht={};var Kt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt.f:case Vt.e:{const{userId:n}=t.payload;return Object.assign({},e,{[n]:null})}case Vt.d:{const{userId:n,type:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Wt={};var Jt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt.f:{const{userId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Vt.e:case Vt.d:{const{userId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Yt=Object(r.c)({error:Kt,pending:Jt}),zt=Object(r.c)({api:Yt}),Qt=n("./src/reddit/actions/ads/constants.ts");const Xt={isViewSafe:!0,hasBrandSafetyBeenAssessed:!1};var $t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qt.a:return e.isViewSafe===t.payload.isViewSafe&&e.hasBrandSafetyBeenAssessed?e:Object.assign({},e,{isViewSafe:t.payload.isViewSafe,hasBrandSafetyBeenAssessed:!0});case ae.c:case re.m:case re.h:return e.hasBrandSafetyBeenAssessed?Object.assign({},e,{hasBrandSafetyBeenAssessed:!1}):e;default:return e}},Zt=n("./src/reddit/actions/category.ts");var en=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zt.b:case Zt.c:return null;case Zt.a:{const{error:e}=t.payload;return e||null}default:return e}};var tn=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zt.c:return!1;case Zt.b:return!0;default:return e}};var nn=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zt.c:return!0;case Zt.b:case Zt.a:return!1;default:return e}},rn=Object(r.c)({error:en,loaded:tn,pending:nn});const sn={};var on=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zt.g:case Zt.f:{const{categoryId:n}=t.payload,r=Object.assign({},e);return delete r[n],r}case Zt.e:{const{categoryId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const cn={};var an=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zt.g:{const{categoryId:n}=t.payload;return Object.assign({},e,{[n]:!1})}case Zt.f:{const{categoryId:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}};const dn={};var un=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zt.g:{const{categoryId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Zt.f:case Zt.e:{const{categoryId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},ln=Object(r.c)({error:on,loaded:an,pending:un}),bn=Object(r.c)({list:rn,subreddits:ln}),pn=n("./node_modules/lodash/isEmpty.js"),mn=n.n(pn);const fn=[];var On=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zt.b:{const{categoryIds:n}=t.payload;return mn()(n)?e:n}default:return e}};const gn={};var jn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zt.b:{const{categories:n}=t.payload;return mn()(n)?e:Object.assign({},e,n)}default:return e}},hn=n("./node_modules/lodash/forOwn.js"),yn=n.n(hn),_n=n("./src/reddit/helpers/name/index.ts");const En={};var In=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zt.b:{const{categories:n}=t.payload;if(mn()(n))return e;const r={};return yn()(n,e=>{r[Object(_n.f)(e.name)]=e.id}),Object.assign({},e,r)}default:return e}},vn=n("./src/reddit/actions/global.ts"),Sn=n("./src/reddit/constants/localStorage.ts");const Tn={};var Cn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vn.a:return t.payload[Sn.d]||e;case Zt.d:{const{categoryId:n,rank:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},wn=Object(r.c)({api:bn,ids:On,models:jn,nameToId:In,ranking:Cn}),Dn=n("./src/reddit/actions/chat/init.ts");var xn=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dn.a:return!0;default:return e}},Pn=n("./src/reddit/actions/chat/sendbirdProxy.ts"),An=n("./src/reddit/actions/chat/subredditChannel.ts");var Rn=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case An.b:case An.a:return!!t.payload.isUserSubredditChatEnabled;case Pn.a:const{user_subreddit_chat_enabled:n}=t.payload;return n;default:return e}},kn=n("./src/chat/actions/promo/constants.ts");const Nn={displaySubredditChatFtux:!1};var Ln=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kn.a:{const n=t.payload;return Object.assign({},e,{[n]:!0})}case kn.b:{const n=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Mn=n("./src/reddit/actions/chat/subredditSettings.ts");const Un={subredditId:null,bannedWords:"",domains:"",rateLimit:-1,regexes:[]};var Fn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mn.a:return Object.assign({},t.payload);default:return e}},Bn=n("./src/reddit/actions/chat/unreadCount.ts");const Gn={apiError:null};var qn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bn.a.REQUEST_FAILED:{const e=t.payload;return Object.assign({},Gn,{apiError:e})}case Bn.a.REQUEST_SUCCESS:case Bn.a.REQUEST_PENDING:return Gn;default:return e}};var Vn=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bn.a.REQUEST_PENDING:return!0;case Bn.a.REQUEST_FAILED:case Bn.a.REQUEST_SUCCESS:return!1;default:return e}},Hn=Object(r.c)({error:qn,pending:Vn});const Kn={basicChannelCount:0,subredditChannelCount:0};var Wn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bn.a.SYNC:case Bn.a.REQUEST_SUCCESS:{const e=t.payload;return Object.assign({},e)}default:return e}},Jn=Object(r.c)({api:Hn,count:Wn}),Yn=Object(r.c)({isInited:xn,isUserSubredditChatEnabled:Rn,subredditSettings:Fn,promos:Ln,unread:Jn}),zn=n("./src/reddit/actions/claimgold.ts");var Qn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zn.a:return t.payload.error&&t.payload.error.fields&&t.payload.error.fields[0]&&t.payload.error.fields[0].msg;case zn.d:case zn.e:case zn.c:return null;default:return e}};var Xn=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zn.d:case zn.c:case zn.a:return!1;case zn.b:return!0;default:return e}};var $n=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zn.b:case zn.d:case zn.c:case zn.a:return!1;case zn.f:return!0;default:return e}},Zn=Object(r.c)({error:Qn,pending:Xn,showLoader:$n});var er=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zn.g:return t.payload;case zn.e:return"";default:return e}};var tr=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zn.e:return!0;case zn.c:case zn.d:return!1;default:return e}},nr=Object(r.c)({api:Zn,code:er,showModal:tr}),rr=n("./node_modules/lodash/get.js"),sr=n.n(rr);const or={};var ir=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.d:{const{commentsPageKey:n,commentId:r,isCollapsed:s}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:!sr()(e,[n,r],s)})})}case Z.e:{const{commentsPageKey:n,commentId:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:!1})})}case Z.u:case Me.b:case re.b:{const{key:n,shouldCollapse:r}=t.payload;if(!r)return e;const s=r.reduce((e,t)=>Object.assign({},e,{[t]:!0}),{});return Object.assign({},e,{[n]:Object.assign({},e[n],s)})}default:return e}},cr=n("./src/lib/makeDraftKey/index.ts"),ar=n("./src/reddit/models/PostCreationForm/index.ts"),dr=n("./src/reddit/models/PostDraft/index.ts");const ur={};var lr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.q:{const{draftKey:n}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{autofocusDisabled:!0})})}case Z.j:{const{draftKey:n,hasFocus:r}=t.payload;return e[n]?Object.assign({},e,{[n]:Object.assign({},e[n],{hasFocus:r})}):e}case re.e:{const{draftKey:n}=t.payload;return Object.assign({},e,{[n]:{rteState:null,draftType:dr.c.replyToPost}})}case Me.b:case Me.c:case re.d:{const{postId:n,commentMode:r}=t.payload,s=Object(cr.a)(dr.c.replyToPost,n);return Object.assign({},e,{[s]:{commentMode:r,draftType:dr.c.replyToPost,hasFocus:!1,rteState:null,text:""}})}case re.b:{const{postId:n,preferences:r}=t.payload;if(!r||!r.account)return e;const s=Object(cr.a)(dr.c.replyToPost,n),o=r.account.useMarkdown?ar.h.MARKDOWN:ar.h.RICH_TEXT;return Object.assign({},e,{[s]:Object.assign({},e[s],{commentMode:o})})}case Z.l:const{draftKey:n,content:r,editorMode:s}=t.payload;return e[n]?Object.assign({},e,{[n]:Object.assign({},e[n],{commentMode:s,rteState:null,text:s===ar.h.MARKDOWN?r:"",rtJson:s===ar.h.RICH_TEXT?r:null})}):e;case Z.r:case Z.p:{const{draftKey:n,formData:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},r,{hasFocus:!0})})}case Z.k:{const{draftKey:n,formData:r}=t.payload;return null===e[n]?e:Object.assign({},e,{[n]:Object.assign({},e[n],r)})}case Z.f:{const{draftKey:n}=t.payload,r=e[n];return r&&r.draftType===dr.c.replyToPost?Object.assign({},e,{[n]:Object.assign({},r,{rteState:null,text:""})}):Object.assign({},e,{[n]:null})}case Z.G:{const{draftKey:n}=t.payload,r=e[n];return Object.assign({},e,{[n]:Object.assign({},r,{rteState:null,text:""})})}case Z.F:case Z.B:{const{draftKey:n}=t.payload;return Object.assign({},e,{[n]:null})}case Z.E:{const{draftKey:n,draft:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const br={};var pr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.h:{const{commentListNodeId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Z.i:{const{commentListNodeId:n}=t.payload;return Object.assign({},e,{[n]:!e[n]})}default:return e}};const mr={};var fr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.c:{const{commentListNodeIds:n,commentsPageKey:r}=t.payload,s=n.reduce((t,n)=>(t[n]=!sr()(e,[r,n],!1),t),{});return Object.assign({},e,{[r]:Object.assign({},e[r],s)})}case Z.b:{const{commentListNodeIds:n,commentsPageKey:r}=t.payload,s=n.reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[r]:Object.assign({},e[r],s)})}case Z.u:case Me.b:case re.b:{const{key:n,shouldHide:r}=t.payload;if(!r)return e;const s=r.reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[n]:Object.assign({},e[n],s)})}default:return e}};const Or={};var gr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.r:{const{commentId:n,commentsPageKey:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{[n]:!0})})}case Z.g:case Z.z:case Z.B:{const{commentId:n,commentsPageKey:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{[n]:!1})})}default:return e}},jr=(n("./node_modules/core-js/modules/es6.symbol.js"),n("./node_modules/lodash/isEqual.js")),hr=n.n(jr),yr=n("./node_modules/lodash/mapValues.js"),_r=n.n(yr),Er=n("./node_modules/lodash/omit.js"),Ir=n.n(Er),vr=n("./src/reddit/actions/bulkActions/constants.ts"),Sr=n("./src/reddit/actions/modMode.ts"),Tr=n("./src/reddit/actions/vote.ts"),Cr=n("./src/reddit/helpers/isComment.ts"),wr=n("./src/reddit/models/Comment/index.ts");const Dr=(e,t,n)=>{const r={};for(const o of t)r[o.award.id]=o.total;const s=n?e.awarders&&e.awarders.length?e.awarders.includes(n)?e.awarders:[n,...e.awarders]:[n]:e.awarders;return Object.assign({},e,{awarders:s,awardCountsById:r})};var xr=n("./src/reddit/models/ModQueue/index.ts"),Pr=n("./src/reddit/models/Vote/index.ts"),Ar=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const Rr={},kr=e=>t=>{for(let n=0;n<e.length;n++)t=e[n](t);return t},Nr=["next","prev","depth"],Lr=e=>Ir()(e,Nr),Mr=e=>{const{allAwardings:t,associatedAward:n}=e,r=Ar(e,["allAwardings","associatedAward"]),s=Object.assign({},r);if(t){const e={};for(const n of t)e[n.id]=n.count;s.awardCountsById=e}return n&&(s.associatedAwardId=n.id),s};var Ur=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.a:case ee.b:case Z.F:case Z.G:{const{comment:n}=t.payload,r=kr([Mr]);return Object.assign({},e,{[n.id]:r(n)})}case Z.u:case Me.b:case re.b:case se.b:case se.e:case Be.b:case Be.e:case de.b:case de.e:case Ge.b:case ie.i:case ie.g:case ie.c:case ie.e:{const n=Object.assign({},e),r=kr([Lr,Mr]);for(const s in t.payload.comments){const o=e[s],i=t.payload.comments[s];o?hr()(o,i)||(i.postAuthor||(i.postAuthor=o.postAuthor),i.postTitle||(i.postTitle=o.postTitle),n[s]=r(i)):n[s]=r(i)}return n}case Z.y:{const{id:n}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{isDeleted:!0,deletedBy:wr.a.User})})}case Z.n:{const n=t.payload;return $()(Object.assign({},e),n,(e,t)=>Object.assign({},e,t))}case Tr.a:{const{id:n,vote:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object(Pr.c)(s,r)}):e}case ge.q:{const{awardings:n,id:r,gilder:s}=t.payload,o=e[r];return o?Object.assign({},e,{[r]:Dr(o,n,s)}):e}case w.l:{const{comments:n}=t.payload;return Object.assign({},e,n)}case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:{const{response:n}=t.payload,{comments:r}=n,s=kr([Mr]);return Object.assign({},e,_r()(r,s))}case vr.b:case ne.s:{const{operation:n,ids:r,username:s,options:o}=t.payload,i=r.filter(e=>Object(Cr.a)(e)),c=Object(xr.d)(e,n,i,s,o);return $()(Object.assign({},e),c,(e,t)=>Object.assign({},e,t))}case ce.c:{const{comments:n}=t.payload;return Object.assign({},e,n)}case Sr.a:{const n=Object.assign({},e);for(const r in e)if(e.hasOwnProperty(r)){const s=e[r];n[r].computedCollapsed=s.collapsedBecauseCrowdControl?!t.payload.enabled:s.collapsed}return n}case Z.m:{const{commentId:n}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{collapsedBecauseCrowdControl:!1})})}default:return e}};const Fr={};var Br=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.p:{const{parentCommentId:n,commentsPageKey:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{[n]:!0})})}case Z.o:case Z.F:{const{parentCommentId:n,commentsPageKey:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{[n]:!1})})}default:return e}};const Gr={};var qr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.o:case Z.E:case Z.A:case Z.G:case Z.F:case Z.B:{const{draftKey:n}=t.payload;return Object.assign({},e,{[n]:null})}case Z.D:case Z.z:{const{draftKey:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case Z.w:{const{id:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case Z.x:case Z.y:{const{id:n}=t.payload;return Object.assign({},e,{[n]:null})}default:return e}};const Vr={};var Hr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.E:case Z.A:{const{draftKey:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Z.F:case Z.G:case Z.B:case Z.D:case Z.z:{const{draftKey:n}=t.payload;return Object.assign({},e,{[n]:!1})}case Z.x:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Z.y:case Z.w:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Kr=Object(r.c)({error:qr,pending:Hr}),Wr=n("./src/reddit/reducers/comments/visitHighlightingFilter/index.ts"),Jr=Object(r.c)({collapsed:ir,drafts:lr,focused:pr,hidden:fr,isEditing:gr,models:Ur,replyFormOpen:Br,submit:Kr,visitHighlightFilter:Wr.b}),Yr=n("./src/reddit/actions/commentsListTruncated/constants.ts");var zr=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yr.a:return!1;case Yr.b:return!0;default:return e}};const Qr=[];var Xr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qt.b:return t.payload;case Qt.c:default:return e}};const $r={};var Zr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$r,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.d:case Me.b:case re.d:case re.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case Me.a:case re.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r||{}})}default:return e}};const es={};var ts=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.c:case re.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}};const ns={};var rs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ns,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.d:case re.d:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Me.b:case Me.a:case re.b:case re.a:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},ss=Object(r.c)({error:Zr,fullyLoaded:ts,pending:rs}),os=(n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/lodash/uniqBy.js")),is=n.n(os),cs=n("./node_modules/lodash/values.js"),as=n.n(cs);const ds={};function us(e,t){return as()(e).map(e=>{const n=e.isStickied?t&&t.created||Math.round(Date.now()/1e3):e.created;return{id:e.id,created:n,stickied:e.isStickied,authorId:e.authorId}})}function ls(e){return is()(e,"id").sort((e,t)=>e.created-t.created)}var bs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ds,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.b:case Z.u:case Me.b:{const{comments:n,key:r}=t.payload,s=e[r]?e[r]:[],o=us(n,s.find(e=>e.stickied)),i=ls([...s,...o]);return Object.assign({},e,{[r]:[...i]})}case ee.a:case ee.b:case Z.G:case Z.F:{const{comment:{id:n,created:r,isStickied:s,authorId:o},commentsPageKey:i}=t.payload;return Object.assign({},e,{[i]:[...ls([...e[i]?e[i]:[],{id:n,created:r,stickied:s,authorId:o}])]})}default:return e}},ps=n("./src/reddit/helpers/commentList/index.ts");const ms={};function fs(e){const t=e;return _r()(t,e=>{let{depth:t,next:n,prev:r}=e;return{depth:t,next:n,prev:r}})}var Os=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ms,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.u:{const{comments:n,commentLists:r,continueThreads:s,key:o,moreCommentsItem:i,moreComments:c}=t.payload,a=r[i.postId],d=e[o],u={},l=d[i.id];if(l&&l.prev){const{id:e}=l.prev;u[e]=Object.assign({},d[e],{next:a.head||l.next})}if(l&&l.next){const{id:e}=l.next;u[e]=Object.assign({},d[e],{prev:a.tail||l.prev})}if(a.head&&a.tail){const e=Object(ps.c)({commentLink:a.head,commentsDict:n,moreCommentsDict:c,continueThreadDict:s}),t=Object(ps.c)({commentLink:a.tail,commentsDict:n,moreCommentsDict:c,continueThreadDict:s});l&&(e.prev=l.prev,t.next=l.next)}return Object.assign({},e,{[o]:Object.assign({},e[o],fs(n),fs(s),fs(c),u)})}case Me.b:case re.b:{const{comments:n,continueThreads:r,key:s,moreComments:o}=t.payload;return Object.assign({},e,{[s]:Object.assign({},e[s],fs(n),fs(r),fs(o))})}case ee.a:case Z.G:{const{comment:n,commentsPageKey:r,headCommentId:s}=t.payload,o=e[r],i={};let c=null;return s&&(i[s]=Object.assign({},o[s],{prev:Object(wr.f)(n.id)}),c=Object(wr.f)(s)),Object.assign({},e,{[r]:Object.assign({},e[r],i,{[n.id]:{depth:0,next:c,prev:null}})})}case Z.F:{const{comment:n,commentsPageKey:r,parentCommentId:s,depth:o}=t.payload,i=e[r],c={};let a=null;if(!i[s])return e;const d=i[s].next;return d&&(c[d.id]=Object.assign({},i[d.id],{prev:Object(wr.f)(n.id)}),a=d),c[s]=Object.assign({},i[s],{next:Object(wr.f)(n.id)}),Object.assign({},e,{[r]:Object.assign({},e[r],c,{[n.id]:{depth:o,next:a,prev:Object(wr.f)(s)}})})}default:return e}};const gs={};var js=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.a:case ee.b:case Z.G:{const{comment:n,commentsPageKey:r}=t.payload;return Object.assign({},e,{[r]:n.id})}case Me.b:case re.b:{const{commentLists:n,key:r,postId:s}=t.payload;return Object.assign({},e,{[r]:n[s]&&n[s].head?n[s].head.id:null})}default:return e}};const hs={};var ys=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.d:case Me.b:case Me.c:case re.d:{const{key:n,postId:r}=t.payload;return Object.assign({},e,{[n]:r})}case Z.G:{const{parentId:n,commentsPageKey:r}=t.payload;return e[r]?e:Object.assign({},e,{[r]:n})}default:return e}},_s=Object(r.c)({api:ss,keyToChatCommentLinks:bs,keyToCommentThreadLinkSets:Os,keyToHeadCommentId:js,keyToPostId:ys,ads:Xr}),Es=n("./src/reddit/actions/communityFlairs/constants.ts");const Is={};var vs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Is,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Es.a:{const{models:n,sortedKeys:r,subredditId:s}=t.payload;return Object.assign({},e,{[s]:{sortedKeys:r,models:n}})}default:return e}},Ss=n("./src/lib/constants/index.ts"),Ts=n("./src/reddit/actions/contentGate.ts");const Cs={};var ws=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ts.a:{const{subredditName:n}=t.payload;if(n){if(e[n]){const t={[n]:{goldSubreddit:!0}};return $()(Object.assign({},e),Object.assign({},t))}return Object.assign({},e,{[n]:{goldSubreddit:!0}})}return e}case Ts.b:{const{subredditDescription:n,subredditName:r}=t.payload;if(r){if(e[r]){const t={[r]:{privateSubreddit:!0,subredditDescription:n}};return $()(Object.assign({},e),Object.assign({},t))}return Object.assign({},e,{[r]:{privateSubreddit:!0,subredditDescription:n}})}return e}case Ts.e:{const{subredditName:n,quarantineRequiresEmail:r,quarantineMessage:s,quarantineMessageHtml:o}=t.payload;return n?Object.assign({},e,{[n]:Object.assign({},e[n],{quarantinedSubreddit:!0,quarantineRequiresEmail:r,quarantineMessage:s,quarantineMessageHtml:o})}):e}case Ts.g:{const{subredditName:n,banMessage:r}=t.payload;if(n){if(e[n]){const t={[n]:{subredditBanned:!0,subredditBanMessage:r}};return $()(Object.assign({},e),Object.assign({},t))}return Object.assign({},e,{[n]:{subredditBanned:!0,subredditBanMessage:r}})}return e}case Ts.h:{const{subredditName:n}=t.payload;if(n){if(e[n]){const t={[n]:{subredditDoesNotExist:!0}};return $()(Object.assign({},e),Object.assign({},t))}return Object.assign({},e,{[n]:{subredditDoesNotExist:!0}})}return e}case Ts.c:case Ts.d:{const{profileName:n}=t.payload,r=Ss.Qb+n.toLocaleLowerCase(),s=e[r]||{},o=t.type===Ts.c?{profileDeleted:!0}:{profileSuspended:!0};return Object.assign({},e,{[r]:Object.assign({},s,o)})}default:return e}};const Ds={};var xs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.u:case Me.b:case re.b:return Object.assign({},e,t.payload.continueThreads);default:return e}},Ps=Object(r.c)({models:xs}),As=n("./src/reddit/actions/postCollection/constants.ts");var Rs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.c:case As.d:case As.c:case As.s:case As.r:return null;case As.b:case As.n:return t.payload;default:return e}};var ks=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case As.c:case As.r:return!0;case As.d:case As.b:case As.s:case As.n:return!1;default:return e}},Ns=Object(r.c)({error:Rs,pending:ks}),Ls=Object(r.c)({createOrUpdate:Ns}),Ms=n("./src/reddit/actions/postDraft.ts");const Us={};var Fs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ms.c:case Ms.b:{const{draftId:n}=t.payload;return Object.assign({},e,{[n]:null})}case Ms.a:{const{apiError:n,draftId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};const Bs={};var Gs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ms.b:{const{draftId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Ms.c:case Ms.a:{const{draftId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},qs=Object(r.c)({error:Fs,pending:Gs});var Vs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ms.d:return t.payload;case Ms.f:case Ms.e:return null;default:return e}};var Hs=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ms.f:return!0;case Ms.e:case Ms.d:return!1;default:return e}},Ks=Object(r.c)({error:Vs,pending:Hs});const Ws={apiError:null,needsCaptcha:!1,validationError:null,submitValidationError:null};var Js=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ws,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ms.l:case Ms.j:return Ws;case Ms.i:{const e=t.payload;return Object.assign({},Ws,{apiError:e})}case Ms.m:{const e=t.payload;return Object.assign({},Ws,{validationError:e})}case Ms.k:{const e=t.payload;return Object.assign({},Ws,{submitValidationError:e})}case Ms.h:return Object.assign({},Ws,{needsCaptcha:!0});default:return e}};var Ys=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ms.j:return!0;case Ms.l:case Ms.i:case Ms.m:case Ms.k:case Ms.h:return!1;default:return e}},zs=Object(r.c)({error:Js,pending:Ys}),Qs=Object(r.c)({deleteDraft:qs,listing:Ks,save:zs});const Xs={};var $s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.E:{const n=t.payload;return Object.assign({},e,{[n]:!0})}case f.q:{const n=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Zs=Object(r.c)({pending:$s});var eo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.v:case f.w:case f.d:case f.e:case f.f:case f.j:case f.k:case f.o:case f.M:return null;case f.u:return t.payload;default:return e}};var to=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.v:return!0;case f.w:case f.u:return!1;default:return e}},no=Object(r.c)({error:eo,pending:to}),ro=Object(r.c)({converting:Zs,mediaUpload:no});const so={};var oo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:so,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.b:case Fe.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case Fe.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const io={};var co=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:io,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}case Fe.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}};const ao={};var uo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ao,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Fe.b:case Fe.a:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},lo=Object(r.c)({error:oo,fetched:co,pending:uo}),bo=n("./src/reddit/actions/scheduledPosts/constants.ts");const po={apiError:null,needsCaptcha:!1,pollError:void 0,validationError:null,submitValidationError:null};var mo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.N:case bo.d:case f.y:case f.c:case f.d:case f.e:case f.f:case f.j:case f.k:case f.o:case f.M:case f.C:return po;case f.i:{const{isContentChanged:n}=t.payload;return n?po:e}case f.p:{const e=t.payload;return Object.assign({},po,{apiError:e})}case f.Y:{const e=t.payload;return Object.assign({},po,{validationError:e})}case f.I:case f.H:{const e=t.payload;return Object.assign({},po,{submitValidationError:e})}case f.a:return Object.assign({},po,{needsCaptcha:!0});case f.A:return Object.assign({},po,{pollError:t.payload});default:return e}};var fo=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.y:return!0;case f.N:case bo.d:case f.p:case f.Y:case f.H:case f.I:case f.A:case f.a:return!1;default:return e}},Oo=Object(r.c)({error:mo,pending:fo});var go=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.z:case f.F:return null;case f.n:return t.payload;default:return e}};var jo=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.z:return!0;case f.n:case f.m:return!1;default:return e}},ho=Object(r.c)({error:go,pending:jo}),yo=Object(r.c)({submit:Oo,update:ho});var _o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.M:case f.K:case f.L:return null;default:return e}};var Eo=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.L:return!0;case f.K:case f.M:return!1;default:return e}},Io=Object(r.c)({error:_o,pending:Eo}),vo=Object(r.c)({change:Io}),So=Object(r.c)({collection:Ls,draft:Qs,editor:ro,page:lo,post:yo,subreddit:vo}),To=n("./src/reddit/actions/pages/postDraft.ts");const Co={};var wo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ms.e:{const{postDrafts:e}=t.payload;return e||Co}case Ms.c:{const n=e,{draftId:r}=t.payload;return Ir()(n,r)}case f.N:{const{draftId:n}=t.payload;return n?Ir()(e,n):e}case To.a:{const{drafts:e}=t.payload;return e}default:return e}};n("./node_modules/core-js/modules/es6.regexp.match.js");const Do=e=>{if(e.payload&&e.payload.routeMatch)return e.payload.routeMatch.route.meta.name},xo=e=>{if(e.payload&&e.payload.routeMatch&&e.payload.routeMatch.match)return e.payload.routeMatch.match.queryParams},Po=e=>{if(e.payload&&e.payload.routeMatch&&e.payload.routeMatch.match)return e.payload.routeMatch.match.params};var Ao=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.d:return t.payload||"";case f.C:return"";case m.a:{if(Do(t)!==Ss.xb.POST_CREATION)return"";const n=xo(t);return n&&n.url?n.url||"":e}case Ms.g:{const e=t.payload;return e.kind===dr.b.Link&&e.body||""}case bo.f:return t.payload.url||"";default:return e}},Ro=(n("./node_modules/core-js/modules/es6.regexp.replace.js"),n("./src/reddit/models/ScheduledPost/index.ts"));const ko=e=>e?e.replace(/\+/g," "):"";var No=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.e:return t.payload||"";case f.C:case f.G:return"";case f.O:return t.payload.editorMode===ar.h.MARKDOWN?t.payload.content||"":e;case m.a:{if(Do(t)!==Ss.xb.POST_CREATION)return"";const n=xo(t);return n&&n.text?ko(n.text):e}case Ms.g:{const e=t.payload;return e.kind===dr.b.Markdown&&e.body||""}case bo.f:{const e=t.payload;return e.contentType===Ro.a.TEXT?e.body:""}default:return e}},Lo=n("./src/reddit/actions/upload.ts");var Mo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.f:return t.payload||null;case f.C:return null;case m.a:return Do(t)!==Ss.xb.POST_CREATION?null:e;case Ms.g:return null;case Lo.a:case Lo.f:{const{key:n}=t.payload;return n===ar.m?null:e}case bo.f:return null;default:return e}},Uo=n("./src/reddit/components/RichTextEditor/RTEState/index.tsx"),Fo=n("./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts");const Bo=Uo.a.createInitial;var Go=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bo(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.i:{const{rteState:e}=t.payload;return e}case f.C:return Uo.a.createInitial();case f.O:{const n=t.payload;return n.editorMode===ar.h.RICH_TEXT&&n.editorKey===ar.g.POST_CREATION?Uo.a.createInitial(n.content):e}case m.a:return Do(t)!==Ss.xb.POST_CREATION?Uo.a.createInitial():e;case Ms.g:{const e=t.payload;return e.kind===dr.b.RichText?Uo.a.createInitial(e.body):Uo.a.createInitial()}case bo.f:{const e=t.payload;return Uo.a.createInitial(e.contentType===Ro.a.RTJSON?Object(Fo.b)(e.body):void 0)}default:return e}},qo=Object(r.c)({link:Ao,markdown:No,media:Mo,rte:Go});var Vo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.b:return t.payload||null;case f.C:case Ms.g:case bo.f:case f.M:return null;case m.a:return Do(t)===Ss.xb.POST_CREATION?e:null;default:return e}};var Ho=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.c:return t.payload||null;case bo.f:case f.C:return null;case m.a:return Do(t)===Ss.xb.POST_CREATION?e:null;case Ms.g:return t.payload.flair||null;default:return e}};var Ko=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.r:return t.payload.type||null;case bo.f:case f.j:case f.C:case m.a:return null;default:return e}};var Wo=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.Q:return t.payload||!1;case bo.f:case f.C:return!1;case m.a:return Do(t)===Ss.xb.POST_CREATION&&e;case Ms.g:return t.payload.isChatPost||!1;default:return e}};var Jo=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.S:return t.payload||!1;case f.C:return!1;case m.a:return Do(t)===Ss.xb.POST_CREATION&&e;case Ms.g:return t.payload.isNSFW||!1;case bo.f:return t.payload.isNsfw;default:return e}};var Yo=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.T:return t.payload||!1;case f.C:return!1;case f.M:{const{name:n}=t.payload;return!!n&&e}case m.a:return Do(t)===Ss.xb.POST_CREATION&&e;case Ms.g:return t.payload.isOriginalContent||!1;case bo.f:return t.payload.isOriginalContent;default:return e}};var zo=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.U:return t.payload||!1;case bo.f:case f.C:return!1;case m.a:return Do(t)===Ss.xb.POST_CREATION&&e;default:return e}};var Qo=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bo.f:case f.C:return!1;case Ms.n:return t.payload;case m.a:return Do(t)===Ss.xb.POST_CREATION&&e;case Ms.g:return t.payload.isPublicLink;default:return e}};var Xo=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.V:return t.payload||!1;case f.C:return!1;case m.a:return Do(t)===Ss.xb.POST_CREATION&&e;case Ms.g:return t.payload.isSpoiler||!1;case bo.f:return t.payload.isSpoiler;default:return e}};var $o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.b:{const{subredditName:e}=t.payload;return e}case m.a:case f.j:case f.r:case f.C:case l.h:return"";default:return e}};var Zo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.c:{const{username:e}=t.payload;return e}case m.a:case f.j:case f.r:case f.C:case l.h:return"";default:return e}};var ei=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.L:case f.M:return t.payload;case f.K:case m.a:return null;default:return e}},ti=n("./src/reddit/actions/polls.ts");var ni=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ti.a:return Object.assign({},t.payload);case bo.f:case l.h:case f.C:return null;default:return e}};var ri=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.g:return t.payload||null;case f.C:case Ms.g:case f.M:return null;case m.a:return Do(t)===Ss.xb.POST_CREATION?e:null;case bo.f:{const e=t.payload;return{submitDate:e.publishAt,timezoneName:e.clientTimezone,frequencyOption:null,recurrenceInfo:null}}default:return e}};var si=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:r}=t;switch(n){case f.W:return r||!1;case m.a:return Do(t)===Ss.xb.POST_CREATION&&e;case bo.f:case Ms.g:return!1;default:return e}};var oi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.h:return t.payload||"";case m.a:return Do(t)!==Ss.xb.POST_CREATION?"":e;default:return e}};var ii=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a:return Do(t)!==Ss.xb.POST_CREATION?null:e;case f.C:return null;case bo.f:return t.payload.id;default:return e}};var ci=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.C:return!0;case f.X:return t.payload;case m.a:return Do(t)!==Ss.xb.POST_CREATION||e;case Ms.g:return t.payload.sendReplies;case bo.f:return t.payload.isSendReplies;default:return e}};const ai=Ss.Fb.POST;var di=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ai,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.C:case p.d:case p.c:return ai;case f.s:return Ss.Fb.CROSSPOST;case p.a:return Ss.Fb.MEDIA;case f.j:return t.payload.submissionType||ai;case m.a:{if(Do(t)!==Ss.xb.POST_CREATION)return ai;const n=xo(t);if(!n)return e;const{title:r="",url:s,text:o="",media:i=!1,selftext:c=!1}=n,a=r&&!o&&!c;return i?Ss.Fb.MEDIA:void 0!==s||a?Ss.Fb.LINK_ONLY:o||c?Ss.Fb.POST:e}case Ms.g:{const e=t.payload;return dr.a[e.kind]}case bo.f:return t.payload.url?Ss.Fb.LINK_ONLY:Ss.Fb.POST;default:return e}},ui=n("./src/reddit/models/Poll/index.ts");const li=e=>e?e.replace(/\+/g," "):"",bi=e=>"Should ".concat(e||"username"," become the top moderator?"),pi=e=>e?"Should we spin-off to r/".concat(e,"?"):"Should we spin-off to a new community?";var mi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.s:return t.payload.postTitle||"";case f.k:return t.payload||"";case f.B:{const{title:n}=t.payload;return e||(n||"")}case f.C:case p.d:case p.c:return"";case m.a:{if(Do(t)!==Ss.xb.POST_CREATION)return"";const n=xo(t);return n&&n.title?li(n.title):e}case Ms.g:return t.payload.title;case f.r:{const{oldType:n,type:r}=t.payload;return r===ui.a.ReplaceTopMod?bi(""):r===ui.a.Spinoff?pi(""):n===ui.a.ReplaceTopMod||n===ui.a.Spinoff?"":e}case l.c:{const{username:e}=t.payload;return bi(e)}case l.b:{const{subredditName:e}=t.payload;return pi(e)}case f.j:{const{extra:n}=t.payload;return!n||n.govType!==ui.a.ReplaceTopMod&&n.govType!==ui.a.Spinoff?e:""}case bo.f:return t.payload.title;default:return e}},fi=Object(r.c)({body:qo,eventSchedule:Vo,flair:Ho,govType:Ko,isChatPost:Wo,isNSFW:Jo,isOC:Yo,isPoll:zo,isPublicLink:Qo,isSpoiler:Xo,newSubreddit:$o,newTopMod:Zo,nextSubreddit:ei,polls:ni,postSchedule:ri,postToTwitter:si,recaptcha:oi,scheduledPostId:ii,sendReplies:ci,submissionType:di,title:mi});var Oi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a:return Do(t)===Ss.xb.POST_CREATION?e:null;case f.F:{const{editorMode:e}=t.payload;return e}case f.G:return null;case f.O:{const{editorMode:e}=t.payload;return e}case bo.f:return t.payload.contentType===Ro.a.RTJSON?ar.h.RICH_TEXT:ar.h.MARKDOWN;default:return e}};const gi={title:[],body:[],link:[],flair:[]},ji=(e,t)=>{const n=(t.fields||[]).filter(e=>{let{field:t}=e;return Object(ar.v)(t)});if(!n.length)return e;const r=n.reduce((e,t)=>(e[t.field]||(e[t.field]=[]),e[t.field].push(t.msg),e),{});return Object.assign({},e,r)};var hi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.c:case f.d:case f.e:return e[Ss.kb.BODY]?Object.assign({},e,{[Ss.kb.BODY]:[]}):e;case f.i:{const{isContentChanged:n}=t.payload;return e[Ss.kb.BODY]&&n?Object.assign({},e,{[Ss.kb.BODY]:[]}):e}case f.k:return e[Ss.kb.TITLE]?Object.assign({},e,{[Ss.kb.TITLE]:[]}):e;case f.J:{const n=t.payload;return Object.assign({},e,{[n]:[]})}case f.o:{const n=t.payload;return n?Object.assign({},e,{[n]:[]}):gi}case f.I:case f.H:{const n=t.payload;return ji(e,n)}case m.a:return Do(t)!==Ss.xb.POST_CREATION?gi:e;default:return e}};var yi=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.b:case f.c:case f.d:case f.e:case f.f:case f.g:case f.k:case f.j:case f.S:case f.T:case f.V:case Ms.n:case f.X:return!0;case f.i:{const{isContentChanged:n}=t.payload;return!!n||e}case f.N:case bo.d:return!1;case f.P:return t.payload;case m.a:return Do(t)===Ss.xb.POST_CREATION&&e;case f.C:case Ms.l:case Ms.g:return!1;default:return e}};var _i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.x:return e===t.payload?null:t.payload||null;case s.c:return t.payload?null:e;case m.a:return Do(t)!==Ss.xb.POST_CREATION?null:e;default:return e}};const Ei=ar.r.Post;var Ii=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.y:return ar.r.Post;case f.D:return t.payload;case Ms.j:return ar.r.Draft;case m.a:return Do(t)!==Ss.xb.POST_CREATION?Ei:e;default:return e}},vi=Object(r.c)({editorMode:Oi,fieldValidation:hi,isChanged:yi,modalId:_i,submitMode:Ii});var Si=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.F:return t.payload.editorMode===ar.h.MARKDOWN?t.payload.postContent||"":e;case f.G:return"";case f.O:return t.payload.editorMode===ar.h.MARKDOWN?t.payload.content||"":e;default:return e}};const Ti=Uo.a.createInitial;var Ci=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ti(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.G:return Uo.a.createInitial();case f.F:{const n=t.payload;return n.editorMode===ar.h.RICH_TEXT&&"object"==typeof n.postContent?Uo.a.createInitial(n.postContent,n.mediaMetadata):e}case f.O:{const n=t.payload;return n.editorMode===ar.h.RICH_TEXT&&n.editorKey===ar.g.POST_EDITING?Uo.a.createInitial(n.content):e}default:return e}},wi=Object(r.c)({markdown:Si,rte:Ci});var Di=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.F:{const{postId:e}=t.payload;return e}case f.G:return null;default:return e}},xi=Object(r.c)({draft:wi,postId:Di}),Pi=Object(r.c)({api:So,drafts:wo,formData:fi,formState:vi,postEditing:xi}),Ai=n("./src/reddit/actions/dashboard.ts");const Ri={selectedComponent:null,subredditPending:!1,subredditLoaded:{}};var ki=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ai.a:return Object.assign({},e,{selectedComponent:t.payload});case Ai.c:{const n=t.payload,r=e.subredditLoaded[n];return Object.assign({},e,{subredditPending:!r,subredditLoaded:Object.assign({},e.subredditLoaded,{[n]:r||!1})})}case Ai.b:{const n=t.payload;return Object.assign({},e,{subredditPending:!1,subredditLoaded:Object.assign({},e.subredditLoaded,{[n]:!0})})}default:return e}};var Ni=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.b:case ke.c:return null;case ke.a:{const{error:e}=t.payload;return e||null}default:return e}};var Li=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.c:return!1;case ke.b:return!0;default:return e}};var Mi=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.c:return!0;case ke.b:case ke.a:return!1;default:return e}},Ui=Object(r.c)({error:Ni,loaded:Li,pending:Mi}),Fi=Object(r.c)({list:Ui});const Bi={};var Gi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.b:{const{discoveryUnits:n}=t.payload;return mn()(n)?e:Object.assign({},e,n)}default:return e}};const qi={};var Vi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.b:{const{discoveryUnits:n}=t.payload;if(mn()(n))return e;const r={};return yn()(n,e=>{r[Object(_n.f)(e.unitName)]=e.id}),Object.assign({},e,r)}default:return e}},Hi=Object(r.c)({api:Fi,models:Gi,nameToId:Vi}),Ki=n("./src/reddit/actions/dismissedTruncationList/constants.ts");const Wi=[];var Ji=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ki.a:{const{subredditId:n}=t.payload;return[...e,n]}default:return e}},Yi=n("./src/reddit/models/Badge/managementPage.ts");const zi={badgeType:Yi.a.Cosmetic,view:Yi.c.Gallery};var Qi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.d:{const{badge:n,initialView:r}=t.payload;return n||r?Object.assign({},e,{badgeType:n?Object(Yi.d)(n.placement):e.badgeType,view:r}):e}case d.c:{const n=t.payload;return Object.assign({},e,{badgeType:n})}case d.e:{const n=t.payload;return Object.assign({},e,{view:n})}case s.b:return zi;default:return e}};var Xi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.d:return{badge:t.payload.badge};case s.b:return null;case d.g:case d.h:return t.payload;case d.l:return t.payload||null;default:return e}};var $i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.a:return t.payload;case s.b:return null;default:return e}};const Zi={};var ec=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.f:{const{emotes:n,emoteCollections:r}=t.payload.products,s={};return n.forEach(e=>{const t=e.extra&&e.extra.assets,n=Object.keys(e.collections||{})[0]||e.title,o=r[n];s[n]||(s[n]={emotes:{},position:o?o.position:0,title:o?o.title:e.title}),t&&Object.keys(t).forEach(r=>{const o=t[r];s[n].emotes[r]={id:r,emoji:o.emoji,extra:{rtDescription:e.extra&&e.extra.rtDescription},fullId:"emote|".concat(e.id,"|").concat(r),imageType:o.emoji.type,sticker:o.sticker}})}),Object.assign({},e,{[t.payload.subredditId]:Object.keys(s).map(e=>s[e]).sort((e,t)=>e.position-t.position)})}default:return e}},tc=n("./src/reddit/actions/economics/ftue/constants.ts");const nc={tippingHighlightViewed:null,topTippersViewed:null};var rc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tc.a:return Object.assign({},e,{tippingHighlightViewed:!0});case tc.b:return Object.assign({},e,{tippingHighlightViewed:!0,topTippersViewed:!0});default:return e}};const sc={};var oc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.f:{const n=t.payload.products.giphy.length>0;return Object.assign({},e,{[t.payload.subredditId]:{hasGifProduct:n}})}default:return e}},ic=n("./src/reddit/reducers/economics/paymentSystems/index.ts");const cc={allSubscriptionsFetched:!1,data:{}};var ac=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.a:{const n=t.payload;return{allSubscriptionsFetched:!0,data:Object.assign({},e.data,n)}}case d.j:{const{subredditId:n}=t.payload;return e.data[n]?Object.assign({},e,{data:Object.assign({},e.data,{[n]:Object.assign({},e.data[n],{settings:{renew:!1}})})}):e}default:return e}},dc=n("./src/reddit/reducers/economics/subredditPremium/index.ts"),uc=n("./src/reddit/actions/economics/tips/constants.ts"),lc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const bc={};var pc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case uc.a:{const{subredditId:n,tipData:r}=t.payload,s=e[n]||{};return Object.assign({},e,{[n]:Object.assign({},s,r)})}case u.b:{const{accountId:n,accountUsername:r,anonymous:s,amount:o,contentId:i,subredditId:c}=t.payload,a=e[c]||{},d=a[i]||{},u=d.amounts||{usdr:{amount:"0",users:{}}},l=u.usdr,b=l.amount||"0",p=String(parseInt(b)+parseInt(o)),m=u.usdr.users||{},{anonymous:f={amount:"0",includesUser:!1,numUsers:0}}=m,O=lc(m,["anonymous"]),g=s?Object.assign({},O,{anonymous:{amount:String(parseInt(f.amount)+parseInt(o)),includesUser:!0,numUsers:f.includesUser?f.numUsers:f.numUsers+1}}):Object.assign({},m,{[n]:Object.assign({},m[n]||{},{amount:m[n]?String(parseInt(m[n].amount||"0")+parseInt(o)):o,username:r})});return Object.assign({},e,{[c]:Object.assign({},a,{[i]:Object.assign({},d,{amounts:Object.assign({},u,{usdr:Object.assign({},l,{amount:p,users:g})})})})})}default:return e}},mc=Object(r.c)({currentBadgeManagementScreen:Qi,currentModalArgs:Xi,currentPaymentTarget:$i,emotes:ec,ftue:rc,gifs:oc,paymentSystems:ic.b,specialMemberships:ac,subredditPremium:dc.b,tipDetails:pc}),fc=n("./src/reddit/actions/emoji.ts"),Oc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const gc={};var jc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fc.h:{const n=t.payload;return Object.assign({},e,{[n]:!0})}case fc.g:{const{subredditId:n}=t.payload,r=n;e[r];return Oc(e,["symbol"==typeof r?r:r+""])}case fc.f:{const{subredditId:n}=t.payload,r=n;e[r];return Oc(e,["symbol"==typeof r?r:r+""])}default:return e}},hc=Object(r.c)({pending:jc}),yc=Object(r.c)({list:hc}),_c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const Ec={};var Ic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ec,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fc.f:case fc.c:return e;case fc.g:{const{data:e}=t.payload;return e}case fc.d:{const{emojiName:n,subredditId:r}=t.payload,s=e[r].emojis,o=n,i=(s[o],_c(s,["symbol"==typeof o?o:o+""]));return Object.assign({},e,{[r]:Object.assign({},e[r],{emojis:i})})}case fc.i:{const n=t.payload,r=e[n.subredditId].emojis,s={url:n.url,name:n.name,userFlairAllowed:n.userFlairAllowed,postFlairAllowed:n.postFlairAllowed,modFlairOnly:n.modFlairOnly},o=Object.assign({},r,{[n.name]:s});return Object.assign({},e,{[n.subredditId]:Object.assign({},e[n.subredditId],{emojis:o})})}case fc.e:{const{emojiName:n,isSnoomoji:r,settings:s,subredditId:o}=t.payload,i=r?"snoomojis":"emojis",c=e[o][i],a=Object.assign({},c,{[n]:Object.assign({},c[n],s)});return Object.assign({},e,{[o]:Object.assign({},e[o],{[i]:a})})}default:return e}},vc=Object(r.c)({api:yc,models:Ic}),Sc=n("./src/reddit/actions/experiments.ts");const Tc=/^experiment_(.*)$/i,Cc=e=>{const t=e.match(Tc);if(null!==t)return t[1]},wc={};var Dc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a:{const n=xo(t);if(!n)return e;const r={};for(const e in n){const t=Cc(e);t&&(r[t.toLowerCase()]=n[e]||"")}return mn()(r)?e:Object.assign({},e,r)}case Sc.b:{const{experimentName:n,override:r}=t.payload;return n?Object.assign({},e,{[n]:r||""}):e}default:return e}},xc=n("./src/reddit/actions/externalAccount.ts");const Pc={};var Ac=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xc.e:case xc.f:{const{provider:n}=t.payload;return Object.assign({},e,{[n]:null})}case xc.d:{const{provider:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Rc={};var kc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xc.e:{const{provider:n}=t.payload;return Object.assign({},e,{[n]:!0})}case xc.f:case xc.d:{const{provider:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Nc=Object(r.c)({error:Ac,pending:kc});const Lc={};var Mc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xc.l:case xc.k:{const{provider:n}=t.payload;return Object.assign({},e,{[n]:null})}case xc.j:{const{provider:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Uc={};var Fc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xc.b:{const{provider:n}=t.payload;return Object.assign({},e,{[n]:!0})}case xc.c:case xc.a:{const{provider:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Bc=Object(r.c)({error:Mc,pending:Fc});const Gc={};var qc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xc.i:case xc.h:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n]:null})}case xc.g:{const{subredditName:n,apiError:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Vc={};var Hc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xc.h:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}};const Kc={};var Wc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xc.i:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n]:!0})}case xc.h:case xc.g:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Jc=Object(r.c)({error:qc,fetched:Hc,pending:Wc});const Yc={};var zc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xc.l:case xc.k:{const{username:n}=t.payload;return Object.assign({},e,{[n]:null})}case xc.j:{const{username:n,apiError:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Qc={};var Xc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xc.l:{const{username:n}=t.payload;return Object.assign({},e,{[n]:!0})}case xc.k:case xc.j:{const{username:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},$c=Object(r.c)({error:zc,pending:Xc}),Zc=Object(r.c)({connect:Nc,disconnect:Bc,user:$c,subreddit:Jc});const ea={};var ta=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xc.h:{const{subredditName:n,accountsData:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const na={};var ra=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xc.k:{const{username:n,accountsData:r}=t.payload;return Object.assign({},e,{[n]:r})}case xc.c:{const{username:n,provider:r}=t.payload,s=e[n];return s&&s[r]?Object.assign({},e,{[n]:Ir()(s,r)}):e}default:return e}},sa=Object(r.c)({api:Zc,user:ra,subreddit:ta}),oa=n("./src/reddit/featureFlags/index.ts");const ia=new Set(["0","disabled","false","off",""]);var ca=e=>!ia.has(e.toLowerCase());const aa=oa.a.reduce((e,t)=>(e[t.toLowerCase()]=t,e),{}),da=oa.a.reduce((e,t)=>(e[t]=null,e),{});var ua=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a:{const n=xo(t);if(void 0!==n){const t={};for(const e in n){const r=Object(oa.g)(e);if(r){const s=aa[r.toLowerCase()];if(s){const r=n[e],o="string"!=typeof r||ca(r);t[s]=o}}}if(Object.keys(t).length>0)return Object.assign({},e,t)}return e}case oa.b:{const{featureName:n,currentValue:r}=t.payload;return r===e[n]?e:Object.assign({},e,{[n]:r})}case oa.c:{const{featureName:n,currentValue:r}=t.payload;return Object.assign({},e,{[n]:!r})}default:return e}},la=Object(r.c)({overrides:ua});var ba=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.g:case te.i:return null;case te.f:return t.payload;default:return e}};var pa=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.i:return!0;case te.g:case te.f:return!1;default:return e}},ma=Object(r.c)({error:ba,pending:pa});const fa={};var Oa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.g:case te.k:{const{subredditId:n,flairedUsers:r}=t.payload;return F()(Object.assign({},e),{[n]:r})}case te.c:{const{subredditId:n,userName:r}=t.payload,s=Ir()(e[n],r);return Object.assign({},e,{[n]:s})}case te.a:case te.b:case te.h:const{subredditId:n,userName:r,applied:s}=t.payload;return s?Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:s})}):e;default:return e}};const ga={};var ja=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.g:{const{key:n,pageInfo:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};var ha=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.l:case te.k:return null;case te.j:return t.payload;default:return e}};var ya=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.l:return!0;case te.k:case te.j:return!1;default:return e}},_a=Object(r.c)({error:ha,pending:ya});var Ea=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.k:{const{searchResult:e}=t.payload;return e}case te.c:{const{userName:n}=t.payload;return e===n?null:e}default:return e}},Ia=Object(r.c)({api:_a,result:Ea});const va={};var Sa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.g:{const{key:n,userOrder:r}=t.payload;return Object.assign({},e,{[n]:r})}case te.a:{const{key:n,userName:r}=t.payload;if(!n)return e;if(!e[n].includes(r)){const t=[...e[n],r];return Object.assign({},e,{[n]:t})}return e}case te.c:{const{userName:n}=t.payload,r={};for(const t in e)r[t]=e[t].filter(e=>e!==n);return r}default:return e}},Ta=Object(r.c)({api:ma,models:Oa,pageInfo:ja,search:Ia,userOrder:Sa}),Ca=n("./src/reddit/actions/focusedVerticals/constants.ts");const wa={focusedVerticalGqlError:null};var Da=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ca.f:case Ca.e:return Object.assign({},e,{focusedVerticalGqlError:null});case Ca.d:return Object.assign({},e,{focusedVerticalGqlError:t.payload});default:return e}};const xa={focusedVerticalGqlPending:!1};var Pa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ca.f:return Object.assign({},e,{focusedVerticalGqlPending:!0});case Ca.d:case Ca.e:return Object.assign({},e,{focusedVerticalGqlPending:!1});default:return e}},Aa=Object(r.c)({error:Da,pending:Pa});const Ra={dismissed:!0};var ka=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ca.h:return{dismissed:!1};case Ca.g:return{dismissed:!0};default:return e}};var Na=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ca.e:return t.payload.interactedSubredditIds||null;default:return e}};var La=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ca.e:return t.payload.recommendedSubredditIds||null;default:return e}},Ma=Object(r.c)({api:Aa,components:ka,interactedSubredditIds:Na,recommendedSubredditIds:La}),Ua=n("./src/lib/makeActionCreator/index.ts");Object(Ua.a)("FONTS_FONT_FILES_PARSED");const Fa=[];var Ba=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FONTS_FONT_FILES_PARSED":return t.payload.fonts;default:return e}};var Ga=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.m:return t.payload.error&&t.payload.error.fields&&t.payload.error.fields[0]&&t.payload.error.fields[0].msg||"An unknown error occurred";case ge.b:case m.a:case ge.G:case ge.q:return null;default:return e}};var qa=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.b:case m.a:case ge.q:case ge.m:return!1;case ge.n:return!0;default:return e}};var Va=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.n:case ge.b:case m.a:case ge.q:case ge.m:return!1;case ge.r:return!0;default:return e}},Ha=Object(r.c)({error:Ga,pending:qa,showLoader:Va});var Ka=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;const n=t.payload;switch(t.type){case ge.F:case ge.G:return n.gildModalId;case ge.q:case m.a:case ge.b:return null;default:return e}};var Wa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;const n=t.payload;switch(t.type){case ge.F:case ge.G:return n.thingId;case ge.q:case m.a:case ge.b:return null;default:return e}};var Ja=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.u:return t.payload;case ge.t:case ge.G:return null;default:return e}};var Ya=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.o:return t.payload;case ge.G:return!1;default:return e}};var za=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.p:return t.payload;case ge.G:return!1;default:return e}};var Qa=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.F:return!0;default:return e}};var Xa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.s:return t.payload;case ge.G:return"";default:return e}};const $a=Re.i;var Za=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.J:return t.payload;case ge.G:return $a;default:return e}},ed=Object(r.c)({api:Ha,gildModalId:Ka,gildModalThingId:Wa,includeMessage:Ya,isAnonymous:za,isIframed:Qa,message:Xa,giveAwardTooltipThingId:Ja,selectedAward:Za});var td=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.v:return t.payload.error&&t.payload.error.fields&&t.payload.error.fields[0]&&t.payload.error.fields[0].msg||"An unknown error occurred";case ge.c:case m.a:case ge.H:case ge.A:return null;default:return e}};var nd=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.c:case m.a:case ge.A:case ge.v:return!1;case ge.w:return!0;default:return e}},rd=Object(r.c)({error:td,pending:nd});var sd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.H:return t.payload;case m.a:case ge.c:case ge.A:return"";default:return e}},od=Object(r.c)({api:rd,givePremiumModalAccountName:sd}),id=n("./src/reddit/actions/goldPurchaseModals/coinPurchaseModal.ts"),cd=n("./src/reddit/actions/goldPurchaseModals/constants.ts");var ad=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"selectPayment",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case id.b:return"selectPayment";case cd.f:return"paymentCompleted";default:return e}};var dd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case id.a:case ge.b:case ge.q:return null;case id.c:return t.payload&&t.payload.thingId?t.payload.thingId:e;default:return e}};var ud=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case id.b:{const{coinPackage:e}=t.payload;return e}case cd.f:case id.a:return null;default:return e}};var ld=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case id.b:return!0;case ge.G:case m.a:case id.a:return!1;default:return e}},bd=Object(r.c)({activePage:ad,gildThingId:dd,purchasePackage:ud,showModal:ld}),pd=n("./src/reddit/actions/goldPurchaseModals/premiumPurchaseModal.ts");var md=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cd.b:{const{cardName:e}=t.payload;return e}case cd.i:return t.payload!==Ss.tb?"":e;case id.a:case pd.a:case cd.c:case m.a:return"";default:return e}};var fd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cd.l:{const{error:n,elementType:r}=t.payload;return"cardCvc"===r?n&&n.message||"":e}case cd.i:return t.payload!==Ss.tb?"":e;case id.a:case pd.a:case cd.c:case m.a:return"";default:return e}};var Od=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cd.l:{const{error:n,elementType:r}=t.payload;return"cardExpiry"===r?n&&n.message||"":e}case cd.i:return t.payload!==Ss.tb?"":e;case id.a:case pd.a:case cd.c:case m.a:return"";default:return e}};var gd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cd.l:{const{error:n,elementType:r}=t.payload;return"cardNumber"===r?n&&n.message||"":e}case cd.i:return t.payload!==Ss.tb?"":e;case id.a:case pd.a:case cd.c:case m.a:return"";default:return e}};var jd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cd.a:return t.payload.message||e;case cd.b:return"";case cd.i:return t.payload!==Ss.tb?"":e;case id.a:case pd.a:case cd.c:case m.a:return"";default:return e}};var hd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cd.l:{const{error:n,elementType:r}=t.payload;return"postalCode"===r?n&&n.message||"":e}case cd.i:return t.payload!==Ss.tb?"":e;case id.a:case pd.a:case cd.c:case m.a:return"";default:return e}},yd=Object(r.c)({cardCvc:fd,cardExpiry:Od,cardNumber:gd,nameOnCard:jd,postalCode:hd});const _d=Ss.ub;var Ed=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case id.b:case pd.b:return _d;case cd.i:return t.payload;default:return e}};var Id=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cd.g:return t.payload||e;case cd.i:{const{method:n}=t.payload;return n===Ss.ub?null:e}case id.b:case pd.b:case ge.G:return null;default:return e}};var vd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case id.b:case pd.b:return"";case id.d:case pd.c:{const e=t.payload;return e.body&&e.body.passthrough?e.body.passthrough:""}default:return e}},Sd=Object(r.c)({errorMessage:Id,passthrough:vd});var Td=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cd.o:return!e;case cd.i:return t.payload!==Ss.tb||e;case id.a:case pd.a:case m.a:return!0;default:return e}};const Cd=[];var wd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cd.e:return t.payload;case cd.d:{const n=t.payload;return e.filter(e=>e.cardId!==n)}default:return e}};var Dd=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cd.h:return!0;case cd.e:return!1;default:return e}};var xd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cd.a:case cd.m:return t.payload.message||e;case cd.k:return t.payload;case cd.l:case cd.b:case cd.n:return null;case cd.i:return t.payload===Ss.tb?null:e;default:return e}};var Pd=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cd.a:case cd.k:case cd.m:return!1;case cd.i:return t.payload!==Ss.tb&&e;case cd.n:return!0;default:return e}},Ad=Object(r.c)({errorMessage:xd,pending:Pd});var Rd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cd.j:return t.payload;case cd.d:return t.payload===e?null:e;default:return e}},kd=Object(r.c)({cardName:md,cardValidation:yd,paymentMethod:Ed,paypal:Sd,rememberCard:Td,savedCards:wd,savedCardsPending:Dd,stripeToken:Ad,useSavedCard:Rd});var Nd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"selectPayment",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pd.b:return"selectPayment";case cd.f:return"paymentCompleted";default:return e}};var Ld=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pd.b:return!0;case m.a:case pd.a:return!1;default:return e}},Md=Object(r.c)({activePage:Nd,showModal:Ld});var Ud=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cd.p:case cd.r:return!1;case cd.q:return!0;default:return e}},Fd=Object(r.c)({pending:Ud}),Bd=Object(r.c)({coinPurchaseModal:bd,payment:kd,premiumPurchaseModal:Md,updateCardModal:Fd}),Gd=n("./src/reddit/actions/header.ts"),qd=n("./src/reddit/actions/overlayEvents.ts");var Vd=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Gd.a:return!1;case Gd.b:return!0;case Gd.c:return!e;case qd.b:return!1;default:return e}},Hd=Object(r.c)({isSubscriptionsDropdownOpen:Vd}),Kd=n("./src/reddit/actions/imageUploads.ts");const Wd={};var Jd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kd.d:{const n=t.payload;return Object.assign({},e,{[n.id]:n})}case Kd.c:case Kd.e:case Kd.b:{const n=t.payload;return e[n.id]?Object.assign({},e,{[n.id]:n}):e}case Kd.a:{const n=t.payload;if(!e[n.id])return e;const r=Object.assign({},e);return delete r[n.id],r}default:return e}},Yd=n("./src/reddit/actions/emailVerificationTooltip.ts");var zd=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yd.a:return!e;default:return e}},Qd=n("./src/reddit/actions/moderatingSubreddits.ts");var Xd=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qd.a:{if(e)return e;const n=t.payload;return Object.keys(n).some(e=>!0===n[e].posts)}case ae.b:case Me.b:case re.b:case Fe.b:{if(e)return e;const{payload:n}=t;return n.subredditPermissions&&n.subreddits?n.subredditPermissions.posts:e}case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:{if(e)return e;const{response:n}=t.payload,{moderatingSubreddits:r,moderatingProfiles:s}=n;let o=Object.keys(r).some(e=>!0===r[e].posts);if(!o){o=Object.keys(s).some(e=>!0===r[e].posts)}return o}default:return e}},$d=n("./src/reddit/actions/jsApi.ts");const Zd=[];var eu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $d.a:{const n=t.payload;return-1===e.indexOf(n)&&(e=[...e,n]).sort(),e}default:return e}};var tu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.f:return t.payload;case p.a:case p.d:case p.b:return null;default:return e}};var nu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.a:return t.payload.background;default:return e}};var ru=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.a:return t.payload.box;default:return e}};var su=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.a:return Date.now();default:return e}},ou=Object(r.c)({draft:tu,editorBackground:nu,layerBox:ru,startTime:su}),iu=n("./src/reddit/actions/leaderboard/constants.ts"),cu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const au={};var du=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:au,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iu.b:{const{key:n,data:r}=t.payload;return Object.assign({},e,{[n]:r})}case iu.c:case iu.d:{const{key:n}=t.payload,r=n;e[r];return cu(e,["symbol"==typeof r?r:r+""])}default:return e}},uu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const lu={};var bu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iu.b:case iu.d:{const{key:n}=t.payload,r=n;e[r];return uu(e,["symbol"==typeof r?r:r+""])}case iu.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}},pu=Object(r.c)({error:du,pending:bu});const mu={};var fu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iu.a:{const{dateRange:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};const Ou={};var gu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iu.d:{const{key:n,data:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},ju=Object(r.c)({api:pu,dateRangeSelection:fu,models:gu});var hu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a:{const{listingKey:n}=t.payload;return n||e}default:return e}},yu=n("./src/reddit/actions/pages/explore.ts");const _u={};var Eu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve.b:case Ve.c:case ce.b:case ce.c:{const{key:n,type:r}=t.payload;return-1===r.indexOf(Ss.Jb.Subreddits)&&-1===r.indexOf(Ss.Jb.Users)?e:Object.assign({},e,{[n]:null})}case Ve.a:case ce.a:{const{key:n,error:r,type:s}=t.payload;return-1===s.indexOf(Ss.Jb.Subreddits)&&-1===s.indexOf(Ss.Jb.Users)?e:Object.assign({},e,{[n]:r})}case ke.f:case ke.e:case yu.c:case yu.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case ke.d:case yu.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Iu={};var vu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve.b:case ce.b:{const{key:n,type:r}=t.payload;return-1===r.indexOf(Ss.Jb.Subreddits)&&-1===r.indexOf(Ss.Jb.Users)?e:Object.assign({},e,{[n]:!0})}case Ve.c:case Ve.a:case ce.c:case ce.a:{const{key:n,type:r}=t.payload;return-1===r.indexOf(Ss.Jb.Subreddits)&&-1===r.indexOf(Ss.Jb.Users)?e:Object.assign({},e,{[n]:!1})}case ke.f:case yu.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case ke.e:case ke.d:case yu.b:case yu.a:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Su=Object(r.c)({error:Eu,pending:vu});const Tu={};var Cu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve.c:{const{fetchedToken:n,key:r,type:s}=t.payload;if(-1===s.indexOf(Ss.Jb.Subreddits)&&-1===s.indexOf(Ss.Jb.Users))return e;const o=e[r];return Object.assign({},e,{[r]:Object.assign({},o,{[n]:!0})})}case ke.e:case yu.b:{const{fetchedToken:n,key:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{[n]:!0})})}default:return e}};const wu={};var Du=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve.c:{const{key:n,listingOrder:r,type:s}=t.payload;return-1===s.indexOf(Ss.Jb.Subreddits)&&-1===s.indexOf(Ss.Jb.Users)?e:Object.assign({},e,{[n]:e[n].concat(r)})}case ce.c:{const{key:n,listingOrder:r,type:s}=t.payload;return-1===s.indexOf(Ss.Jb.Subreddits)&&-1===s.indexOf(Ss.Jb.Users)?e:Object.assign({},e,{[n]:r})}default:return e}};const xu={};var Pu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yu.b:{const{key:n,ids:r}=t.payload;return r&&0!==r.length?Object.assign({},e,{[n]:[...e[n]||[],...r]}):e}default:return e}},Au=n("./src/lib/omitKey/index.ts");const Ru={};var ku=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ru,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve.c:case ce.c:{const{key:n,tokens:r,type:s}=t.payload;return-1===s.indexOf(Ss.Jb.Subreddits)&&-1===s.indexOf(Ss.Jb.Users)?e:r.listings?Object.assign({},e,{[n]:{token:r.listings}}):Object(Au.a)(e,n)}case ke.e:case yu.b:{const{key:n,token:r}=t.payload;return Object.assign({},e,{[n]:{token:r}})}default:return e}},Nu=Object(r.c)({api:Su,identifiers:Du,ids:Pu,fetchedTokens:Cu,loadMore:ku}),Lu=n("./src/reddit/actions/otherDiscussions/constants.ts");const Mu={};var Uu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.h:case re.g:case re.m:case re.l:case ae.c:case ae.b:case Ne.c:case Ne.b:case Ue.e:case Ue.f:case Ue.i:case Ue.h:case Le.s:case Le.r:case Lu.b:case Lu.c:case oe.f:case oe.e:case oe.c:case oe.b:case de.f:case de.e:case Be.f:case Be.e:case ue.j:case ue.i:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case ce.b:case ce.c:case Ve.b:case Ve.c:{const{key:n,type:r}=t.payload;return-1===r.indexOf(Ss.Jb.Posts)?e:Object.assign({},e,{[n]:null})}case re.f:case re.k:case ae.a:case Ne.a:case Ue.g:case Le.q:case Lu.a:case ue.h:case de.d:case Be.d:case oe.d:case oe.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case ce.a:case Ve.a:{const{error:n,key:r,type:s}=t.payload;return-1===s.indexOf(Ss.Jb.Posts)?e:Object.assign({},e,{[r]:n})}default:return e}},Fu=n("./src/reddit/actions/subreddit/constants.ts");const Bu={};var Gu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.h:case re.m:case oe.f:case Be.f:case ae.c:case Ne.c:case Ue.f:case Ue.i:case Le.s:case Lu.c:case de.f:case oe.c:case ue.j:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case ce.b:case Ve.b:{const{key:n,type:r}=t.payload;return-1===r.indexOf(Ss.Jb.Posts)?e:Object.assign({},e,{[n]:!0})}case re.g:case re.f:case re.k:case re.l:case Be.d:case Be.e:case oe.d:case oe.e:case ae.b:case ae.a:case Ne.b:case Ne.a:case Ue.e:case Ue.d:case Ue.h:case Ue.g:case Le.r:case Le.q:case de.d:case de.e:case oe.a:case oe.b:case Fu.h:case Lu.b:case Lu.a:case ue.i:case ue.h:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}case ce.c:case ce.a:case Ve.c:case Ve.a:{const{key:n,type:r}=t.payload;return-1===r.indexOf(Ss.Jb.Posts)?e:Object.assign({},e,{[n]:!1})}default:return e}},qu=Object(r.c)({error:Uu,pending:Gu}),Vu=n("./src/reddit/actions/postList.ts");const Hu={};var Ku=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vu.a:{const{listingKey:n,listingName:r}=t.payload;return Object.assign({},e,{[n]:r})}case Vu.b:{const{listingKey:n}=t.payload;return n in e?Ir()(e,[n]):e}default:return e}};const Wu={};var Ju=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue.e:case re.g:case re.l:case ae.b:case oe.e:{const{key:n}=t.payload;return Object.assign({},e,{[n]:{}})}case Ne.b:case Ue.h:case Le.r:case de.e:case oe.b:case ue.i:{const{key:n,fetchedToken:r}=t.payload,s=e[n];return Object.assign({},e,{[n]:Object.assign({},s,{[r]:!0})})}case Ve.c:{const{fetchedToken:n,key:r,type:s}=t.payload;if(s.indexOf(Ss.Jb.Posts)>-1){const t=e[r];return Object.assign({},e,{[r]:Object.assign({},t,{[n]:!0})})}return e}default:return e}};const Yu={};var zu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.h:case Ue.f:case re.m:case oe.f:case ae.c:case Be.f:case oe.f:{const{key:n}=t.payload;return Object.assign({},e,{[n]:[]})}case ke.e:case Ue.e:case re.g:case re.l:case ae.b:case Fu.h:case Lu.b:case Be.e:case oe.e:case qe.b:{const{key:n,postIds:r}=t.payload;return Object.assign({},e,{[n]:r})}case Ne.b:case Ue.h:case Le.r:case oe.b:case de.e:case ue.i:{const{key:n,postIds:r}=t.payload;return Object.assign({},e,{[n]:e[n].concat(r)})}case ce.c:{const{key:n,postOrder:r,type:s}=t.payload;return-1===s.indexOf(Ss.Jb.Posts)?e:Object.assign({},e,{[n]:r})}case Ve.c:{const{key:n,postOrder:r,type:s}=t.payload;return-1===s.indexOf(Ss.Jb.Posts)?e:Object.assign({},e,{[n]:e[n].concat(r)})}case _.j:{const{newStickiedPostList:n,listingKey:r}=t.payload;if(!e[r])return e;const s=[...e[r]].filter(e=>!n.includes(e));return s.unshift(...n),Object.assign({},e,{[r]:s})}default:return e}},Qu=n("./src/lib/makeListingKey/index.ts"),Xu=n("./src/reddit/actions/preferences.ts");const $u={};var Zu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.b:{const{key:n,listingSort:r}=t.payload;return r&&!Object(Qu.b)(n)?Object.assign({},e,{[n]:{sort:r,hasChanged:!1}}):e}case Xu.a:case Xu.p:{const t={};return Object.keys(e).forEach(n=>{t[n]=Object.assign({},e[n],{hasChanged:!0})}),t}default:return e}};const el={};var tl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:el,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.g:case re.l:case ae.b:case Be.e:case oe.e:case Ne.b:case Ue.e:case Ue.h:case Le.r:case de.e:case oe.b:case ue.i:{const{key:n,token:r,dist:s}=t.payload;return r?Object.assign({},e,{[n]:{token:r,dist:s}}):Object(Au.a)(e,n)}case Ve.c:case ce.c:{const{key:n,tokens:r,type:s}=t.payload;return-1===s.indexOf(Ss.Jb.Posts)?e:r.posts?Object.assign({},e,{[n]:{token:r.posts}}):Object(Au.a)(e,n)}default:return e}},nl=Object(r.c)({api:qu,endMarkers:Ku,fetchedTokens:Ju,ids:zu,listingSort:Zu,loadMore:tl}),rl=Object(r.c)({activeKey:hu,listingOrder:Nu,postOrder:nl});var sl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.g:return mn()(t.payload.featuredLiveThread)?e:t.payload.featuredLiveThread;default:return e}};var ol=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.g:return!0;default:return e}},il=Object(r.c)({featured:sl,isFrontpageLoaded:ol}),cl=n("./src/reddit/actions/media.ts");var al=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cl.b:return t.payload;default:return e}};var dl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cl.c:return t.payload;default:return e}},ul=Object(r.c)({isMuted:al,volume:dl}),ll=n("./src/reddit/actions/meta.ts");const bl={city:"",country:"",crawler:void 0,domain:"",isBot:!1,isSessionSeo:!1,method:"",protocol:"",region:"",sessionReferrerDomain:"",userAgent:"",pageloadServerTime:0};var pl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ll.b:return t.payload;case ll.a:return Object.assign({},e,t.payload);default:return e}};const ml={};var fl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ml,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.b:case Me.b:case re.b:case Fe.b:{const{payload:n}=t;if(!n.subredditPermissions||!n.subreddits)return e;const r=Object.keys(n.subredditAboutInfo||{});if(1!==r.length)return e;const s=r[0];return Object.assign({},e,{[s]:n.subredditPermissions})}case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:{const{response:n}=t.payload,{moderatingSubreddits:r,moderatingProfiles:s}=n;return Object.assign({},e,r,s)}case ue.f:case Ue.e:case ne.k:{const n=t.payload,{moderatingSubreddits:r,moderatingProfiles:s}=n;return Object.assign({},e,r,s)}case w.R:{const{subredditId:n}=t.payload;return Object(Au.a)(e,n)}case w.O:{const n=t.payload;return Object.assign({},e,n)}default:return e}},Ol=n("./src/reddit/actions/moderationLog/constants.ts");const gl={};var jl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ol.b:{const{actionIds:n,key:r,subredditId:s}=t.payload;return Object.assign({},e,{[s]:Object.assign({},e[s]||{},{[r]:n})})}default:return e}};const hl={};var yl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ol.b:{const{normalizedModerationLog:n,subredditId:r}=t.payload,s={};n.forEach(e=>{s[e.id]=e});const o={[r]:s};return F()(Object.assign({},e),o)}default:return e}},_l=Object(r.c)({itemOrder:jl,models:yl});var El=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ol.b:{const{endCursor:e}=t.payload;return e}default:return e}};const Il={};var vl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Il,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ol.b:{const{hasNextPage:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};const Sl={};var Tl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ol.b:{const{hasPreviousPage:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};const Cl=[];var wl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ol.a:{const{normalizedModerators:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};var Dl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ol.b:{const{startCursor:e}=t.payload;return e}default:return e}},xl=Object(r.c)({actions:_l,endCursor:El,hasNextPage:vl,hasPreviousPage:Tl,moderators:wl,startCursor:Dl});const Pl={};var Al=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.s:{const{response:n}=t.payload,r={[n.subredditId]:n.moderators};return F()(Object.assign({},e),r)}case w.u:{const{subredditId:n,userId:r,permissions:s}=t.payload,o=Object.assign({},e);return o[n][r].modPermissions=s,F()(Object.assign({},e),Object.assign({},o))}case w.Q:{const{subredditId:n,userId:r}=t.payload,s=Object.assign({},e);return delete s[n][r],s}case w.E:{const n=t.payload,{moderators:r,subredditId:s}=n,o=s in e?e[s]:{};return Object.assign({},e,{[s]:Object.assign({},o,r)})}default:return e}};const Rl={};var kl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.t:case w.s:{const{key:n,subredditId:r}=t.payload;return r?Object.assign({},e,{[n]:null}):e}case w.r:{const{error:n,key:r,subredditId:s}=t.payload;return s?Object.assign({},e,{[r]:n}):e}default:return e}};const Nl={};var Ll=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.r:case w.s:{const{subredditId:n,key:r}=t.payload;return n?Object.assign({},e,{[r]:!1}):e}case w.t:{const{subredditId:n,key:r}=t.payload;return n?Object.assign({},e,{[r]:!0}):e}default:return e}},Ml=Object(r.c)({error:kl,pending:Ll});const Ul={};var Fl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ul,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.s:{const{subredditId:n,response:r,key:s}=t.payload,{moderatorIds:o}=r;return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[s]:o})})}case w.Q:{const{subredditId:n,userId:r,key:s}=t.payload,o=e[n][s].filter(e=>e!==r);return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[s]:o})})}default:return e}},Bl=Object(r.c)({data:Fl,api:Ml});var Gl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.x:case w.w:return null;case w.v:return t.payload;default:return e}};var ql=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.w:case w.v:return!1;case w.x:return!0;default:return e}},Vl=Object(r.c)({error:Gl,pending:ql});const Hl={};var Kl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.w:{const{subredditId:n,moderators:r}=t.payload;return Object.assign({},e,{[n]:r})}case w.P:{const{subredditId:n,userId:r}=t.payload,s=Object.assign({},e);return delete s[n][r],s}case w.a:{const n=t.payload,{subredditId:r,moderators:s}=n,o={[r]:s};return F()(Object.assign({},e),o)}default:return e}};const Wl={};var Jl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.w:{const{subredditId:n,moderatorIds:r}=t.payload;return Object.assign({},e,{[n]:r})}case w.P:{const{subredditId:n,userId:r}=t.payload,s=e[n].filter(e=>e!==r);return Object.assign({},e,{[n]:s})}case w.a:{const n=t.payload,{subredditId:r,moderatorIds:s}=n,o=[...e[r]||[],...s];return Object.assign({},e,{[r]:o})}default:return e}},Yl=Object(r.c)({api:Vl,models:Kl,userOrder:Jl}),zl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const Ql={};var Xl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ql,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.B:{const{subredditId:n,response:r}=t.payload,{invitePending:s}=r,o={[n]:s};return F()(Object.assign({},e),o)}case w.y:case w.z:{const{subredditId:n}=t.payload,r=n;e[r];return zl(e,["symbol"==typeof r?r:r+""])}default:return e}};const $l={};var Zl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.s:{const{response:e}=t.payload;return{[e.subredditId]:{after:e.after,before:e.before}}}default:return e}};const eb={};var tb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.B:{const{response:e}=t.payload;return{[e.subredditId]:{after:e.after,before:e.before}}}default:return e}};const nb={};var rb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.B:{const{response:n}=t.payload,r={[n.subredditId]:n.moderators};return F()(Object.assign({},e),r)}case w.u:{const n=t.payload,{subredditId:r,userId:s,permissions:o}=n;if(e[r]&&e[r][s]){const t=Object.assign({},e);return t[r][s].modPermissions=o,t}return e}default:return e}};var sb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.F:case w.E:return null;case w.D:return t.payload;default:return e}};var ob=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.F:return!0;case w.E:case w.D:return!1;default:return e}},ib=Object(r.c)({error:sb,pending:ob});var cb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.F:case w.D:case w.Q:return null;case w.E:{const e=t.payload.moderatorIds[0];return e?t.payload.moderators[e]:null}case w.u:{const{userId:n,permissions:r}=t.payload;return e&&e.id===n&&!hr()(e.modPermissions,r)?Object.assign({},e,{modPermissions:r}):e}default:return e}},ab=Object(r.c)({api:ib,result:cb});const db={};var ub=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:db,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.C:case w.B:{const{subredditId:n,key:r}=t.payload;return n?Object.assign({},e,{[r]:null}):e}case w.A:{const{error:n,subredditId:r,key:s}=t.payload;return r?Object.assign({},e,{[s]:n}):e}default:return e}};const lb={};var bb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.A:case w.B:{const{subredditId:n,key:r}=t.payload;return n?Object.assign({},e,{[r]:!1}):e}case w.C:{const{subredditId:n,key:r}=t.payload;return n?Object.assign({},e,{[r]:!0}):e}default:return e}},pb=Object(r.c)({error:ub,pending:bb});const mb={};var fb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.B:{const{response:n,subredditId:r,key:s}=t.payload,{moderatorIds:o}=n;return Object.assign({},e,{[r]:Object.assign({},e[r]||{},{[s]:o})})}case w.Q:{const{subredditId:n,userId:r}=t.payload,s=Object.assign({},e[n]);return Object.keys(e[n]).forEach(t=>{const o=e[n][t].filter(e=>e!==r);s[t]=o}),Object.assign({},e,{[n]:s})}default:return e}},Ob=Object(r.c)({data:fb,api:pb}),gb=Object(r.c)({editableModerators:Al,editableUserOrder:Bl,invitedModerators:Yl,invitePending:Xl,loadMoreModerators:tb,loadMoreEditableModerators:Zl,models:rb,search:ab,userOrder:Ob});var jb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue.b:case Ue.k:return null;case Ue.a:case Ue.j:return t.payload;default:return e}};var hb=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue.b:case Ue.k:return!0;case Ue.c:case Ue.a:case Ue.l:case Ue.j:return!1;default:return e}},yb=Object(r.c)({error:jb,pending:hb});const _b=[];var Eb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue.e:{const n=t.payload,{filteredSubreddits:r}=n;return r||e}case Ue.j:{const n=t.payload;return[...e,n]}case Ue.k:case Ue.a:{const n=t.payload;return e.filter(e=>e!==n)}default:return e}},Ib=Object(r.c)({api:yb,names:Eb}),vb=Object(r.c)({filteredSubreddits:Ib});var Sb=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Sr.a:return t.payload.enabled;default:return e}};var Tb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vr.c:case vr.b:return null;case vr.a:return t.payload;default:return e}};var Cb=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vr.c:return!0;case vr.b:case vr.a:case ne.s:case ne.r:return!1;default:return e}},wb=Object(r.c)({error:Tb,pending:Cb});const Db={};var xb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Db,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.a:{const{ids:n}=t.payload,r={};return n.forEach(e=>r[e]=!0),Object.assign({},e,r)}case ne.d:{const{ids:n}=t.payload;return Ir()(e,n)}case ne.c:{const{ids:e}=t.payload,n={};return e.forEach(e=>n[e]=!0),n}default:return e}};const Pb={};var Ab=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vr.b:{const{operation:e,ids:n}=t.payload;return"approve"===e?Pb:{[xr.c[e]]:n}}default:return e}},Rb=Object(r.c)({api:wb,selectedItems:xb,undoLastAction:Ab});var kb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.g:case ne.f:return null;case ne.e:return t.payload;default:return e}};var Nb=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.g:return!0;case ne.f:case ne.e:return!1;default:return e}},Lb=Object(r.c)({error:kb,pending:Nb});const Mb={};var Ub=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.f:{const{listingKey:n,page:r,response:s}=t.payload,{modqueue:o}=s;return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[r]:o})})}default:return e}};const Fb={};var Bb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.f:{const{listingKey:n,response:r}=t.payload,{modqueue:s}=r,o=s[s.length-1]||null;return Object.assign({},e,{[n]:o})}default:return e}},Gb=Object(r.c)({api:Lb,itemOrder:Ub,loadMore:Bb});var qb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue.e:{const n=t.payload,{moderatingSubreddits:r}=n;return r?null:e}case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:{const{response:e}=t.payload,{moderatedAfter:n}=e;return n}case ne.k:{const e=t.payload,{moderatedAfter:n}=e;return n}default:return e}};const Vb=[];var Hb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:{const{response:e}=t.payload,{listingOrder:n}=e;return n}case ne.k:{const n=t.payload,{listingOrder:r}=n;return[...e,...r]}case Ue.e:{const n=t.payload,{listingOrder:r}=n;return r||e}default:return e}};var Kb=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.b:return!0;default:return e}};var Wb=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.k:return!0;case ne.b:return!1;default:return e}},Jb=Object(r.c)({after:qb,data:Hb,loaded:Kb,pending:Wb});var Yb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.j:case ne.i:return null;case ne.h:return t.payload;default:return e}};var zb=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.j:return!0;case ne.i:case ne.h:return!1;default:return e}},Qb=Object(r.c)({error:Yb,pending:zb});const Xb={};var $b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.i:{const{listingKey:n,page:r,response:s}=t.payload,{modqueue:o}=s;return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[r]:o})})}default:return e}};const Zb={};var ep=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.i:{const{listingKey:n,response:r}=t.payload,{modqueue:s}=r,o=s[s.length-1]||null;return Object.assign({},e,{[n]:o})}default:return e}},tp=Object(r.c)({api:Qb,itemOrder:$b,loadMore:ep});var np=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.n:case ne.m:return null;case ne.l:return t.payload;default:return e}};var rp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.n:return!0;case ne.m:case ne.l:return!1;default:return e}},sp=Object(r.c)({error:np,pending:rp});const op={};var ip=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:op,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.m:{const{listingKey:n,page:r,response:s}=t.payload,{modqueue:o}=s;return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[r]:o})})}default:return e}};const cp={};var ap=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.m:{const{listingKey:n,response:r}=t.payload,{modqueue:s}=r,o=s[s.length-1]||null;return Object.assign({},e,{[n]:o})}default:return e}},dp=Object(r.c)({api:sp,itemOrder:ip,loadMore:ap});var up=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.q:case ne.p:return null;case ne.o:return t.payload;default:return e}};var lp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.q:return!0;case ne.p:case ne.o:return!1;default:return e}},bp=Object(r.c)({error:up,pending:lp});const pp={};var mp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.p:{const{listingKey:n,page:r,response:s}=t.payload,{modqueue:o}=s;return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[r]:o})})}default:return e}};const fp={};var Op=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.p:{const{listingKey:n,response:r}=t.payload,{modqueue:s}=r,o=s[s.length-1]||null;return Object.assign({},e,{[n]:o})}default:return e}},gp=Object(r.c)({api:bp,itemOrder:mp,loadMore:Op});var jp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.w:case ne.v:return null;case ne.u:return t.payload;default:return e}};var hp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.w:return!0;case ne.v:case ne.u:return!1;default:return e}},yp=Object(r.c)({error:jp,pending:hp});const _p={};var Ep=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.v:{const{listingKey:n,page:r,response:s}=t.payload,{modqueue:o}=s;return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[r]:o})})}default:return e}};const Ip={};var vp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ip,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.v:{const{listingKey:n,response:r}=t.payload,{modqueue:s}=r,o=s[s.length-1]||null;return Object.assign({},e,{[n]:o})}default:return e}},Sp=Object(r.c)({api:yp,itemOrder:Ep,loadMore:vp}),Tp=Object(r.c)({bulkAction:Rb,edited:Gb,moderatedCommunitiesOrder:Jb,modqueue:tp,reports:dp,spam:gp,unmoderated:Sp}),Cp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const wp={};var Dp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.v:{const{moreCommentsId:n}=t.payload;return Object.assign({},e,{[n]:null})}case Z.u:{const{moreCommentsItem:n}=t.payload;return Object.assign({},e,{[n.id]:null})}case Z.t:{const n=t.payload,{moreCommentsItem:r}=n,s=Cp(n,["moreCommentsItem"]);return Object.assign({},e,{[r.id]:s||{}})}default:return e}};const xp={};var Pp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.v:{const{moreCommentsId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Z.t:case Z.u:{const{moreCommentsItem:n}=t.payload;return Object.assign({},e,{[n.id]:!1})}default:return e}},Ap=Object(r.c)({error:Dp,pending:Pp});const Rp={};var kp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.u:case Me.b:case re.b:return Object.assign({},e,t.payload.moreComments);default:return e}},Np=Object(r.c)({api:Ap,models:kp});var Lp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.b:case Le.c:return null;case Le.a:return t.payload;default:return e}};var Mp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.a:case Le.c:return!0;case Le.b:return!1;default:return e}};var Up=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.l:case Le.a:case Le.c:return null;case Le.b:{const{name:e}=t.payload;return e}default:return e}},Fp=Object(r.c)({error:Lp,fetched:Mp,pending:Up});var Bp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.f:case Le.g:return null;case Le.e:return t.payload;default:return e}};var Gp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.e:case Le.g:return!0;case Le.f:return!1;default:return e}};var qp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.e:case Le.g:return!1;case Le.f:return!0;default:return e}},Vp=Object(r.c)({error:Bp,fetched:Gp,pending:qp});var Hp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.i:case Le.j:return null;case Le.h:return t.payload;default:return e}};var Kp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.h:case Le.j:return!0;case Le.i:return!1;default:return e}};var Wp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.h:case Le.j:return!1;case Le.i:return!0;default:return e}},Jp=Object(r.c)({error:Hp,fetched:Kp,pending:Wp});var Yp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.l:case Le.m:return null;case Le.k:return t.payload;default:return e}};var zp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.k:case Le.m:return!0;case Le.l:return!1;default:return e}};var Qp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.k:case Le.m:return!1;case Le.l:return!0;default:return e}},Xp=Object(r.c)({error:Yp,fetched:zp,pending:Qp});var $p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.o:case Le.p:return null;case Le.n:return t.payload;default:return e}};var Zp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.n:case Le.p:return!0;case Le.o:return!1;default:return e}};var em=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.n:case Le.p:return!1;case Le.o:return!0;default:return e}},tm=Object(r.c)({error:$p,fetched:Zp,pending:em});var nm=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.t:return!1;case Le.u:return!0;default:return e}};var rm=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.t:return!0;case Le.u:return!1;default:return e}},sm=Object(r.c)({fetched:nm,pending:rm});var om=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.A:case Le.B:return null;case Le.z:return t.payload;default:return e}};var im=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.A:case Le.z:return!1;case Le.B:return!0;default:return e}};var cm=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.A:return!0;case Le.B:case Le.z:return!1;default:return e}},am=Object(r.c)({error:om,fetched:im,pending:cm});var dm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.w:case Le.x:return null;case Le.v:return t.payload;default:return e}};var um=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.v:case Le.x:return!0;case Le.w:return!1;default:return e}};var lm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.v:case Le.x:return null;case Le.w:const{id:n}=t.payload;return n;default:return e}},bm=Object(r.c)({error:dm,fetched:um,pending:lm}),pm=Object(r.c)({addSubreddit:Fp,create:Vp,deleteMulti:Jp,duplicate:Xp,edit:tm,forUser:sm,recommendations:am,removeSubreddit:bm}),mm=n("./node_modules/lodash/union.js"),fm=n.n(mm);function Om(e,t,n){let r,s,o=e.length-1,i=0;for(;i<=o;){const c=n(r=e[s=(i+o)/2|0],t);if(c<0){if((i=s+1)>o)return i}else{if(!(c>0))return s;if((o=s-1)<i)return o+1}}return(i+o)/2|0}var gm=n("./src/reddit/actions/profile/constants.ts");const jm={};var hm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.l:case Le.r:case Le.u:case gm.h:{const{multireddits:n,multiredditsByUser:r,multiredditsModelsState:s}=t.payload,o=Object.assign({},e),i=Object.assign({},n,s);for(const t in r){const n=r[t],s=e[t];o[t]=fm()(s,n).sort((e,t)=>i[e].displayText.toLowerCase()>i[t].displayText.toLowerCase()?1:-1)}return hr()(e,o)?e:o}case Le.g:case Le.m:{const{userId:n,multireddit:r}=t.payload,s=e[n]?e[n].slice():[],o=Om(s,r.url,(e,t)=>e>t?1:-1);return s.splice(o,0,r.url),Object.assign({},e,{[n]:s})}case Le.j:{const n=t.payload;for(const t in e){const r=e[t];if(r.indexOf(n)>-1)return Object.assign({},e,{[t]:r.filter(e=>e!==n)})}return e}default:return e}},ym=n("./src/reddit/actions/subscription/constants.ts"),_m=n("./src/reddit/models/Multireddit/index.ts");const Em={};var Im=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Em,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.l:case Le.r:case Le.u:case gm.h:{let n={};for(const r in t.payload.multireddits){const s=Object.assign({},t.payload.multireddits[r]),o=e[r];o&&!Object(_m.g)(s)&&(s.subredditIds=o.subredditIds,s.profileIds=o.profileIds),r in e&&hr()(e[s.url],s)||(n=Object.assign({},n,{[r]:s}))}return mn()(n)?e:Object.assign({},e,n)}case Le.g:case Le.m:{const{multireddit:n}=t.payload;return Object.assign({},e,{[n.url]:n})}case Le.j:{const n=t.payload,r=Object.assign({},e);return delete r[n],r}case Le.p:{const n=t.payload;return Object.assign({},e,{[n.url]:n})}case Le.x:{const{id:n,multipath:r,type:s}=t.payload,o=e[r],i="subreddit"===s?(o.subredditIds||[]).filter(e=>e!==n):o.subredditIds,c="profile"===s?(o.profileIds||[]).filter(e=>e!==n):o.profileIds;return Object.assign({},e,{[r]:Object.assign({},o,{profileIds:c,subredditIds:i})})}case ym.d:{const{makeFavorite:n,multiredditPath:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{isFavorited:n})})}case ym.e:{const{follow:n,multiredditPath:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{isFollowed:n,isFavorited:!1})})}case Le.c:{const{id:n,multipaths:r,type:s}=t.payload,o=r.reduce((t,r)=>{const o=e[r],i="subreddit"===s?[...o.subredditIds||[],n]:o.subredditIds,c="profile"===s?[...o.profileIds||[],n]:o.profileIds;return Object.assign({},t,{[r]:Object.assign({},o,{subredditIds:i,profileIds:c})})},{});return Object.assign({},e,o)}default:return e}};const vm={};var Sm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.B:{const{multipath:n,subreddits:r}=t.payload;return Object.assign({},e,{[n]:Object.keys(r)})}default:return e}},Tm=Object(r.c)({api:pm,byUserId:hm,models:Im,recommendations:Sm});var Cm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.J:case w.H:return null;case w.G:return t.payload;default:return e}};const wm={};var Dm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.J:{const{subredditId:n,fetchedToken:r}=t.payload,s=Object(x.d)(n,r);return Object.assign({},e,{[s]:!0})}case w.H:case w.G:{const{subredditId:n,fetchedToken:r}=t.payload,s=Object(x.d)(n,r);return Object.assign({},e,{[s]:!1})}default:return e}},xm=Object(r.c)({error:Cm,pending:Dm});const Pm={};var Am=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.H:{const{fetchedToken:n,subredditId:r}=t.payload,s=Object(x.d)(r,n);return Object.assign({},e,{[s]:!0})}default:return e}};var Rm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _t.b:return t.payload;default:return e}};const km={};var Nm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:km,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.H:{const{subredditId:e,after:n}=t.payload;return{[e]:n}}default:return e}};const Lm={};var Mm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.I:case w.H:{const{subredditId:n,mutedUsers:r}=t.payload,s={[n]:r};return F()(Object.assign({},e),s)}case w.N:{const{subredditId:n,userId:r}=t.payload,s=Object.assign({},e);return delete s[n][r],s}default:return e}};var Um=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.M:case w.L:return null;case w.K:return t.payload;default:return e}};var Fm=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.M:return!0;case w.L:case w.K:return!1;default:return e}},Bm=Object(r.c)({error:Um,pending:Fm});var Gm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.M:case w.K:return null;case w.L:{const e=t.payload.mutedUserIds[0];return e?t.payload.mutedUsers[e]:null}default:return e}},qm=Object(r.c)({api:Bm,result:Gm});const Vm={};var Hm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.H:{const{subredditId:n,mutedUserIds:r}=t.payload;return e[n]?Object.assign({},e,{[n]:[...e[n],...r]}):Object.assign({},e,{[n]:r})}case w.N:{const{subredditId:n,userId:r}=t.payload;return{[n]:e[n].filter(e=>e!==r)}}case w.I:{const{subredditId:n,mutedUserIds:r}=t.payload,s=r[0];return s&&e[n]&&-1===e[n].indexOf(s)?{[n]:[s,...e[n]]}:e}default:return e}},Km=Object(r.c)({api:xm,fetchedTokens:Am,inContext:Rm,loadMore:Nm,models:Mm,search:qm,userOrder:Hm}),Wm=n("./src/reddit/actions/notificationBanner.ts");var Jm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wm.b:return t.payload.notificationBannerId;case Wm.a:return null;default:return e}},Ym=n("./src/reddit/actions/nps.ts");const zm={pending:!1,success:!1,dest:void 0};var Qm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ym.c:return Object.assign({},zm,{pending:!0});case Ym.a:return zm;case Ym.b:{const{dest:e}=t.payload;return Object.assign({},zm,{success:!0,dest:e})}default:return e}},Xm=n("./src/reddit/actions/oldSiteRules.ts");const $m=[];var Zm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xm.a:return t.payload.oldSiteRules;default:return e}};const ef=[];var tf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ef,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Sc.a:{const{pageExperimentVariants:e}=t.payload;return(e?e.experiments:[]).map(e=>{let{id:t,experimentName:n,name:r,version:s}=e;return{id:parseInt(t),name:n,variant:r||void 0,version:s}})}default:return e}};var nf=Object(r.c)({models:tf,canonicalUrl:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Sc.a:{const{pageExperimentVariants:e}=t.payload;return e&&e.canonicalUrl?e.canonicalUrl:null}default:return e}}}),rf=Object(r.c)({experiments:nf}),sf=n("./node_modules/history/esm/history.js"),of=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const cf={allowNavigationCallback:null,currentPage:null,lastPage:null,referrers:{},sessionReferrer:null,metas:{}},af=(e,t)=>({key:e,locationState:{},meta:null,queryParams:{},routeMatch:null,status:404,url:t,urlParams:{}}),df=(e,t,n,r)=>{const s=n.route,{action:o}=s,i=of(s,["action"]);return{key:e,locationState:r.state,meta:n.route.meta,queryParams:n.match.queryParams,routeMatch:Object.assign({},n,{route:i}),status:200,url:t,urlParams:n.match.params}};var uf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a:{const n=e.currentPage,r=t.payload,{routeMatch:s,location:o}=r,{key:i}=o;if(void 0===i)return e;const c=Object(sf.e)(o),a=s?df(i,c,s,o):af(i,c);let{referrers:d}=e;if("PUSH"===r.action){const e=n&&n.url||"";d=Object.assign({},d,{[i]:e})}else if("REPLACE"===r.action&&n&&d[n.key]){const e=n.key,t=d[e],r=of(d,["symbol"==typeof e?e:e+""]);d=Object.assign({},r,{[i]:t})}return Object.assign({},e,{referrers:d,currentPage:a,lastPage:n})}case m.e:{const n=t.payload,{key:r,meta:s}=n;return Object.assign({},e,{metas:Object.assign({},e.metas,{[r]:s})})}case m.f:{if(!e.currentPage)return e;const n=t.payload,r=Object.assign({},e.currentPage,{status:n});return Object.assign({},e,{currentPage:r})}case Me.b:case re.b:return!e.currentPage||t.payload.postMeta,e;case m.b:return e;case m.d:{const{allowNavigationCallback:n}=t.payload;return Object.assign({},e,{allowNavigationCallback:n})}case m.c:return Object.assign({},e,{allowNavigationCallback:null});default:return e}},lf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const bf={};var pf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.k:{const{pollId:n}=t.payload.pollResults,r=n;e[r];return lf(e,["symbol"==typeof r?r:r+""])}case l.j:{const{pollId:n}=t.payload,r=n;e[r];return lf(e,["symbol"==typeof r?r:r+""])}case l.i:{const{pollId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const mf={};var ff=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.k:{const{pollId:n}=t.payload.pollResults;return Object.assign({},e,{[n]:!1})}case l.i:{const{pollId:n}=t.payload;return Object.assign({},e,{[n]:!1})}case l.j:{const{pollId:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}},Of=Object(r.c)({error:pf,pending:ff}),gf=Object(r.c)({voting:Of});const jf={};var hf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.h:{const{poll:n}=t.payload;return Object.assign({},e,{[n.id]:n})}case re.g:case ae.b:case ue.i:case Ne.b:case Me.b:case re.b:{const{governance:n}=t.payload;if(n){const t=Object.keys(n).reduce((e,t)=>{const r=n[t].poll;return e[r.id]=r,e},{});return Object.assign({},e,t)}return e}default:return e}};const yf={};var _f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.k:{const{[ui.b.ByVoters]:n,pollId:r}=t.payload.pollResults;return Object.assign({},e,{[r]:n})}case re.g:case ae.b:case ue.i:case Ne.b:case Me.b:case re.b:{const{governance:n}=t.payload;if(n){const t=Object.keys(n).reduce((e,t)=>{const r=n[t],{[ui.b.ByVoters]:s,pollId:o}=r.pollResults;return e[o]=s,e},{});return Object.assign({},e,t)}return e}default:return e}};const Ef={};var If=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ef,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.k:{const{[ui.b.ByVotingPower]:n,pollId:r}=t.payload.pollResults;return Object.assign({},e,{[r]:n})}case re.g:case ae.b:case ue.i:case Ne.b:case Me.b:case re.b:{const{governance:n}=t.payload;if(n){const t=Object.keys(n).reduce((e,t)=>{const r=n[t],{[ui.b.ByVotingPower]:s,pollId:o}=r.pollResults;return e[o]=s,e},{});return Object.assign({},e,t)}return e}default:return e}},vf=Object(r.c)({byVoters:_f,byVotingPower:If});const Sf={};var Tf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.k:{const{pollId:n,rewardPoints:r}=t.payload.pollResults;return r?Object.assign({},e,{[n]:r}):e}default:return e}},Cf=Object(r.c)({api:gf,models:hf,results:vf,rewards:Tf});const wf={reorderError:null,updateDescriptionError:null,updateLayoutError:null};var Df=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case As.i:case As.j:return Object.assign({},e,{reorderError:null});case As.h:return Object.assign({},e,{reorderError:t.payload});case As.l:case As.m:return Object.assign({},e,{updateDescriptionError:null});case As.k:return Object.assign({},e,{updateDescriptionError:t.payload});case As.p:case As.q:return Object.assign({},e,{updateLayoutError:null});case As.o:return Object.assign({},e,{updateLayoutError:t.payload});default:return e}};const xf={reorderPending:!1,updateDescriptionPending:!1,updateLayoutPending:!1};var Pf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case As.i:return Object.assign({},e,{reorderPending:!0});case As.h:case As.j:return Object.assign({},e,{reorderPending:!1});case As.l:return Object.assign({},e,{updateDescriptionPending:!0});case As.k:case As.m:return Object.assign({},e,{updateDescriptionPending:!1});case As.p:return Object.assign({},e,{updateLayoutPending:!0});case As.o:case As.q:return Object.assign({},e,{updateLayoutPending:!1});default:return e}},Af=Object(r.c)({error:Df,pending:Pf}),Rf=n("./src/reddit/helpers/path/index.ts");const kf={},Nf=e=>{const{protocol:t,domain:n}=e;return e=>{const r=Object(Rf.b)(e.permalink);return Object.assign({},e,{permalink:"".concat(t,"://").concat(n).concat(r)})}};var Lf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.b:case Ue.e:case Ue.h:case se.b:case se.e:case Be.e:case Be.b:case oe.e:case oe.b:case ae.b:case re.g:case re.l:case ae.b:case Me.b:case re.b:case _.e:case Le.r:case Ne.b:case de.e:case qe.b:case ue.i:case Ve.c:case Ge.b:case ce.c:case As.f:{const{collections:n,meta:r}=t.payload;if(!n)return e;let s=n;if(r){const e=Nf(r);s=_r()(n,e)}return Object.assign({},e,s)}case As.d:{const{collection:n,meta:r}=t.payload;if(!n)return e;const s=n.id;let o=n;if(r){o=Nf(r)(n)}return Object.assign({},e,{[s]:o})}case As.g:{const{collectionId:n,postId:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{postIds:s.postIds.filter(e=>e!==r)})}):e}case As.a:{const{collectionId:n,postId:r}=t.payload,s=e[n];return s&&r?Object.assign({},e,{[n]:Object.assign({},s,{postIds:[...s.postIds,r]})}):e}case As.e:{const{collectionId:n}=t.payload,r=Object.assign({},e);return delete r[n],r}case As.s:{const{collectionId:n,newTitle:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{title:r})}):e}case As.j:{const{collectionId:n,postIds:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{postIds:[...r]})}):e}case As.m:{const{collectionId:n,newDescription:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{description:r})}):e}case As.q:{const{collectionId:n,newLayout:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{displayLayout:r})}):e}default:return e}};const Mf={};var Uf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.b:case As.f:{const{collections:n}=t.payload;if(!n)return e;const r=Object.keys(n);if(!r.length)return e;const{subredditId:s}=n[r[0]];return Object.assign({},e,{[s]:r})}case As.d:{const{collection:n}=t.payload,{subredditId:r}=n,s=e[r]||[];return Object.assign({},e,{[r]:[...s,n.id]})}case As.e:{const{collectionId:n,collection:r}=t.payload;if(!r)return e;const s=r&&e[r.subredditId];return s?Object.assign({},e,{[r.subredditId]:s.filter(e=>e!==n)}):e}default:return e}},Ff=Object(r.c)({models:Lf,subredditToIds:Uf,api:Af}),Bf=n("./src/reddit/actions/postFlair.ts"),Gf=n("./src/reddit/models/Flair/index.ts");const qf={},Vf={displaySettings:{isEnabled:!1,position:Gf.b.Left},permissions:{canAssignOwn:!1},templateIds:[],templates:{}},Hf=(e,t)=>{if(!t)return e;const n=Object.keys(t);return 0===n.length?e:n.reduce((e,n)=>(e[n]=Object.assign({},Vf,e[n],t[n]),e),Object.assign({},e))};var Kf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.b:case Ne.b:case Ue.e:case Ue.h:case Le.r:case Lu.b:case Me.b:case re.b:case re.g:case re.l:case ce.c:case ae.b:case se.b:case se.e:case ie.c:case ie.i:case ie.e:case ie.g:case de.e:case Ge.b:case Ge.b:case Be.b:case Be.e:case oe.b:case oe.e:case qe.b:case Ve.c:case Ve.c:case ue.i:return Hf(e,t.payload.postFlair);case Bf.c:{const{subredditId:n,isEnabled:r}=t.payload,s=e[n].displaySettings,o=Object.assign({},s,{isEnabled:r});return Object.assign({},e,{[n]:Object.assign({},e[n],{displaySettings:o})})}case Bf.a:{const{subredditId:n,canAssignOwn:r}=t.payload,s=e[n].permissions,o=Object.assign({},s,{canAssignOwn:r});return Object.assign({},e,{[n]:Object.assign({},e[n],{permissions:o})})}case Bf.f:{const{subredditId:n,template:r}=t.payload,s=e[n],{templates:o,templateIds:i}=s,c=Object.assign({},o,{[r.id]:r}),a=[...i];return a.includes(r.id)||a.push(r.id),Object.assign({},e,{[n]:Object.assign({},s,{templates:c,templateIds:a})})}case Bf.b:{const{subredditId:n,templateId:r}=t.payload,s=e[n],{templates:o,templateIds:i}=s,c=Ir()(o,r),a=i.filter(e=>e!==r);return Object.assign({},e,{[n]:Object.assign({},s,{templates:c,templateIds:a})})}case Bf.e:case Bf.d:{const n=t.payload,r=e[n.subredditId];return Object.assign({},e,{[n.subredditId]:Object.assign({},r,{templateIds:n.templateIds})})}case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:{const{response:n}=t.payload;return Hf(e,n.postFlair)}default:return e}},Wf=n("./src/reddit/actions/postRequirements/constants.ts");const Jf={};var Yf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wf.a:{const{subredditName:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case Wf.c:case Wf.b:{const{subredditName:n}=t.payload;return Object(Au.a)(e,n)}default:return e}};const zf={};var Qf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wf.c:case Wf.a:case Wf.b:{const{subredditName:n}=t.payload,r=t.type===Wf.c;return Object.assign({},e,{[n]:r})}default:return e}},Xf=Object(r.c)({error:Yf,pending:Qf}),$f=Object(r.c)({fetch:Xf});const Zf={};var eO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wf.b:{const{subredditName:n,requirements:r}=t.payload;return Object.assign({},e,{[n]:r})}case Wf.d:{const{subredditName:n,partialRequirements:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,r)}):e}default:return e}},tO=Object(r.c)({api:$f,models:eO}),nO=n("./src/reddit/actions/inFeedChaining.ts");var rO=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nO.a:return t.payload.isDismissed;default:return e}};const sO={};var oO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nO.c:{const{isDismissed:n,listingKey:r,postId:s}=t.payload;if(n)return Object.assign({},e,{[s]:r});const o=Object.assign({},e);return delete o[s],o}default:return e}};const iO={};var cO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nO.b:return Object.assign({},e,{[t.payload.postId]:t.payload.listingKey});default:return e}},aO=Object(r.c)({dismissed:rO,dismissedIdToListingKey:oO,idToListingKey:cO}),dO=n("./src/reddit/actions/embedAndImage.ts");const uO={};var lO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dO.b:{const{postId:n}=t.payload;return e[n]?Object.assign({},e,{[n]:!1}):e}case dO.a:{const{postId:n}=t.payload;return Object.assign({},e,{[n]:!0})}}return e},bO=Object(r.c)({loadable:lO});const pO={};var mO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.c:{const{postId:n}=t.payload;return Object.assign({},e,{[n]:!e[n]})}default:return e}};var fO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.d:{const{postId:e}=t.payload;return e}default:return e}};const OO={};var gO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:OO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue.e:case Ue.h:case re.g:case ae.b:case Ne.b:case de.e:case qe.b:case ue.i:case Ve.c:case ce.c:return $()(Object.assign({},e),t.payload.postInstances,(e,t)=>{if(e)return e.concat(t)});default:return e}};const jO={};var hO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.h:{const{poll:n}=t.payload;return Object.assign({},e,{[n.postId]:n.id})}case re.g:case ae.b:case ue.i:case Ne.b:case Me.b:case re.b:{const{governance:n}=t.payload;if(n){const t=Object.keys(n).reduce((e,t)=>{const r=n[t];return e[t]=r.poll.id,e},{});return Object.assign({},e,t)}return e}default:return e}},yO=n("./src/reddit/actions/events.ts"),_O=n("./src/reddit/actions/flairManagement/constants.ts"),EO=n("./src/reddit/actions/monthsToMinutes.ts"),IO=n("./src/reddit/actions/subredditTopContent.ts"),vO=n("./src/reddit/helpers/isPost.ts"),SO=n("./node_modules/lodash/pickBy.js"),TO=n.n(SO);function CO(e,t){const n=TO()(t,(function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return!e[n]||!hr()(e[n],t)}));return Object.keys(n).length>0?Object.assign({},e,n):e}var wO=n("./src/reddit/models/Media/index.ts"),DO=n("./src/reddit/models/Post/index.ts"),xO=n("./src/reddit/actions/subredditDuplicates.ts"),PO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const AO={},RO=e=>{const{protocol:t,domain:n}=e;return e=>{const r=Object(Rf.b)(e.permalink);return Object.assign({},e,{permalink:"".concat(t,"://").concat(n).concat(r)})}},kO=e=>t=>{const n=e[t.id];return n&&n.events&&(t.events=n.events,t.source=n.source),t},NO=e=>t=>{const n=e[t.id];return n&&n.isSponsored&&(t.isSponsored=n.isSponsored),t},LO=e=>t=>{const n=e[t.id];return n&&n.numDuplicates&&(t.numDuplicates=n.numDuplicates),t},MO=e=>t=>{const n=e[t.id];return t&&t.media&&n&&n.media&&Object(wO.C)(t.media)&&t.media.isRichtextPreview&&Object(wO.C)(n.media)&&!n.media.isRichtextPreview&&(t.media.richtextContent=n.media.richtextContent,t.media.isRichtextPreview=!1),t},UO=e=>{let t=e.source;return t&&t.outboundUrlCreated&&(t=Object.assign({},t,{outboundUrlReceived:Date.now()}),e.source=t),e},FO=e=>{const{allAwardings:t}=e,n=PO(e,["allAwardings"]);if(!t)return e;const r={};for(const s of t)r[s.id]=s.count;return Object.assign({},n,{awardCountsById:r})},BO=e=>t=>{for(let n=0;n<e.length;n++)t=e[n](t);return t},GO=(e,t)=>Object.assign({},e,{events:t.events,source:t.source}),qO=(e,t)=>{const n={},r=t.posts;return Object.keys(r).length?(Object.keys(r).map(t=>{const s=r[t],o=e[t];o&&(n[t]=o.voteState===Pr.a.notVoted?Object(Pr.c)(o,s):o)}),Object.assign({},e,n)):e};var VO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a:if(Do(t)===(Ss.xb.COMMENTS||Ss.xb.DUPLICATES)){const n=xo(t),r=Po(t);if(n&&n.instanceId&&r&&r.partialPostId){const t=n.instanceId,s=Object(DO.m)(r.partialPostId);if(e[s]&&e[t])return Object.assign({},e,{[s]:GO(e[s],e[t])})}}return e;case Me.b:case re.b:{const n=RO(t.payload.meta);return Object.assign({},e,_r()(t.payload.posts,BO([n,UO,FO,kO(e),NO(e),LO(e)])))}case _.e:return CO(e,t.payload);case _.i:{const n=t.payload;return Object.assign({},e,{[n.id]:n})}case xO.a:return CO(e,t.payload.posts);case Fe.b:case Ue.e:case Ue.h:case se.b:case se.e:case Be.e:case Be.b:case oe.e:case oe.b:case ae.b:case re.g:case re.l:case ae.b:case Lu.b:case Le.r:case Ne.b:case de.e:case qe.b:case Fu.h:case ue.i:case Ge.b:{const n=RO(t.payload.meta);return Object.assign({},e,_r()(t.payload.posts,BO([n,UO,FO,MO(e),LO(e)])))}case Lu.b:{const n=RO(t.payload.meta),r=e[t.payload.postId];return Object.assign({},e,_r()(t.payload.posts,BO([n,UO,FO,MO(e),LO(e)])),{[t.payload.postId]:Object.assign({},r,{numDuplicates:t.payload.count})})}case ke.e:case Ve.c:case ce.c:{const n=RO(t.payload.meta),r=_r()(t.payload.posts,BO([n,FO,UO]));return $()(Object.assign({},e),r,(e,t)=>Object.assign({},t,e))}case _.f:{const n=t.payload;return $()(Object.assign({},e),n,(e,t)=>Object.assign({},e,t))}case Tr.a:{const{id:n,vote:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object(Pr.c)(s,r)}):e}case ee.a:case Z.G:{const n=t.payload.comment.postId,r=e[n];if(r){const s=void 0!==t.payload.numComments?t.payload.numComments:r.numComments+1;return Object.assign({},e,{[n]:Object.assign({},r,{numComments:s})})}return e}case Z.y:{const n=t.payload.postId,r=e[n];return r?Object.assign({},e,{[n]:Object.assign({},r,{numComments:r.numComments-1})}):e}case ge.q:{const{id:n,awardings:r,gilder:s}=t.payload,o=e[n];return o?Object.assign({},e,{[n]:Dr(o,r,s)}):e}case w.l:{const{posts:n}=t.payload;return Object.assign({},e,n)}case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:{const{response:n}=t.payload,{posts:r}=n;return Object.assign({},e,_r()(r,BO([FO])))}case vr.b:case ne.s:{const{operation:n,ids:r,username:s,options:o}=t.payload,i=r.filter(e=>Object(vO.a)(e)),c=Object(xr.d)(e,n,i,s,o);return $()(Object.assign({},e),c,(e,t)=>Object.assign({},e,t))}case EO.a:return qO(e,t.payload);case EO.e:{const n=t.payload;return qO(e,n.votes)}case As.t:{const{postId:n,collectionId:r}=t.payload,s=e[n];if(s&&r){const t=s.collectionIds||[];return t.push(r),Object.assign({},e,{[n]:Object.assign({},s,{collectionIds:[...t]})})}return e}case As.e:{const{collectionId:n,collection:r}=t.payload,s=r&&r.postIds||[],o={};return s.forEach(t=>{const r=e[t],s=r&&r.collectionIds;if(s){const e=s.filter(e=>e!==n);o[t]=Object.assign({},r,{collectionIds:e})}}),Object.assign({},e,o)}case As.g:{const{collectionId:n,postId:r}=t.payload;if(!n||!r)return e;const s=e[r],o=s&&s.collectionIds;if(!o)return e;const i=o.filter(e=>e!==n);return Object.assign({},e,{[r]:Object.assign({},s,{collectionIds:i})})}case yO.START_EVENT_NOW_SUCCESS:{const{postId:n}=t.payload;if(!n)return e;const r=e[n];if(!r||!r.eventInfo)return e;const s=r.eventInfo;return Object.assign({},e,{[n]:Object.assign({},r,{eventInfo:Object.assign({},s,{eventIsLive:!0})})})}case yO.EDIT_EVENT_TIME_SUCCESS:{const{postId:n,eventInfo:r}=t.payload;if(!n||!r)return e;const s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{eventInfo:Object.assign({},r)})}):e}case Ca.e:{const n=t.payload.subredditTopContent;return n&&n.posts&&Object.keys(n.posts)?Object.assign({},_r()(n.posts,BO([FO])),e):e}case ie.c:case ie.i:case ie.e:case ie.g:case IO.b:return Object.assign({},_r()(t.payload.posts,BO([FO])),e);case _.h:{const{postId:n,richtextContent:r}=t.payload,s=e[n];return s&&s.media&&Object(wO.C)(s.media)?Object.assign({},e,{[n]:Object.assign({},s,{media:Object.assign({},s.media,{richtextContent:r,isRichtextPreview:!1})})}):e}case _O.a:{const n=t.payload;return Object.assign({},e,{[n.id]:n})}case _O.b:{const n=t.payload;return Object(Au.a)(e,n)}case cl.a:{const{isDeleted:n,height:r,postId:s}=t.payload;return Object.assign({},e,{[s]:Object.assign({},e[s],{media:Object.assign({},e[s].media,{height:r,isDeleted:n})})})}default:return e}};const HO=[];var KO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.g:{const{postIds:e}=t.payload;return e}case re.g:case ae.b:{const{recentPostIds:n}=t.payload;return n&&n.length?n:e}default:return e}};var WO=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bo.c:case bo.b:return!1;case bo.a:return!0;default:return e}};var JO=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bo.c:return!0;case bo.b:case bo.a:return!1;default:return e}},YO=Object(r.c)({error:WO,pending:JO});const zO={};var QO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bo.b:{const{subredditInfoById:n}=t.payload,{id:r}=n,s=n.scheduledPosts.standalonePosts.edges.reduce((e,t)=>(e[t.node.id]=t,e),{});return Object.assign({},e,{[r]:Object.assign({},e[r]||{},s)})}case bo.e:case bo.g:{const{subredditId:n,scheduledPostId:r}=t.payload,s=e[n]||{};return Object.assign({},e,{[n]:Object.assign({},Object.keys(s).filter(e=>e!==r).reduce((e,t)=>(e[t]=s[t],e),{}))})}case bo.d:{const{subredditId:n}=t.payload;return Object.keys(e).reduce((t,r)=>(r!==n&&(t[r]=e[r]),t),{})}default:return e}};const XO={};var $O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:XO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bo.b:{const{subredditInfoById:n}=t.payload,r=n.id,{pageInfo:s}=n.scheduledPosts.standalonePosts;return Object.assign({},e,{[r]:Object.assign({},s)})}case bo.d:{const{subredditId:n}=t.payload;return Object.keys(e).reduce((t,r)=>(r!==n&&(t[r]=e[r]),t),{})}default:return e}},ZO=n("./node_modules/lodash/uniq.js"),eg=n.n(ZO);const tg={};var ng=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bo.b:{const{subredditInfoById:n}=t.payload,r=n.id,s=n.scheduledPosts.standalonePostsIds;return Object.assign({},e,{[r]:eg()([...e[r]||[],...s])})}case bo.e:case bo.g:{const{subredditId:n,scheduledPostId:r}=t.payload,s=e[n]||[];return Object.assign({},e,{[n]:s.filter(e=>e!==r)})}case bo.d:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:[]})}default:return e}},rg=Object(r.c)({models:QO,pageInfo:$O,postOrder:ng}),sg=Object(r.c)({api:YO,standalonePosts:rg});const og={};var ig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:og,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.k:{const{auto:n,postId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};const cg={};var ag=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.g:{const{postId:n,isBuffering:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const dg={};var ug=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.h:{const{postId:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}};const lg={};var bg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.i:{const{postId:n,time:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};var pg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.q:{const{postId:e}=t.payload;return e}case E.j:return null;default:return e}};const mg={};var fg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.t:{const{postId:n}=t.payload;return e[n]?Object.assign({},e,{[n]:!1}):e}case E.k:{const{postId:n}=t.payload;return Object.assign({},e,{[n]:!0})}}return e};const Og={};var gg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Og,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.n:{const{postId:n,time:r}=t.payload,s=e[n]||{cached:!0,start:r};return r<s.start?e:Object.assign({},e,{[n]:Object.assign({},s,{playable:r})})}case E.l:{const{postId:n,time:r}=t.payload;return Object.assign({},e,{[n]:{cached:!1,start:r}})}default:return e}};const jg={};var hg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.p:{const{postId:n,metadata:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const yg={};var _g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.u:{const{postId:n}=t.payload;return e[n]?Object.assign({},e,{[n]:!1}):e}case E.m:{const{postId:n}=t.payload;return Object.assign({},e,{[n]:!0})}}return e};const Eg={};var Ig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.o:{const{postId:n,isPlaying:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const vg={};var Sg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.r:{const{postId:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}},Tg=(n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./src/reddit/constants/video.ts"));const Cg={};var wg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.s:{const{postId:n,time:r}=t.payload;return e[n]&&parseInt(r.currentTime.toString(),10)-parseInt(e[n].currentTime.toString(),10)<Tg.k?e:Object.assign({},e,{[n]:r})}default:return e}},Dg=Object(r.c)({autoPlayed:ig,buffering:ag,consumed:ug,continuousViewStartedAt:bg,fullscreen:pg,loadable:fg,loadTimes:gg,metadata:hg,paused:_g,playing:Ig,started:Sg,time:wg}),xg=Object(r.c)({chained:aO,embedAndImage:bO,expanded:mO,focus:fO,instances:gO,metaMap:hO,models:VO,recent:KO,scheduledPosts:sg,video:Dg}),Pg=n("./src/lib/reducers/addAuthentication/index.ts");const Ag={};var Rg=Object(Pg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ag,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.b:case re.b:{const{postId:n,commentLists:r,comments:s}=t.payload,o=r[n]&&r[n].head;return o&&s[o.id]&&s[o.id].isStickied?Object.assign({},e,{[n]:o.id}):e}case Z.C:{const{id:e,postId:n}=t.payload;return{[n]:e}}default:return e}}),Ag),kg=Object(r.c)({data:Rg});const Ng={};var Lg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ng,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.f:case O.g:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:void 0})}case O.e:{const{subredditId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Mg={};var Ug=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.f:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case O.g:case O.e:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Fg=Object(r.c)({error:Lg,pending:Ug});const Bg={};var Gg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.d:{const{product:n}=t.payload;return Object.assign({},e,{[n.id]:void 0})}case O.c:case b.f:case b.g:case b.i:case b.j:{const{productId:n}=t.payload;return Object.assign({},e,{[n]:void 0})}case O.a:case b.d:case b.h:{const{productId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const qg={};var Vg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.c:case b.f:{const{productId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case O.d:{const{product:n}=t.payload;return Object.assign({},e,{[n.id]:!1})}case O.a:case b.d:case b.g:{const{productId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Hg=Object(r.c)({error:Gg,pending:Vg}),Kg=Object(r.c)({fetch:Fg,purchase:Hg});var Wg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.b:return t.payload.productId;case s.b:return null;default:return e}};const Jg={};var Yg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.k:case O.g:{const{products:n}=t.payload;return Object.assign({},e,n)}default:return e}},zg=Object(r.c)({api:Kg,currentlyPurchasing:Wg,models:Yg});const Qg={};var Xg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.f:case se.e:case se.c:case se.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case se.d:case se.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const $g={};var Zg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.f:case se.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case se.e:case se.d:case se.b:case se.a:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},ej=Object(r.c)({error:Xg,pending:Zg});const tj={};var nj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.e:{const{key:n,commentIds:r}=t.payload;return Object.assign({},e,{[n]:r})}case se.b:{const{key:n,commentIds:r}=t.payload,s=e[n]||[];return Object.assign({},e,{[n]:s.concat(r)})}default:return e}},rj=n("./src/reddit/actions/comment/list.ts");const sj={};var oj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rj.a:{const{listingKey:n,listingName:r}=t.payload;return Object.assign({},e,{[n]:r})}case rj.b:{const{listingKey:n}=t.payload;return n in e?Ir()(e,n):e}default:return e}};const ij={};var cj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ij,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.e:{const{key:n}=t.payload;return Object.assign({},e,{[n]:{}})}case se.b:{const{key:n,fetchedToken:r}=t.payload,s=e[n];return Object.assign({},e,{[n]:Object.assign({},s,{[r]:!0})})}default:return e}};const aj={};var dj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.e:case se.b:{const{key:n,dist:r,token:s}=t.payload;return s?Object.assign({},e,{[n]:{dist:r,token:s}}):Object(Au.a)(e,n)}default:return e}},uj=Object(r.c)({api:ej,endMarkers:oj,fetchedTokens:cj,commentIds:nj,loadMore:dj}),lj=n("./src/reddit/actions/pages/profileModSettings.ts");var bj=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lj.a:return!1;default:return e}},pj=Object(r.c)({pending:bj}),mj=Object(r.c)({api:pj});const fj={};var Oj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.c:case Be.b:case Ge.c:case Ge.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case Be.a:case Ge.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const gj={};var jj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.c:case Ge.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Be.b:case Be.a:case Ge.b:case Ge.a:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},hj=Object(r.c)({error:Oj,pending:jj});const yj={};var _j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:{}})}case Ge.b:{const{key:n,fetchedToken:r}=t.payload,s=e[n];return Object.assign({},e,{[n]:Object.assign({},s,{[r]:!0})})}default:return e}};const Ej={};var Ij=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ej,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.b:case Ge.b:{const{key:n,overviewIds:r}=t.payload,s=e[n]||[];return Object.assign({},e,{[n]:[...s,...r]})}default:return e}};const vj={};var Sj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.b:case Ge.b:{const{key:n,dist:r,token:s}=t.payload;return s?Object.assign({},e,{[n]:{dist:r,token:s}}):Object(Au.a)(e,n)}default:return e}},Tj=Object(r.c)({api:hj,fetchedTokens:_j,ids:Ij,loadMore:Sj});const Cj={};var wj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.f:case Be.e:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case Be.d:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r||{}})}default:return e}};const Dj={};var xj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.f:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Be.e:case Be.d:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Pj=Object(r.c)({error:wj,pending:xj});const Aj={};var Rj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de.c:case de.b:{const{extraCommentsId:n}=t.payload;return Object.assign({},e,{[n]:null})}case de.a:{const{extraCommentsId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r||{}})}default:return e}};const kj={};var Nj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de.c:{const{extraCommentsId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case de.b:case de.a:{const{extraCommentsId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Lj=Object(r.c)({error:Rj,pending:Nj});const Mj={};var Uj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.e:case de.b:case de.e:return Object.assign({},e,t.payload.extraComments);default:return e}},Fj=Object(r.c)({api:Lj,models:Uj}),Bj=n("./src/lib/makeOverviewConversationsItemKey/index.ts"),Gj=n("./src/reddit/constants/comments.ts");const qj={};function Vj(e){const t=e;return _r()(t,e=>{let{depth:t,next:n,prev:r}=e;return{depth:t,next:n,prev:r}})}const Hj=(e,t,n)=>{const r={};for(const s in t){const e=t[s],n=e.postId;r.hasOwnProperty(n)?r[n]=Object.assign({},r[n],{[s]:e}):r[n]={[s]:e}}for(const s in n){const e=n[s],t=e.postId;r.hasOwnProperty(t)?r[t]=Object.assign({},r[t],{[s]:e}):r[t]={[t]:e}}return r};var Kj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.e:case de.e:{const{comments:n,extraComments:r,postIds:s,profileName:o}=t.payload,i=Hj(s,n,r),c={};for(const e of s){c[Object(Bj.a)(e,o)]=i.hasOwnProperty(e)?Vj(i[e]):{}}return Object.assign({},e,c)}case de.b:{const{comments:n,commentLists:r,extraComments:s,extraCommentsId:o,postIds:i,profileName:c}=t.payload;if(0===i.length){const t=Object.keys(e).find(t=>void 0!==e[t][o]);if(!t)return e;const n=Object.assign({},e[t])[o].prev,r=n&&n.id||"";return Object.assign({},e,{[t]:Object.assign({},e[t],{[r]:Object.assign({},e[t][r],{next:null})})})}const a=i[0],d=Vj(Hj(i,n,s)[a]),u=Object(Bj.a)(a,c),l=Object.assign({},e[u]),b=l[o].prev,p=b&&b.id||"",m=r[a].head,f=m&&m.id||"",O={id:f,type:Gj.a.Comment},g=Object.assign({},l,{[p]:Object.assign({},l[p],{next:O})},d,{[f]:Object.assign({},d[f],{prev:b})});return Object.assign({},e,{[u]:g})}default:return e}};const Wj={};var Jj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.e:case de.e:{const{commentLists:n,postIds:r,profileName:s}=t.payload,o={};for(const e of r){o[Object(Bj.a)(e,s)]=n[e]&&n[e].head?n[e].head.id:null}return Object.assign({},e,o)}default:return e}};const Yj={};var zj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.e:case de.e:{const{postIds:n,profileName:r}=t.payload,s={};for(const e of n){s[Object(Bj.a)(e,r)]=e}return Object.assign({},e,s)}default:return e}},Qj=Object(r.c)({api:Pj,extraComments:Fj,keyToCommentThreadLinkSets:Kj,keyToHeadCommentId:Jj,keyToPostId:zj}),Xj=Object(r.c)({chrono:Tj,conversations:Qj});const $j={};var Zj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$j,t=arguments.length>1?arguments[1]:void 0;return t.type,e};const eh={};var th=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.a:case ie.d:{const{listingKey:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case ie.b:case ie.c:case ie.i:case ie.f:case ie.e:case ie.g:{const{listingKey:n}=t.payload;return Object.assign({},e,{[n]:null})}default:return e}};const nh={};var rh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.b:case ie.f:{const{listingKey:n}=t.payload;return Object.assign({},e,{[n]:!0})}case ie.a:case ie.d:case ie.c:case ie.i:case ie.e:case ie.g:{const{listingKey:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},sh=Object(r.c)({error:th,pending:rh});const oh={};var ih=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.c:case ie.i:case ie.e:case ie.g:{const{listingKey:n,itemIds:r}=t.payload;return Object.assign({},e,{[n]:[...e[n]||[],...r]})}default:return e}};const ch={};var ah=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ch,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.i:case ie.c:case ie.e:case ie.g:{const{pageInfo:n,listingKey:r}=t.payload;return n?Object.assign({},e,{[r]:n}):ch}default:return e}},dh=Object(r.c)({api:sh,ids:ih,pageInfo:ah}),uh=n("./src/reddit/constants/posts.ts");const lh={};var bh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.c:case Ve.c:return Object.assign({},e,t.payload.profileAboutInfo);case gm.k:{const n=t.payload;return n.profile?Object.assign({},e,{[n.profile.id]:n.about}):e}case ym.h:{const{identifiers:n,userIsSubscriber:r}=t.payload,s=n.filter(e=>e.type===uh.a.PROFILE);return s.length?s.reduce((e,t)=>(e[t.id]=Object.assign({},e[t.id],{userIsSubscriber:r}),e),Object.assign({},e)):e}case Xu.m:{const n=t.payload,r=e[n.subredditId];if(!r)return e;if(r.publicDescription===n.settings.publicDescription)return e;const s=Object.assign({},r,{publicDescription:n.settings.publicDescription});return Object.assign({},e,{[n.subredditId]:s})}default:return e}};const ph={},mh=(e,t)=>{if(!t)return e;const n=Object.keys(t);if(!n.length)return e;const r={};return n.forEach(n=>{const s=e[n],o=Object.assign({},t[n]);s&&hr()(s,o)||(r[n]=o)}),Object.keys(r).length?Object.assign({},e,r):e};var fh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ph,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.b:case Me.b:case re.b:case re.g:case se.b:case se.e:case ie.c:case ie.i:case ie.e:case ie.g:case Be.b:case Be.e:case oe.e:case Ge.b:case Ne.b:case Ue.e:case Ue.h:case Le.u:case gm.h:case Lu.b:case Ve.c:case ue.i:case gm.l:case de.b:case de.e:case ce.c:case Fe.b:case Ms.e:case To.a:case ae.b:case re.l:case qe.b:case ym.c:return mh(e,t.payload.profiles);case Ve.e:{const{typeaheadSuggestions:n}=t.payload;return Object.keys(n).length?mh(e,n.profiles):e}case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:case ne.k:{const{response:n}=t.payload,r=n&&n.profiles;return mh(e,r)}case gm.k:{const{profile:n}=t.payload;return n?mh(e,{[n.id]:n}):e}case Xu.m:{const n=t.payload,{title:r,over18:s}=n.settings,o=e[n.subredditId];return!o||o.title===r&&o.isNSFW===s?e:Object.assign({},e,{[n.subredditId]:Object.assign({},o,{id:n.subredditId,title:r,isNSFW:s})})}case Xu.k:case Xu.j:{const{imageUrl:n,key:r,subredditId:s}=t.payload;if("profileIcon"!==r)return e;const o=e[s];return o?Object.assign({},e,{[s]:Object.assign({},o,{icon:{height:null,url:n,width:null}})}):e}default:return e}};const Oh={};var gh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gm.c:case gm.f:{const{profileName:n}=t.payload;return Object.assign({},e,{[(n||"").toLowerCase()]:!0})}case gm.a:case gm.b:case gm.d:case gm.e:{const{profileName:n}=t.payload;return Object.assign({},e,{[(n||"").toLowerCase()]:!1})}default:return e}},jh=Object(r.c)({pending:gh});const hh={};var yh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gm.b:{const{profileName:n,data:r}=t.payload,s=r.map(e=>e.id);return Object.assign({},e,{[(n||"").toLowerCase()]:s})}case gm.e:case ie.c:case ie.i:case ie.e:case ie.g:{const{profileName:n,moderatedSubredditIds:r}=t.payload;return r?Object.assign({},e,{[n]:[...e[n]||[],...r]}):e}default:return e}};const _h={};var Eh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gm.e:{const{pageInfo:n,profileName:r}=t.payload;return Object.assign({},e,{[r]:n})}case ie.c:case ie.i:{const{moderatedPageInfo:n,profileName:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}},Ih=Object(r.c)({api:jh,models:yh,pageInfo:Eh});const vh={};var Sh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gm.i:{const{profileName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:!0})}case gm.g:case gm.h:{const{profileName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:!1})}default:return e}},Th=Object(r.c)({pending:Sh});const Ch={};var wh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ch,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gm.h:{const{pageInfo:n,profileName:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}},Dh=Object(r.c)({api:Th,pageInfo:wh}),xh=n("./src/reddit/actions/pinnedPost.ts");const Ph={};var Ah=Object(Pg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ph,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xh.a:{const{pinned:n,profileId:r}=t.payload;return Object.assign({},e,{[r]:n})}case xh.d:{const{postId:n,profileId:r}=t.payload,s=e[r]||[];return Object.assign({},e,{[r]:[...s,n].slice(-Ss.U)})}case xh.g:{const{postId:n,profileId:r}=t.payload,s=e[r]||[];return Object.assign({},e,{[r]:s.filter(e=>e!==n)})}default:return e}}),Ph);const Rh={};var kh=Object(Pg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xh.a:{const{pinned:n,profileId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}}),Rh);const Nh={};var Lh=Object(Pg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xh.c:case xh.f:{const{postId:n,profileId:r}=t.payload,s=e[r]||[];return Object.assign({},e,{[r]:[...s,n]})}case xh.b:case xh.e:case xh.d:case xh.g:{const{postId:n,profileId:r}=t.payload,s=e[r]||[];return Object.assign({},e,{[r]:s.filter(e=>e!==n)})}default:return e}}),Nh),Mh=Object(r.c)({data:Ah,initialData:kh,pending:Lh}),Uh=n("./src/reddit/actions/trophyCase.ts");const Fh={};var Bh,Gh,qh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Uh.a:{const{profileId:n,trophyIds:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},Vh=Object(r.c)({about:bh,models:fh,moderated:Ih,multireddits:Dh,pinnedPosts:Mh,trophyCases:qh});n("./src/lib/cache/index.ts");!function(e){e.MobilePromoBanner="mobilePromoBanner",e.UpsellSignUpBannerLarge="upsellSignUpBannerLarge",e.UpsellSignUpBannerMedium="upsellSignUpBannerMedium",e.UpsellSignUpBannerSmall="upsellSignUpBannerSmall"}(Bh||(Bh={})),function(e){e[e.FrontPage=0]="FrontPage",e[e.SubredditPage=1]="SubredditPage",e[e.CommentsPage=2]="CommentsPage"}(Gh||(Gh={}));var Hh,Kh,Wh;!function(e){e.mobilePromoBanner="desktop_xpromo_banner"}(Hh||(Hh={})),function(e){e.Test1="test_1",e.Test2="test_2"}(Kh||(Kh={})),function(e){e.Test1="test_1",e.Test2="test_2"}(Wh||(Wh={}));!function(e){e.welcome="signup_upsell_banner_welcome",e.join="signup_upsell_banner_redditor",e.vote="signup_upsell_banner_discuss",e.personalize="signup_upsell_banner_personalize"}(Hh||(Hh={}));Object(Ua.a)("PROMO__SHOW_PROMO"),Object(Ua.a)("PROMO__HIDE_PROMO");const Jh={mobilePromoBanner:!1,upsellSignUpBannerLarge:!1,upsellSignUpBannerMedium:!1,upsellSignUpBannerSmall:null};var Yh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROMO__SHOW_PROMO":{const{promoType:n}=t.payload;return Object.assign({},e,{[n]:!0})}case"PROMO__HIDE_PROMO":{const{promoType:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},zh=n("./src/reddit/actions/publicAccessNetwork/constants.ts");const Qh={isError:!1,isPending:!1,values:{},isPermanentlyCanceled:!1};var Xh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zh.s:return Object.assign({},e,{isError:!1,isPending:!1,values:Object.assign({},t.payload)});case zh.D:return Object.assign({},e,{isPending:!0});case zh.F:return Object.assign({},e,{isError:!0,isPending:!1});case zh.E:return Object.assign({},e,{isPermanentlyCanceled:!0,isPending:!1});default:return e}},$h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};var Zh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zh.G:return Object.assign({},e,{[zh.b]:t.payload.error});case zh.H:return Object.assign({},e,{[t.payload.streamId]:t.payload.error});case zh.x:{const t=zh.b;e[t];return $h(e,["symbol"==typeof t?t:t+""])}case zh.w:{const n=t.payload.model.post.id;e[n];return $h(e,["symbol"==typeof n?n:n+""])}default:return e}};const ey=(e,t,n,r)=>Object.assign({},e,{[t]:Object.assign({},e[t],{isPending:n},r&&{utcTimeStamp:r})});var ty=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zh.I:return ey(e,t.payload,!0);case zh.J:return ey(e,zh.b,!0);case zh.w:return ey(e,t.payload.model.post.id,!1,t.payload.utcTimeStamp);case zh.x:return ey(e,zh.b,!1,t.payload.utcTimeStamp);case zh.H:return ey(e,t.payload.streamId,!1);case zh.G:return ey(e,zh.b,!1);default:return e}},ny=Object(r.c)({config:Xh,error:Zh,pending:ty});const ry={cursor:zh.R,timestamps:{},visitOrder:[]};var sy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ry,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zh.S:{const n=t.payload,r=e.visitOrder.includes(n)?e.visitOrder:[...e.visitOrder,n],s=r.indexOf(n);return r===e.visitOrder&&s===e.cursor?e:Object.assign({},e,{visitOrder:r,cursor:s})}case g.d:return oy(e,t.payload.id);case zh.C:return oy(e,t.payload);case _.f:{const n=Object.keys(t.payload).filter(e=>t.payload[e].hidden);return iy(e,n)}case zh.O:{const{streamId:n,timestamp:r}=t.payload;return Object.assign({},e,{timestamps:Object.assign({},e.timestamps,{[n]:r})})}default:return e}};const oy=(e,t)=>{const n=e.visitOrder.indexOf(t);if(-1===n)return e;const r=n>e.cursor?e.cursor:Math.max(e.cursor-1,0);return Object.assign({},e,{visitOrder:e.visitOrder.filter(e=>e!==t),cursor:r})},iy=(e,t)=>{const n=e.visitOrder[e.cursor],r=new Set(t),s=e.visitOrder.filter(e=>!r.has(e)),o=s.indexOf(n),i=o>-1?o:Math.max(e.cursor-1,0);return s.length!==e.visitOrder.length?Object.assign({},e,{cursor:i,visitOrder:s}):e},cy={ended:[],removed:[]};function ay(e){return[...new Set(e)]}var dy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zh.u:return Object.assign({},e,{ended:ay(e.ended.concat(t.payload))});case zh.v:return Object.assign({},e,{removed:ay(e.removed.concat(t.payload))});default:return e}};const uy={},ly=(e,t)=>{const n=Object.keys(e).reduce((t,n)=>Object.assign({},t,{[n]:Object.assign({},e[n],{rank:zh.n})}),{});return t.reduce((e,t,n)=>Object.assign({},e,{[t.post.id]:Object.assign({},t,{rank:zh.m-n})}),n)},by=(e,t)=>{const n=t.post.id,r=e[n]?e[n].rank:zh.n;return Object.assign({},e,{[t.post.id]:Object.assign({},t,{rank:r})})};var py=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zh.w:return by(e,t.payload.model);case zh.x:return ly(e,t.payload.models);case zh.B:{const n=t.payload.streamId,r=t.payload.isUnsetting?-1:1,s=(t.payload.isUp?1:0)*r,o=(t.payload.isUp?0:1)*r;return Object.assign({},e,{[n]:Object.assign({},e[n],{downvotes:e[n].downvotes+o,upvotes:e[n].upvotes+s})})}default:return e}};const my={discoveryUnitThumbnails:{},streamPreviews:{}};var fy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:my,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zh.t:return Object.assign({},e,{discoveryUnitThumbnails:Object.assign({},t.payload.reduce((e,t)=>Object.assign({},e,{[t.postId]:t.imageUrl}),{}))});case zh.y:return Object.assign({},e,{streamPreviews:Object.assign({},e.streamPreviews,t.payload.reduce((e,t)=>Object.assign({},e,{[t.postId]:t.imageUrl}),{}))});default:return e}};const Oy={reported:[]};var gy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.d:return Object.assign({},e,{reported:[...e.reported,t.payload.id]});default:return e}};const jy={isIntroFinished:!1};var hy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zh.z:return Object.assign({},e,t.payload);default:return e}};const yy={isMuted:!0,reportedStreams:[],shouldShowOnboardingModal:!0};var _y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zh.A:return Object.assign({},e,t.payload);case g.d:{const n=t.payload.id;return e.reportedStreams.includes(n)?e:Object.assign({},e,{reportedStreams:[...e.reportedStreams,n]})}default:return e}},Ey=Object(r.c)({api:ny,history:sy,hlsStreams:dy,models:py,preloads:fy,reports:gy,theaterSettings:hy,userSettings:_y});const Iy={};var vy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe.b:return Object.assign({},e,t.payload);case qe.a:default:return e}},Sy=n("./src/reddit/actions/removalReasons/constants.ts");var Ty=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Sy.k:case Sy.l:case Sy.b:case Sy.c:case Sy.h:case Sy.i:case Sy.e:case Sy.f:return null;case Sy.j:case Sy.a:case Sy.g:case Sy.d:return t.payload;default:return e}};var Cy=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Sy.k:case Sy.b:case Sy.h:case Sy.e:return!0;case Sy.l:case Sy.j:case Sy.c:case Sy.a:case Sy.i:case Sy.g:case Sy.f:case Sy.d:return!1;default:return e}},wy=Object(r.c)({error:Ty,pending:Cy}),Dy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const xy={};var Py=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Sy.l:{const{response:n}=t.payload,{data:r}=n;return Object.assign({},e,r)}case Sy.c:case Sy.i:{const{reason:n}=t.payload;return Object.assign({},e,{[n.id]:n})}case Sy.f:{const{reasonId:n}=t.payload,r=n;e[r];return Dy(e,["symbol"==typeof r?r:r+""])}default:return e}};const Ay={};var Ry=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ay,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Sy.l:{const{subredditId:n,response:r}=t.payload,{order:s}=r;return Object.assign({},e,{[n]:s})}case Sy.c:{const{subredditId:n,reason:r}=t.payload;return Object.assign({},e,{[n]:[...e[n],r.id]})}case Sy.f:{const{subredditId:n,reasonId:r}=t.payload,s=[...e[n]].filter(e=>e!==r);return Object.assign({},e,{[n]:s})}default:return e}};var ky=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Sy.t:{const{subredditId:e,itemIds:n}=t.payload;return{itemIds:n,subredditId:e}}default:return e}},Ny=Object(r.c)({api:wy,models:Py,reasonOrder:Ry,removedItemIds:ky});const Ly={};var My=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ly,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.e:case g.d:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!1})}case g.c:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!0})}case g.f:{const n=t.payload;return n?Object.assign({},e,{[n]:!1}):e}default:return e}};const Uy={};var Fy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.e:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!0})}case g.d:case g.c:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!1})}case g.f:{const n=t.payload;return n?Object.assign({},e,{[n]:!1}):e}default:return e}};const By={};var Gy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:By,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.d:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!0})}case g.e:case g.c:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!1})}case g.f:{const n=t.payload;return n?Object.assign({},e,{[n]:!1}):e}default:return e}},qy=Object(r.c)({error:My,pending:Fy,success:Gy});var Vy=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.b:return t.payload;case s.c:return!t.payload&&e;case m.a:return!1;case g.f:return!!t.payload&&e;default:return e}};var Hy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.f:return t.payload;case s.c:return t.payload?null:e;case m.a:return null;default:return e}};var Ky=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.g:return t.payload;case g.f:return!1;default:return e}},Wy=Object(r.c)({api:qy,openedFromModalPage:Vy,postOrCommentId:Hy,userIsMod:Ky}),Jy=n("./src/reddit/actions/pages/report/constants.ts");var Yy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Jy.a:return t.payload;default:return e}};var zy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Jy.b:return t.payload;case Jy.c:case Jy.d:return!1;default:return e}};var Qy=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Jy.d:return!0;case Jy.c:case Jy.b:return!1;default:return e}};var Xy=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Jy.c:return!0;case Jy.b:case Jy.d:return!1;default:return e}},$y=Object(r.c)({error:zy,pending:Qy,success:Xy}),Zy=n("./src/reddit/actions/reportPageRules/constants.ts");const e_=[];var t_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zy.a:return t.payload;default:return e}},n_=Object(r.c)({reportPageApi:$y,reportPageRules:t_,initialReason:Yy}),r_=n("./src/reddit/actions/reportRules.ts");const s_={liveStreamingRules:[],sitewideRules:[]};var o_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r_.b:return Object.assign({},e,{sitewideRules:t.payload});case r_.a:return Object.assign({},e,{liveStreamingRules:t.payload});default:return e}};Object(Ua.a)("REQUEST_HOST_SET");var i_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_HOST_SET":return t.payload;default:return e}};const c_="RUN_TIME_ENV_VARS__IS_STAGING",a_=(Object(Ua.a)(c_),{staging:!1,startTimeInMillis:(new Date).getTime()});var d_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c_:return Object.assign({},e,{staging:!0});default:return e}};const u_=Object.create(null);var l_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u_,t=arguments.length>1?arguments[1]:void 0;switch(null!==Object.getPrototypeOf(e)&&(e=Object.assign(Object.create(null),e)),t.type){case Ve.d:{const{relatedQueries:n,query:r}=t.payload;if(n){const t=r?r.toLowerCase():"";return Object.assign(Object.create(null),e,{[t]:n})}return e}default:return e}};var b_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.c:case Ve.f:{const{searchQuery:e}=t.payload;return e||null}default:return e}};const p_=Object.create(null);var m_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p_,t=arguments.length>1?arguments[1]:void 0;switch(null!==Object.getPrototypeOf(e)&&(e=Object.assign(Object.create(null),e)),t.type){case Ve.e:{const{order:n,searchQuery:r}=t.payload;return Object.assign(Object.create(null),e,Object.assign({},e,{[r.toLowerCase()]:n}))}default:return e}},f_=n("./src/reddit/models/Search/index.ts");const O_={};var g_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve.e:{const{typeaheadSuggestions:n}=t.payload,r={};return Object.keys(n).forEach(e=>{const t=n[e];return r[e]=Object(f_.d)(t)}),Object.assign({},e,r)}default:return e}},j_=Object(r.c)({idsByQuery:m_,models:g_});const h_={};var y_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.c:{const{viewTreatment:n,key:r}=t.payload;return n?Object.assign({},e,{[r]:n}):e}default:return e}},__=Object(r.c)({relatedQueries:l_,searchQuery:b_,typeahead:j_,viewTreatment:y_}),E_=n("./src/reddit/models/SearchDiscoveryUnit/index.ts");const I_={};var v_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.c:{const{categoryName:n,key:r,listingOrder:s,postOrder:o,posts:i,searchQuery:c,subreddits:a,viewTreatment:d}=t.payload,u={subredditIcons:[],displayText:null,subredditOccurrences:0,searchQuery:c};if(d===E_.c.Trending||n){const e=[];if(s&&s.map(t=>{!e.includes(t.id)&&a[t.id]&&(e.push(t.id),u.subredditIcons.push({url:a[t.id].icon.url,subredditName:a[t.id].name}),u.displayText||(u.displayText=a[t.id].displayText))}),o)for(let t=0;t<o.length;t++){const n=i[o[t]],r=n&&n.belongsTo?n.belongsTo.id:void 0;r&&!e.includes(r)&&a[r]&&(e.push(r),u.subredditIcons.push({url:a[r].icon.url,subredditName:a[r].name}))}a&&(u.subredditOccurrences=Object.keys(a).length-1)}return Object.assign({},e,{[r]:u})}default:return e}};const S_={};var T_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.c:{const{key:n,searchDiscoveryUnits:r}=t.payload;return r&&Object.keys(r).length?Object.assign({},e,{[n]:r}):e}default:return e}};const C_={};var w_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.c:{const{key:n,searchDiscoveryUnitOrder:r}=t.payload;return r?Object.assign({},e,{[n]:r}):C_}default:return e}},D_=Object(r.c)({headerContent:v_,models:T_,order:w_});Object(Ua.a)("SEO__CRAWLER_RECEIVED");var x_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEO__CRAWLER_RECEIVED":return t.payload;default:return e}},P_=n("./src/reddit/actions/seo/linksModule.ts");const A_={};var R_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P_.a:return Array.isArray(t.payload)&&0!==t.payload.length?Object.assign({},e,{frontpage:t.payload}):e;default:return e}},k_=Object(r.c)({crawler:x_,linksModule:R_}),N_=n("./src/reddit/actions/shortcuts.ts");var L_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N_.a:return t.payload;case m.a:return null;default:return e}};var M_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N_.b:return t.payload||null;default:return e}},U_=n("./src/reddit/constants/history.ts"),F_=n("./src/reddit/constants/shortcuts.ts"),B_=n("./src/reddit/helpers/history/index.ts");const G_=F_.d.Global,q_=e=>{switch(e.name){case"comments":case"duplicates":case"metaMembershipPaywallPage":return Object(B_.b)(U_.a.IsOverlay)?F_.d.Lightbox:F_.d.CommentPage;case"rpan":case"subredditCreation":return Object(B_.b)(U_.a.IsOverlay)?F_.d.Lightbox:G_;case"index":case"listing":case"multireddit":case"searchResults":case"subreddit":return F_.d.Listing;case"modQueuePages":return F_.d.Modqueue;default:return G_}};var V_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a:const n=t.payload;if(n.routeMatch){const e=n.routeMatch.route.meta;return q_(e)}return G_;default:return e}},H_=Object(r.c)({activeCommentId:L_,activePostId:M_,namespace:V_});var K_=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(e)return e;switch(t.type){case Qt.d:case Qt.e:return!0;default:return e}},W_=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),J_=Object(r.c)({firstFetch:K_,models:W_.b}),Y_=n("./src/reddit/models/StructuredStyles/index.ts");const z_={};var Q_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.h:case j.b:case j.d:return t.payload.styles;case j.e:return z_;case j.c:{const n=t.payload;return Object.assign({},e,n)}case j.k:{const e=t.payload;return Object(Y_.g)(e.styles)}default:return e}},X_=n("./src/reddit/actions/exportImportStyles.ts");var $_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X_.c:case X_.b:return null;case X_.a:return t.payload;default:return e}};var Z_=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X_.c:return!0;case X_.b:case X_.a:return!1;default:return e}},eE=Object(r.c)({error:$_,pending:Z_}),tE=n("./src/reddit/actions/postFlairStyleTemplate.ts"),nE=n("./src/reddit/actions/postFlairStyleTemplates/constants.ts");const rE={};var sE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.b:case Me.b:case re.b:case ce.c:case Ve.c:case Fe.b:case To.a:{const{payload:n}=t;if(!n.structuredStyles||!n.structuredStyles.data)return e;const r=n.structuredStyles.data.flairTemplate;return Object.assign({},e,r)}case tE.b:{const{flairId:n,template:r}=t.payload;return Object.assign({},e,{[n]:r})}case tE.a:{const{flairId:n}=t.payload;return Object(Au.a)(e,n)}case Bf.b:{const{templateId:n}=t.payload;return Object(Au.a)(e,n)}case j.k:return rE;case nE.b:{const{templates:n}=t.payload;return Object.assign({},e,n)}default:return e}},oE=Object(r.c)({models:sE});const iE={};var cE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.f:{const n=t.payload;return Object.assign({},e,{[n.imageKey]:n.uploadId})}case j.k:case j.e:return iE;default:return e}};var aE=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.n:case j.e:return!1;case j.a:return!0;default:return e}};n("./node_modules/core-js/modules/es6.regexp.search.js");var dE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.d:return t.payload.subredditId;case j.e:return null;case m.a:return t.payload.location.search.indexOf("styling=true")>-1?e:null;case Xu.f:return null;default:return e}};const uE={};var lE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.b:case Me.b:case re.b:case Fe.b:case To.a:{const{payload:n}=t;if(!n.structuredStyles||!n.structuredStyles.data)return e;const r=Object.keys(n.subredditAboutInfo||{});if(1!==r.length)return e;const s=r[0],o=n.structuredStyles.data.style;return Object.assign({},e,{[s]:o})}case Ve.c:case ce.c:{const{payload:n}=t;if(!n.structuredStyles||!n.structuredStyles.data)return e;if(!n.subredditName)return e;let r;if(yn()(n.subreddits,(e,t)=>{if(e.name.toLowerCase()===n.subredditName.toLowerCase())return r=t,!1}),!r)return e;const s=n.structuredStyles.data.style;return Object.assign({},e,{[r]:s})}case j.m:{const n=t.payload,r=e[n.subredditId];return Object.assign({},e,{[n.subredditId]:Object.assign({},r,n.styles)})}case j.h:{const n=t.payload;return Object.assign({},e,{[n.subredditId]:n.styles})}case j.k:{const n=t.payload,r=Object(Y_.g)(n.styles);return Object.assign({},e,{[n.subredditId]:r})}case gm.k:{const n=t.payload,{banner:r,profile:s}=n;if(!r||!s)return e;const o=e[s.id];return Object.assign({},e,{[s.id]:Object.assign({},o,{bannerBackgroundImage:r.url})})}case Xu.k:{const n=t.payload;if("profileBanner"===n.key){return CO(e,{[n.subredditId]:{bannerBackgroundImage:n.imageUrl}})}return e}case Xu.j:{const n=t.payload;if("profileBanner"===n.key){return CO(e,{[n.subredditId]:{bannerBackgroundImage:void 0}})}return e}default:return e}},bE=Object(r.c)({draft:Q_,exportStyles:eE,flairTemplate:oE,imagePreviews:cE,isBladeEditorDirty:aE,isEditing:dE,models:lE});Object(Ua.a)("STYLESHEETS__EXTRACTED_FROM_MANIFEST");var pE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STYLESHEETS__EXTRACTED_FROM_MANIFEST":return t.payload;default:return e}},mE=n("./src/reddit/actions/subredditAutocomplete.ts");const fE={};var OE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mE.c:case mE.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case mE.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const gE={};var jE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mE.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case mE.b:case mE.a:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},hE=Object(r.c)({error:OE,pending:jE});const yE={};var _E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mE.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:t.payload})}default:return e}},EE=Object(r.c)({api:hE,models:_E});const IE={};var vE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:IE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case An.c:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case An.a:case An.d:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}};const SE={};var TE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case An.d:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case An.a:case An.c:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}};const CE={};var wE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case An.d:{const{subredditId:n}=t.payload;return e[n]?e:Object.assign({},e,{[n]:!1})}case An.a:{const{subredditId:n,isSubredditWhitelisted:r}=t.payload;return Object.assign({},e,{[n]:r})}case An.c:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},DE=Object(r.c)({error:vE,pending:TE,whitelist:wE}),xE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const PE={};var AE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case An.a:return Object.assign({},e,t.payload.collection);case An.e:{const{channel:n}=t.payload;return Object.assign({},e,{[n.channelId]:Object.assign({},n)})}case An.f:{const{channel:n,editedSubredditChannelData:r}=t.payload;return n.name=r.room,n.description=r.description,n.minimumAcctAge=n.minimumAcctAge,n.newMemberAge=n.newMemberAge,Object.assign({},e,{[n.channelId]:Object.assign({},n)})}case An.g:{const n=t.payload;e[n];return xE(e,["symbol"==typeof n?n:n+""])}default:return e}};var RE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case An.h:return t.payload.channelId;case An.g:return e===t.payload?null:e;default:return e}},kE=Object(r.c)({api:DE,models:AE,selected:RE}),NE=n("./src/reddit/actions/subredditDifficulty/constants.ts");const LE={};var ME=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case NE.b:{const{subredditId:n,subreddits:r}=t.payload;return r.length?Object.assign({},e,{[n]:Object.assign({id:n},r[0])}):e}default:return e}},UE=n("./src/reddit/actions/monthsToMinutes/homeFeed.ts"),FE=n("./src/reddit/actions/subredditMention/constants.ts");const BE={};var GE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:BE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case FE.d:case Me.b:case re.b:case ce.c:case ae.a:case ae.b:case Fe.b:case To.a:case se.b:case se.e:case Be.b:case Be.a:case Be.e:case Be.d:case oe.e:case de.b:case de.e:case Ve.c:{const n=t.payload.subredditAboutInfo;if(!n)return e;const r=Object.keys(n);return 0===r.length?e:r.reduce((e,t)=>(n[t]&&(e[t]?e[t]=Object.assign({},e[t],n[t]):e[t]=n[t]),e),Object.assign({},e))}case fc.a:{const{subredditId:n,emojisEnabled:r}=t.payload,s=e[n],o=Object.assign({},s,{emojisEnabled:r});return Object.assign({},e,{[n]:o})}case ym.h:{const{identifiers:n,userIsSubscriber:r}=t.payload,s=n.filter(e=>e.type===uh.a.SUBREDDIT);return s.length?s.reduce((e,t)=>(e[t.id]=Object.assign({},e[t.id],{userIsSubscriber:r}),e),Object.assign({},e)):e}case Ca.e:case Zt.f:case UE.b:case Fu.e:case Fu.m:{const{subredditsAboutInfo:n}=t.payload;if(!n)return e;const r=Object.keys(n);return 0===r.length?e:r.reduce((e,t)=>(n[t]&&(e[t]=e[t]?Object.assign({},e[t],n[t]):n[t]),e),Object.assign({},e))}case fc.b:{const n=t.payload,{emojiCustomSize:r,subredditId:s}=n,o=e[s];if(!o)return e;const i=Object.assign({},o);if(r){const{width:e,height:t}=r;i.emojisCustomSize=[e,t]}else delete i.emojisCustomSize;return Object.assign({},e,{[s]:i})}case ue.c:{const{data:n}=t.payload;return Object.assign({},e,n)}case ge.q:{const{subredditId:n,subredditCoins:r}=t.payload;if(!n||!r)return e;const s=e[n];if(!s)return e;const o=Object.assign({},s,{coins:r});return Object.assign({},e,{[n]:o})}default:return e}};const qE={};var VE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.b:case ue.c:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:null})}case ue.a:{const{subredditName:n,error:r}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:r})}default:return e}};var HE=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.b:return!0;case ue.c:case ue.a:return!1;default:return e}},KE=Object(r.c)({error:VE,pending:HE}),WE=n("./src/reddit/actions/subredditCreation.ts");const JE={apiError:null};var YE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:JE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case WE.b:{const{error:n}=t.payload;return Object.assign({},e,{apiError:n})}case WE.a:case WE.c:case WE.d:return JE;default:return e}};var zE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case WE.d:{const{subredditName:e}=t.payload;return e||null}case WE.c:case WE.b:return null;default:return e}};var QE=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case WE.c:return!0;case WE.d:case WE.b:return!1;default:return e}},XE=Object(r.c)({error:YE,lastCreatedSubredditId:zE,pending:QE});var $E=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fu.p:return!0;case Fu.q:case Fu.o:return!1;default:return e}},ZE=Object(r.c)({pending:$E});const eI={};var tI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.l:case ue.m:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:null})}case ue.k:{const{subredditName:n,error:r}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:r})}default:return e}};const nI={};var rI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.l:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:!0})}case ue.m:case ue.k:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:!1})}default:return e}},sI=Object(r.c)({error:tI,pending:rI});const oI={};var iI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fu.d:case Fu.e:return Object.assign({},e,{[t.payload.key]:!1});case Fu.f:return Object.assign({},e,{[t.payload.key]:!0});default:return e}},cI=Object(r.c)({pending:iI});var aI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fu.i:{const{error:e}=t.payload;return e||null}case Fu.k:case Fu.j:return null;default:return e}};var dI=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fu.k:return!0;case Fu.j:case Fu.i:return!1;default:return e}},uI=Object(r.c)({error:aI,pending:dI}),lI=n("./src/reddit/actions/subredditRules/constants.ts");var bI=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lI.c:return!0;case lI.a:case lI.b:return!1;default:return e}},pI=n("./src/reddit/actions/subredditSettings.ts");var mI=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pI.c:return!0;case pI.d:case pI.b:return!1;default:return e}},fI=Object(r.c)({pending:mI});const OI={};var gI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:OI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fu.l:case Fu.m:return Object.assign({},e,{[t.payload.key]:!1});case Fu.n:return Object.assign({},e,{[t.payload.key]:!0});default:return e}},jI=Object(r.c)({pending:gI}),hI=n("./src/reddit/actions/pages/subredditWiki/constants.ts");const yI={};var _I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case hI.c:case hI.b:{const n=t.payload,{subredditName:r}=n.options;return Object.assign({},e,{[r.toLowerCase()]:null})}case hI.a:{const n=t.payload,{options:r,error:s}=n,{subredditName:o}=r;return Object.assign({},e,{[o.toLowerCase()]:s})}default:return e}};const EI={};var II=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:EI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case hI.c:{const n=t.payload,{subredditName:r}=n.options;return Object.assign({},e,{[r.toLowerCase()]:!0})}case hI.b:case hI.a:{const n=t.payload,{subredditName:r}=n.options;return Object.assign({},e,{[r.toLowerCase()]:!1})}default:return e}},vI=Object(r.c)({error:_I,pending:II});const SI={};var TI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case IO.c:case IO.b:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:null})}case IO.a:{const{subredditName:n,error:r}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:r})}default:return e}};const CI={};var wI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case IO.c:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:!0})}case IO.b:case IO.a:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:!1})}default:return e}},DI=Object(r.c)({error:TI,pending:wI}),xI=Object(r.c)({about:KE,create:XE,inlineEditing:ZE,models:sI,onboarding:cI,rankings:uI,rules:bI,settings:fI,similar:jI,topContent:DI,wiki:vI}),PI=n("./node_modules/lodash/isNil.js"),AI=n.n(PI);const RI={};var kI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.d:{const{subredditId:n,forceState:r}=t.payload;return Object.assign({},e,{[n]:AI()(r)?!e[n]:r})}default:return e}},NI=Object(r.c)({meta:kI});const LI={};var MI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zt.f:{const{categoryId:n,subredditIds:r}=t.payload;return mn()(r)?e:Object.assign({},e,{[n]:r})}default:return e}};const UI={};var FI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:UI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.c:{const{communityInfo:n,id:r,type:s}=t.payload;return n&&"subreddit"===s?Object.assign({},e,{[r]:n}):e}default:return e}},BI=n("./src/reddit/actions/subredditCrosspostable.ts");var GI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case BI.a:{const{error:e}=t.payload;return e}case BI.c:case BI.b:return null;default:return e}};var qI=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case BI.c:return!0;case BI.b:case BI.a:return!1;default:return e}},VI=Object(r.c)({errors:GI,pending:qI});const HI={};var KI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case BI.b:{const{subredditIds:n}=t.payload;return hr()(e,n)?e:n}default:return e}},WI=Object(r.c)({api:VI,ids:KI});const JI={};var YI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:JI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xO.a:{const n=t.payload,{subredditId:r,distinguishKey:s,postIds:o}=n;if(!(r in e))return Object.assign({},e,{[r]:{[s]:o}});const i=e[r];return CO(i,{[s]:o})===i?e:Object.assign({},e,{[r]:Object.assign({},i,{[s]:o})})}default:return e}},zI=Object(r.c)({models:YI});const QI={};var XI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:QI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:{const{assets:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}case b.g:case b.j:{const{subredditId:n,mainHeader:r}=t.payload,s=e[n]||{};return Object.assign({},e,{[n]:Object.assign({},s,{mainHeader:r})})}default:return e}};const $I={};var ZI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:{const{communityJar:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};const ev={};var tv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ev,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:t.payload})}case d.k:{const{communityRaw:n,subredditId:r}=t.payload;return n?Object.assign({},e,{[r]:n}):e}default:return e}};const nv={};var rv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:{const{subredditId:n,distribution:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const sv={};var ov=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:{const{subredditId:n,meta:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const iv={};var cv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.p:{const{subredditId:n,releaseNotes:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},av=Object(r.c)({assets:XI,communityJar:ZI,communityRaw:tv,distributions:rv,meta:ov,releaseNotes:cv}),dv=n("./node_modules/lodash/isEqualWith.js"),uv=n.n(dv),lv=n("./src/lib/forceHttps/index.ts"),bv=n("./src/reddit/models/Subreddit/index.ts"),pv=(e,t)=>({displayText:"r/".concat(e),name:e,id:t,icon:{height:null,url:"",width:null},subscribers:0,title:e,type:bv.b.Public,url:"/r/".concat(e,"/"),isNSFW:!1});const mv={},fv=(e,t)=>{const n=Object.keys(t);if(n.length){const r=Object.assign({},e);return n.forEach(n=>{const s=e[n],o=t[n],i=s?Object.assign({},s,o):Object.assign({},o);o.icon.url?i.icon.url=Object(lv.a)(o.icon.url):s&&s.icon.url?i.icon=s.icon:i.icon.url="",s&&s.allowChatPostCreation&&(i.allowChatPostCreation=!0),r[n]=i}),r}return e},Ov=(e,t)=>{return!uv()(e,t,(e,t,n)=>{if("subscribers"===n)return!0})},gv=(e,t)=>{if(!t)return e;const n=Object.keys(t);if(!n.length)return e;const r={};for(let s=0;s<n.length;s++){const o=n[s],i=e[o],c=t[o];i&&!Ov(i,c)||(r[o]=c)}return Object.keys(r).length?Object.assign({},e,r):e};var jv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ym.c:return fv(e,t.payload.subreddits||{});case FE.d:case Zt.f:case Ne.b:case Ca.e:case Ue.e:case Ue.h:case ne.k:case Le.r:case Le.u:case gm.h:case Lu.b:case Me.b:case UE.b:case re.b:case re.g:case re.l:case se.b:case se.e:case ie.c:case ie.i:case ie.e:case ie.g:case Be.b:case Be.e:case oe.b:case oe.e:case gm.e:case ce.c:case ae.b:case Fe.b:case Ms.e:case To.a:case gm.l:case de.b:case de.e:case Ge.b:case qe.b:case Ve.c:case ue.c:case ue.f:case ue.i:case Fu.a:case Fu.e:case Fu.m:return gv(e,t.payload.subreddits||{});case ne.f:case ne.i:case ne.m:case ne.p:case ne.v:{const{response:n}=t.payload,{subreddits:r}=n;return gv(e,r)}case Ve.e:{const{typeaheadSuggestions:n}=t.payload;return gv(e,n.subreddits||{})}case EO.e:{const n=t.payload.subreddits,r={};return Object.keys(n).map(e=>{const t=n[e];r[e]=pv(t,e)}),Object.assign({},r,e)}case Le.B:{const{subreddits:n}=t.payload;return Object.assign({},n,e)}case d.i:{const n=t.payload;return gv(e,n)}case j.m:{const n=t.payload,{subredditId:r,styles:s}=n;return"communityIcon"in s&&e[r]&&"string"==typeof s.communityIcon?Object.assign({},e,{[r]:Object.assign({},e[r],{communityIcon:s.communityIcon})}):e}default:return e}};var hv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.e:{const{error:e}=t.payload;return e}case ue.g:case ue.f:return null;default:return e}};var yv=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.g:case ue.f:return!0;case ue.e:return!1;default:return e}};var _v=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.g:return!0;case ue.f:case ue.e:return!1;default:return e}},Ev=Object(r.c)({errors:hv,fetched:yv,pending:_v});var Iv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.f:{const{subreddits:e}=t.payload,n=Object.keys(e);return n.sort((t,n)=>e[t].displayText.toLowerCase()>e[n].displayText.toLowerCase()?1:-1),n}default:return e}},vv=Object(r.c)({api:Ev,order:Iv});const Sv={};var Tv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fu.e:{const{key:n,subredditIds:r}=t.payload;return 0===r.length?e:Object.assign({},e,{[n]:r})}default:return e}};const Cv={};var wv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.g:{const{subredditId:n,products:r}=t.payload,s=Object.keys(r).reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[n]:s})}default:return e}};const Dv={};var xv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fu.b:{const{categoryRankingsKey:n}=t.payload,r=e[n],s=r&&r.length?[...r,...t.payload.rankings]:t.payload.rankings;return Object.assign({},e,{[n]:s})}default:return e}};const Pv={};var Av=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fu.c:{const{categoryRankingsKey:n,pageInfo:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Rv={};var kv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lI.b:{const{rules:n,subredditId:r}=t.payload,s={[r]:{rules:n.rules}};return Object.assign({},e,s)}case lI.e:{const{rules:n,subredditId:r}=t.payload,s={[r]:{rules:[...e[r].rules,...n.rules]}};return Object.assign({},e,s)}case lI.f:{const{rules:n,subredditId:r,oldName:s}=t.payload;n.rules.shortName!==s&&(e[r].rules=e[r].rules.filter(e=>e.shortName!==s));const o={[r]:{rules:[...n.rules,...e[r].rules]}};return o[r].rules.sort((e,t)=>e.priority-t.priority),Object.assign({},e,o)}case lI.g:case lI.d:{const{rules:n,subredditId:r}=t.payload,s={[r]:{rules:n.rules}};return Object.assign({},e,s)}default:return e}};const Nv={};var Lv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pI.a:{const e=t.payload;return{[e.subredditId]:e}}case pI.d:{const n=t.payload.settings,r=e[n.subredditId]||{};return Object.assign({},e,{[n.subredditId]:Object.assign({},r,n)})}case Xu.m:{const n=t.payload,r=e[n.subredditId]||{},s=Object.assign({},r,n.settings);return Object.assign({},e,{[n.subredditId]:s})}default:return e}};const Mv={};var Uv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fu.m:{const{key:n,subredditIds:r}=t.payload;return 0===r.length?e:Object.assign({},e,{[n]:r})}default:return e}},Fv=n("./src/reddit/actions/wiki/wikiDiff/constants.ts");const Bv={};var Gv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fv.b:{const{key:n,htmlDiff:r}=t.payload;return Object.assign({},e,{[n]:{htmlDiff:r}})}case Fv.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{pending:!0})})}case Fv.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{pending:!1,error:r})})}default:return e}};const qv={};var Vv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case hI.b:const n=t.payload,{subredditWiki:r,options:s}=n,o=r&&r.directory;if(!o)return e;const{subredditName:i}=s;return Object.assign({},e,{[i.toLowerCase()]:o});default:return e}},Hv=n("./src/reddit/actions/wiki/wikiRevisions/constants.ts");const Kv={};var Wv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case hI.b:{const{subredditWiki:n,pageKey:r}=t.payload,{page:s}=n;return r&&s?Object.assign({},e,{[r]:s}):e}case Hv.a:{const{pageKey:n,page:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},Jv=n("./src/reddit/actions/wiki/wikiPageSettings/constants.ts");const Yv={};var zv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Jv.c:{const{settings:n,pageKey:r}=t.payload;return n?Object.assign({},e,{[r]:n}):e}case Jv.d:{const{isVisible:n,editPermissions:r,pageKey:s}=t.payload,o=e[s];return o?Object.assign({},e,{[s]:Object.assign({},o,{isVisible:n,editPermissions:r})}):e}case Jv.b:{const{editorsInfo:n,afterToken:r,pageKey:s}=t.payload,o=e[s];if(!o)return e;const i=[...o.editorsInfo,...n];return Object.assign({},e,{[s]:Object.assign({},o,{editorsInfo:i,afterToken:r})})}case Jv.a:{const{username:n,pageKey:r}=t.payload,s=e[r];if(!s)return e;const o=s.editorsInfo.filter(e=>e.username!==n);return Object.assign({},e,{[r]:Object.assign({},s,{editorsInfo:o})})}default:return e}};const Qv={};var Xv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Hv.b:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case Hv.d:case Hv.c:{const{key:n}=t.payload;return Object(Au.a)(e,n)}default:return e}};const $v={};var Zv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Hv.d:case Hv.b:case Hv.c:{const{key:n}=t.payload,r=t.type===Hv.d;return Object.assign({},e,{[n]:r})}default:return e}},eS=Object(r.c)({error:Xv,pending:Zv}),tS=n("./src/reddit/actions/wiki/wikiEditing/constants.ts");const nS={};var rS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Hv.c:{const{key:n,options:r,pageInfo:s,revisionsIds:o}=t.payload,i=e[n],c=r.after&&i?[...i.ids,...o]:o;return Object.assign({},e,{[n]:{ids:c,pageInfo:s}})}case Hv.a:{const{page:{revision:n},pageRevisionsListingKey:r,recentRevisionsListingKey:s}=t.payload,o=e[r];return o&&n?Object.assign({},Object(Au.a)(e,s),{[r]:Object.assign({},o,{ids:[n.id,...o.ids]})}):e}case tS.a:{const{pageRevisionsListingKey:n,recentRevisionsListingKey:r}=t.payload,s=Object.assign({},e);return delete s[n],delete s[r],s}default:return e}};const sS={};var oS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case hI.b:{const{subredditWiki:{page:n}}=t.payload,r=n&&n.revision;return r&&!e[r.id]?Object.assign({},e,{[r.id]:r}):e}case Hv.c:{const{revisions:n}=t.payload;return Object.assign({},e,n)}case Hv.a:{const{page:n}=t.payload,r=n.revision;return r?Object.assign({},e,{[r.id]:r}):e}case Hv.e:{const{revisionId:n,isHidden:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{isHidden:r})}):e}default:return e}},iS=Object(r.c)({api:eS,listings:rS,models:oS}),cS=n("./src/reddit/actions/wiki/wikiBannedContributors/constants.ts");const aS={};var dS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cS.c:case cS.a:{const{subredditName:n,afterToken:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const uS={};var lS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cS.b:{const{subredditName:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case cS.d:case cS.c:{const{subredditName:n}=t.payload;return Object(Au.a)(e,n)}default:return e}};const bS={};var pS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cS.d:case cS.c:case cS.b:{const{subredditName:n}=t.payload,r=t.type===cS.d;return Object.assign({},e,{[n]:r})}default:return e}},mS=Object(r.c)({error:lS,pending:pS});const fS={};var OS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cS.c:case cS.a:{const{subredditName:n,bannedContributors:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],r)})}case cS.e:{const{subredditName:n,bannedContributor:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],r)})}case cS.f:{const{subredditName:n,userId:r}=t.payload,s=Object(Au.a)(e[n],r);return Object.assign({},e,{[n]:s})}default:return e}};const gS={};var jS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cS.c:case cS.a:{const{subredditName:n,userOrder:r}=t.payload;return Object.assign({},e,{[n]:eg()([...e[n]||[],...r])})}case cS.e:{const{subredditName:n,userOrder:r}=t.payload;return Object.assign({},e,{[n]:eg()([...r,...e[n]||[]])})}case cS.f:{const{subredditName:n,userId:r}=t.payload;return Object.assign({},e,{[n]:(e[n]||[]).filter(e=>e!==r)})}default:return e}},hS=Object(r.c)({afterToken:dS,api:mS,models:OS,userOrder:jS});const yS={};var _S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cS.g:{const{subredditName:n,bannedContributor:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},ES=Object(r.c)({listing:hS,search:_S}),IS=n("./src/reddit/actions/wiki/wikiContributors/constants.ts");const vS={};var SS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case IS.c:case IS.a:{const{subredditName:n,afterToken:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const TS={};var CS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case IS.b:{const{subredditName:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case IS.d:case IS.c:{const{subredditName:n}=t.payload;return Object(Au.a)(e,n)}default:return e}};const wS={};var DS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case IS.d:case IS.c:case IS.b:{const{subredditName:n}=t.payload,r=t.type===IS.d;return Object.assign({},e,{[n]:r})}default:return e}},xS=Object(r.c)({error:CS,pending:DS});const PS={};var AS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case IS.c:case IS.a:{const{subredditName:n,contributors:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],r)})}case IS.e:{const{subredditName:n,contributor:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],r)})}case IS.f:{const{subredditName:n,userId:r}=t.payload,s=Object(Au.a)(e[n],r);return Object.assign({},e,{newState:s})}default:return e}};const RS={};var kS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case IS.c:case IS.a:{const{subredditName:n,userOrder:r}=t.payload;return Object.assign({},e,{[n]:eg()([...e[n]||[],...r])})}case IS.e:{const{subredditName:n,userOrder:r}=t.payload;return Object.assign({},e,{[n]:[...r,...e[n]||[]]})}case IS.f:{const{subredditName:n,userId:r}=t.payload;return Object.assign({},e,{[n]:(e[n]||[]).filter(e=>e!==r)})}default:return e}},NS=Object(r.c)({afterToken:SS,api:xS,models:AS,userOrder:kS});const LS={};var MS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case IS.g:{const{subredditName:n,contributor:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},US=Object(r.c)({listing:NS,search:MS}),FS=Object(r.c)({diff:Gv,directory:Vv,pages:Wv,pageSettings:zv,revisions:iS,wikiBannedContributors:ES,wikiContributors:US});const BS={};var GS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:BS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ca.e:{const{subredditTopContent:n}=t.payload;return Object.assign({},e,n.subredditTopContent)}case IO.b:{const{subredditTopContent:n}=t.payload;return Object.assign({},e,n)}default:return e}};const qS=[];var VS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.g:case ae.b:{const{trendingSubredditIds:n}=t.payload;return n&&n.length?n:e}default:return e}};const HS={};var KS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case FE.d:const{unavailableSubreddits:n}=t.payload;return Object.assign({},e,n);default:return e}},WS=Object(r.c)({about:GE,api:xI,appliedFilters:NI,byCategory:MI,communityInfo:FI,crosspostable:WI,duplicates:zI,gov:av,models:jv,moderated:vv,onboarding:Tv,products:wv,rankings:xv,rankingsPageInfo:Av,rules:kv,settings:Lv,similar:Uv,subredditWiki:FS,topContent:GS,trending:VS,unavailableModels:KS});const JS={};var YS=Object(Pg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:JS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.b:{const{postIds:n,posts:r}=t.payload,s=n.slice(0,2).reduce((e,t)=>{if(r[t].isStickied){const n=r[t].belongsTo.id;e[n]?e[n].push(t):e[n]=[t]}return e},{});return F()(Object.assign({},e),s)}case _.j:{const{newStickiedPostList:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}}),JS),zS=Object(r.c)({data:YS});const QS=[];var XS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:QS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ym.d:{const{makeFavorite:n,multiredditsModelsState:r,multiredditPath:s}=t.payload;if(n){const t=[...e],n=Om(t,s,(e,t)=>r[e].displayText.toLowerCase()>r[t].displayText.toLowerCase()?1:-1);return t.splice(n,0,s),t}return e.filter(e=>e!==s)}case Le.u:{const{multireddits:e}=t.payload;return as()(e).filter(e=>e.isFavorited).sort((e,t)=>e.displayText.toLowerCase()>t.displayText.toLowerCase()?1:-1).map(e=>e.url)}case ym.e:{const{follow:n,multiredditPath:r}=t.payload;return n?e:e.filter(e=>e!==r)}case Le.j:{const n=t.payload;return e.filter(e=>e!==n)}default:return e}};var $S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ym.a:{const{error:e}=t.payload;return e}case ym.b:case ym.c:return null;default:return e}};var ZS=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ym.b:case ym.c:case EO.e:return!0;case ym.a:return!1;default:return e}};var eT=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ym.b:return!0;case ym.c:case ym.a:return!1;default:return e}},tT=Object(r.c)({errors:$S,fetched:ZS,pending:eT});const nT=[];var rT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ym.c:{const{profiles:e,favoriteProfileIds:n,favoriteSubredditIds:r}=t.payload;let s;return(s=n&&n.length?n:r?r.filter(t=>!!e[t]):[]).sort((t,n)=>e[t].displayText.toLowerCase()>e[n].displayText.toLowerCase()?1:-1),s}case ym.f:{const{makeFavorite:n,identifier:r,profileModels:s}=t.payload,{id:o,type:i}=r;if(i!==uh.a.PROFILE)return e;const c=e?e.slice():[];if(n){const e=Om(c,o,(e,t)=>s[e].displayText.toLowerCase()>s[t].displayText.toLowerCase()?1:-1);c.splice(e,0,o)}else{const e=c.indexOf(o);c.splice(e,1)}return c}case ym.h:{const{identifiers:n,userIsSubscriber:r}=t.payload,s=n.filter(t=>t.type===uh.a.PROFILE&&e.indexOf(t.id)>-1);return!s.length||r?e:s.reduce((e,t)=>{const n=e.indexOf(t.id);return e.splice(n,1),e},[...e])}default:return e}};const sT=[];var oT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ym.c:{const{subreddits:e,favoriteSubredditIds:n}=t.payload,r=n?n.filter(t=>!!e[t]):[];return r.sort((t,n)=>e[t].displayText.toLowerCase()>e[n].displayText.toLowerCase()?1:-1),r}case ym.f:{const{makeFavorite:n,identifier:r,subredditModels:s}=t.payload,{id:o,type:i}=r;if(i!==uh.a.SUBREDDIT)return e;const c=e?e.slice():[];if(n){const e=Om(c,o,(e,t)=>s[e].displayText.toLowerCase()>s[t].displayText.toLowerCase()?1:-1);c.splice(e,0,o)}else{const e=c.indexOf(o);c.splice(e,1)}return c}case ym.h:{const{identifiers:n,userIsSubscriber:r}=t.payload,s=n.filter(t=>t.type===uh.a.SUBREDDIT&&e.indexOf(t.id)>-1);return!s.length||r?e:s.reduce((e,t)=>{const n=e.indexOf(t.id);return e.splice(n,1),e},[...e])}default:return e}};const iT=[],cT=e=>(t,n)=>e[t].displayText.toLowerCase()>e[n].displayText.toLowerCase()?1:-1;var aT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.u:{const{multireddits:n}=t.payload,r=as()(n).map(e=>{let{url:t}=e;return t.toLowerCase()}).sort(cT(n));return hr()(e,r)?e:r}case re.l:{const{account:n,multireddits:r,multiredditsByUser:s,multiredditsModelsState:o}=t.payload;if(!n)return e;const i=s[n.id];if(!i||!i.length)return e;const c=Object.assign({},o,r),a=fm()(e,i).sort(cT(c));return hr()(e,a)?e:a}case ym.e:{const{follow:n,multiredditPath:r,multiredditsModelsState:s}=t.payload;return n?[...e,r].sort(cT(s)):e.filter(e=>e!==r)}case Le.j:{const n=t.payload;return e.filter(e=>e!==n)}case Le.g:case Le.m:{const{multireddit:n,multiredditsModelsState:r}=t.payload,s=Object.assign({},r,{[n.url]:n});return[...e,n.url].sort(cT(s))}default:return e}},dT=n("./node_modules/lodash/difference.js"),uT=n.n(dT);const lT=[];var bT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gm.m:{const{profileOrder:n}=t.payload;return eg()([...e,...n])}case ym.c:{const{profiles:e}=t.payload,n=Object.keys(e);return n.sort((t,n)=>e[t].displayText.toLowerCase()>e[n].displayText.toLowerCase()?1:-1),n}case ym.h:{const{identifiers:n,profileModels:r,userIsSubscriber:s}=t.payload,o=n.filter(e=>e.type===uh.a.PROFILE);if(!o.length)return e;const i=o.map(e=>e.id);return s?eg()([...e,...i]).sort((e,t)=>r[e].displayText.toLowerCase()>r[t].displayText.toLowerCase()?1:-1):uT()(e,i)}default:return e}};const pT=[];var mT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gm.m:{const{subredditOrder:n}=t.payload;return eg()([...e,...n])}case ym.c:{const{subreddits:e}=t.payload,n=Object.keys(e);return n.sort((t,n)=>e[t].displayText.toLowerCase()>e[n].displayText.toLowerCase()?1:-1),n}case ym.h:{const{identifiers:n,subredditModels:r,userIsSubscriber:s}=t.payload,o=n.filter(e=>e.type===uh.a.SUBREDDIT&&!!e.id);if(!o.length)return e;const i=o.map(e=>e.id);return s?eg()([...e,...i]).sort((e,t)=>r[e].displayText.toLowerCase()>r[t].displayText.toLowerCase()?1:-1):uT()(e,i)}case EO.e:return t.payload.subscriptions;default:return e}},fT=Object(r.c)({api:tT,favoriteMultiOrder:XS,favoriteProfileOrder:rT,favoriteSubredditOrder:oT,multiredditOrder:aT,profileOrder:bT,subredditOrder:mT}),OT=n("./src/reddit/actions/tags/constants.ts");const gT={pending:!1,error:!1};var jT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case OT.g:return Object.assign({},e,{pending:!0});case OT.h:return{error:!1,pending:!1};case OT.f:return{error:!0,pending:!1};default:return e}};const hT={pending:!1,error:!1};var yT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case OT.j:return Object.assign({},e,{pending:!0});case OT.k:return{error:!1,pending:!1};case OT.i:return{error:!0,pending:!1};default:return e}};const _T={pending:!1,error:!1};var ET=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case OT.o:return Object.assign({},e,{pending:!0});case OT.n:case OT.m:case OT.d:case OT.e:return{error:!1,pending:!1};case OT.l:return{error:!0,pending:!1};default:return e}};const IT={pending:!1,error:!1};var vT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:IT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case OT.q:return Object.assign({},e,{pending:!0});case OT.r:return{error:!1,pending:!1};case OT.p:return{error:!0,pending:!1};default:return e}},ST=Object(r.c)({create:jT,deleteTag:yT,fetch:ET,update:vT});const TT={global:[],recommendedGlobal:[]};var CT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case OT.m:case OT.d:case OT.e:{const{globalSubredditTags:e}=t.payload,n=Object.keys(e).sort((t,n)=>{const r=e[t].text.toLowerCase(),s=e[n].text.toLowerCase();return r<s?-1:r>s?1:0}),r=n.filter(t=>e[t].isRecommended);return{global:n,recommendedGlobal:r}}default:return e}},wT=n("./node_modules/lodash/uniqWith.js"),DT=n.n(wT),xT=n("./src/reddit/models/Option/index.ts");const PT={selectedOptions:[],tagInput:""};var AT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case OT.c:{const{option:n}=t.payload;return Object.assign({},e,{selectedOptions:DT()([...e.selectedOptions||[],Object.assign({},n)],xT.a)})}case OT.b:{const{option:n}=t.payload,r=e.selectedOptions.findIndex(e=>Object(xT.a)(e,n));return e.selectedOptions.splice(r,1),Object.assign({},e,{selectedOptions:e.selectedOptions})}case OT.a:{const{input:n}=t.payload;return Object.assign({},e,{tagInput:n})}default:return e}},RT=n("./src/reddit/helpers/tags/index.ts");const kT={globalSubredditTags:{},subredditScopedTags:{},itemTags:{},suggestedItemTags:{},sortedItemTags:{}};var NT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case OT.e:{const{globalSubredditTags:n,subredditScopedTags:r,subredditId:s}=t.payload;return Object.assign({},e,{globalSubredditTags:Object.assign({},e.globalSubredditTags,n),subredditScopedTags:Object.assign({},e.subredditScopedTags,{[s]:Object.assign({},e.subredditScopedTags[s]||{},r[s]||{})})})}case OT.n:case OT.m:{const{globalSubredditTags:n,subredditScopedTags:r,itemTags:s,suggestedItemTags:o,subredditId:i}=t.payload;return{globalSubredditTags:Object.assign({},e.globalSubredditTags,n),subredditScopedTags:Object.assign({},e.subredditScopedTags,{[i]:Object.assign({},e.subredditScopedTags[i]||{},r[i]||{})}),itemTags:Object.assign({},e.itemTags,{[i]:Object.assign({},s[i]||{})}),suggestedItemTags:Object.assign({},e.suggestedItemTags,{[i]:Object.assign({},o[i]||{})}),sortedItemTags:Object.assign({},e.sortedItemTags,{[i]:Object(RT.a)(s[i]||{})})}}case OT.k:{const{subredditId:n,tags:r}=t.payload,s=r.reduce((e,t)=>{let{tagId:n}=t;return delete e[n],e},Object.assign({},e.subredditScopedTags[n]||{}));return Object.assign({},e,{subredditScopedTags:Object.assign({},e.subredditScopedTags,{[n]:s})})}case OT.d:{const{globalSubredditTags:n}=t.payload;return Object.assign({},e,{globalSubredditTags:Object.assign({},e.globalSubredditTags,n)})}default:return e}},LT=n("./src/reddit/reducers/tags/selected/index.ts"),MT=Object(r.c)({api:ST,availableGlobalTagOrder:CT,models:NT,selected:LT.b,creation:AT}),UT=n("./src/reddit/actions/redditEmbed.ts"),FT=n("./src/reddit/actions/theme.ts"),BT=n("./src/reddit/actions/users.ts"),GT=n("./src/reddit/models/Theme/index.ts");const qT={current:GT.c,cached:{}};var VT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case FT.a:{const{nightmode:e}=t.payload;return{current:e?GT.b:GT.c,cached:{}}}case Ts.a:case Ts.b:case Ts.g:case Ts.e:case Ts.h:case Ue.e:case Ue.h:case Me.a:case re.a:case Me.b:case re.b:case Me.d:case re.d:case re.g:case ae.b:case re.l:case re.k:case Ne.b:case UT.b:case ue.i:case Ve.c:case ce.c:case Xu.i:case Fe.b:case To.a:case BT.e:if(t.payload&&t.payload.preferences&&t.payload.preferences.nightmode){const{nightmode:e}=t.payload.preferences;return e?{current:GT.b,cached:{}}:{current:GT.c,cached:{}}}return e;case se.d:case se.e:case Be.a:case Be.b:case Be.d:case Be.e:case oe.d:case oe.e:{const{account:n}=t.payload;return n?n.nightmode?{current:GT.b,cached:{}}:{current:GT.c,cached:{}}:e}case ne.h:case ne.j:case ne.i:case ne.g:case ne.f:case ne.n:case ne.m:case ne.p:case ne.q:case ne.w:case ne.v:if(t.payload&&t.payload.response&&t.payload.response.preferences&&t.payload.response.preferences.nightmode){const{nightmode:e}=t.payload.response.preferences;return e?{current:GT.b,cached:{}}:{current:GT.c,cached:{}}}return e;case Xu.h:{if(!t.payload)return e;const{nightmode:n}=t.payload;return n?{current:GT.b,cached:{}}:{current:GT.c,cached:{}}}case j.d:return{current:GT.c,cached:{}};case j.e:return t.payload.nightmodeTempUpdated?{current:GT.b,cached:{}}:e;default:return e}},HT=n("./src/reddit/actions/toaster.ts");const KT=[];var WT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:KT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case HT.c:{const n=t.payload,r=[];let s=!1;for(const t of e){const e=t.id===n.id?n:t;r.push(e),s=s||e===n}return s||r.push(n),r}case HT.b:{const n=t.payload;return e.filter(e=>e.id!==n)}default:return e}},JT=n("./src/reddit/actions/tooltip.ts");var YT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case JT.c:{const{tooltipId:n}=t.payload;return e===n?null:n}case JT.a:{const{tooltipId:n}=t.payload;return e===n?e:n}case JT.b:{const{tooltipId:n}=t.payload;return null!==e?e:n||null}case JT.e:{const{tooltipId:n}=t.payload;return e===n?null:e}case ge.G:case JT.d:case m.a:case qd.b:case qd.c:case qd.a:return null;default:return e}},zT=n("./src/reddit/actions/tracking.ts");const QT={};var XT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:QT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zT.a:{const{routeKey:n}=t.payload;return Object.assign({},e,{[n]:!0})}case zT.b:{const{routeKey:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},$T=Object(r.c)({viewportDataLoaded:XT}),ZT=n("./src/reddit/actions/trafficStats/constants.ts");var eC=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ZT.c:return!0;case ZT.b:case ZT.a:return!1;default:return e}};var tC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ZT.b:{const{trafficStats:e}=t.payload;return e}case ZT.c:return null;default:return e}},nC=Object(r.c)({pending:eC,trafficStats:tC});var rC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.s:case l.t:return null;case l.q:{const{error:e}=t.payload;return e}default:return e}};var sC=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.s:return!0;case l.q:case l.t:return!1;default:return e}},oC=Object(r.c)({error:rC,pending:sC});var iC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.r:return(t.payload?t.payload.contentId:null)||null;case s.b:case l.t:return null;default:return e}};var cC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.r:return(t.payload?t.payload.recipient:"")||"";case l.t:return"";default:return e}};var aC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.r:return t.payload&&t.payload.publicAddress||null;case s.b:case l.t:return null;default:return e}},dC=Object(r.c)({api:oC,contentId:iC,initialRecipient:cC,publicAddress:aC}),uC=Object(r.c)({communityPoints:dC}),lC=n("./src/reddit/actions/search/trending.ts");const bC=[];var pC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.b:case lC.a:{const{items:n}=t.payload;return n||e}default:return e}},mC=Object(r.c)({models:pC});const fC={};var OC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Uh.a:{const{trophies:n}=t.payload;return Object.assign({},e,n)}default:return e}},gC=n("./src/reddit/models/Upload/index.ts");const jC={};var hC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Lo.d:{const{key:n,id:r,file:s}=t.payload,o=e[n],i=o&&o.file===s?Object.assign({},o.metadata):{};return Object.assign({},e,{[n]:{key:n,id:r,file:s,metadata:i,url:void 0,status:gC.a.PENDING}})}case Lo.h:{const{key:n}=t.payload,r=e[n];return Object.assign({},e,{[n]:Object.assign({},r,{status:gC.a.UPLOADING})})}case Lo.c:{const{key:n,metadata:r}=t.payload,s=e[n];return Object.assign({},e,{[n]:Object.assign({},s,{metadata:r})})}case Lo.e:{const{key:n,progress:r}=t.payload,s=e[n];return Object.assign({},e,{[n]:Object.assign({},s,{progress:r})})}case Lo.g:{const{key:n,url:r,websocketUrl:s}=t.payload,o=e[n];return Object.assign({},e,{[n]:Object.assign({},o,{status:gC.a.SUCCESS,url:r,websocketUrl:s})})}case Lo.b:{const{key:n,error:r}=t.payload,s=e[n];return Object.assign({},e,{[n]:Object.assign({},s,{status:gC.a.FAILED,error:r})})}case Lo.a:{const{key:n}=t.payload,r=e[n];return Object.assign({},e,{[n]:Object.assign({},r,{status:gC.a.CANCELED})})}case Lo.f:{const{key:n}=t.payload,r=e[n];return r.metadata.localUrl&&window.URL.revokeObjectURL(r.metadata.localUrl),Ir()(e,n)}case p.d:case p.c:return jC;case f.C:return Ir()(e,ar.m);default:return e}};const yC={};var _C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:{const{subredditId:n,wallet:r}=t.payload;if(!r)return e;const s=e[n]||{};return Object.assign({},e,{[n]:Object.assign({},s,{latest:r,byDate:Object.assign({},s.byDate||{},{[r.at]:r})})})}case l.w:{const n=t.payload,r=Object.assign({},e);return Object.keys(n).forEach(t=>{const s=n[t],o=e[t],i={latest:o?o.latest.at<=s.at?s:o.latest:s,byDate:Object.assign({},o?o.byDate:{},{[s.at]:s})};r[t]=i}),r}case O.d:{const{product:n,wallet:r}=t.payload,s=e[n.subredditId]||{};return Object.assign({},e,{[n.subredditId]:Object.assign({},s,{[r.at]:r,latest:r})})}case l.t:{const{subredditId:n,wallet:r}=t.payload,s=e[n]||{};return Object.assign({},e,{[n]:Object.assign({},s,{[r.at]:r,latest:r})})}default:return e}},EC=n("./src/reddit/actions/pages/appeal/constants.ts"),IC=n("./src/reddit/actions/pages/userDataRequest/index.ts");const vC=(e,t)=>!t||hr()(e,t)?e:t;var SC=Object(Pg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case EC.a:case EC.b:case Jy.b:case Jy.c:case Ts.a:case Ts.b:case Ts.e:case Ts.g:case Ts.h:case Ue.e:case Ue.h:case Ue.g:case Le.q:case Le.r:case Me.a:case re.a:case Me.b:case re.b:case re.f:case re.g:case re.k:case re.l:case ae.a:case se.b:case se.a:case se.e:case se.d:case ie.c:case ie.i:case Be.e:case Be.d:case Be.b:case Be.a:case oe.e:case oe.d:case ae.b:case ce.a:case ce.c:case Fe.b:case To.a:case Ve.a:case Ve.c:case UT.a:case UT.b:case Xu.i:case IC.b:case BT.e:return vC(e,t.payload.account);case BT.p:return e?Object.assign({},e,{email:t.payload}):e;case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:case ne.h:case ne.e:case ne.l:case ne.o:case ne.u:{const{response:n}=t.payload;return n?vC(e,n.account):e}case BT.c:return e?Object.assign({},e,{seenLayoutSwitch:!0}):e;case s.d:return e?Object.assign({},e,{seenRedesignModal:!0}):e;case ge.u:return e?Object.assign({},e,{seenGiveAwardTooltip:!0}):e;case Xu.k:case Xu.j:{const n=t.payload;return e&&"profileIcon"===n.key?Object.assign({},e,{accountIcon:n.imageUrl}):e}case ge.A:case ge.q:{const{coins:n}=t.payload;return e?Object.assign({},e,{coins:n}):e}case cd.f:{const{coins:n}=t.payload;return n&&e?Object.assign({},e,{coins:n}):e}default:return e}}),null);var TC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case BT.o:case BT.p:return null;case BT.n:return t.payload;default:return e}};var CC=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case BT.o:return!0;case BT.p:case BT.n:return!1;default:return e}},wC=Object(r.c)({error:TC,pending:CC}),DC=Object(r.c)({api:wC});var xC=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case BT.l:return!0;default:return e}};var PC=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case BT.k:return!0;case BT.l:case BT.j:return!1;default:return e}},AC=Object(r.c)({pending:PC,emailSent:xC}),RC=Object(r.c)({api:AC}),kC=Object(r.c)({changeEmail:DC,sendResetEmail:RC}),NC=n("./src/reddit/models/WhitelistAndBlocked.ts");const LC={};var MC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt.f:return Object.assign({},e,{new:NC.a.pending});case Vt.d:return Object.assign({},e,{new:NC.a.error});case Vt.e:return Object.assign({},e,{new:NC.a.waitingForRequest});case Vt.b:{const n=t.payload.name;return Object.assign({},e,{[n]:NC.a.pending})}case Vt.a:{const n=t.payload.name;return Object.assign({},e,{[n]:NC.a.error})}case Vt.c:{const n=t.payload.name;return Object.assign({},e,{[n]:NC.a.waitingForRequest})}default:return e}};const UC=[];var FC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:UC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt.e:return[t.payload,...e];case Vt.c:{const n=t.payload.name;return e.filter(e=>e.name!==n)}case Xu.i:return t.payload.blockedUsers;default:return e}},BC=Object(r.c)({api:MC,data:FC}),GC=n("./src/reddit/actions/chat/constants.ts"),qC=n("./src/reddit/actions/chat/userSettings.ts");const VC=GC.a.anybody;var HC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:VC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qC.a:if(t.payload){const{invitePolicy:e}=t.payload;return e}return e;default:return e}},KC=Object(r.c)({invitePolicy:HC});const WC=(e,t)=>void 0===t||e&&t===e.count?e:Object.assign({},e,{count:t});var JC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.b:{const{drafts:n}=t.payload;return e&&hr()(e,n)?e:Object.assign({},e,n)}case f.N:{const{response:{draftsCount:n}}=t.payload;return WC(e,n)}case Ms.e:{const{postDraftIds:n}=t.payload;return WC(e,n.length)}case Ms.c:case Ms.l:{const{draftsCount:n}=t.payload;return WC(e,n)}default:return e}};const YC={};var zC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:YC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vn.a:{const n=t.payload;return null===n.local_persisted_experiments_store||void 0===n.local_persisted_experiments_store?e:n.local_persisted_experiments_store}default:return e}};const QC=[];var XC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:QC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Sc.a:return t.payload.experimentVariants.map(e=>{let{id:t,experimentName:n,name:r,version:s}=e;return{id:parseInt(t),name:n,variant:r||void 0,version:s}});default:return e}},$C=Object(r.c)({models:XC,localPersisted:zC});function ZC(e,t){return t?e&&hr()(e,t)?e:t:e}const ew={};var tw=Object(Pg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ew,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ts.a:case Ts.b:case Ts.e:case Ts.g:case Ts.h:case Ue.e:case Me.a:case re.a:case Me.b:case re.b:case re.f:case re.g:case re.k:case re.l:case ae.a:case gm.k:case se.e:case se.d:case Be.e:case Be.d:case Be.b:case Be.a:case oe.e:case oe.d:case ae.b:case ce.a:case ce.c:case Fe.b:case UT.a:case UT.b:case Xu.i:case BT.e:{const n=t.payload.features;return n?ZC(e,n):e}case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:case ne.h:case ne.e:case ne.l:case ne.o:case ne.u:{const{response:n}=t.payload;return n&&n.features?ZC(e,n.features):e}default:return e}}),ew);var nw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xu.e:return!0;case Xu.d:return!1;default:return e}};var rw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t=arguments.length>1?arguments[1]:void 0;return t.type,e},sw=n("./src/reddit/actions/monthsToMinutes/reset.ts");var ow=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case EO.e:return t.payload.accountCompleteness.collapsed;case EO.c:return!1;case EO.b:return!0;case sw.a:return!1;default:return e}},iw=n("./src/reddit/actions/monthsToMinutes/accountCompleteness.ts"),cw=n("./src/reddit/models/MonthsToMinutes/index.ts");const aw=cw.a.Initial;var dw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case EO.e:{const{accountCompleteness:n}=t.payload;return e!==aw?e:n.step}case iw.a:return t.payload||e;case sw.a:return aw;default:return e}},uw=Object(r.c)({collapsed:ow,step:dw});var lw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case EO.e:case EO.d:return!0;default:return e}},bw=n("./src/reddit/actions/monthsToMinutes/initHomeFeed.ts");const pw=[];var mw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bw.a:case EO.f:{const n=t.payload;return n.length?n:e}case ym.h:{const{nameIdentifiers:n,shouldUpdateLoggedOutHomeFeed:r,userIsSubscriber:s}=t.payload;if(!r)return e;const o=n.map(e=>Object(_n.f)(e.name));return s?[...e,...o]:e.filter(e=>-1===o.indexOf(e))}case sw.a:return pw;default:return e}};const fw=[];var Ow=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case UE.b:{const{subredditNames:e}=t.payload;return e||fw}case EO.e:return t.payload.homeFeed.similar;case sw.a:return fw;default:return e}};var gw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case UE.a:return!0;case EO.e:return t.payload.homeFeed.topBanner.isClosed;case sw.a:return!1;default:return e}};var jw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case UE.d:return e+1;case EO.e:return t.payload.homeFeed.topBanner.viewsCount;case sw.a:return 0;default:return e}},hw=Object(r.c)({isClosed:gw,viewsCount:jw}),yw=n("./src/reddit/actions/monthsToMinutes/post.ts");const _w=[];var Ew=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yw.a:{const n=Object(_n.f)(t.payload.subredditName);return[n,...e.filter(e=>e!==n)]}case re.b:{const{postId:n,posts:r,subreddits:s}=t.payload,o=r[n];if(!o)return e;const i=s[o.belongsTo.id];if(!i)return e;const c=Object(_n.f)(i.name);return[c,...e.filter(e=>e!==c)]}case EO.e:return eg()([...t.payload.homeFeed.views,...e]);default:return e}};const Iw={};var vw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case UE.c:{const{id:n,subredditName:r}=t.payload,s=Object(_n.f)(r);return e[n]===s?e:Object.assign({},e,{[n]:s})}case EO.e:return t.payload.homeFeed.votes;case sw.a:return Iw;default:return e}},Sw=Object(r.c)({similar:Ow,topBanner:hw,views:Ew,votes:vw});var Tw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bw.a:case EO.f:return t.payload.length>=1||e;case re.i:return!0;case ym.h:{const{subscriptionsCount:n,userIsSubscriber:r}=t.payload;return!(1===n&&!r)&&e}case sw.a:return!1;default:return e}};var Cw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iw.a:{if(t.payload!==cw.a.BannerVisible)return e;const n=20;return Math.ceil(n*Math.random())+20}case EO.e:return t.payload.postsCount||0;default:return e}};const ww={[cw.e.Home]:{},[cw.e.SubscribeFeed]:{},[cw.e.SubscribeIdCard]:{},[cw.e.SubscribeReminder]:{},[cw.e.Vote]:{},[cw.e.VoteReminder]:{},[cw.e.VoteSuccess]:{}};var Dw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ww,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case EO.e:{const n=t.payload,{homeTooltipTime:r,subscribeTooltipTime:s,subscribeIdCardTooltipTime:o,voteTooltipTime:i}=n.tooltip;return e[cw.e.Home].time=r,e[cw.e.SubscribeFeed].time=s,e[cw.e.Vote].time=i,e[cw.e.SubscribeIdCard]={isDismissed:!0,time:o},Object.assign({},e)}case Tr.a:{const{id:n}=t.payload;let r=Object.assign({},e[cw.e.VoteSuccess]);return r.isDismissed||r.postId||(r={isDismissed:!1,postId:n}),Object.assign({},e,{[cw.e.VoteSuccess]:r})}case re.i:{const t=Object.assign({},e[cw.e.Home]);return t.isDismissed=!0,Object.assign({},e,{[cw.e.Home]:t})}case m.a:case Xu.g:{const t=Object.assign({},e);return Object.keys(e).map(n=>{const r=Object.assign({},e[n]);(r.postId||r.time)&&(r.isDismissed=!0),t[n]=r}),t}case Gd.d:return Object.assign({},e,{[cw.e.Home]:Object.assign({},e[cw.e.Home],{isDismissed:!0})});case sw.a:return ww;default:return e}};const xw={beforeBanner:0,total:0};var Pw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.c:return Object.assign({},e,{total:e.total+1});case iw.a:return t.payload!==cw.a.BannerVisible?e:Object.assign({},e,{beforeBanner:e.total});case EO.e:{const{beforeBanner:n,total:r}=t.payload.views.count;return{beforeBanner:n,total:r+e.total}}case sw.a:return Object.assign({},e,{beforeBanner:0});default:return e}};const Aw=[];var Rw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.b:case yw.a:{const{postId:n}=t.payload;return e.includes(n)?e:[...e,n]}case EO.e:{const n=t.payload;return eg()([...n.views.posts,...e])}case sw.a:return Aw;default:return e}},kw=Object(r.c)({count:Pw,posts:Rw}),Nw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const Lw={};var Mw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Tr.a:{const{id:n,vote:r}=t.payload;if(!Object(Cr.a)(n))return e;if(e[n]===r){const t=n;e[t];return Nw(e,["symbol"==typeof t?t:t+""])}return Object.assign({},e,{[n]:r})}case EO.e:return t.payload.votes.comments;case sw.a:return Lw;default:return e}},Uw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const Fw={};var Bw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Tr.a:{const{id:n,isInstance:r,vote:s}=t.payload;if(!Object(vO.a)(n)||r)return e;if(e[n]===s){const t=n;e[t];return Uw(e,["symbol"==typeof t?t:t+""])}return Object.assign({},e,{[n]:s})}case EO.e:return t.payload.votes.posts;case sw.a:return Fw;default:return e}},Gw=Object(r.c)({comments:Mw,posts:Bw}),qw=Object(r.c)({accountCompleteness:uw,dataLoaded:lw,feedMultiName:mw,homeFeed:Sw,isFrontpageHome:Tw,postsCount:Cw,tooltips:Dw,views:kw,votes:Gw});const Vw={blob:"",loid:"",loidCreated:"",version:-1};var Hw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case BT.d:return t.payload;default:return e}},Kw=n("./src/reddit/actions/notifications/constants.ts");var Ww=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kw.b:{const{error:e}=t.payload;return e||null}case Kw.d:case Kw.c:return null;default:return e}};var Jw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kw.d:return!1;case Kw.c:return!0;default:return e}};var Yw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kw.d:return!0;case Kw.c:case Kw.b:return!1;default:return e}},zw=Object(r.c)({error:Ww,loaded:Jw,pending:Yw});var Qw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kw.i:{const{error:e}=t.payload;return e||null}case Kw.k:case Kw.j:return null;default:return e}};var Xw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kw.k:return!1;case Kw.j:return!0;default:return e}};var $w=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kw.k:return!0;case Kw.j:case Kw.i:return!1;default:return e}},Zw=Object(r.c)({error:Qw,loaded:Xw,pending:$w}),eD=Object(r.c)({getPreferences:zw,setPreferences:Zw});var tD=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kw.l:return!0;case Kw.e:case Kw.g:case Kw.h:return!1;default:return e}};const nD={chatMessages:!1,communityRecommendations:!1,liveEvent:!1,trendingPosts:!1,unreadMessages:!1,upvotedComments:!1,upvotedPosts:!1};var rD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kw.c:case Kw.k:case Kw.i:{const{preferences:n}=t.payload;return mn()(n)?e:n}default:return e}},sD=Object(r.c)({api:eD,isNotificationPromptVisible:tD,preferences:rD});const oD={};var iD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.k:case a.i:{const{subredditId:n,userOwnedBadges:r}=t.payload,s=r.reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[n]:Object.assign({},e[n]||{},s)})}case O.d:{const{userOwnedBadges:n,product:r}=t.payload,s=n.reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[r.subredditId]:Object.assign({},e[r.subredditId]||{},s)})}default:return e}},cD=n("./src/reddit/reducers/user/prefs/index.ts");var aD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case BT.f:return t.payload;default:return e}},dD=n("./src/reddit/actions/session.ts");var uD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dD.a:case dD.b:case dD.c:case dD.e:return t.payload;case dD.d:return null;default:return e}};var lD=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dD.f:return!0;default:return e}};var bD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case BT.m:return t.payload;default:return e}};var pD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Sc.a:{const e=t.payload;return e.identity&&e.identity.isEmployee}default:return e}};var mD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Sc.a:return t.payload.isLoggedIn;default:return e}},fD=Object(r.c)({isEmployee:pD,isLoggedIn:mD});var OD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xu.q:{const{topContentDismissal:n}=t.payload;return e&&hr()(e,n)?e:Object.assign({},e,n)}default:return e}},gD=n("./src/reddit/actions/userWhitelist.ts");const jD={};var hD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gD.e:return Object.assign({},e,{new:NC.a.pending});case gD.d:return Object.assign({},e,{new:NC.a.error});case gD.f:return Object.assign({},e,{new:NC.a.waitingForRequest});case gD.b:{const n=t.payload.name;return Object.assign({},e,{[n]:NC.a.pending})}case gD.a:{const n=t.payload.name;return Object.assign({},e,{[n]:NC.a.error})}case gD.c:{const n=t.payload.name;return Object.assign({},e,{[n]:NC.a.waitingForRequest})}default:return e}};const yD=[];var _D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gD.f:return[t.payload,...e];case gD.c:{const n=t.payload.name;return e.filter(e=>e.name!==n)}case Xu.i:return t.payload.whitelistedUsers;default:return e}},ED=Object(r.c)({api:hD,data:_D}),ID=Object(r.c)({account:SC,accountSettings:kC,blocked:BC,chatSettings:KC,drafts:JC,experiments:$C,features:tw,isCustomizeFlyoutShowing:nw,topContentDismissalPrefsSet:OD,language:rw,loggedOutData:qw,loid:Hw,notificationPrefs:sD,ownedBadges:iD,prefs:cD.b,reddaid:aD,session:uD,sessionRefreshFailed:lD,sessionTracker:bD,temporaryGQL:fD,wallets:_C,whitelist:ED});var vD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case IC.a:return t.payload;case IC.b:case IC.c:return null;default:return e}};var SD=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case IC.c:return!0;case IC.b:case IC.a:return!1;default:return e}};var TD=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case IC.b:return!0;case IC.a:case IC.c:return!1;default:return e}};var CD=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case IC.b:return t.payload.userDataExportEligibility;case IC.a:case IC.c:return!1;default:return e}},wD=Object(r.c)({error:vD,pending:SD,success:TD,userDataExportEligibility:CD}),DD=Object(r.c)({userDataRequestPageApi:wD});const xD={};var PD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.b:case Fe.b:case To.a:case Me.b:case re.b:case le.e:return Object.assign({},e,t.payload.userFlair);case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:{const{response:n}=t.payload,{userFlair:r}=n,s=Object.assign({},e);return Object.keys(r).forEach(e=>{s[e]||(s[e]=r[e])}),s}case le.i:{const{subredditId:n,applied:r,displaySettings:s}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{applied:r,displaySettings:s})})}case te.h:{const{subredditId:n,applied:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{applied:r})})}case le.d:{const{subredditId:n,isEnabled:r}=t.payload,s=e[n].displaySettings,o=Object.assign({},s,{isEnabled:r});return Object.assign({},e,{[n]:Object.assign({},e[n],{displaySettings:o})})}case le.b:{const{subredditId:n,canAssignOwn:r}=t.payload,s=e[n].permissions,o=Object.assign({},s,{canAssignOwn:r});return Object.assign({},e,{[n]:Object.assign({},e[n],{permissions:o})})}case le.h:{const n=t.payload,r=e[n.subredditId],s=e[n.subredditId].templates,o=e[n.subredditId].templateIds,i=Object.assign({},s,{[n.template.id]:n.template}),c=[...o];return c.includes(n.template.id)||c.push(n.template.id),Object.assign({},e,{[n.subredditId]:Object.assign({},r,{templates:i,templateIds:c})})}case le.c:{const n=t.payload,r=e[n.subredditId],s=e[n.subredditId].templates,o=e[n.subredditId].templateIds,i=Ir()(s,n.templateId),c=o.filter(e=>e!==n.templateId);return Object.assign({},e,{[n.subredditId]:Object.assign({},r,{templates:Object.assign({},i),templateIds:c})})}case le.g:case le.f:{const n=t.payload,r=e[n.subredditId];return Object.assign({},e,{[n.subredditId]:Object.assign({},r,{templateIds:n.templateIds})})}default:return e}};const AD={};var RD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case BT.i:case BT.h:{const{username:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:null})}case BT.g:{const{username:n,error:r}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:r})}default:return e}};var kD=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case BT.i:return!0;case BT.h:case BT.g:return!1;default:return e}},ND=Object(r.c)({error:RD,pending:kD});const LD={};var MD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.f:{const{subredditId:n,usersAppliedBadges:r}=t.payload,s=Object.keys(r).reduce((t,s)=>{const o=r[s];return t[s]=Object.assign({},e[s]||{},{[n]:o}),t},{});return Object.assign({},e,s)}case a.b:{const{badgeIds:n,subredditId:r,userId:s}=t.payload;return Object.assign({},e,{[s]:Object.assign({},e[s]||{},{[r]:n})})}case a.a:{const{previousBadgeIds:n,subredditId:r,userId:s}=t.payload;return Object.assign({},e,{[s]:Object.assign({},e[s]||{},{[r]:n})})}case d.b:{const{badge:n,currentAppliedBadges:r,placement:s,subredditId:o,userId:i}=t.payload,c=r.filter(e=>e.placement!==s).concat(n).filter(Boolean).map(e=>e.id);return Object.assign({},e,{[i]:Object.assign({},e[i]||{},{[o]:c})})}case l.a:{const n=t.payload.campaigns&&t.payload.campaigns.giveaway,r=n&&n.lastUsers;if(!r)return e;const{subredditId:s}=t.payload,o=Object.assign({},e);return r.forEach(t=>{const n=t.userId,r=Object.keys(t.badges||{});o[n]=Object.assign({},e[n]||{},{[s]:r})}),o}default:return e}};const UD={},FD=(e,t)=>{const n=Object.keys(t);if(!n.length)return e;const r={};return n.forEach(n=>{const s=e[n],o=t[n];s&&hr()(s,o)||(r[n.toLowerCase()]=o)}),Object.keys(r).length?Object.assign({},e,r):e};var BD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:UD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case BT.h:{const{data:n}=t.payload;return FD(e,n)}case gm.k:{const{user:n}=t.payload;return FD(e,{[n.username]:n})}case ge.q:{const{gildee:n}=t.payload;if(!n)return e;const r=e[n.toLowerCase()];if(!r)return e;const s=r.awardedLastMonth,o=s?s.totalCount+1:1,i=s&&s.topAward;return i?FD(e,{[n.toLowerCase()]:Object.assign({},r,{awardedLastMonth:{totalCount:o,topAward:i}})}):e}case Xu.k:case Xu.j:{const{imageUrl:n,key:r,username:s}=t.payload;if("profileIcon"!==r)return e;const o=s.toLowerCase(),i=e[o];return i?FD(e,{[o]:Object.assign({},i,{accountIcon:n})}):e}default:return e}},GD=n("./src/reddit/actions/usernameAvailable.ts");const qD={};var VD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case GD.a:{const{username:n}=t.payload;return Object.assign({},e,{[n]:GD.b.Available})}case GD.c:{const{username:n}=t.payload;return Object.assign({},e,{[n]:GD.b.Error})}case GD.d:{const{username:n}=t.payload;return Object.assign({},e,{[n]:GD.b.Pending})}case GD.e:{const{username:n}=t.payload;return Object.assign({},e,{[n]:GD.b.Unavailable})}default:return e}};const HD={};var KD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.n:{const{subredditId:n,wallets:r}=t.payload,s=Object.keys(r).reduce((t,s)=>{const o=e[s]||{},i=Object.assign({},o,{[n]:r[s]});return Object.assign({},t,{[s]:i})},{});return Object.assign({},e,s)}default:return e}},WD=Object(r.c)({api:ND,appliedBadges:MD,models:BD,nameAvailable:VD,publicWallets:KD});const JD={};var YD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:JD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.b:case re.b:case ae.b:case ue.i:case ce.c:case Fe.b:case To.a:{const{structuredStyles:n}=t.payload;if(!(n&&n.data&&n.data.content))return e;const r=n.data.content.widgets.layout.idCardWidget,s=Object.keys(t.payload.subredditAboutInfo||{});if(1!==s.length)return e;const o=s[0];return Object.assign({},e,{[o]:r})}default:return e}},zD=n("./src/reddit/actions/widgets/constants.ts");const QD={};var XD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:QD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.b:case re.b:case ce.c:case ue.i:case ae.b:case Fe.b:{const{structuredStyles:n}=t.payload;if(!(n&&n.data&&n.data.content))return e;const r=n.data.content.widgets.items,s=n.data.content.widgets.layout.topbar.order.filter(e=>r[e]&&"menu"===r[e].kind);if(!s.length)return e;const o=Object.keys(t.payload.subredditAboutInfo||{});if(1!==o.length)return e;const i=o[0];return Object.assign({},e,{[i]:s[0]})}case zD.g:{const n=t.payload;return"menu"!==n.widget.kind?e:Object.assign({},e,{[n.subredditId]:n.widgetId})}case zD.h:{const n=t.payload;return e[n.subredditId]===n.widgetId?Object.assign({},e,{[n.subredditId]:null}):e}default:return e}},$D=n("./src/reddit/models/Widgets/index.ts");const ZD={};var ex=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ZD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.b:{const n=t.payload,r=n.structuredStyles&&n.structuredStyles.data&&n.structuredStyles.data.content;if(!r)return e;const s=r.widgets;return Object.assign({},e,s.items)}case zD.b:{const n=t.payload;return Object.assign({},e,n.widgets.items)}case j.k:{const t=Object.assign({},e);return Object.keys(t).forEach(e=>{t[e]=Object.assign({},t[e],{styles:Object($D.o)()})}),t}case zD.e:{const n=t.payload;return Object.assign({},e,n.widgets.items)}case zD.i:case zD.g:{const n=t.payload;return Object.assign({},e,{[n.widget.id]:n.widget})}case zD.h:{const n=t.payload,r=Object.assign({},e);return delete r[n.widgetId],r}case Me.b:case re.b:case ae.b:case ue.i:case ce.c:case Fe.b:case To.a:{const{structuredStyles:n}=t.payload;if(!(n&&n.data&&n.data.content))return e;const r=n.data.content.widgets;return Object.assign({},e,r.items)}case ym.h:{const{userIsSubscriber:n,nameIdentifiers:r,widgetId:s}=t.payload;if(!s||!e[s]||"community-list"!==e[s].kind)return Object.assign({},e);const o=n,i=e[s],c=i.data.map(e=>{const t=Object.assign({},e);return r.some(e=>e.name===t.name)&&(t.isSubscribed=o),t});return Object.assign({},e,{[s]:Object.assign({},i,{data:c})})}case pI.d:{const{settings:n,idCardWidgetId:r}=t.payload;return r&&e[r]&&"publicDescription"in n&&n.publicDescription!==e[r].description?Object.assign({},e,{[r]:Object.assign({},e[r],{description:n.publicDescription||""})}):e}default:return e}};const tx={};var nx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.b:case re.b:case ue.i:case Fe.b:{const{structuredStyles:n}=t.payload;if(!(n&&n.data&&n.data.content))return e;const r=n.data.content.widgets.layout.moderatorWidget,s=Object.keys(t.payload.subredditAboutInfo||{});if(1!==s.length)return e;const o=s[0];return Object.assign({},e,{[o]:r})}default:return e}};const rx={};var sx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.b:case Fe.b:case To.a:{const n=t.payload,r=n.structuredStyles&&n.structuredStyles.data&&n.structuredStyles.data.content;if(!r)return e;const s=Object.keys(n.subredditAboutInfo||{});if(1!==s.length)return e;const o=s[0],i=r.widgets.layout.sidebar.order;return Object.assign({},e,{[o]:i})}case zD.e:case zD.b:{const n=t.payload;return Object.assign({},e,{[n.subredditId]:n.widgets.layout.sidebar.order})}case zD.f:{const n=t.payload;return Object.assign({},e,{[n.subredditId]:n.widgetIds})}case zD.g:{const n=t.payload;if("menu"===n.widget.kind)return e;if(!e[n.subredditId])return Object.assign({},e,{[n.subredditId]:[n.widgetId]});const r=e[n.subredditId].concat(n.widgetId);return Object.assign({},e,{[n.subredditId]:r})}case zD.h:{const n=t.payload;if(!e[n.subredditId])return e;const r=e[n.subredditId].filter(e=>e!==n.widgetId);return Object.assign({},e,{[n.subredditId]:r})}case Me.b:case re.b:case ae.b:case ce.c:case ue.i:case Fe.b:case To.a:{const{structuredStyles:n}=t.payload;if(!(n&&n.data&&n.data.content))return e;const r=n.data.content.widgets.layout.sidebar.order,s=Object.keys(t.payload.subredditAboutInfo||{});if(1!==s.length)return e;const o=s[0];return Object.assign({},e,{[o]:r})}default:return e}},ox=Object(r.c)({idCardIds:YD,menuIds:XD,models:ex,moderatorIds:nx,sidebar:sx});t.a=Object(r.c)({accountManagerModalData:i,activeModalId:y,ads:v,apiRequestState:C,approvedSubmitters:z,authorFlair:Oe,awards:et,badges:mt,banned:kt,blockedRedditors:qt,blockUser:zt,brandSafety:$t,categories:wn,chat:Yn,claimGold:nr,comments:Jr,commentsListTruncated:zr,commentsPage:_s,communityFlairs:vs,contentGate:ws,continueThreads:Ps,creations:Pi,dashboard:ki,discoveryUnits:Hi,dismissedTruncationList:Ji,economics:mc,emojis:vc,experimentOverrides:Dc,externalAccount:sa,featureFlags:la,flairedUsers:Ta,focusedVerticals:Ma,fontFiles:Ba,gild:ed,goldPurchase:Bd,header:Hd,imageUploads:Jd,isEmailVerificationTooltipShowing:zd,isModeratorWithPostPerms:Xd,jsApi:eu,layers:ou,leaderboard:ju,listings:rl,live:il,mediaPlayback:ul,meta:pl,moderatingSubreddits:fl,moderationLog:xl,moderators:gb,modListingPage:vb,modModeEnabled:Sb,modQueue:Tp,moreComments:Np,multireddits:Tm,muted:Km,notificationBannerId:Jm,nps:Qm,oldSiteRules:Zm,page:rf,platform:uf,postCollection:Ff,postRequirements:tO,polls:Cf,postFlair:Kf,posts:xg,postStickiedComments:kg,givePremium:od,products:zg,profileCommentsPage:uj,profilePrivatePage:dh,profileModSettingsPage:mj,profileOverviewPage:Xj,profilePostsPage:Zj,profiles:Vh,promos:Yh,publicAccessNetwork:Ey,recommendations:vy,removalReasons:Ny,reportFlow:Wy,reportPage:n_,reportRules:o_,requestHost:i_,runTimeEnvVars:d_,search:__,searchDiscoveryUnits:D_,seo:k_,shortcuts:H_,sidebarPromotedPosts:J_,structuredStyles:bE,stylesheets:pE,subredditAutocomplete:EE,subredditChannels:kE,subreddits:WS,subredditDifficulty:ME,subredditStickyPosts:zS,subscriptions:fT,tags:MT,themes:VT,toaster:WT,tooltipId:YT,tracking:$T,trafficStats:nC,transfers:uC,trending:mC,trophies:OC,uploads:hC,user:ID,userDataRequestPage:DD,userFlair:PD,users:WD,widgets:ox})},"./src/reddit/reducers/sidebarPromotedPosts/models/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,s=n("./src/reddit/actions/ads/constants.ts");!function(e){e[e.FRONTPAGE=0]="FRONTPAGE",e[e.COMMENTS_OVERLAY=1]="COMMENTS_OVERLAY",e[e.COMMENTS=2]="COMMENTS",e[e.SUBREDDIT=3]="SUBREDDIT",e[e.MULTIREDDIT=4]="MULTIREDDIT",e[e.SEARCH_RESULTS=5]="SEARCH_RESULTS"}(r||(r={}));const o={};t.b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.f:case s.d:{const n=t.payload;return Object.assign({},e,n)}case s.e:case s.f:return e;case s.h:return o;default:return e}}},"./src/reddit/reducers/tags/selected/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./node_modules/lodash/uniqWith.js"),o=n.n(s),i=n("./node_modules/lodash/values.js"),c=n.n(i),a=n("./src/reddit/actions/tags/constants.ts"),d=n("./src/reddit/models/Option/index.ts"),u=n("./src/reddit/models/Tags/index.ts");!function(e){e.ADD="ADD",e.REMOVE="REMOVE"}(r||(r={}));const l={selectedOptions:{},selectedSuggestedOptions:{},deselectedOptions:{},deselectedSuggestedOptions:{},inputByItemId:{},suggestedInputByItemId:{}};t.b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.m:{const{subredditId:n,itemTags:r,suggestedItemTags:s}=t.payload,i=o()([...(e.selectedOptions[n]||[]).map(e=>{if(!e.id){const t=c()(r[n]||{}).find(t=>e.displayText.toLowerCase().trim()===t.tag.text.toLowerCase().trim());if(t)return Object.assign({},Object(u.d)(t,!0),{action:null})}return e}),...c()(r[n]||{}).map(e=>Object.assign({},Object(u.d)(e,!0),{action:null}))],d.a);return Object.assign({},e,{selectedOptions:Object.assign({},e.selectedOptions,{[n]:i.map(e=>Object.assign({},e,{action:e.id?null:e.action}))}),selectedSuggestedOptions:Object.assign({},e.selectedSuggestedOptions,{[n]:c()(s[n]||{}).map(e=>Object.assign({},Object(u.d)(e,!0),{action:null}))}),deselectedOptions:Object.assign({},e.deselectedOptions,{[n]:[]})})}case a.y:case a.u:{const{subredditId:n,option:s}=t.payload,i=t.type===a.u?"selectedOptions":"selectedSuggestedOptions",c=t.type===a.u?"deselectedOptions":"deselectedSuggestedOptions",u=(e[c][n]||[]).slice(),l=u.findIndex(e=>Object(d.a)(e,s));let b=r.ADD;return l>-1&&(b=null,u.splice(l,1)),Object.assign({},e,{[i]:Object.assign({},e[i],{[n]:o()([...e[i][n]||[],Object.assign({},s,{action:b})],d.a)}),[c]:Object.assign({},e[c],{[n]:u})})}case a.x:case a.t:{const{subredditId:n,option:s}=t.payload,o=t.type===a.t?"selectedOptions":"selectedSuggestedOptions",i=t.type===a.t?"deselectedOptions":"deselectedSuggestedOptions",c=(e[i][n]||[]).slice(),u=(e[o][n]||[]).slice(),l=u.findIndex(e=>Object(d.a)(e,s));return l>-1&&(null===u[l].action&&c.push(Object.assign({},u[l],{action:r.REMOVE})),u.splice(l,1)),Object.assign({},e,{[o]:Object.assign({},e[o],{[n]:u}),[i]:Object.assign({},e[i],{[n]:c})})}case a.v:{const{itemTagsState:n}=t.payload,r=Object.keys(n);if(!r.length)return e;const s={selectedOptions:{},deselectedOptions:{},inputByItemId:{}},o=r.reduce((e,t)=>(e.selectedOptions[t]=c()(n[t]).map(e=>Object.assign({},Object(u.d)(e,!0),{action:null})),e.deselectedOptions[t]=[],e.inputByItemId[t]="",e),s);return Object.assign({},e,{inputByItemId:Object.assign({},e.inputByItemId,o.inputByItemId),selectedOptions:Object.assign({},e.selectedOptions,o.selectedOptions),deselectedOptions:Object.assign({},e.deselectedOptions,o.deselectedOptions)})}case a.w:case a.s:{const{subredditId:n,input:r}=t.payload,s=t.type===a.s?"inputByItemId":"suggestedInputByItemId";return Object.assign({},e,{[s]:Object.assign({},e[s],{[n]:r})})}default:return e}}},"./src/reddit/reducers/user/prefs/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./node_modules/lodash/isEqual.js"),o=n.n(s),i=n("./node_modules/lodash/merge.js"),c=n.n(i),a=n("./node_modules/lodash/pick.js"),d=n.n(a),u=n("./src/lib/constants/index.ts"),l=n("./src/reddit/actions/comment/index.ts"),b=n("./src/reddit/actions/contentGate.ts"),p=n("./src/reddit/actions/frontpage.ts"),m=n("./src/reddit/actions/header.ts"),f=n("./src/reddit/actions/modQueue/constants.ts"),O=n("./src/reddit/actions/page.ts"),g=n("./src/reddit/actions/pages/collectionCommentsPage.ts"),j=n("./src/reddit/actions/pages/modListing/constants.ts"),h=n("./src/reddit/actions/pages/postCreation.ts"),y=n("./src/reddit/actions/pages/postDraft.ts"),_=n("./src/reddit/actions/pages/profileComments.ts"),E=n("./src/reddit/actions/pages/profileOverview.ts"),I=n("./src/reddit/actions/pages/profilePosts.ts"),v=n("./src/reddit/actions/pages/search.ts"),S=n("./src/reddit/actions/pages/subreddit.ts"),T=n("./src/reddit/actions/postCreation/constants.ts"),C=n("./src/reddit/actions/postDraft.ts"),w=n("./src/reddit/actions/preferences.ts"),D=n("./src/reddit/actions/redditEmbed.ts"),x=n("./src/reddit/actions/search.ts"),P=n("./src/reddit/actions/structuredStyles/constants.ts"),A=n("./src/reddit/actions/subreddit.ts"),R=n("./src/reddit/actions/users.ts"),k=n("./src/reddit/constants/postLayout.ts"),N=n("./src/reddit/constants/preferences.ts"),L=n("./src/reddit/constants/theme.ts"),M=n("./src/reddit/models/PostCreationForm/index.ts"),U=n("./src/reddit/models/PostDraft/index.ts"),F=n("./src/reddit/models/User/index.ts");!function(e){e.Whitelisted="whitelisted",e.Everyone="everyone"}(r||(r={}));const B=["acceptPrivateMessages","allowClickTracking","autoplayVideo","collapseReadMessages","defaultCommentSort","emailDigests","emailUnreadMessages","emailUnsubscribe","geopopular","hideAds","hideFromRobots","hideNSFW","highlightComments","ignoreSuggestedSort","inBeta","labelNSFW","markMessagesRead","nightmode","over18","sendWelcomeMessages","showMessagesInInbox","showNotifications","showTwitter","showUsernameMentionNotifications","showActiveCommunities",...N.a,"loginOtpEnabled"],G={acceptPrivateMessages:void 0,activityRelevantAds:!0,allowClickTracking:!1,autoplayVideo:!0,collapsedTraySections:F.a,commentMode:M.h.RICH_TEXT,layout:k.d.Card,rememberCommunityLayout:!1,defaultCommentSort:u.q.CONFIDENCE,editorMode:M.h.RICH_TEXT,featuresViewedHistory:F.b,geopopular:void 0,globalTheme:L.a,hamburgerTray:void 0,hasSeenCustomizeFlyout:!0,hideNSFW:!0,ignoreSuggestedSort:!1,labelNSFW:!0,loginOtpEnabled:!1,markMessagesRead:!0,nightmode:!1,openPostInNewTab:!1,over18:!1,profileLayout:void 0,rpanDuDismissalTime:void 0,showActiveCommunities:!0,showRpanDu:!0,showTwitter:!1,sort:u.P.Hot,stylesEnabled:!0,subreddit:{},subscriptionsPinned:void 0,thirdPartyDataPersonalizedAds:!0,thirdPartySiteDataPersonalizedAds:!0,thirdPartySiteDataPersonalizedContent:!0,topContentDismissalTime:0,topContentTimesDismissed:0,rememberCommunitySort:!1,useMarkdown:!1},q={isContributorRequestTimestamp:0,stylesEnabled:!0,layout:void 0,sort:void 0},V=(e,t)=>{if(!t)return e;const n=d()(Object.assign({},t.account,t),B),r=t.subreddit,s=Object.assign({},e.subreddit);Object.keys(r||{}).forEach(e=>{s[e]=Object.assign({},q,r&&r[e])});const i=Object.assign({},e,n,{subreddit:s});if(i.useMarkdown!==e.useMarkdown){const e=i.useMarkdown?M.h.MARKDOWN:M.h.RICH_TEXT;i.editorMode=e,i.commentMode=e}return o()(i,e)?e:i},H=(e,t,n)=>V(e,{subreddit:{[t]:Object.assign({},q,e.subreddit[t],n)}});t.b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.l:case l.s:{const{editorMode:n}=t.payload;return Object.assign({},e,{commentMode:n})}case T.t:case T.O:{const{editorMode:n}=t.payload;return Object.assign({},e,{editorMode:n})}case m.d:return Object.assign({},e,{subscriptionsPinned:!0});case m.e:return Object.assign({},e,{subscriptionsPinned:!1});case C.g:{const{kind:n}=t.payload;return Object.assign({},e,{editorMode:n===U.b.Markdown?M.h.MARKDOWN:M.h.RICH_TEXT})}case w.g:{const{layout:n}=t.payload;return e.layout===n?e:Object.assign({},e,{layout:n})}case w.n:return void 0!==t.payload?Object.assign({},e,{rpanDuDismissalTime:t.payload}):e;case w.o:{const{layout:n,subredditId:r}=t.payload;return H(e,r,{layout:n})}case w.e:return Object.assign({},e,{hasSeenCustomizeFlyout:!0});case w.l:return e.profileLayout===t.payload.profileLayout?e:Object.assign({},e,{profileLayout:t.payload.profileLayout});case b.f:return Object.assign({},e,{over18:!0});case w.b:return void 0!==t.payload?Object.assign({},e,{autoplayVideo:t.payload.autoplayVideo}):e;case w.h:return void 0!==t.payload?Object.assign({},e,{nightmode:t.payload.nightmode}):e;case w.q:if(void 0!==t.payload){const{topContentDismissalTime:n,topContentTimesDismissed:r}=t.payload;return Object.assign({},e,{topContentDismissalTime:n,topContentTimesDismissed:r})}return e;case P.d:return t.payload.isNightmodeOn?Object.assign({},e,{nightmode:!1,nightmodeTempUpdated:!0}):e;case P.e:return t.payload.nightmodeTempUpdated?Object.assign({},e,{nightmode:!0,nightmodeTempUpdated:!1}):e;case w.f:return void 0!==t.payload?Object.assign({},e,{hamburgerTray:t.payload.set}):Object.assign({},e,{hamburgerTray:!e.hamburgerTray});case w.c:return void 0!==t.payload?Object.assign({},e,{collapsedTraySections:c()({},e.collapsedTraySections,t.payload)}):e;case R.a:case R.b:return Object.assign({},e,{featuresViewedHistory:c()({},e.featuresViewedHistory,t.payload)});case b.a:case b.b:case b.g:case b.e:case b.h:case j.e:case j.h:case g.a:case O.a:case g.b:case O.b:case g.d:case O.d:case O.g:case S.b:case O.l:case O.k:case _.e:case E.e:case E.b:case I.e:case p.b:case A.i:case x.c:case D.b:case h.b:case y.a:case w.i:case v.c:case w.a:case R.e:return t.payload&&t.payload.preferences?V(e,t.payload.preferences):e;case w.p:{const{subredditId:n,prefs:r}=t.payload;return H(e,n,r)}case _.d:case E.d:case E.a:case I.d:if(t.payload&&t.payload.account){const{nightmode:n}=t.payload.account;if(e.nightmode!==n)return Object.assign({},e,{nightmode:n})}return e;case f.h:case f.j:case f.i:case f.g:case f.f:case f.n:case f.m:case f.p:case f.q:case f.w:case f.v:return t.payload&&t.payload.response&&t.payload.response.preferences?V(e,t.payload.preferences):e;case w.m:{const n=t.payload,{showActiveCommunities:r}=n.additional;return e.showActiveCommunities!==r?Object.assign({},e,{showActiveCommunities:r}):e}default:return e}}},"./src/reddit/routes/modListing/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return l}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/flatten.js"),s=n.n(r),o=n("./src/lib/constants/index.ts"),i=n("./src/reddit/actions/pages/modListing/index.ts");const c="/r/mod",a="/me/f/mod",d=[c,a],u=s()(d.map(e=>Object.keys(o.N).map(t=>"".concat(e,"/:sort(").concat(o.N[t],")?")))),l=e=>e.startsWith(a),b={action:i.b,chunk:o.o.MOD_LISTING,exact:!0,meta:{name:o.xb.MOD_LISTING},path:u,prefetches:[o.o.SUBREDDIT,o.o.COMMENTS_PAGE]};t.c=b},"./src/reddit/routes/postCreation/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o}));const r="/submit",s="/r/:subredditName/submit",o="/user/:profileName/submit"},"./src/reddit/routes/postCreation/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a}));n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/actions/pages/postCreation.ts"),o=n("./src/reddit/routes/postCreation/constants.ts");const i=[o.b,o.c,o.a],c=e=>o.c.replace(/:subredditName/,e),a=e=>o.a.replace(/:profileName/,e),d={action:s.e,chunk:r.o.POST_CREATION,exact:!0,meta:{name:r.xb.POST_CREATION},path:i,prefetches:[r.o.COMMENTS_PAGE]};t.a=d},"./src/reddit/selectors/PublicAccessNetwork/api.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"m",(function(){return m})),n.d(t,"k",(function(){return f})),n.d(t,"i",(function(){return O})),n.d(t,"l",(function(){return g})),n.d(t,"a",(function(){return j}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/actions/publicAccessNetwork/constants.ts"),o=n("./src/reddit/actions/publicAccessNetwork/streams.ts");const i=e=>e.publicAccessNetwork.api.config,c=(e,t)=>!!t&&!!e.publicAccessNetwork.api.error[Object(o.e)(t)],a=e=>c(e,s.b),d=(e,t)=>!!t&&!!e.publicAccessNetwork.api.pending[Object(o.e)(t)]&&e.publicAccessNetwork.api.pending[Object(o.e)(t)].isPending,u=e=>d(e,s.b),l=e=>e.publicAccessNetwork.api.pending[s.b]&&e.publicAccessNetwork.api.pending[s.b].fetchedUtcTimeStamp,b=Object(r.a)(i,e=>e.values),p=Object(r.a)(i,e=>e.values.rpan_intro_video_url),m=Object(r.a)(i,e=>e.values.url_to_show_for_unavailable_video),f=Object(r.a)(i,e=>!e.values.lastUpdated||!!e.values.rpan_intro_video_url),O=Object(r.a)(i,e=>e.isError),g=Object(r.a)(i,e=>!!e.values.viewer_enabled&&!e.isPermanentlyCanceled),j=Object(r.a)(i,e=>e.values.max_chat_comment_length)},"./src/reddit/selectors/activeModalId.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r=e=>e.activeModalId,s=e=>t=>t.activeModalId===e},"./src/reddit/selectors/blockedRedditors.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));const r=e=>e.blockedRedditors.api.pending,s=e=>e.blockedRedditors.list},"./src/reddit/selectors/brandSafety.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return m}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/isFakeSubreddit/index.ts"),o=n("./src/reddit/contexts/PageLayer/selectors.ts"),i=n("./src/reddit/models/WhitelistStatus/index.ts"),c=n("./src/reddit/selectors/posts.ts"),a=n("./src/reddit/selectors/subreddit.ts");const d=new Set([r.N.NEW,r.N.RISING,r.N.CONTROVERSIAL]),u=e=>e.brandSafety.hasBrandSafetyBeenAssessed,l=(e,t)=>{let{postId:n}=t;const r=Object(c.J)(e,{postId:n}),s=Object(c.U)(e,{postId:n});return!(!r||!s)&&(s.wls===i.a.ALL_ADS&&!r.isNSFW)},b=e=>e.brandSafety.isViewSafe,p=e=>!e.brandSafety.isViewSafe,m=(e,t)=>{const{listingName:n,pageLayer:r}=t,c=Object(a.B)(e,{subredditName:n}),u=Object(o.b)(e,{pageLayer:r});return(!u||!d.has(u))&&(!(c||!Object(s.a)(n))||!!c&&c.wls===i.a.ALL_ADS)}},"./src/reddit/selectors/category.ts":function(e,t,n){"use strict";n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"o",(function(){return f})),n.d(t,"p",(function(){return O})),n.d(t,"n",(function(){return g})),n.d(t,"l",(function(){return j})),n.d(t,"i",(function(){return h})),n.d(t,"f",(function(){return _})),n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return S})),n.d(t,"d",(function(){return T})),n.d(t,"c",(function(){return C})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return D})),n.d(t,"s",(function(){return x})),n.d(t,"g",(function(){return A})),n.d(t,"h",(function(){return R})),n.d(t,"m",(function(){return k})),n.d(t,"t",(function(){return M}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/pickBy.js"),s=n.n(r),o=n("./node_modules/reselect/es/index.js"),i=n("./src/lib/objectSelector/index.ts"),c=n("./src/reddit/constants/experiments.ts"),a=n("./src/reddit/helpers/name/index.ts"),d=n("./src/reddit/models/Widgets/index.ts"),u=n("./src/reddit/selectors/experiments/categoriesPlacement.ts"),l=n("./src/reddit/selectors/subreddit.ts");const b=[],p=e=>e.categories.api.list.loaded,m=e=>e.categories.api.list.pending,f=(e,t)=>{let{id:n}=t;return n?e.categories.api.subreddits.loaded[n]:void 0},O=(e,t)=>{let{id:n}=t;return n?e.categories.api.subreddits.pending[n]:void 0},g=(e,t)=>{let{id:n}=t;return n?e.categories.models[n]:void 0},j=e=>e.categories.nameToId,h=(e,t)=>{let{categoryName:n}=t;const r=e.categories.nameToId[Object(a.f)(n)];if(r)return g(e,{id:r})},y=new Set(["nba","nfl"]),_=Object(o.a)((e,t)=>t.categoriesOrder||c.cb,(e,t)=>t.excludedCategories||y,e=>e.categories.ids,e=>e.categories.models,(e,t,n,r)=>{const s={};let o=1e3;const i=[];for(const c of n){const n=r[c];t.has(Object(a.f)(n.name))||(e[n.name]||(s[n.name]=o++),i.push(n))}return i.sort((t,n)=>{return(e[t.name]||s[t.name])-(e[n.name]||s[n.name])})}),E=(e,t)=>{let{categoryName:n}=t;const r=h(e,{categoryName:n});return r&&e.subreddits.byCategory[r.id]||b},I=Object(o.a)((e,t)=>{let{id:n}=t;if(!n)return b;return e.subreddits.byCategory[n]||b},l.Y,e=>e.subreddits.about,(e,t,n)=>e.map(e=>Object(d.j)(t[e],n[e]))),v=()=>Object(i.a)(Object(o.a)(E,l.Y,l.z,(e,t,n)=>e.map(e=>Object(d.j)(t[e],n[e])))),S=Object(o.a)(E,l.Y,(e,t)=>0===e.length?b:e.map(e=>t[e])),T=()=>Object(i.a)(Object(o.a)(E,l.Y,(e,t)=>0===e.length?b:e.map(e=>{const n=t[e];return n?n.name:""}).filter(Boolean))),C=()=>Object(o.a)(T(),e=>e.join("+")),w=Object(o.a)((e,t)=>e.listings.listingOrder.ids[t.listingKey]||b,e=>e.categories.models,(e,t)=>e.map(e=>t[e])),D=Object(i.a)(Object(o.a)((e,t)=>e.listings.listingOrder.ids[t.listingKey]||b,e=>e.subreddits.models,(e,t)=>e.map(e=>t[e]))),x=(e,t)=>{const n=t?e.posts.models[t]:null;return n&&n.postCategories?n.postCategories:null},P=Object(o.a)(e=>e.subreddits.byCategory,l.Y,(e,t)=>Object.keys(e).reduce((n,r)=>{const s=e[r];if(!s||0===s.length)return n;for(const e of s){const s=t[e];if(s){const e=Object(a.f)(s.name);n[e]||(n[e]=[]),n[e].push(Object(a.f)(r))}}return n},{})),A=Object(o.a)((e,t)=>t.subredditName,P,(e,t)=>t[Object(a.f)(e)]||b),R=e=>e.categories.ranking,k=(e,t)=>{let{id:n}=t;return n&&e.categories.ranking[n]||0},N=Object(o.a)(_,R,(e,t)=>{const n=s()(t,e=>e>=3);return 0===Object.keys(n).length?e:[...e].sort((e,t)=>{const r=n[e.id]||0;return(n[t.id]||0)-r})}),L=Object(o.a)(()=>Object(u.b)(),e=>{if(!e)return y;const t=new Set(y);return t.delete(e.name),t}),M=(e,t)=>{const n=L(e);return N(e,Object.assign({},t,{excludedCategories:n}))}},"./src/reddit/selectors/chat.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n("./src/reddit/models/ModeratingSubreddits/index.ts"),s=n("./src/reddit/selectors/moderatorPermissions.ts"),o=n("./src/reddit/selectors/platform.ts");const i=e=>e.chat.unread.count,c=e=>e.chat.promos,a=e=>!!e.chat.isUserSubredditChatEnabled,d=e=>!(e.chat.isInited||e.chat.unread.api.pending),u=(e,t)=>{const{chatConfig:n}=r.c;return Object(s.a)(n)(e,t)},l=e=>{const t=Object(o.d)(e);if(e.chat.subredditSettings.subredditId===t)return e.chat.subredditSettings}},"./src/reddit/selectors/claimgold.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r=e=>e.claimGold.code,s=e=>e.claimGold.showModal},"./src/reddit/selectors/comments.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"v",(function(){return m})),n.d(t,"x",(function(){return f})),n.d(t,"y",(function(){return O})),n.d(t,"k",(function(){return j})),n.d(t,"g",(function(){return h})),n.d(t,"F",(function(){return y})),n.d(t,"o",(function(){return _})),n.d(t,"p",(function(){return E})),n.d(t,"j",(function(){return I})),n.d(t,"l",(function(){return v})),n.d(t,"n",(function(){return S})),n.d(t,"h",(function(){return T})),n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return w})),n.d(t,"r",(function(){return D})),n.d(t,"m",(function(){return x})),n.d(t,"u",(function(){return P})),n.d(t,"z",(function(){return A})),n.d(t,"H",(function(){return R})),n.d(t,"t",(function(){return k})),n.d(t,"B",(function(){return N})),n.d(t,"C",(function(){return L})),n.d(t,"D",(function(){return M})),n.d(t,"s",(function(){return U})),n.d(t,"e",(function(){return F})),n.d(t,"w",(function(){return B})),n.d(t,"I",(function(){return G})),n.d(t,"f",(function(){return q})),n.d(t,"i",(function(){return V})),n.d(t,"E",(function(){return H})),n.d(t,"A",(function(){return K})),n.d(t,"G",(function(){return W})),n.d(t,"q",(function(){return J})),n.d(t,"J",(function(){return Y}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/values.js"),s=n.n(r),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeCommentPermalink/index.ts"),c=n("./src/lib/objectSelector/index.ts"),a=n("./src/reddit/constants/comments.ts"),d=n("./src/reddit/models/Post/index.ts"),u=n("./src/reddit/selectors/posts.ts"),l=n("./src/reddit/selectors/subreddit.ts");const b=(e,t)=>{let{commentsPageKey:n}=t;return e.commentsPage.api.error[n]},p=(e,t)=>{let{commentsPageKey:n}=t;return e.commentsPage.api.pending[n]},m=(e,t)=>{let{commentsPageKey:n}=t;return e.commentsPage.api.fullyLoaded[n]},f=(e,t)=>e.commentsPage.keyToHeadCommentId[t.commentsPageKey],O=(e,t)=>{const n=f(e,t);if(n)return S(e,{commentId:n})},g=[],j=Object(c.a)((e,t)=>{const n=O(e,t),r=n&&n.id;if(!r)return g;const{commentsPageKey:s}=t,o=e.commentsPage.keyToCommentThreadLinkSets[s],i=[];let c={id:r,type:a.a.Comment};do{i.push(c),c=o[c.id].next}while(c);return i}),h=(e,t)=>f(e,t)?e.commentsPage.keyToChatCommentLinks[t.commentsPageKey]:[],y=(e,t)=>{let{commentsPageKey:n}=t;const r=e.commentsPage.keyToPostId[n];return r?e.posts.models[r]:null},_=(e,t)=>{let{commentId:n,commentLink:r,commentsPageKey:s}=t;const o=e.commentsPage.keyToCommentThreadLinkSets[s];return o?r?o[r.id]:n?o[n]:null:null},E=(e,t)=>{let{commentsPageKey:n}=t;return e.commentsPage.keyToCommentThreadLinkSets[n]},I=(e,t)=>{const n=t.commentsPageKey?_(e,t):null;return n?n.depth:null},v=(e,t)=>{let{commentLink:n}=t;const{id:r,type:s}=n;switch(s){case a.a.Comment:return e.comments.models[r];case a.a.MoreComments:return e.moreComments.models[r];case a.a.ContinueThread:return e.continueThreads.models[r];default:return null}},S=(e,t)=>{let{commentId:n}=t;return n?e.comments.models[n]:void 0},T=(e,t)=>{if(e.platform.currentPage&&e.platform.currentPage.urlParams&&e.platform.currentPage.urlParams.partialPostId){const{partialPostId:t}=e.platform.currentPage.urlParams,n=Object(d.m)(t);return Array.from(new Set(Object.keys(e.comments.models).filter(t=>e.comments.models[t].postId===n&&e.comments.models[t].author!==o.z).map(t=>e.comments.models[t].author)))}return[]},C=(e,t)=>{let{commentsPageKey:n}=t;return e.comments.collapsed[n]},w=e=>e.moreComments.models,D=e=>e.comments.models,x=(e,t)=>{let{commentId:n}=t;const r=S(e,{commentId:n});return r?Object(i.a)(Object(u.I)(e,r),n):""},P=(e,t)=>{let{commentId:n}=t;return!!(n&&e.comments.focused&&e.comments.focused[n])},A=(e,t)=>{let{commentId:n,commentsPageKey:r}=t;return!!(n&&e.comments.isEditing[r]&&e.comments.isEditing[r][n])},R=(e,t)=>{let{commentId:n,commentsPageKey:r}=t;return!!(n&&e.comments.replyFormOpen[r]&&e.comments.replyFormOpen[r][n])},k=(e,t)=>{let{commentsPageKey:n}=t;const r=n&&e.comments.replyFormOpen[n]||{},s=Object.keys(r).find(e=>r[e]),o=S(e,{commentId:s}),i=o&&I(e,{commentId:o.id,commentLink:void 0,commentsPageKey:n});if(o&&"number"==typeof i)return Object.assign({},o,{depth:i})},N=(e,t)=>{let{moreCommentsId:n}=t;return e.moreComments.models[n]},L=(e,t)=>{let{moreCommentsId:n}=t;return!!e.moreComments.api.pending[n]},M=(e,t)=>{let{commentsPageKey:n}=t;const r=e.commentsPage.keyToPostId[n];if(r){const t=s()(e.moreComments.models).find(t=>t.postId===r&&0===t.depth&&!(void 0!==e.moreComments.api.pending[t.id]));if(t)return{moreCommentId:t.id,pending:!!e.moreComments.api.pending[t.id]}}return null},U=(e,t)=>{let{id:n}=t;return e.continueThreads.models[n]},F=(e,t)=>{let{commentId:n}=t;const r=n?e.comments.models[n]:void 0;if(!r)return null;const s=e.authorFlair.models[r.subredditId];return s?s[r.author]:null},B=(e,t)=>{let{draftKey:n}=t;return!!e.comments.submit.error[n]},G=(e,t)=>{let{draftKey:n}=t;const r=e.comments.submit.error[n];return r&&r.fields?r.fields.map(e=>e.msg):[]},q=(e,t)=>{let{draftKey:n}=t;const r=e.comments.drafts[n];return!!r&&r.autofocusDisabled},V=(e,t)=>{let{draftKey:n}=t;return e.comments.drafts[n]},H=(e,t)=>{let{commentId:n}=t;const r=n?e.comments.submit.error[n]:void 0;return r&&r.fields?r.fields.map(e=>e.msg):void 0},K=(e,t)=>{let{commentId:n}=t;return!!n&&e.comments.submit.pending[n]},W=(e,t)=>{let{commentId:n}=t;return!!n&&e.comments.models[n].sendReplies},J=e=>e.comments.visitHighlightFilter,Y=(e,t)=>{const n=S(e,t);if(n)return Object(l.X)(e,n)}},"./src/reddit/selectors/communityAwards.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return l}));var r=n("./src/lib/objectSelector/index.ts");const s=e=>e.awards.create.api.pending,o=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=e.awards.manageable.order[n];return r?r.map(t=>e.awards.models[t]).filter(e=>e.isEnabled):[]}),i=(e,t)=>{let{subredditId:n}=t;return e.awards.manageable.api.pending[n]},c=(e,t)=>{let{subredditId:n}=t;return!!e.awards.blacklist[n]},a=(e,t)=>t.reduce((t,n)=>{const r=e.awards.models[n];return r&&t.push(r),t},[]),d=(e,t)=>e.awards.models[t],u=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=e.awards.usable.order[n];return r?r.map(t=>e.awards.models[t]).filter(e=>e.isEnabled):[]}),l=(e,t)=>{let{subredditId:n}=t;return e.awards.usable.api.pending[n]}},"./src/reddit/selectors/communityFlairs.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d}));var r=n("./node_modules/reselect/es/index.js");const s=(e,t)=>{const n=e.communityFlairs[t];return n&&n.sortedKeys},o=Object(r.a)(s,e=>e),i=(e,t)=>{const n=e.communityFlairs[t];return n&&n.models},c=Object(r.a)(i,e=>e),a=Object(r.a)((e,t)=>i(e,t),(e,t)=>s(e,t),(e,t)=>{if(t&&e)return t.map(t=>e[t])}),d=(e,t)=>e.communityFlairs.hasOwnProperty(t)},"./src/reddit/selectors/discoveryUnit.ts":function(e,t,n){"use strict";n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"f",(function(){return O})),n.d(t,"k",(function(){return g})),n.d(t,"b",(function(){return j})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return y})),n.d(t,"d",(function(){return _})),n.d(t,"g",(function(){return E})),n.d(t,"c",(function(){return I})),n.d(t,"j",(function(){return S}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeListingKey/index.ts"),o=n("./src/lib/objectSelector/index.ts"),i=n("./src/reddit/helpers/name/index.ts"),c=n("./src/reddit/models/DiscoveryUnit/index.ts"),a=n("./src/reddit/selectors/category.ts"),d=n("./src/reddit/selectors/experiments/exploreV2.ts"),u=n("./src/reddit/selectors/listings.ts"),l=n("./src/reddit/selectors/posts.ts"),b=n("./src/reddit/selectors/subreddit.ts");const p=[],m=e=>e.discoveryUnits.api.list.loaded,f=e=>e.discoveryUnits.api.list.pending,O=(e,t)=>{let{unitName:n}=t;const r=e.discoveryUnits.nameToId[Object(i.f)(n)];return e.discoveryUnits.models[r]},g=()=>Object(o.a)((e,t)=>{let{listingKey:n}=t;const r=Object(l.M)(e);return Object(l.C)(e,{listingKey:n}).filter(e=>{const t=r[e];return t&&!t.isStickied&&!t.isSponsored})}),j=()=>Object(o.a)((e,t)=>{let n,{categoryName:o,id:i,unitName:c}=t;if(o&&!(n=Object(a.i)(e,{categoryName:o})))return p;const d=i||n&&n.id,u=Object(s.a)(c,r.N.HOT,{category:d});return g()(e,{listingKey:u})}),h=()=>Object(o.a)((e,t)=>{let{listingKey:n,unitName:o,subredditName:i}=t;if(!Object(b.B)(e,{subredditName:i}))return p;const c=n||Object(s.a)(o,r.N.HOT,{subredditName:i});return g()(e,{listingKey:c})}),y=e=>{if(Object(d.a)(e))return O(e,{unitName:c.i})},_=e=>{if(Object(d.a)(e))return O(e,{unitName:c.k})},E=(e,t)=>{let{listingKey:n,shouldLoadMore:r}=t;const s=Object(u.j)(e,{listingKey:n}),o=s?s.token:void 0,i=Object(u.h)(e,{listingKey:n});if(s){if(!r)return;{const t=Object(u.i)(e,{listingKey:n,token:s.token});if(i||t)return}}else{const t=Object(u.f)(e,{listingKey:n});if(i||t)return}return{fetchedToken:o}},I=e=>O(e,{unitName:c.c}),v=new Set(["sequence"]),S=e=>{const t=e.platform.currentPage;if(t){const{meta:e,urlParams:n}=t,r=e&&e.name||"",s=n&&n.subredditName||"",o="subreddit"===r,i=v.has(s.toLowerCase());return o&&i}return!1}},"./src/reddit/selectors/dismissedTruncationList.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/selectors/experiments/listingBelowAll.ts");const o=e=>e.dismissedTruncationList,i=Object(r.a)((e,t)=>{let{subredditOrProfile:n}=t;return n},o,(e,t)=>{const n=e&&e.id;return!!n&&t.includes(n)}),c=(e,t)=>{const n=Object(s.b)(e);if(!Object(s.a)(n))return!1;const r=o(e);return!(t&&r.includes(t))}},"./src/reddit/selectors/emojis.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"f",(function(){return O})),n.d(t,"a",(function(){return g}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/values.js"),s=n.n(r),o=n("./node_modules/reselect/es/index.js"),i=n("./src/reddit/models/Flair/index.ts"),c=n("./src/reddit/selectors/moderatorPermissions.ts"),a=n("./src/reddit/selectors/subreddit.ts");const d=[],u=e=>e.emojis.models,l=Object(o.a)(u,(e,t)=>t.subredditId,(e,t)=>{const n=e[t];return n?[...s()(n.emojis),...s()(n.snoomojis)]:d}),b=Object(o.a)(l,c.g,(e,t)=>t.isFlairModOnly,(e,t)=>t.flairTemplateType,(e,t,n,r)=>e.filter(e=>!(e.modFlairOnly&&!t||e.modFlairOnly&&!n)&&(!(!e.userFlairAllowed&&r===i.d.UserFlair)&&!(!e.postFlairAllowed&&r===i.d.LinkFlair)))),p=Object(o.a)(u,(e,t)=>t.subredditId,(e,t)=>Object.keys(e[t].snoomojis)),m=(e,t)=>Object(a.y)(e,{subredditName:t}).emojisEnabled,f={emojis:{},snoomojis:{}},O=(e,t)=>{let{subredditId:n}=t;return u(e)[n]||f},g=(e,t)=>!!e.emojis.api.list.pending[t]},"./src/reddit/selectors/experiments/categoriesPlacement.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return O})),n.d(t,"a",(function(){return j})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return y})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return I})),n.d(t,"b",(function(){return S}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/once.js"),s=n.n(r),o=n("./node_modules/lodash/values.js"),i=n.n(o),c=n("./node_modules/reselect/es/index.js"),a=n("./src/lib/constants/index.ts"),d=n("./src/reddit/constants/experiments.ts"),u=n("./src/reddit/constants/page.ts"),l=n("./src/reddit/contexts/PageLayer/index.tsx"),b=n("./src/reddit/helpers/chooseVariant/index.ts"),p=n("./src/reddit/selectors/experiments/utils.ts"),m=n("./src/reddit/selectors/meta.ts"),f=n("./src/reddit/selectors/user.ts");const O=Object(c.a)(e=>Object(b.c)(e,{experimentEligibilitySelector:e=>!Object(f.I)(e),experimentName:d.x}),p.a),g=Object(c.a)(f.I,(e,t)=>Object(l.N)(e,t),(e,t)=>{let{pageLayer:n}=t;return Object(l.z)(n)},(e,t)=>{let{pageLayer:n}=t;return Object(l.L)(n)},(e,t,n,r)=>!e&&(n||r||t===u.g)),j=Object(c.a)((e,t)=>Object(b.c)(e,{experimentEligibilitySelector:e=>g(e,t),experimentName:d.x}),p.a),h=e=>e===d.j.Top||e===d.j.TopBlue,y=e=>e===d.j.Left||e===d.j.LeftBlue,_=e=>e===d.j.TopBlue||e===d.j.LeftBlue,E=new Set(i()(a.v).filter(e=>e!==a.v.Everywhere)),I=Object(c.a)(m.b,e=>!!e&&E.has(e)),v=[{endDate:+new Date(2019,7,9)-1,name:"Summer Fun",subredditNames:["BBQ","Coachella","EDM","Moviesinthemaking","Music","Shoestring","TravelHacks","aves","boxoffice","electricdaisycarnival","electronicmusic","entertainment","flicks","grilling","hiking","indieheads","listentothis","movies","solotravel","trailers"]},{endDate:+new Date(2019,8,16)-1,name:"Premier League",subredditNames:["avfc","chelseafc","coys","crystalpalace","everton","hammers","lcfc","liverpoolfc","mcfc","premierleague","reddevils","saintsfc","soccer"]},{endDate:+new Date(2020,0,1)-1,name:"NFL",subredditNames:[]}].sort((e,t)=>e.endDate-t.endDate),S=s()(()=>{const e=Date.now();return v.find(t=>e<t.endDate)})},"./src/reddit/selectors/experiments/chatPost.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return g}));var r=n("./src/reddit/constants/experiments.ts"),s=n("./src/reddit/contexts/PageLayer/selectors.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),i=n("./src/reddit/models/Post/index.ts"),c=n("./src/reddit/selectors/moderatorPermissions.ts"),a=n("./src/reddit/selectors/posts.ts");const d=(e,t)=>{const n=t&&e.subreddits.models[t];return Boolean(n&&n.isChatPostFeatureEnabled)},u=(e,t)=>{const n=t&&e.subreddits.models[t];return Boolean(n&&n.allowChatPostCreation)},l=e=>Object(o.c)(e,{experimentName:r.d,experimentEligibilitySelector:o.a})===r.k.Holdout,b=e=>Object(o.c)(e,{experimentName:r.e,experimentEligibilitySelector:o.a})===r.k.Rollout,p=(e,t)=>{let{postId:n}=t;const r=!!n&&Object(a.J)(e,{postId:n});return!!r&&r.discussionType===i.b.Chat},m=(e,t)=>{let{postId:n}=t;const r=p(e,{postId:n}),s=!!n&&!!Object(c.i)(e,{postId:n}),o=b(e),i=!l(e)||s;return r&&o&&i},f=(e,t)=>{const n=t.subredditId||Object(s.m)(e,t),r=d(e,n),o=u(e,n),i=!!n&&Object(c.g)(e,{subredditId:n});return!!b(e)&&(!!r&&(!!i||!l(e)&&o))},O=(e,t,n)=>{if(t&&b(e)){if(n&&l(e))return;Object(o.e)(e,{experimentName:r.d})}},g=e=>r.l.Enabled===Object(o.c)(e,{experimentEligibilitySelector:o.a,experimentName:r.f})},"./src/reddit/selectors/experiments/emailCollection.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return O}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),i=n("./src/reddit/helpers/localStorage/index.ts"),c=n("./src/reddit/selectors/experiments/utils.ts"),a=n("./src/reddit/selectors/user.ts");const d=Object(r.a)(a.J,a.l,a.x,(e,t,n)=>e&&!t&&!n),u=Object(r.a)(e=>Object(o.c)(e,{experimentEligibilitySelector:d,experimentName:s.F}),c.a),l=e=>{if((()=>0===Object(i.i)())())return u(e)},b=e=>e===s.H.Tooltip,p=e=>e===s.H.Banner,m=e=>e===s.H.Footer1||e===s.H.Footer2,f=e=>e===s.H.Footer2,O=e=>e===s.H.Modal},"./src/reddit/selectors/experiments/exploreV2.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u}));var r=n("./src/reddit/constants/experiments.ts"),s=n("./src/reddit/helpers/chooseVariant/index.ts");const o=e=>e===r.zb.ExploreOld,i=e=>e===r.zb.ExploreStandardSearchCommunity||e===r.zb.ExploreTrendingDUCommunity||e===r.zb.ExploreTrendingDUCommunityPopular||e===r.zb.ExploreTrendingSearchCommunity,c=e=>e===r.zb.ExploreTrendingDUCommunity||e===r.zb.ExploreTrendingDUCommunityPopular,a=e=>e===r.zb.ExploreTrendingSearchCommunity,d=e=>e===r.zb.ExploreTrendingDUCommunityPopular,u=(e,t)=>{const n=Object(s.c)(e,{experimentEligibilitySelector:e=>!e.user.temporaryGQL.isLoggedIn,experimentName:r.vb,expEventOverride:t?t.expEventOverride:void 0});return Object(r.ac)(n)?void 0:n}},"./src/reddit/selectors/experiments/feedFilters.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return u}));var r=n("./src/reddit/constants/experiments.ts"),s=n("./src/reddit/helpers/chooseVariant/index.ts");const o=e=>Object(s.c)(e,{experimentName:r.I,experimentEligibilitySelector:s.a}),i=e=>e===r.J.FlairSidebar||e===r.J.FlairTop,c=e=>e===r.J.FlairSidebar,a=e=>e===r.J.FlairTop,d=e=>e===r.J.Sorts||e===r.J.FlairTop||e===r.J.FlairSidebar,u=e=>e===r.J.TopBanner||e===r.J.Sorts||e===r.J.FlairTop||e===r.J.FlairSidebar},"./src/reddit/selectors/experiments/frontpageSignup.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return O}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/contexts/PageLayer/index.tsx"),i=n("./src/reddit/helpers/chooseVariant/index.ts"),c=n("./src/reddit/selectors/experiments/utils.ts"),a=n("./src/reddit/selectors/meta.ts"),d=n("./src/reddit/selectors/user.ts");const u=Object(r.a)(d.Q,(e,t)=>{let{pageLayer:n}=t;return!n||Object(o.z)(n)},a.c,(e,t,n)=>!e&&t&&!n),l=Object(r.a)((e,t)=>Object(i.c)(e,{experimentEligibilitySelector:e=>u(e,t),experimentName:s.y,throttledVariants:{[s.K.CurrentThrottled]:s.y}}),c.a),b=e=>e===s.K.CurrentThrottled,p=e=>e===s.K.CurrentThrottled||e===s.K.CurrentUnthrottled||e===s.K.CurrentUnthrottledCopy||e===s.K.NewPopUnthrottledCopy,m=e=>e===s.K.NewPopUnthrottledCopy,f=e=>e===s.K.NewPageUnthrottledCopy||e===s.K.NewPageUnthrottledCopyFields,O=e=>e===s.K.NewPageUnthrottledCopyFields},"./src/reddit/selectors/experiments/gqlSubredditPage.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n("./src/reddit/constants/experiments.ts"),s=n("./src/reddit/helpers/chooseVariant/index.ts");const o=e=>Object(s.c)(e,{experimentEligibilitySelector:s.a,experimentName:r.q})===r.u.Enabled,i=e=>Object(s.c)(e,{experimentEligibilitySelector:s.a,experimentName:r.p})===r.t.Enabled},"./src/reddit/selectors/experiments/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return d}));var r=n("./src/lib/env/index.ts"),s=n("./node_modules/reselect/es/index.js"),o=n("./src/reddit/constants/experiments.ts"),i=n("./src/reddit/selectors/user.ts");const c=Object(s.a)(e=>e.page&&e.user?e.user.experiments.models.concat(e.page.experiments.models):[],(e,t)=>t.experimentName,(e,t)=>e.find(e=>{let{name:n}=e;return n.toLowerCase()===t.toLowerCase()})),a=(e,t)=>{let{experimentName:n}=t;const s=Object(i.i)(e),c=!!s&&s.isEmployee;return(Object(r.a)()||c||o.G.has(n.toLowerCase()))&&e.experimentOverrides?e.experimentOverrides[n.toLowerCase()]:void 0},d=e=>e.page.experiments.canonicalUrl},"./src/reddit/selectors/experiments/listingBelowAll.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}));var r=n("./src/reddit/constants/experiments.ts"),s=n("./src/reddit/helpers/chooseVariant/index.ts"),o=n("./src/reddit/selectors/user.ts");const i=e=>!Object(o.I)(e),c=e=>Object(s.c)(e,{experimentEligibilitySelector:i,experimentName:r.r}),a=e=>e===r.v.Active},"./src/reddit/selectors/experiments/m2mHomeRedirect.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return b}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),i=n("./src/reddit/selectors/experiments/utils.ts");const c=Object(r.a)(e=>Object(o.c)(e,{experimentEligibilitySelector:e=>!e.user.temporaryGQL.isLoggedIn,experimentName:s.D}),i.a),a=Object(r.a)(c,e=>!!e),d=e=>e===s.bb.ListingCapped||e===s.bb.ListingInfinite||e===s.bb.ListingInfiniteLightbox,u=e=>e===s.bb.RightRail||e===s.bb.RightRailLightbox,l=e=>e===s.bb.ListingInfinite||e===s.bb.ListingInfiniteLightbox,b=e=>e===s.bb.ListingInfiniteLightbox||e===s.bb.RightRailLightbox},"./src/reddit/selectors/experiments/pinnedPosts.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return b}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),i=n("./src/reddit/models/Post/index.ts"),c=n("./src/reddit/selectors/posts.ts");const a=Object(r.a)(c.O,e=>e.some(i.k)),d=Object(r.a)(a,e=>e),u=(e,t)=>Object(o.c)(e,{experimentName:s.A,experimentEligibilitySelector:e=>{const{listingKey:n,postIds:r}=t;return n&&!r?d(e,{listingKey:n}):!!r&&((e,t)=>{const{postIds:n,posts:r}=t,s=n&&n.slice(0,2),o=s&&s.map(e=>r&&r[e]);return!(!o||!o.some(i.k))})(0,t)}}),l=e=>e===s.nb.Compact,b=e=>e===s.nb.CompactTimeDelay},"./src/reddit/selectors/experiments/postSeo.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),i=n("./src/reddit/selectors/meta.ts");const c=e=>!!e.page.experiments.canonicalUrl;var a=n("./src/reddit/selectors/user.ts");n.d(t,"d",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"g",(function(){return j})),n.d(t,"f",(function(){return h})),n.d(t,"k",(function(){return y}));const d=Object(r.a)(i.i,e=>{return"reddit.com"!==e.split(".").splice(1).join(".")}),u=Object(r.a)(a.J,d,(e,t)=>!e&&t),l=e=>{const t=d(e);return Object(o.c)(e,{experimentName:s.kb,experimentEligibilitySelector:e=>!Object(a.J)(e)&&t})},b=e=>{const t=d(e);return Object(o.c)(e,{experimentName:s.hb,experimentEligibilitySelector:()=>t})},p=e=>{const t=d(e);return Object(o.c)(e,{experimentName:s.jb,experimentEligibilitySelector:()=>t})},m=e=>e===s.rb.IdCard,f=e=>e===s.rb.RailSwap,O=e=>Object(o.b)(e,{experimentEligibilitySelector:c,experimentName:s.P})===s.W.Metadata,g=e=>Object(o.b)(e,{experimentEligibilitySelector:c,experimentName:s.S})===s.Z.PostDescription,j=e=>Object(o.b)(e,{experimentEligibilitySelector:c,experimentName:s.Q,expEventOverride:!1}),h=e=>Object(o.b)(e,{experimentEligibilitySelector:c,experimentName:s.O}),y=e=>Object(o.b)(e,{experimentEligibilitySelector:c,experimentName:s.R})},"./src/reddit/selectors/experiments/publicAccessNetwork.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a}));var r=n("./src/reddit/constants/experiments.ts"),s=n("./src/reddit/helpers/chooseVariant/index.ts"),o=n("./src/reddit/selectors/user.ts"),i=n("./src/reddit/selectors/PublicAccessNetwork/api.ts");const c=e=>Object(o.G)(e)||r.tb.Enabled===Object(s.c)(e,{experimentEligibilitySelector:s.a,experimentName:r.lb}),a=e=>c(e)&&!Object(o.N)(e)&&Object(i.l)(e)},"./src/reddit/selectors/experiments/railsWidgets.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/contexts/PageLayer/index.tsx"),i=n("./src/reddit/helpers/chooseVariant/index.ts"),c=n("./src/reddit/selectors/experiments/utils.ts"),a=n("./src/reddit/selectors/user.ts");const d=Object(r.a)(a.Q,(e,t)=>Object(o.D)(e,t),(e,t)=>!e&&t),u=Object(r.a)(e=>Object(i.c)(e,{experimentEligibilitySelector:e=>!e.user.temporaryGQL.isLoggedIn,experimentName:s.E}),c.a),l=Object(r.a)((e,t)=>Object(i.c)(e,{experimentEligibilitySelector:e=>d(e,t),experimentName:s.E}),c.a),b=e=>e===s.yb.TopMonth,p=e=>e===s.yb.Trending,m=e=>e===s.yb.Geo},"./src/reddit/selectors/experiments/searchFix.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return g}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/lib/constants/index.ts"),o=n("./src/reddit/constants/experiments.ts"),i=n("./src/reddit/contexts/PageLayer/index.tsx"),c=n("./src/reddit/helpers/chooseVariant/index.ts"),a=n("./src/reddit/selectors/experiments/utils.ts");const d={},u=Object(r.a)(e=>Object(c.c)(e,{experimentEligibilitySelector:c.a,experimentName:o.wb}),a.a),l=e=>e===o.Gb.Active,b=e=>{let{pageLayer:t}=e;return t&&t.locationState||d},p=Object(r.a)((e,t)=>b(t),e=>e.fromPage&&e.fromPage.subredditName),m=Object(r.a)((e,t)=>b(t),e=>e.fromPage&&e.fromPage.routeName),f=e=>{let{pageLayer:t}=e;return t&&t.locationState&&t.locationState.searchSwitcherType},O=Object(r.a)(e=>u(e),m,(e,t)=>{let{pageLayer:n}=t;return Object(i.A)(n)},(e,t,n)=>l(e)&&n&&(t===s.xb.COMMENTS||t===s.xb.SUBREDDIT)),g=Object(r.a)(e=>u(e),(e,t)=>{let{pageLayer:n}=t;return Object(i.K)(n)},(e,t)=>l(e)&&t)},"./src/reddit/selectors/experiments/subredditDifficulty.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return b}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),i=n("./src/reddit/selectors/experiments/utils.ts"),c=n("./src/reddit/selectors/user.ts");const a=Object(r.a)(e=>Object(o.c)(e,{experimentEligibilitySelector:e=>Object(c.J)(e),experimentName:s.Db}),i.a),d=e=>e===s.Jb.Treatment1,u=e=>e===s.Jb.Treatment2,l=e=>e===s.Jb.Treatment3,b=e=>e===s.Jb.Treatment4},"./src/reddit/selectors/experiments/topPosts.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return b}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/contexts/PageLayer/index.tsx"),i=n("./src/reddit/helpers/chooseVariant/index.ts"),c=n("./src/reddit/selectors/user.ts");const a=Object(r.a)(c.J,(e,t)=>{let{pageLayer:n}=t;return Object(o.z)(n)},(e,t)=>{let{pageLayer:n}=t;return Object(o.J)(n)},(e,t,n)=>!e&&!t&&n),d=Object(r.a)((e,t)=>Object(i.c)(e,{experimentName:s.C,experimentEligibilitySelector:e=>a(e,t)}),e=>e),u=e=>e===s.Ub.NoCommunityWidgets,l=e=>e===s.Ub.NoRulesModerators,b=e=>e===s.Ub.RelatedPostsDu},"./src/reddit/selectors/experiments/upAndComingLeaderboard.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n("./src/reddit/constants/experiments.ts"),s=n("./src/reddit/helpers/chooseVariant/index.ts");const o=e=>r.Yb.All===Object(s.c)(e,{experimentEligibilitySelector:s.a,experimentName:r.Xb}),i=["crm","malifaux","littlenightmares","sketchcomedy","davesofthunder","souleater","perfectworldmobile","careerchange","musicindia","clash_royale","wethefifth","eloping","chaosbane","vegetarianketo","titlecards","photographyprotips","seals","dipcifica","werewolfonline","space_justice","anemic","tupac","itcrowd","carnivorediet","leonieleague","seasteading","happyplanners","petpeeve","ladiesofscience","vinyl_jazz","microscopy","lilycollins","protogen","archviz","axolotl","retrowave","webarebears","studytips","casualkujo","weeds","lincolnmotorco","publicfeetpics","traveltrailers","asoiafminiaturesgame","trivium","vietnamwar","jeremyzucker","jennalouisecoleman","armajet","eosinophilice","zeropunctuation","jessicaalba","playingguitar","lifeofnorman","moviereviews","pixiv","ender","anxiousattachment","hainbach","dragracing","grimm","sanandreas","wolcen","ushistory","fit","kingdomsandcastles","gwsn","thumbcats","blahaj","goodboys","firstdayontheinternet","hondaaccord","pcbuildingsimulator","astro_kpop","defectivedetectives","namemydog","timesplitters","imaginaryundead","boombeachrecruit","ar_mr_xr","busking","universe","henrycavill","cavalierkingcharles","haskellquestions","bape","kingdomrush","dogbreeds101","smokingcessation","moddedminecraft","cultcinema","bleachshirts","policechases","medicalquestions","descenders","comebacks","huaweipics","esfp","voxel","okko","unheardof","bluebloods","dannybrown","synchronicities","ameer","animalsbeingsleepy","greeneggsandhamtv","bfgarmada","catvideos","fleet_foxes","gardenwild","hippocampusband","aspirebudgeting","fivethirtyeight","latteart","1000daysofpractice","tomholland","tenminutepodcast","octolism","mrreddit","neilyoung","rumblemains","day6","dinosaurearth","ketomeals","boopablenosies","watcherofsamsara","pho","foundationgame","lovebirds","purrito","styleboards","internationalbaseball","chemistryhelp","animal","roguetech","rocknocker","charlixcx","hardcorehistory","ppeperomioides","mustangtech","xavierrenegadeangel","storytime","airedaleterrier","keycapdesigners","hammocks","throneofglassseries","rurounikenshin","bloodhoundmains","medicalscribe","stnewhorizons","pianocovers","fistofthenorthstar","reactionmemes","samsungs10","frenchrap","tcgte","drpepper","worldwhisky","carrotweather","shootingfishinabarrel","tornado","onlinesoccermanager","doge","hands","boats","chevysonic","sharpei","darktower","malware","mvc3","batch","sloths","tile","alphalegion","unexpectedfuturama","duelyst","ericandre","learnsql","cargobike","askstampcollectors","scifimodels","bootedgeedge","subaruoutback","femininenotfeminist","masakox","gouache","nintendomusic","tankionline","sum41","epidemiology","thermodynamics","starwarscommander","jacobcollier","soup","mlpdrawingschool","bibigang","mobkitchen","tollers","cacti","vanossgaming","hardofhearing","sailboatcruising","lofihouse","maritime","vegan_travel","designdesign","ancientgreece","geometry","uktrains","kittensgame","yemenicrisis","patentlaw","madlass","countrymusic","spectacularmemes","camelotunchained","viziotv","halo_5_guardians","sublime","mindblowing","pathology","smartereveryday","mybloodyvalentine","comic_crits","googleplay","metalfoundry","gameofsultans","amateursatellites","writersspotlight","game","crocheting","cookingtonight","bananasforscale","selfsufficiency","spectrummobile","mobilesuitgundam","kromcrushclassic","50s_science_fiction","houseofcards","abductions","anthro","gumballmemes","koi","scrapmetal","lordhuron","extrafabulouscomics","skincareflatlays","comicwriting","fighterjets","newdads","watsky","opossums","samsunggalaxy","posturetipsguide","wrestlemaniaplans","crewscrew","gooddesign","btrfs","scrapbooking","turtleswithjobs","teslatruck","2panelgarfield","caffeine","drinking","merchbyamazon","whatisthisworth"]},"./src/reddit/selectors/experiments/utils.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/reddit/constants/experiments.ts");const s=e=>{if(!Object(r.ac)(e))return e||void 0}},"./src/reddit/selectors/externalAccount.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u}));var r=n("./src/reddit/models/ExternalAccount/index.ts"),s=n("./src/reddit/models/User/index.ts"),o=n("./src/reddit/selectors/user.ts");const i=(e,t)=>{let{username:n}=t;return!!e.externalAccount.api.user.pending[n]},c=(e,t)=>{let{username:n}=t;return e.externalAccount.user[n]},a=e=>{const t=Object(o.i)(e);if(!t)return;const n=Object(s.f)(t),r=c(e,{username:n});return r?r.twitter:void 0},d=e=>!!e.externalAccount.api.connect.pending[r.a.Twitter],u=(e,t)=>{let{profileName:n}=t;if(!n)return null;const i=c(e,{username:n});if(!i)return null;const a=i[r.a.Twitter];if(!a)return null;const d=Object(o.i)(e);if(!(d&&Object(s.f)(d).toLowerCase()===n.toLowerCase()))return a;const u=Object(o.hb)(e,{userName:n});return u?u.prefShowTwitter?a:null:a}},"./src/reddit/selectors/focusedVerticalSuggestion.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return f}));n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./src/reddit/selectors/posts.ts"),s=n("./src/reddit/selectors/subreddit.ts");const o=(e,t)=>{const n=e.focusedVerticals.interactedSubredditIds&&e.focusedVerticals.interactedSubredditIds[t];if(n){const t=Object(s.S)(e,{subredditId:n});return t&&t.displayText||""}return""},i=(e,t)=>e.focusedVerticals.interactedSubredditIds&&e.focusedVerticals.interactedSubredditIds[t]||"",c=e=>e.focusedVerticals.components.dismissed,a=(e,t)=>{const n=d(e,t);if(!n)return[];const r=Object(s.W)(e,{subredditName:n.subredditName});return r&&r.postIds&&r.postIds.length?r.postIds.slice(0,Math.min(r.postIds.length,2)):[]},d=(e,t)=>{const n=e.focusedVerticals.recommendedSubredditIds&&e.focusedVerticals.recommendedSubredditIds[t];if(n){const t=Object(s.S)(e,{subredditId:n});if(t)return{subredditId:t.id,subredditName:t.name}}return null},u=(e,t,n,s,o)=>{const i=o.find(e=>e<=t)||-1,c=o.find(e=>e>t)||1/0;return t!==c&&t!==i&&(!(i+n>t)&&(!(t+n>c)&&!((e,t,n)=>{const s=n[t-1],o=n[t],i=o&&Object(r.J)(e,{postId:s})||null,c=o&&Object(r.J)(e,{postId:o})||null;return i&&i.isSponsored||c&&c.isSponsored})(e,t,s)))},l=[3,7,7],b=(e,t,n)=>{let{listingKey:s}=n;const o=t.slice().sort();let i=-1;const c=Object(r.C)(e,{listingKey:s}),a=[];return l.forEach(t=>{let n=i+t;if(!(n>=c.length)){for(;n<c.length&&!u(e,n,t,c,o);)n+=1;n<c.length&&(a.push(n),i=n)}}),a},p=e=>!!e.focusedVerticals.recommendedSubredditIds&&!!e.focusedVerticals.recommendedSubredditIds.length,m=e=>{return e.focusedVerticals.api.pending.focusedVerticalGqlPending},f=e=>{return e.focusedVerticals.api.error.focusedVerticalGqlError}},"./src/reddit/selectors/frontpage.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/lib/constants/index.ts");const s=e=>e.user&&e.user.session&&!e.user.session.unsafeLoggedOut?r.N.BEST:r.N.HOT},"./src/reddit/selectors/gild.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return u}));const r=e=>e.gild.gildModalThingId,s=(e,t)=>e.gild.gildModalId===t,o=e=>e.gild.isAnonymous,i=e=>e.gild.isIframed,c=e=>e.gild.message,a=e=>e.gild.api.pending,d=e=>e.gild.api.error,u=e=>e.gild&&e.gild.giveAwardTooltipThingId},"./src/reddit/selectors/goldPurchaseModals.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"p",(function(){return c})),n.d(t,"q",(function(){return a})),n.d(t,"u",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"s",(function(){return b})),n.d(t,"t",(function(){return p})),n.d(t,"r",(function(){return m})),n.d(t,"v",(function(){return f})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return g})),n.d(t,"k",(function(){return j})),n.d(t,"m",(function(){return h})),n.d(t,"n",(function(){return y})),n.d(t,"l",(function(){return _})),n.d(t,"o",(function(){return E})),n.d(t,"g",(function(){return I})),n.d(t,"f",(function(){return v}));const r=e=>e.goldPurchase.coinPurchaseModal.activePage,s=e=>e.goldPurchase.coinPurchaseModal.gildThingId||void 0,o=e=>e.goldPurchase.coinPurchaseModal.showModal,i=e=>e.goldPurchase.coinPurchaseModal.purchasePackage,c=e=>e.goldPurchase.premiumPurchaseModal.activePage,a=e=>e.goldPurchase.premiumPurchaseModal.showModal,d=e=>e.goldPurchase.updateCardModal.pending,u=e=>e.goldPurchase.payment.paymentMethod,l=e=>e.goldPurchase.payment.cardName,b=e=>e.goldPurchase.payment.savedCardsPending,p=e=>e.goldPurchase.payment.savedCards,m=e=>e.goldPurchase.payment.rememberCard,f=e=>e.goldPurchase.payment.useSavedCard,O=e=>e.goldPurchase.payment.cardValidation.cardCvc,g=e=>e.goldPurchase.payment.cardValidation.cardExpiry,j=e=>e.goldPurchase.payment.cardValidation.cardNumber,h=e=>e.goldPurchase.payment.cardValidation.nameOnCard,y=e=>e.goldPurchase.payment.cardValidation.postalCode,_=e=>e.goldPurchase.payment.stripeToken.errorMessage,E=e=>e.goldPurchase.payment.stripeToken.pending,I=e=>e.goldPurchase.payment.paypal.passthrough,v=e=>e.goldPurchase.payment.paypal.errorMessage},"./src/reddit/selectors/imageUploads.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n("./src/reddit/models/Image/index.tsx");const s=e=>e.imageUploads,o=(e,t)=>{const n=s(e),o=[];for(const s in n){const e=n[s];e.kind===r.b.TempUploaded&&e.context===t&&o.push(e)}return o}},"./src/reddit/selectors/inFeedChaining.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"b",(function(){return y}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/reselect/es/index.js"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeListingKey/index.ts"),i=n("./src/reddit/actions/subreddit/similarSubreddit.ts"),c=n("./src/reddit/constants/inFeedChaining.ts"),a=n("./src/reddit/endpoints/subreddit/similar.ts"),d=n("./src/reddit/models/DiscoveryUnit/index.ts"),u=n("./src/reddit/selectors/discoveryUnit.ts"),l=n("./src/reddit/selectors/posts.ts"),b=n("./src/reddit/selectors/subreddit.ts");const p=[],m=(e,t)=>{const n=e.posts.chained.idToListingKey[t.postId];return t.listingKey===n},f=(e,t)=>{const n=e.posts.chained.dismissedIdToListingKey[t.postId];return(e=>e.posts.chained.dismissed)(e)||t.listingKey===n},O=Object(r.a)(e=>e.posts.chained.idToListingKey,e=>Object.keys(e).filter(t=>e[t])),g=(e,t)=>{let{subredditId:n}=t;return O(e).some(t=>{const r=Object(l.U)(e,{postId:t});return!!r&&r.id===n})},j=(e,t)=>{let{subredditName:n}=t;const r=s.Ob.DAY.toUpperCase(),i=Object(o.a)(n,s.N.TOP,{t:r}),c=Object(l.C)(e,{listingKey:i});if(0!==c.length)for(const s of c){const t=Object(l.J)(e,{postId:s});if(t&&!t.hidden&&!t.isSponsored)return t}},h=(e,t)=>{let{postId:n}=t;const r=((e,t)=>{let{postId:n}=t;const r=Object(l.J)(e,{postId:n});if(!r)return p;const s=Object(i.a)({subredditIds:[r.belongsTo.id],count:c.b,variant:a.a.Factorization});return Object(b.x)(e,{key:s})})(e,{postId:n}),s=[];for(const{name:o}of r){const t=j(e,{subredditName:o});t&&s.push(t.id)}return s},y=(e,t)=>{let{listingName:n}=t;const r=d.b;return Object(u.f)(e,{unitName:r})}},"./src/reddit/selectors/inlineSubredditEditing.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n("./src/reddit/featureFlags/index.ts"),s=n("./src/reddit/selectors/moderatorPermissions.ts");const o=(e,t)=>{let{subredditId:n}=t;if(!r.d.subredditInlineEditing(e))return!1;const o=n?Object(s.j)(e,{subredditId:n}):null;return!!o&&(e=>!!e&&e.config)(o)},i=e=>e.subreddits.api.inlineEditing.pending},"./src/reddit/selectors/layers.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));const r=e=>e.layers.editorBackground,s=e=>e.layers.draft,o=e=>e.layers.layerBox,i=e=>e.layers.startTime},"./src/reddit/selectors/listings.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"j",(function(){return m}));var r=n("./src/lib/objectSelector/index.ts");const s=(e,t)=>{let{listingKey:n}=t;return e.listings.postOrder.api.error[n]},o=(e,t)=>{let{listingKey:n}=t;return e.listings.postOrder.api.pending[n]},i=(e,t)=>e.listings.postOrder.loadMore[t.listingKey],c=(e,t)=>{let{listingKey:n,token:r}=t;return e.listings.postOrder.fetchedTokens[n][r]},a=e=>e.listings.activeKey,d=Object(r.a)((e,t)=>{let{postId:n}=t;const r=a(e);if(!r)return;const s=e.listings.postOrder.ids[r];if(!s)return;const o=e.posts.models,i=u({listings:s,posts:o,postId:n,dir:"next"}),c=u({listings:s,posts:o,postId:n,dir:"prev"}),d=e.posts.models[c];return{nextPost:e.posts.models[i],prevPost:d}}),u=e=>{let{listings:t,posts:n,postId:r,dir:s}=e;const o=t.indexOf(r);if(o<0)return null;let i,c=o;do{i=t[c+="prev"===s?-1:1]}while(n[i]&&n[i].isBlank);return i},l=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.api.pending[n]},b=(e,t)=>{let{listingKey:n,token:r}=t;return e.listings.listingOrder.fetchedTokens[n][r]},p=(e,t)=>{let{listingKey:n}=t;return!!e.listings.listingOrder.fetchedTokens[n]},m=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.loadMore[n]}},"./src/reddit/selectors/meta.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"h",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"i",(function(){return p}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/lib/getParsedUserAgent/index.ts");const o=e=>"".concat(e.meta.protocol,"://").concat(e.meta.domain),i=e=>e.meta.city,c=e=>e.meta.country,a=e=>e.meta.region,d=e=>e.meta.crawler,u=Object(r.a)(e=>e.meta.userAgent,e=>Object(s.b)(e)),l=Object(r.a)(e=>e.meta.userAgent,e=>Object(s.f)(e)),b=Object(r.a)(e=>e.meta.userAgent,e=>Object(s.d)(e)),p=e=>e.meta&&e.meta.sessionReferrerDomain},"./src/reddit/selectors/moderatingComments.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));const r=(e,t)=>{let{commentId:n,commentsPageKey:r}=t;if(!n)return!1;if(e.comments.collapsed[r]&&n in e.comments.collapsed[r])return!!e.comments.collapsed[r][n];const s=e.comments.models[n];return!!s&&("computedCollapsed"in s?!!s.computedCollapsed:s.collapsedBecauseCrowdControl?!e.modModeEnabled:s.collapsed)},s=(e,t)=>{let{commentId:n}=t;if(!n)return!1;const r=e.comments.models[n];return!(!r||!r.collapsedBecauseCrowdControl)&&e.modModeEnabled}},"./src/reddit/selectors/moderatorPermissions.ts":function(e,t,n){"use strict";n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"g",(function(){return h})),n.d(t,"b",(function(){return y}));var r=n("./node_modules/lodash/values.js"),s=n.n(r),o=n("./src/lib/objectSelector/index.ts"),i=n("./src/reddit/models/ModeratingSubreddits/index.ts"),c=n("./src/reddit/selectors/posts.ts");const a=e=>!!(e.user&&e.user.account&&e.user.account.isAdmin),d=e=>!!(e.user&&e.user.account&&e.user.account.isMod)||a(e),u=(e,t)=>{if(a(e))return i.b;const n=Object(c.J)(e,t);if(!n)return null;const r=n.belongsTo.id;return e.moderatingSubreddits[r]},l=(e,t)=>a(e)?i.b:e.moderatingSubreddits[t.subredditId],b=e=>(t,n)=>{if(a(t))return!0;const r=l(t,n);return!(!r||!r[e])},p=Object(o.a)((e=>t=>{const n=a(t),r=[];for(const s in t.moderatingSubreddits){const o=t.moderatingSubreddits[s];(n||o&&o[e])&&(t.subreddits.models[s]?r.push(t.subreddits.models[s]):t.profiles.models[s]&&r.push(t.profiles.models[s]))}return r})(i.c.posts)),m=e=>t=>{if(a(t))return!0;for(const n in t.moderatingSubreddits){const r=t.moderatingSubreddits[n];if(r&&r[e])return!0}return!1},f=b(i.c.flair),O=b(i.c.wiki),g=b(i.c.posts),j=(m(i.c.flair),m(i.c.posts)),h=(e,t)=>{let{subredditId:n}=t;const r=e.moderatingSubreddits[n];return a(e)||!(!r||!s()(r).some(e=>e))},y=(e,t)=>{let{postId:n}=t;const r=u(e,{postId:n});return!!r&&r.posts}},"./src/reddit/selectors/monthsToMinutes.ts":function(e,t,n){"use strict";n.d(t,"w",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"p",(function(){return h})),n.d(t,"k",(function(){return y})),n.d(t,"n",(function(){return _})),n.d(t,"a",(function(){return E})),n.d(t,"t",(function(){return I})),n.d(t,"v",(function(){return v})),n.d(t,"u",(function(){return S})),n.d(t,"q",(function(){return T})),n.d(t,"r",(function(){return C})),n.d(t,"s",(function(){return w})),n.d(t,"f",(function(){return D})),n.d(t,"e",(function(){return x})),n.d(t,"D",(function(){return A})),n.d(t,"C",(function(){return R})),n.d(t,"j",(function(){return k})),n.d(t,"E",(function(){return N})),n.d(t,"d",(function(){return L})),n.d(t,"g",(function(){return M})),n.d(t,"b",(function(){return U})),n.d(t,"o",(function(){return B})),n.d(t,"F",(function(){return H})),n.d(t,"A",(function(){return K})),n.d(t,"B",(function(){return J})),n.d(t,"h",(function(){return Y})),n.d(t,"i",(function(){return z})),n.d(t,"G",(function(){return Q})),n.d(t,"l",(function(){return X})),n.d(t,"z",(function(){return $})),n.d(t,"y",(function(){return Z})),n.d(t,"x",(function(){return ee})),n.d(t,"m",(function(){return te}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/uniq.js"),s=n.n(r),o=n("./node_modules/lodash/values.js"),i=n.n(o),c=n("./node_modules/reselect/es/index.js"),a=n("./src/reddit/helpers/name/index.ts"),d=n("./src/reddit/models/DiscoveryUnit/index.ts"),u=n("./src/reddit/models/MonthsToMinutes/index.ts"),l=n("./src/reddit/models/Vote/index.ts"),b=n("./src/reddit/selectors/discoveryUnit.ts"),p=n("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),m=n("./src/reddit/selectors/subreddit.ts"),f=n("./src/reddit/selectors/subscriptions.ts"),O=n("./src/reddit/selectors/user.ts");const g=e=>Object(p.c)(e),j=e=>e.user.loggedOutData.accountCompleteness.step,h=e=>j(e)===u.a.Initial,y=e=>j(e)===u.a.BannerVisible,_=e=>{return j(e)===u.a.HomeVisited},E=e=>e.user.loggedOutData.accountCompleteness.collapsed,I=e=>e.user.loggedOutData.postsCount,v=e=>e.user.loggedOutData.votes,S=e=>e.user.loggedOutData.views,T=e=>e.user.loggedOutData.homeFeed,C=e=>e.user.loggedOutData.homeFeed.topBanner.isClosed,w=e=>e.user.loggedOutData.homeFeed.topBanner.viewsCount,D=e=>e.user.loggedOutData.feedMultiName,x=e=>{const t=D(e);return t.length?t.join("+"):null},P=(Object(c.a)(e=>e.user.loggedOutData.votes.posts,e=>e.user.loggedOutData.votes.comments,(e,t)=>{return Object.keys(e).filter(t=>0!==e[t]).length+Object.keys(t).filter(e=>0!==t[e]).length}),e=>e&&!e.isDismissed&&e.postId),A=e=>{const t=e.user.loggedOutData.tooltips[u.e.SubscribeFeed];return!Object(f.c)(e)&&P(t)?t.postId:void 0},R=e=>{const t=e.user.loggedOutData.tooltips[u.e.SubscribeReminder];return!Object(f.c)(e)&&P(t)?t.postId:void 0},k=e=>{const t=e.user.loggedOutData.tooltips[u.e.Home];return g(e)&&!1===t.isDismissed&&!_(e)},N=e=>{const t=e.user.loggedOutData.tooltips;return{homeTooltipTime:t[u.e.Home].time,subscribeIdCardTooltipTime:t[u.e.SubscribeIdCard].time,subscribeTooltipTime:t[u.e.SubscribeFeed].time,voteTooltipTime:t[u.e.Vote].time}},L=(Object(c.a)(N,e=>{const t=i()(e).filter(e=>!!e);return t.sort(),t.length>0?t[0]:void 0}),e=>e.user.loggedOutData.dataLoaded),M=(e,t)=>{if(Object(O.J)(e))return!0;if(!g(e))return!1;if(!_(e))return!1;return D(e).length>0},U=e=>{return{collapsed:E(e),step:j(e)}},F=Object(c.a)(e=>e.user.loggedOutData.views.posts,e=>Object.keys(e).filter(t=>e[t]).length),B=e=>{return!!g(e)&&F(e)>=u.d},G=e=>T(e).views,q=Object(c.a)(v,e=>T(e).votes,(e,t)=>{return[...Object.keys(e.comments).filter(t=>e.comments[t]!==l.a.notVoted),...Object.keys(e.posts).filter(t=>e.posts[t]!==l.a.notVoted)].map(e=>t[e]).filter(Boolean)}),V=e=>T(e).similar,H=Object(c.a)(f.f,G,q,(e,t,n)=>{return s()([...e.filter(Boolean).map(e=>{let{name:t}=e;return t}),...n,...t].map(a.f))}),K=Object(c.a)(f.f,H,V,(e,t,n)=>{const r=s()([...t,...n].map(a.f)),o=e.length===u.b?u.b:u.c;return r.slice(0,o)}),W=Object(c.a)(G,f.f,q,V,(e,t,n,r)=>{const o=s()([...e,...t.filter(Boolean).map(e=>{let{name:t}=e;return t}),...n,...r].map(a.f)),i=t.length===u.b?u.b:u.c;return o.slice(0,i)}),J=e=>{return K(e).reduce((t,n)=>{return t[Object(m.G)(e,n)]=n,t},{})},Y=e=>_(e)?D(e):K(e),z=e=>{return Y(e).map(t=>Object(m.B)(e,{subredditName:t})).filter(Boolean)},Q=e=>{return W(e).map(t=>Object(m.B)(e,{subredditName:t})).filter(Boolean)},X=e=>{const t=h(e),n=(e=>{const t=B(e),n=K(e);return t&&n.length>=u.c})(e);return t&&n},$=Object(c.a)(p.c,X,y,(e,t,n)=>!!e&&(t||n)),Z=Object(c.a)($,p.f,(e,t)=>e&&Object(p.b)(t)),ee=e=>{const t=$(e)?d.j:d.m;return Object(b.f)(e,{unitName:t})},te=Object(c.a)(g,M,y,_,(e,t,n,r)=>e&&(t||n||r))},"./src/reddit/selectors/multireddit.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return g})),n.d(t,"d",(function(){return j})),n.d(t,"j",(function(){return h})),n.d(t,"g",(function(){return y})),n.d(t,"f",(function(){return _})),n.d(t,"e",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return v})),n.d(t,"k",(function(){return S}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./node_modules/lodash/sortBy.js"),s=n.n(r),o=n("./src/app/strings/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/objectSelector/index.ts"),a=n("./src/reddit/models/Multireddit/index.ts"),d=n("./src/reddit/models/User/index.ts"),u=n("./src/reddit/models/Widgets/index.ts"),l=n("./src/reddit/selectors/profile.ts"),b=n("./src/reddit/selectors/subreddit.ts"),p=n("./src/reddit/selectors/user.ts");const m=[],f=Object(c.a)((e,t)=>{let{listingName:n}=t;const r=(e=>e.replace(/\++/g,"+").replace(/^\+/,"").replace(/\+$/,""))(n.toLowerCase()).split("+"),s=r.filter(e=>!e.startsWith(i.Qb)).map(t=>Object(b.G)(e,t)).filter(e=>void 0!==e),c=r.filter(e=>e.startsWith(i.Qb)).map(t=>Object(l.m)(e,t.slice(2))).filter(e=>void 0!==e),a=[...s.map(t=>e.subreddits.models[t].name),...c.map(t=>e.profiles.models[t].name)].join(", ");return{displayText:Object(o.c)(Object(p.S)(e),"multireddit.adHocDescription",a.length,{subreddits:a}),profileIds:c,subredditIds:s}}),O=e=>e.multireddits.api.forUser.fetched,g=e=>e.multireddits.api.forUser.pending,j=(e,t)=>{let{multiredditName:n,username:r}=t;if(!r){if(!e.user.account)return null;const{displayText:t}=e.user.account;r=t}const s=Object(a.h)(r,n);return e.multireddits.models[s]},h=Object(c.a)(e=>{const{account:t}=e.user;if(!t)return m;const{id:n}=t,r=e.multireddits.byUserId[n];return r?r.map(t=>e.multireddits.models[t]):m}),y=(e,t)=>{let{multiredditName:n,username:r}=t;if(r){const t=j(e,{multiredditName:n,username:r});return t?"/user/".concat(r,"/m/").concat(t.name):""}const{account:s}=e.user;if(!s)return"";const o=j(e,{multiredditName:n});return o?"/me/m/".concat(o.name):""},_=(e,t)=>{let{multiredditName:n,username:r}=t;if(!r){const{account:t}=e.user;if(!t)return"";r=Object(d.f)(t)}const s=Object(a.h)(r,n),i=e.multireddits.models[s];return i?Object(o.a)(e.user.language,"multireddit.title",{displayText:i.displayText,username:r}):""},E=(e,t)=>e.multireddits.models[t],I=Object(c.a)((e,t)=>{let{subredditIds:n,profileIds:r}=t;const o=[];let i=[...n&&n.reduce((t,n)=>{const r=Object(b.S)(e,{subredditId:n});return r?[...t,r]:(o.push(n),t)},[])||[],...r&&r.map(t=>Object(l.p)(e,{profileId:t}))||[]].filter(e=>!!e).map(t=>{const n=Object(u.k)(t);return n.isSubscribed=Object(b.cb)(e,{identifier:{type:n.type,name:n.name}}),n});if(o){const t=o.map(t=>e.subreddits.communityInfo[t]).filter(e=>!!e);i.push(...t),i=s()(i,e=>e.name.toLowerCase())}return i}),v=(e,t)=>{const n=Object(p.i)(e),r=Object(a.i)(t);return!!n&&(n.displayText||"").toLowerCase()===r.toLowerCase()},S=Object(c.a)((e,t)=>{let{multireddit:n}=t;return Object(a.f)(n)&&e.multireddits.recommendations[n.url]&&e.multireddits.recommendations[n.url].length?e.multireddits.recommendations[n.url].map(t=>Object(u.j)(e.subreddits.models[t])):[]})},"./src/reddit/selectors/notificationBanner.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>t=>t.notificationBannerId===e},"./src/reddit/selectors/oldSiteRules.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>e.oldSiteRules},"./src/reddit/selectors/platform.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"m",(function(){return c})),n.d(t,"r",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"p",(function(){return l})),n.d(t,"i",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"l",(function(){return f})),n.d(t,"c",(function(){return O})),n.d(t,"q",(function(){return g})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return y})),n.d(t,"n",(function(){return _})),n.d(t,"a",(function(){return E})),n.d(t,"s",(function(){return I})),n.d(t,"o",(function(){return v}));n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/models/Post/index.ts"),o=(n("./src/reddit/selectors/multireddit.ts"),n("./src/reddit/selectors/subreddit.ts"));const i=e=>e.platform.currentPage,c=e=>e.platform.lastPage,a=e=>{if(!e.platform.currentPage||!e.platform.currentPage.routeMatch)return null;const{route:t}=e.platform.currentPage.routeMatch;return t.meta.name},d=e=>e.platform.currentPage&&e.platform.currentPage.routeMatch&&e.platform.currentPage.routeMatch.route.chunk===r.o.FRONTPAGE,u=e=>e.platform.currentPage&&e.platform.currentPage.routeMatch&&[r.o.FRONTPAGE,r.o.MULTIREDDIT,r.o.SUBREDDIT].includes(e.platform.currentPage.routeMatch.route.chunk),l=e=>!!(e.platform.lastPage&&e.platform.lastPage.locationState&&e.platform.lastPage.locationState.isOverlay),b=e=>!!(e.platform&&e.platform.currentPage&&e.platform.currentPage.locationState&&e.platform.currentPage.locationState.isOverlay),p=e=>!(!e.platform.currentPage||!e.platform.currentPage.meta||e.platform.currentPage.meta.name!==r.xb.COMMENTS&&e.platform.currentPage.meta.name!==r.xb.DUPLICATES),m=e=>!(!e.platform.currentPage||!e.platform.currentPage.meta||e.platform.currentPage.meta.name!==r.xb.POST_CREATION),f=e=>!!(e.platform.currentPage&&e.platform.currentPage.meta&&e.platform.currentPage.meta.name===r.xb.COMMENTS&&e.platform.currentPage.urlParams&&e.platform.currentPage.urlParams.routePrefix&&"user"===e.platform.currentPage.urlParams.routePrefix),O=e=>e.platform&&e.platform.currentPage&&e.platform.currentPage.status,g=e=>e.platform&&e.platform.currentPage&&e.platform.currentPage.queryParams,j=e=>{const t=h(e);return t?Object(o.G)(e,t):null},h=e=>{const t=e.platform.currentPage&&e.platform.currentPage.urlParams;return t?t.subredditName:null},y=e=>{const t=h(e);return t?Object(o.B)(e,{subredditName:t}):null},_=(e,t)=>{let{page:n}=t;const r=n&&n.routeMatch;if(!r)return;const{partialPostId:o}=r.match.params;return e.posts.models[Object(s.m)(o)]},E=e=>e.platform.allowNavigationCallback,I=e=>e.platform.currentPage?e.platform.currentPage.url:"",v=e=>{const t=e.platform.currentPage;if(t&&t.routeMatch){const{params:e}=t.routeMatch.match;if(e&&e.partialPostId)return Object(s.m)(e.partialPostId)}return""}},"./src/reddit/selectors/postCollection.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return j})),n.d(t,"d",(function(){return h})),n.d(t,"r",(function(){return y})),n.d(t,"s",(function(){return _})),n.d(t,"q",(function(){return E})),n.d(t,"n",(function(){return I})),n.d(t,"k",(function(){return v})),n.d(t,"p",(function(){return S})),n.d(t,"o",(function(){return T})),n.d(t,"m",(function(){return w})),n.d(t,"v",(function(){return D})),n.d(t,"u",(function(){return x})),n.d(t,"g",(function(){return P})),n.d(t,"c",(function(){return A})),n.d(t,"l",(function(){return R})),n.d(t,"h",(function(){return k})),n.d(t,"j",(function(){return N})),n.d(t,"f",(function(){return L})),n.d(t,"b",(function(){return M})),n.d(t,"a",(function(){return U})),n.d(t,"t",(function(){return F})),n.d(t,"e",(function(){return B}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/reselect/es/index.js"),s=n("./src/lib/eventTools/index.ts"),o=n("./src/reddit/constants/postCollection.ts"),i=n("./src/reddit/featureFlags/profileCollections.ts"),c=n("./src/reddit/helpers/media/index.ts"),a=n("./src/reddit/models/Media/index.ts"),d=n("./src/reddit/models/PostCollection/index.ts"),u=n("./src/reddit/models/Subreddit/index.ts"),l=n("./src/reddit/selectors/moderatorPermissions.ts"),b=n("./src/reddit/selectors/posts.ts"),p=n("./src/reddit/selectors/structuredStyles.ts"),m=n("./src/reddit/selectors/subreddit.ts"),f=n("./src/reddit/selectors/user.ts"),O=n("./src/reddit/selectors/profile.ts");const g=[],j=(e,t)=>{let{postId:n}=t;const r=Object(b.J)(e,{postId:n});let o=!1;if(r&&r.eventInfo){const{eventStart:e,eventEnd:t,eventIsLive:n}=r.eventInfo;if(!n){o=Object(s.e)(e,t)===s.a.Future}}return o},h=(e,t)=>{let{collectionId:n}=t;const r=E(e,{collectionId:n});if(!r||!r.id)return"";const s=Object(m.c)(e,r.subredditId);return s&&n?"".concat(s,"submit?collection=").concat(n):""},y=(e,t,n)=>{if(n&&!Object(i.a)(e))return!1;if(!(n?Object(f.M)(e,t):Object(l.g)(e,{subredditId:Object(m.G)(e,t)})))return!1;const r=n?Object(m.s)(e,t):Object(m.y)(e,{subredditName:t});return!(!r||!r.collectionsEnabled)},_=(e,t)=>{let{collectionId:n}=t;const r=E(e,{collectionId:n});if(!r)return!1;const s=Object(m.S)(e,{subredditId:r.subredditId})||Object(O.p)(e,{profileId:r.subredditId});return y(e,s.name,s.type===u.b.User)},E=(e,t)=>{let{collectionId:n}=t;return e.postCollection.models[n]},I=(e,t)=>{let{postId:n}=t;const r=e.posts.models[n],{collectionIds:s}=r,o=s?s[0]:null;return o&&e.postCollection.models[o]||null},v=(e,t)=>{let{postId:n}=t;const r=e.posts.models[n],{collectionIds:s}=r;return!!(s?s[0]:null)},S=(e,t)=>{let{collectionId:n}=t;const r=E(e,{collectionId:n});return r?r.primaryPostId:null},T=(e,t)=>{let{collectionId:n}=t;const r=E(e,{collectionId:n});if(!r)return null;const s=r.postIds||[];return Object(b.N)(e,{postIds:s})},C=(e,t)=>{let{subredditId:n}=t;return e.postCollection.subredditToIds[n]},w=(e,t)=>{let{subredditId:n}=t;const r=C(e,{subredditId:n});return!(!r||!r.length)},D=Object(r.a)(C,e=>e.postCollection.models,(e,t)=>e?e.map(e=>t[e]).filter(Boolean):g),x=(e,t)=>{const n=C(e,t);return n?n.length:0},P=e=>e.creations.api.collection.createOrUpdate.pending,A=e=>e.creations.api.collection.createOrUpdate.error,R=e=>e.postCollection.api.pending.reorderPending,k=e=>e.postCollection.api.pending.updateDescriptionPending,N=e=>e.postCollection.api.pending.updateLayoutPending,L=e=>e&&e.displayLayout||d.a.TIMELINE,M=(e,t)=>{let{collectionId:n}=t;return L(e.postCollection.models[n])},U=(e,t)=>{let{postId:n}=t;return L(I(e,{postId:n}))},F=(e,t)=>{let{collectionId:n}=t;return!(!((e,t)=>{let{collectionId:n}=t;const r=E(e,{collectionId:n});if(!r||!r.id)return;const s=r.subredditId,o=Object(p.l)(e,{subredditId:s});return o&&!!o.postPlaceholderImage})(e,{collectionId:n})&&!((e,t)=>{let{collectionId:n}=t;const r=T(e,{collectionId:n});if(!r||!Object.keys(r).length)return;let s=0;for(const o in r){const e=r[o];e&&e.thumbnail.width&&e.thumbnail.height&&(s+=1)}return s>=Object.keys(r).length-s})(e,{collectionId:n}))},B=(e,t)=>{let{postId:n}=t;const r=Object(b.J)(e,{postId:n});let s=null;return r&&(r.media&&r.media.type!==a.n.GIFVIDEO&&(s=Object(c.e)(r,2*o.b,2*o.a)||Object(c.e)(r,o.b,o.a)),!s&&r.thumbnail&&r.thumbnail.width&&r.thumbnail.height&&(s=r.thumbnail,(r.isNSFW||r.isSpoiler)&&(s=(e=>{if(!e||e.type===a.n.RTJSON||e.type===a.n.TEXT)return null;const t=e.obfuscated;return t?{url:t,width:e.width,height:e.height}:null})(r.media)))),s}},"./src/reddit/selectors/postCreations.ts":function(e,t,n){"use strict";n.d(t,"r",(function(){return D})),n.d(t,"s",(function(){return x})),n.d(t,"G",(function(){return P})),n.d(t,"n",(function(){return k})),n.d(t,"B",(function(){return N})),n.d(t,"Q",(function(){return L})),n.d(t,"cb",(function(){return M})),n.d(t,"L",(function(){return U})),n.d(t,"N",(function(){return F})),n.d(t,"g",(function(){return B})),n.d(t,"f",(function(){return G})),n.d(t,"ab",(function(){return q})),n.d(t,"d",(function(){return V})),n.d(t,"a",(function(){return H})),n.d(t,"C",(function(){return K})),n.d(t,"P",(function(){return W})),n.d(t,"j",(function(){return J})),n.d(t,"h",(function(){return Y})),n.d(t,"i",(function(){return z})),n.d(t,"k",(function(){return Q})),n.d(t,"l",(function(){return X})),n.d(t,"A",(function(){return $})),n.d(t,"D",(function(){return Z})),n.d(t,"H",(function(){return ee})),n.d(t,"E",(function(){return te})),n.d(t,"o",(function(){return ne})),n.d(t,"S",(function(){return re})),n.d(t,"Y",(function(){return se})),n.d(t,"q",(function(){return oe})),n.d(t,"m",(function(){return ie})),n.d(t,"eb",(function(){return ce})),n.d(t,"W",(function(){return ae})),n.d(t,"F",(function(){return de})),n.d(t,"z",(function(){return ue})),n.d(t,"bb",(function(){return le})),n.d(t,"db",(function(){return be})),n.d(t,"X",(function(){return pe})),n.d(t,"I",(function(){return me})),n.d(t,"J",(function(){return fe})),n.d(t,"K",(function(){return Oe})),n.d(t,"V",(function(){return ge})),n.d(t,"O",(function(){return je})),n.d(t,"y",(function(){return he})),n.d(t,"x",(function(){return ye})),n.d(t,"u",(function(){return _e})),n.d(t,"v",(function(){return Ee})),n.d(t,"t",(function(){return Ie})),n.d(t,"w",(function(){return ve})),n.d(t,"M",(function(){return Se})),n.d(t,"p",(function(){return Te})),n.d(t,"b",(function(){return Ce})),n.d(t,"T",(function(){return we})),n.d(t,"Z",(function(){return De})),n.d(t,"e",(function(){return xe})),n.d(t,"R",(function(){return Pe})),n.d(t,"U",(function(){return Ae})),n.d(t,"c",(function(){return Re}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/reselect/es/index.js"),s=n("./src/app/strings/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makePostCreationPageKey/index.ts"),c=n("./src/reddit/components/RichTextEditor/RTEState/index.tsx"),a=n("./src/reddit/constants/posts.ts"),d=n("./src/reddit/contexts/PageLayer/index.tsx"),u=n("./src/reddit/contexts/PageLayer/selectors.ts"),l=n("./src/reddit/featureFlags/index.ts"),b=n("./src/reddit/featureFlags/profileCollections.ts"),p=n("./src/reddit/helpers/getSubredditUrl/index.ts"),m=n("./src/reddit/helpers/media/index.ts"),f=n("./src/reddit/helpers/name/index.ts"),O=n("./src/reddit/helpers/path/index.ts"),g=n("./src/reddit/models/PostCreationForm/index.ts"),j=n("./src/reddit/models/PostRequirements/index.ts"),h=n("./src/reddit/models/Subreddit/index.ts"),y=n("./src/reddit/models/Upload/index.ts"),_=n("./src/reddit/routes/postCreation/constants.ts"),E=n("./src/reddit/selectors/platform.ts"),I=n("./src/reddit/selectors/postFlair.ts"),v=n("./src/reddit/selectors/postRequirements.ts"),S=n("./src/reddit/selectors/posts.ts"),T=(n("./src/reddit/selectors/runTimeEnvVars.ts"),n("./src/reddit/selectors/subreddit.ts")),C=n("./src/reddit/selectors/subredditAutocomplete.ts"),w=n("./src/reddit/selectors/user.ts");const D=e=>{const{api:t}=e.creations,{apiError:n,pollError:r,validationError:s}=t.post.submit.error;return!!(n||s||t.editor.mediaUpload.error||r)},x=e=>{const{submitValidationError:t}=e.creations.api.post.submit.error;return!!t},P=e=>null!==e.creations.formData.postSchedule,A=e=>(e&&e.fields||[]).map(e=>e.msg),R=e=>e&&"extra"in e?Object.keys(e.extra).map(t=>e.extra[t]):[],k=Object(r.a)(e=>e.creations.api.post.submit.error,e=>e.creations.api.editor.mediaUpload.error,(e,t)=>{const{apiError:n,validationError:r,pollError:s}=e;return[...A(n),...A(r),...A(t),...R(s)]}),N=(e,t)=>{let{pageLayer:n}=t;if(!n||!Object(d.E)(n))return!1;const{subredditName:r,profileName:s}=n.urlParams,o=Object(i.a)({subredditName:r,profileName:s});return!!e.creations.api.page.pending[o]},L=e=>M(e)||U(e),M=e=>e.creations.api.post.submit.pending,U=e=>e.creations.api.editor.mediaUpload.pending,F=e=>e.creations.api.post.submit.error.needsCaptcha,B=Object(r.a)(w.i,E.f,e=>{const t=Object(E.e)(e);if(t){const n=Object(C.d)(e,{substring:t});if(n)return n.subreddits.find(e=>Object(f.a)(e.name,t))}},e=>{const t=Object(E.f)(e);return t&&Object(T.A)(e,{subredditName:t.name})},e=>e.platform.currentPage,(e,t,n,r,s)=>{const{profileName:o="",subredditName:i=""}=s&&s.urlParams||{};if(o)return{isProfile:!0,name:e&&e.username||Object(f.f)(o),id:e&&e.id||void 0};{const{name:e=Object(f.f)(i),id:s=""}=t||n||{};return{isProfile:!1,allowedPostTypes:r,id:s||void 0,name:e}}}),G=e=>{const t=B(e);return t.name?t.isProfile?Object(b.a)(e)?Object(T.s)(e,t.name):null:Object(T.y)(e,{subredditName:t.name}):null},q=e=>e.creations.formData.submissionType,V=e=>{const t=B(e),n=Object(E.f)(e),r=q(e),s=!!n&&n.isNSFW;if(r===o.Fb.MEDIA&&s)return!1;if(t.isProfile)return Object(w.M)(e,t.name);if(!t.id)return!1;const i=e.moderatingSubreddits[t.id];return!!i&&(e=>Object.keys(e).some(t=>!0===e[t]))(i)},H=Object(r.a)(q,E.f,B,V,(e,t,n,r)=>{if(e===o.Fb.POLL)return e;const{allowedPostTypes:s}=n,i=!!t&&t.isNSFW;if(r&&(!i||e!==o.Fb.MEDIA)||!s)return e;const c=[s.text&&o.Fb.POST,(s.images||s.videos)&&!i&&o.Fb.MEDIA,s.links&&o.Fb.LINK_ONLY,o.Fb.CROSSPOST].filter(Boolean);return c.indexOf(e)>=0?e:c[0]}),K=(e,t)=>{let{postId:n}=t;return e.creations.postEditing.postId===n},W=e=>e.creations.api.post.update.pending,J=e=>!!e.creations.api.post.update.error,Y=e=>e.creations.formState.editorMode||g.h.RICH_TEXT,z=Object(r.a)(e=>e.creations.api.post.update.error,e=>A(e)),Q=e=>e.creations.postEditing.draft.markdown,X=e=>e.creations.postEditing.draft.rte,$=e=>e.creations.formData.isChatPost,Z=e=>e.creations.formData.isNSFW,ee=e=>e.creations.formData.isSpoiler,te=e=>{const{isOC:t}=e.creations.formData,n=G(e);if(n){if(!Object(h.c)(n))return!1;if(n.allOriginalContent)return!0}return t},ne=e=>e.creations.formData.eventSchedule||void 0,re=e=>e.creations.formData.postSchedule||void 0,se=e=>l.d.scheduledPosts(e),oe=Object(r.a)(e=>e.creations.formData.flair,e=>{const t=Object(E.d)(e);return t?Object(I.d)(e,{subredditId:t}):null},(e,t)=>e&&e.templateId&&t&&t.templateIds.includes(e.templateId)?e:null),ie=e=>e.creations.formState.editorMode||e.user.prefs.editorMode,ce=e=>e.creations.formData.title,ae=e=>e.creations.formData.sendReplies,de=e=>e.creations.formData.isPublicLink,ue=e=>e.creations.formState.isChanged,le=e=>e.creations.formState.submitMode,be=e=>{const{name:t}=B(e);return Object(v.b)(e,{subredditName:t})},pe=Object(r.a)(V,be,(e,t)=>e||!t||t.bodyRestrictionPolicy!==j.a.NotAllowed),me=e=>e.creations.formData.body.link,fe=e=>e.creations.formData.body.markdown,Oe=Object(r.a)(e=>e.creations.formData.body.media,e=>e.uploads[g.m],B,w.S,(e,t,n,r)=>{if(!t)return;const o=Object(m.f)(t.metadata.mimetype),{allowedPostTypes:i}=n;let c,{isMakeGif:a=!1}=e&&e.video||{};if(i){const e=n.name;i.images?i.videos||(c=Object(s.a)(r,"postCreation.mediaInput.makeGif.fixedToOnReason",{subredditName:e}),a=!0):(c=Object(s.a)(r,"postCreation.mediaInput.makeGif.fixedToOffReason",{subredditName:e}),a=!1)}return{file:t.file,status:t.status,url:t.url,websocketUrl:t.websocketUrl,mediaType:o||void 0,video:"video"===o?Object.assign({thumbnail:{time:0,url:t.metadata.videoFirstFrameUrl}},e&&e.video||{},{duration:t.metadata.videoDuration||0,isMakeGif:a,makeGifDisableReason:c}):void 0}}),ge=e=>e.creations.formData.body.rte,je=e=>e.creations.formData.nextSubreddit,he=e=>{return!!ce(e).trim()},ye=e=>{const t=ge(e);return c.a.hasContent(t)},_e=e=>{return!!fe(e).trim()},Ee=e=>{const t=Oe(e);return!!t&&!!t.file&&t.status!==y.a.FAILED},Ie=e=>{return!!me(e).trim()},ve=e=>he(e)||ye(e)||_e(e)||Ee(e)||Ie(e),Se=e=>e.creations.formState.modalId||e.activeModalId,Te=(e,t)=>{let{field:n}=t;switch(n){case o.kb.TITLE:return{title:ce(e)};case o.kb.BODY:if(ie(e)===g.h.RICH_TEXT){const t=ge(e);return{rtjson:c.a.toRichTextJSON(t,e.uploads).document}}return{selftext:fe(e).trim()};case o.kb.LINK:{const t=me(e);if(!t)return;return{url:t}}case o.kb.FLAIR:{const t=oe(e);return{flairId:t?t.templateId:void 0}}default:return}},Ce=(e,t)=>{const n=B(e),r=oe(e),s=$(e),o=Z(e),i=te(e),c=ee(e),a=ae(e),d=ce(e),u=de(e);return{collectionId:e.platform.currentPage.queryParams.collection,destSubreddit:n,draftId:t,flair:r,isChatPost:s,isNSFW:o,isOC:i,isSpoiler:c,sendReplies:a,title:d,isPublicLink:u}},we=(e,t)=>{const n=Ce(e,t.draftId);if(!n||!n.destSubreddit.name)return;const r=(e=>e.creations.formData.recaptcha)(e),s=Ae(e,t),i=ne(e),a=Object.assign({},n,{eventSchedule:i,gRecaptchaResponse:r,postToTwitter:s,validate_on_submit:!0}),d=ie(e),u=me(e),l=fe(e),b=Oe(e),p=ge(e),m=pe(e),f=H(e),{uploads:O}=e,{sourcePostId:j}=t;if(f===o.Fb.LINK_ONLY&&u)return Object.assign({},a,{url:u,kind:g.p.LINK});if(f===o.Fb.MEDIA&&b){const{mediaType:e="image",video:t}=b,n=O[g.n],r="video"===e?n.url:null;return Object.assign({},a,{mediaType:e,videoThumbnailUrl:r,kind:g.p.MEDIA,url:b.url||"",makeGif:!!t&&t.isMakeGif})}if((f===o.Fb.POST||f===o.Fb.POLL)&&d===g.h.MARKDOWN)return Object.assign({},a,{kind:g.p.MARKDOWN,markdown:m?l:""});if((f===o.Fb.POST||f===o.Fb.POLL)&&d===g.h.RICH_TEXT){const e=m&&c.a.hasContent(p)?c.a.toRichTextJSON(p,O).document:[];return Object.assign({},a,{kind:g.p.RICH_TEXT,document:e})}return f===o.Fb.CROSSPOST&&j?Object.assign({},a,{kind:g.p.CROSSPOST,sourcePostId:j}):void 0},De=(e,t)=>{let{sourcePostId:n}=t;return n?Object(S.e)(e,{postId:n}):void 0},xe=e=>{const t=Oe(e);switch(H(e)){case o.Fb.LINK_ONLY:return"link";case o.Fb.MEDIA:return t&&"image"!==t.mediaType&&t.video?t.video.isMakeGif?"videogif":"video":"image";default:return"self"}},Pe=(e,t)=>{let{pageLayer:n}=t;if(!n)return _.b;const r=Object(d.q)(e,{pageLayer:n});if(r)return Object(O.a)(Object(p.a)(r),_.b);const s=Object(d.j)(e,{pageLayer:n});return s&&Object(d.C)(e,{pageLayer:n})&&Object(w.g)(e)?Object(O.a)(s.url,_.b):_.b},Ae=(e,t)=>{const n=Object(u.o)(e,t);return(!n||!n.isQuarantined)&&e.creations.formData.postToTwitter},Re=e=>{const t=B(e);if(!t.id||t.isProfile)return!1;const n={id:t.id,type:a.a.SUBREDDIT};return Object(I.b)(e,n,!0,!0)}},"./src/reddit/selectors/postDraft.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"f",(function(){return j})),n.d(t,"g",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"h",(function(){return E})),n.d(t,"i",(function(){return I}));n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./src/config.ts"),s=n("./node_modules/lodash/values.js"),o=n.n(s),i=n("./node_modules/reselect/es/index.js"),c=n("./src/lib/constants/index.ts"),a=n("./src/reddit/components/RichTextEditor/RTEState/index.tsx"),d=n("./src/reddit/models/PostCreationForm/index.ts"),u=n("./src/reddit/models/PostDraft/index.ts"),l=n("./src/reddit/selectors/postCreations.ts"),b=n("./src/reddit/selectors/subreddit.ts"),p=n("./src/reddit/selectors/user.ts");const m=Object(i.a)(e=>e.creations.drafts,e=>o()(e).sort((e,t)=>{const n=e.modified||e.created;return(t.modified||t.created)-n})),f=(e,t)=>{let{draftId:n}=t;return n?e.creations.drafts[n]:null},O=(e,t)=>{const n=f(e,t);if(n&&n.subredditId){const t=Object(b.S)(e,{subredditId:n.subredditId});return t?t.name:void 0}},g=e=>e.creations.api.draft.listing.pending,j=e=>{const{api:t}=e.creations,{apiError:n,validationError:r}=t.draft.save.error;return!(!n&&!r)},h=e=>(e&&e.fields||[]).map(e=>e.msg),y=(Object(i.a)(e=>e.creations.api.draft.save.error,e=>{const{apiError:t,validationError:n}=e;return[...h(t),...h(n)]}),e=>e.creations.api.draft.save.pending),_=(e,t)=>e.creations.api.draft.deleteDraft.pending[t]||!1,E=(e,t)=>{const n=Object(l.b)(e,t);if(!n)return;const r=Object(l.m)(e),s=Object(l.I)(e),o=Object(l.J)(e),i=Object(l.V)(e),b=Object(l.X)(e),p=Object(l.a)(e),{uploads:m}=e;if(p===c.Fb.LINK_ONLY)return Object.assign({},n,{body:s,kind:u.b.Link});if(p===c.Fb.POST&&r===d.h.MARKDOWN)return Object.assign({},n,{body:b?o:"",kind:u.b.Markdown});if(p===c.Fb.POST&&r===d.h.RICH_TEXT){const e=b?a.a.toRichTextJSON(i,m).document:[];return Object.assign({},n,{body:e,kind:u.b.RichText})}},I=(e,t)=>{let{draftId:n}=t;const s=Object(p.i)(e);return n&&s?"".concat(r.a.redditUrl,"/user/").concat(s.displayText,"/draft/").concat(n):""}},"./src/reddit/selectors/postFlair.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var r=n("./src/lib/objectSelector/index.ts"),s=n("./src/reddit/constants/posts.ts"),o=n("./src/reddit/helpers/flair.ts"),i=n("./src/reddit/models/Flair/index.ts"),c=n("./src/reddit/selectors/moderatorPermissions.ts"),a=n("./src/reddit/selectors/posts.ts"),d=n("./src/reddit/selectors/user.ts");const u=(e,t)=>{let{subredditId:n}=t;return e.postFlair[n]},l=(e,t)=>{let{subredditId:n}=t;return!e.postFlair[n]||e.postFlair[n].displaySettings.isEnabled},b=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=u(e,{subredditId:n});if(r)return{type:i.d.LinkFlair,displaySettings:r.displaySettings,permissions:r.permissions}}),p=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t.type===s.a.PROFILE)return!1;const o=t.id,i=l(e,{subredditId:o});if(!i)return!1;const a=u(e,{subredditId:o});if(!a)return!1;if(r){if(!!!(a.templateIds&&a.templateIds.length>0))return!1}const d=Object(c.d)(e,{subredditId:o});if(d)return!0;const{canAssignOwn:b}=a.permissions;return b&&n},m=(e,t)=>{let{postId:n}=t;const r=Object(a.J)(e,{postId:n});if(!r)return!1;const s=r.flair.some(e=>Object(o.p)(e.type)),i=Object(d.jb)(e,{post:r});return p(e,r.belongsTo,i,!s)}},"./src/reddit/selectors/postRequirements.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r=(e,t)=>{let{subredditName:n}=t;return e.postRequirements.api.fetch.pending[n.toLowerCase()]||!1},s=(e,t)=>{let{subredditName:n}=t;return e.postRequirements.models[n.toLowerCase()]}},"./src/reddit/selectors/posts.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return I})),n.d(t,"l",(function(){return v})),n.d(t,"C",(function(){return S})),n.d(t,"f",(function(){return T})),n.d(t,"O",(function(){return w})),n.d(t,"g",(function(){return D})),n.d(t,"J",(function(){return x})),n.d(t,"E",(function(){return P})),n.d(t,"D",(function(){return A})),n.d(t,"c",(function(){return R})),n.d(t,"e",(function(){return k})),n.d(t,"M",(function(){return N})),n.d(t,"H",(function(){return L})),n.d(t,"N",(function(){return M})),n.d(t,"T",(function(){return F})),n.d(t,"U",(function(){return B})),n.d(t,"b",(function(){return G})),n.d(t,"d",(function(){return q})),n.d(t,"j",(function(){return V})),n.d(t,"o",(function(){return H})),n.d(t,"A",(function(){return K})),n.d(t,"G",(function(){return W})),n.d(t,"I",(function(){return J})),n.d(t,"L",(function(){return Y})),n.d(t,"y",(function(){return z})),n.d(t,"R",(function(){return Q})),n.d(t,"K",(function(){return $})),n.d(t,"z",(function(){return Z})),n.d(t,"u",(function(){return ee})),n.d(t,"m",(function(){return te})),n.d(t,"w",(function(){return ne})),n.d(t,"S",(function(){return re})),n.d(t,"p",(function(){return se})),n.d(t,"q",(function(){return oe})),n.d(t,"v",(function(){return ie})),n.d(t,"t",(function(){return ce})),n.d(t,"n",(function(){return ae})),n.d(t,"s",(function(){return de})),n.d(t,"r",(function(){return ue})),n.d(t,"Q",(function(){return le})),n.d(t,"a",(function(){return be})),n.d(t,"B",(function(){return pe})),n.d(t,"P",(function(){return me})),n.d(t,"k",(function(){return fe})),n.d(t,"V",(function(){return Oe})),n.d(t,"F",(function(){return ge})),n.d(t,"h",(function(){return je})),n.d(t,"x",(function(){return ye}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/camelCase.js"),s=n.n(r),o=n("./node_modules/lodash/isEmpty.js"),i=n.n(o),c=n("./node_modules/lodash/uniqBy.js"),a=n.n(c),d=n("./node_modules/reselect/es/index.js"),u=n("./src/lib/isPinnedAdminPost/index.ts"),l=n("./src/lib/objectSelector/index.ts"),b=n("./src/lib/permalinkToOverlayLocation/index.ts"),p=n("./src/reddit/constants/posts.ts"),m=n("./src/reddit/models/Media/index.ts"),f=n("./src/reddit/models/Subreddit/index.ts"),O=n("./src/reddit/models/Widgets/index.ts"),g=(n("./src/reddit/models/Profile/mock.ts"),n("./src/reddit/models/Subreddit/mock.ts"),n("./src/reddit/helpers/flair.ts")),j=n("./src/reddit/models/Flair/index.ts"),h=n("./src/reddit/selectors/profile.ts"),y=n("./src/reddit/selectors/subreddit.ts"),_=n("./src/reddit/selectors/user.ts");const E=[],I=(e,t)=>{let{postId:n}=t;return e.posts.models[n].media&&(e.posts.models[n].media.type===m.n.EMBED||e.posts.models[n].media.type===m.n.IMAGE)},v=(e,t)=>{let{postId:n}=t;return e.posts.models[n].media&&e.posts.models[n].media.type===m.n.GIFVIDEO},S=Object(l.a)((e,t)=>{let{listingKey:n}=t;const r=e.posts.models;return C(e,{listingKey:n}).filter(e=>{const t=r[e];return t&&!t.hidden})}),T=Object(d.a)(e=>e.posts.models,e=>Object.keys(e).filter(t=>e[t].hidden)),C=Object(l.a)((e,t)=>{let{listingKey:n}=t;return[...e.listings.postOrder.ids[n]||[]]}),w=Object(l.a)((e,t)=>{let{listingKey:n}=t;return S(e,{listingKey:n}).map(t=>e.posts.models[t])}),D=(e,t)=>{let{postId:n}=t;return!!e.shortcuts.activePostId&&n===e.shortcuts.activePostId},x=(e,t)=>{let{postId:n}=t;return e.posts.models[n]},P=(e,t)=>{let{postId:n}=t;return x(e,{postId:n}).isLocked},A=(e,t)=>{let{postId:n}=t;return x(e,{postId:n}).isArchived},R=(e,t)=>{let{postId:n}=t;const r=x(e,{postId:n});if(r&&r.crosspostRootId)return x(e,{postId:r.crosspostRootId})||void 0},k=(e,t)=>{let{postId:n}=t;return R(e,{postId:n})||x(e,{postId:n})||void 0},N=e=>e.posts.models,L=e=>e.posts.models,M=Object(l.a)((e,t)=>{let{postIds:n}=t;const r=e.posts.models,s={};return n.map(e=>{s[e]=r[e]}),s}),U=Object(d.a)(L,S,(e,t)=>t.limit,(e,t,n)=>{let r=t;return n&&(r=t.slice(0,n)),r.reduce((t,n)=>(t[n]=e[n],t),{})}),F=Object(l.a)((e,t)=>{const n=U(e,t),r={},s=e.posts.models;return Object.keys(n).forEach(e=>{const{crosspostRootId:t}=n[e];t&&(r[t]=s[t])}),Object.assign({},n,r)}),B=(e,t)=>{let{postId:n}=t;const r=x(e,{postId:n});if(!r)return;const{belongsTo:s}=r;return s.type===p.a.PROFILE?e.profiles.models[s.id]||!1:e.subreddits.models[s.id]||!1},G=(e,t)=>{let{postId:n}=t;const r=B(e,{postId:n});if(r)return Object(f.d)(r)?Object(O.i)(r):Object(O.j)(r)},q=(e,t)=>{let{postId:n}=t;const r=x(e,{postId:n});return r&&r.crosspostRootId?B(e,{postId:r.crosspostRootId}):null},V=(e,t)=>{let{postId:n}=t;return e.posts.expanded[n]},H=(e,t)=>{let{postId:n}=t;return!!e.posts.metaMap[n]},K=(e,t)=>{let{postId:n}=t;const r=x(e,{postId:n});return r&&r.contestMode},W=(e,t)=>{let{postId:n}=t;if(!n)return"";const r=x(e,{postId:n});return r&&r.liveCommentsWebsocket?r.liveCommentsWebsocket:""},J=(e,t)=>{let{postId:n}=t;if(!n)return"";const r=x(e,{postId:n});return r?r.permalink:""},Y=(e,t)=>{let{postId:n}=t;if(!n)return null;const r=J(e,{postId:n});return Object(b.a)(r)},z=(e,t)=>{let{postId:n}=t;if(!n)return 0;return x(e,{postId:n}).numDuplicates||0},Q=Object(l.a)(e=>{return e.posts.recent.map(t=>e.posts.models[t]).filter(e=>!!e)}),X=e=>(t,n)=>{let{postId:r}=n;if(!r)return!1;const s=x(t,{postId:r});return!!s&&!!s[e]},$=(e,t)=>{let{postId:n}=t;if(!n)return null;const r=x(e,{postId:n});return r&&r.belongsTo.type!==p.a.PROFILE?Object(y.I)(e,{identifier:r.belongsTo}):null},Z=(e,t)=>t.postCategories,ee=X("saved"),te=X("hidden"),ne=X("isSponsored"),re=X("sendReplies"),se=X("isNSFW"),oe=X("isOriginalContent"),ie=X("isSpoiler"),ce=(e,t)=>{let{postId:n}=t;const r=x(e,{postId:n}),s=Object(h.m)(e,r.author),o=e.profiles.pinnedPosts.data[s];return!!o&&o.includes(n)},ae=(e,t,n)=>{const r=Object(h.m)(e,n),s=e.profiles.pinnedPosts.initialData[r];return!!s&&s.includes(t)},de=(e,t,n)=>{const r=Object(h.m)(e,n),s=e.profiles.pinnedPosts.data[r];return!!s&&s.includes(t)},ue=(e,t)=>ce(e,t)!==((e,t)=>{let{postId:n}=t;const r=x(e,{postId:n}),s=Object(h.m)(e,r.author),o=e.profiles.pinnedPosts.pending[s];return!!o&&o.includes(n)})(e,t),le=Object(l.a)((e,t)=>{const n=Object(h.m)(e,t.profileName);return e.profiles.pinnedPosts.data[n]||[]}),be=(e,t)=>{const n=Object(h.m)(e,t.profileName);return!!e.profiles.pinnedPosts.data[n]},pe=(e,t)=>{const n=x(e,{postId:t}),r=(new Date).getTime();return!!n&&(r-n.created)/1e3/60/60<24},me=Object(l.a)((e,t)=>{const n=S(e,t);return t.excludePinnedPosts?n.filter(t=>!ce(e,{postId:t})):n}),fe=(e,t)=>{let{profileName:n}=t;const r=le(e,{profileName:n});if(!r.length)return!1;const[s]=r,o=x(e,{postId:s});return!!o&&(!(n.toLowerCase()===o.author.toLowerCase())&&Object(u.a)(!0,o.distinguishType))},Oe=Object(l.a)((e,t)=>{const{models:n}=e.posts;return t.filter(e=>{const t=n[e];return!!t&&!t.isBlank&&!t.hidden})}),ge=(e,t,n,r)=>{const s=S(e,{listingKey:t});if(r){const t=Object(y.G)(e,n);if(t){if(!!e.subreddits.appliedFilters.meta[t]){const t=e.posts.metaMap;return s.filter(e=>!!t[e])}}}return s},je=(e,t)=>{const n=x(e,t);if(!n||n.belongsTo.type===p.a.SUBREDDIT)return!1;const r=B(e,t);return!!r&&Object(_.M)(e,r.name)},he=Object(d.a)((e,t)=>t.postId,S,(e,t)=>{const n=t.indexOf(e);return n>=0?t[n+1]:void 0}),ye=Object(d.a)(he,e=>e.posts.models,(e,t)=>e&&t[e]||void 0);Object(d.a)((e,t)=>w(e,t),(e,t)=>Object(y.u)(e,t),(e,t)=>{const n=(e=>{const t={};return e.map(e=>{e.flair&&e.flair.map(e=>{const n=Object(g.g)(e),r=s()(n),o=r&&t.hasOwnProperty(r);e.type!==j.f.Spoiler&&e.type!==j.f.Nsfw&&(o||(t[r]=Object.assign({},e,{id:r})))})}),i()(t)?E:Object.values(t)})(e),r=(e=>{const t=e.find(e=>"post-flair"===e.kind),n=t&&t.templates,r={};for(const o in n){const e=n[o],t=Object(g.g)(e),i=s()(t);i&&r.hasOwnProperty(i)||(r[i]=Object.assign({},e,{id:i}))}return i()(r)?E:Object.values(r)})(t);return a()([...n,...r],"id")})},"./src/reddit/selectors/profile.ts":function(e,t,n){"use strict";n.d(t,"p",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"f",(function(){return j})),n.d(t,"q",(function(){return h})),n.d(t,"h",(function(){return y})),n.d(t,"g",(function(){return _})),n.d(t,"k",(function(){return E})),n.d(t,"l",(function(){return I})),n.d(t,"n",(function(){return v})),n.d(t,"o",(function(){return S})),n.d(t,"r",(function(){return T})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return D}));var r=n("./src/lib/objectSelector/index.ts"),s=n("./src/reddit/i18n/utils.ts"),o=n("./src/reddit/models/Multireddit/index.ts"),i=n("./src/reddit/models/User/index.ts"),c=n("./src/reddit/selectors/subreddit.ts"),a=n("./src/reddit/selectors/user.ts"),d=n("./node_modules/reselect/es/index.js");const u=[],l=(e,t)=>{let{profileId:n}=t;return e.profiles.models[n]},b=(e,t)=>{let{profileName:n}=t;return e.profiles.models[f(e,n)]},p=(e,t)=>e.profiles.models[t],m=Object(d.a)(e=>e.profiles.models,e=>{const t={};for(const n in e){const r=e[n];t[r.name.toLowerCase()]=r.id}return t}),f=(e,t)=>m(e)[t?t.toLowerCase():""],O=(e,t)=>{let{profileName:n}=t;const{pending:r}=e.profiles.moderated.api;return!!(n&&n in r)&&r[n.toLowerCase()]},g=(e,t)=>{let{profileName:n}=t;const{pending:r}=e.profiles.multireddits.api;return!!(n&&n in r)&&r[n.toLowerCase()]},j=(e,t)=>{let{profileName:n}=t;const r=Object(a.i)(e);if(!r||!n)return!1;const s=Object(i.f)(r);return v(e,{profileName:s}).some(e=>e.name.toLowerCase()===n.toLowerCase())},h=(e,t)=>{let{profileName:n}=t;const r=b(e,{profileName:n});return r&&"".concat(r.title||r.name," (").concat(r.displayText,") - Reddit")||Object(s.c)("reddit: the front page of the internet")},y=(e,t)=>{let{profileName:n}=t;const r=f(e,n);return e.profiles.about[r]},_=(e,t)=>e.profiles.about[t],E=Object(r.a)((e,t)=>{let{profileName:n}=t;return void 0!==e.profiles.moderated.models[n?n.toLowerCase():""]}),I=(e,t)=>{let{profileName:n}=t;return void 0!==e.profiles.multireddits.pageInfo[n?n.toLowerCase():""]},v=Object(r.a)((e,t)=>{let{profileName:n}=t;const r=e.profiles.moderated.models[n?n.toLowerCase():""];if(!r)return u;const s=[];return r.forEach(t=>{Object(c.S)(e,{subredditId:t})?s.push(Object(c.S)(e,{subredditId:t})):l(e,{profileId:t})&&s.push(l(e,{profileId:t}))}),s}),S=Object(d.a)((e,t)=>{const n=Object(a.hb)(e,{userName:t.profileName});return n?e.multireddits.byUserId[n.id]:null},e=>e.multireddits.models,(e,t)=>e?e.map(e=>t[e]).filter(e=>e.visibility===o.e.Public):null),T=Object(d.a)(e=>e.trophies,e=>e.profiles.trophyCases,(e,t)=>t,(e,t,n)=>{const r=t[n];return r?r.map(t=>e[t]):[]}),C=(e,t)=>{let{extraCommentsId:n}=t;return e.profileOverviewPage.conversations.extraComments.models[n]},w=(e,t)=>{let{profileName:n}=t;return e.profiles.moderated.pageInfo[n]?e.profiles.moderated.pageInfo[n].hasNextPage:void 0},D=(e,t)=>{let{profileName:n}=t;return!!e.profiles.multireddits.pageInfo[n]&&e.profiles.multireddits.pageInfo[n].hasNextPage}},"./src/reddit/selectors/profileComments.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return b}));var r=n("./node_modules/lodash/set.js"),s=n.n(r),o=n("./src/lib/objectSelector/index.ts"),i=n("./src/reddit/selectors/comments.ts");const c=(e,t)=>{let{listingKey:n}=t;return e.profileCommentsPage.commentIds[n]||[]},a=Object(o.a)((e,t)=>{let{listingKey:n}=t;const r=Object(i.r)(e);return c(e,{listingKey:n}).reduce((e,t)=>s()(e,t,r[t].postId),{})}),d=(e,t)=>{let{listingKey:n}=t;return e.profileCommentsPage.api.error[n]},u=(e,t)=>{let{listingKey:n}=t;return e.profileCommentsPage.api.pending[n]},l=(e,t)=>{let{listingKey:n}=t;return e.profileCommentsPage.loadMore[n]},b=(e,t)=>{let{listingKey:n}=t;return e.profileCommentsPage.fetchedTokens[n]}},"./src/reddit/selectors/profileOverviewChronoItems.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/objectSelector/index.ts"),s=n("./src/reddit/models/Flair/index.ts"),o=n("./src/reddit/models/PostCreationForm/index.ts");s.f.Text,s.f.Spoiler,s.f.Text,s.f.Spoiler,o.h.RICH_TEXT,s.f.Text,s.f.Spoiler,o.h.RICH_TEXT,s.f.Text,s.f.Spoiler,o.h.RICH_TEXT;var i=n("./src/reddit/helpers/isComment.ts");n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return O}));const c=Object(r.a)((e,t)=>{let{listingKey:n}=t;const r=e.posts.models;return a(e,{listingKey:n}).filter(e=>{if(Object(i.a)(e))return!0;{const t=r[e];return t&&!t.hidden}})}),a=Object(r.a)((e,t)=>{let{listingKey:n}=t;const r=e.profileOverviewPage.chrono.ids[n];return r?[...r]:[]}),d=Object(r.a)((e,t)=>{let{listingKey:n}=t;return c(e,{listingKey:n}).reduce((t,n)=>{const r=Object(i.a)(n)?e.comments.models[n].postId:n;return t[n]=r,t},{})}),u=(Object(r.a)((e,t)=>{let{listingKey:n}=t;const r=e.posts.models;return u(e,{listingKey:n}).filter(e=>{const t=r[e];return t&&!t.hidden})}),Object(r.a)((e,t)=>{let{listingKey:n}=t;return c(e,{listingKey:n}).map(t=>Object(i.a)(t)?e.comments.models[t].postId:t)})),l=Object(r.a)((e,t)=>{let{listingKey:n}=t;const r=e.posts.models,s=u(e,{listingKey:n}),o={};return s.forEach(e=>o[e]=r[e]),o}),b=Object(r.a)((e,t)=>{let{listingKey:n}=t;const r=e.comments.models,s=c(e,{listingKey:n}),o={};return s.forEach(e=>!!Object(i.a)(e)&&(o[e]=r[e])),o}),p=(e,t)=>{let{listingKey:n}=t;return e.profileOverviewPage.chrono.api.error[n]},m=(e,t)=>{let{listingKey:n}=t;return e.profileOverviewPage.chrono.api.pending[n]},f=(e,t)=>{let{listingKey:n}=t;return e.profileOverviewPage.chrono.loadMore[n]},O=(e,t)=>{let{listingKey:n}=t;return e.profileOverviewPage.chrono.fetchedTokens[n]}},"./src/reddit/selectors/runTimeEnvVars.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));n("./src/lib/constants/index.ts");const r=e=>e.runTimeEnvVars.staging,s=e=>r(e),o=e=>e.runTimeEnvVars.startTimeInMillis},"./src/reddit/selectors/searchResults.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"i",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"g",(function(){return b}));n("./node_modules/core-js/modules/es6.regexp.search.js");const r=[],s=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.api.error[n]},o=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.api.pending[n]},i=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.identifiers[n]||[]},c=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.loadMore[n]},a=e=>{const t=e.search.searchQuery;if(!t)return r;const n=e.search.typeahead.idsByQuery[t.toLowerCase()];if(!n)return r;const s=[];return n.forEach(t=>{s.push(e.search.typeahead.models[t])}),s},d=e=>e.search.typeahead.idsByQuery,u=e=>{const t=e.listings.activeKey;return e.search.viewTreatment[t]},l=e=>{const t=e.listings.activeKey;if(t)return e.searchDiscoveryUnits.headerContent[t]},b=(e,t)=>t?e.search.relatedQueries[t.toLowerCase()]:r},"./src/reddit/selectors/seo/linksModule.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/selectors/user.ts");const o=e=>!Object(s.J)(e)&&e.seo.linksModule.frontpage||null,i=e=>{const t=e.split("/");if("r"===t[1])return t[2]},c=Object(r.a)(o,e=>e?e.map(e=>Object.assign({},e,{links:e.links.map(e=>Object.assign({},e,{title:i(e.url)})).filter(e=>e.title)})):null),a=Object(r.a)(c,e=>e?e.map(e=>Object.assign({},e,{links:e.links.filter(e=>e.visible)})):null)},"./src/reddit/selectors/structuredStyles.ts":function(e,t,n){"use strict";n.d(t,"j",(function(){return l})),n.d(t,"l",(function(){return b})),n.d(t,"p",(function(){return p})),n.d(t,"q",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"h",(function(){return h})),n.d(t,"g",(function(){return y})),n.d(t,"d",(function(){return _})),n.d(t,"o",(function(){return E})),n.d(t,"f",(function(){return I})),n.d(t,"n",(function(){return v})),n.d(t,"b",(function(){return S})),n.d(t,"e",(function(){return T})),n.d(t,"i",(function(){return C})),n.d(t,"k",(function(){return w})),n.d(t,"a",(function(){return D})),n.d(t,"m",(function(){return x}));var r=n("./node_modules/lodash/isEqual.js"),s=n.n(r),o=n("./node_modules/reselect/es/index.js"),i=n("./src/lib/objectSelector/index.ts"),c=n("./src/reddit/models/StructuredStyles/index.ts"),a=n("./src/reddit/selectors/platform.ts"),d=n("./src/reddit/selectors/subreddit.ts"),u=n("./src/reddit/selectors/user.ts");const l=e=>e.structuredStyles.isEditing,b=(e,t)=>e.structuredStyles.models[t.subredditId],p=Object(o.a)(b,e=>Object(c.g)(e)),m=e=>e.structuredStyles.draft,f={},O=Object(i.a)((e,t)=>{const n=((e,t)=>{const n=b(e,t);if(n)return{url:n.communityIcon,color:n.primaryColor}})(e,t);if(n&&n.url)return n;const r=n?n.color:void 0;return((e,t)=>e&&e.icon?{url:e.icon.url,color:t}:f)(Object(d.S)(e,t),r)}),g=(e,t)=>{const n=Object(d.G)(e,t.subredditName);return n?O(e,{subredditId:n}):f},j=e=>{const t=Object(a.d)(e);return t?O(e,{subredditId:t}):f},h=(e,t)=>{const n=e.structuredStyles.imagePreviews[t.name];if(n&&n in e.imageUploads)return e.imageUploads[n]},y=Object(i.a)(e=>{const t=e.structuredStyles.imagePreviews,n={};for(const r in t){const t=h(e,{name:r});t&&(n[r]=t.url)}return n}),_=(e,t)=>m(e)[t.name],E=e=>e.structuredStyles.models,I=e=>e.structuredStyles.flairTemplate.models,v=(e,t)=>e.structuredStyles.models[t],S=(e,t)=>{let{subredditId:n}=t;const r=e.structuredStyles.models[n];return r&&r.communityIcon?r.communityIcon:null},T=e=>e.structuredStyles.exportStyles.pending,C=e=>e.structuredStyles.isBladeEditorDirty,w=(e,t)=>{let{subredditId:n}=t;const r=e.subreddits.about[n],s=r&&r.quarantinePermissions;return!!s&&!s.styles},D=Object(o.a)(l,C,m,(e,t)=>t.subredditId&&b(e,{subredditId:t.subredditId}),(e,t,n,r)=>!(!e||!n)&&(t||!s()(n,r))),x=(e,t)=>{if(Object(u.fb)(e))return!0;if(t){const n=t.subredditId||t.subredditName&&Object(d.G)(e,t.subredditName);if(n&&Object(u.eb)(e,{subredditId:n}))return!0}return!1}},"./src/reddit/selectors/subreddit.ts":function(e,t,n){"use strict";n.d(t,"Z",(function(){return y})),n.d(t,"b",(function(){return _})),n.d(t,"d",(function(){return I})),n.d(t,"c",(function(){return v})),n.d(t,"I",(function(){return S})),n.d(t,"M",(function(){return T})),n.d(t,"L",(function(){return C})),n.d(t,"Y",(function(){return w})),n.d(t,"S",(function(){return D})),n.d(t,"X",(function(){return x})),n.d(t,"ab",(function(){return P})),n.d(t,"cb",(function(){return A})),n.d(t,"o",(function(){return k})),n.d(t,"h",(function(){return N})),n.d(t,"t",(function(){return L})),n.d(t,"bb",(function(){return F})),n.d(t,"B",(function(){return B})),n.d(t,"a",(function(){return G})),n.d(t,"G",(function(){return q})),n.d(t,"H",(function(){return H})),n.d(t,"j",(function(){return K})),n.d(t,"y",(function(){return W})),n.d(t,"s",(function(){return J})),n.d(t,"J",(function(){return Y})),n.d(t,"K",(function(){return z})),n.d(t,"V",(function(){return Q})),n.d(t,"R",(function(){return X})),n.d(t,"O",(function(){return $})),n.d(t,"P",(function(){return Z})),n.d(t,"Q",(function(){return ee})),n.d(t,"F",(function(){return te})),n.d(t,"A",(function(){return ne})),n.d(t,"D",(function(){return re})),n.d(t,"C",(function(){return se})),n.d(t,"u",(function(){return oe})),n.d(t,"m",(function(){return ie})),n.d(t,"e",(function(){return ce})),n.d(t,"g",(function(){return ae})),n.d(t,"l",(function(){return de})),n.d(t,"i",(function(){return ue})),n.d(t,"n",(function(){return le})),n.d(t,"k",(function(){return be})),n.d(t,"z",(function(){return pe})),n.d(t,"f",(function(){return me})),n.d(t,"U",(function(){return fe})),n.d(t,"T",(function(){return Oe})),n.d(t,"E",(function(){return ge})),n.d(t,"W",(function(){return je})),n.d(t,"w",(function(){return he})),n.d(t,"v",(function(){return ye})),n.d(t,"x",(function(){return _e})),n.d(t,"N",(function(){return Ee})),n.d(t,"r",(function(){return Ie})),n.d(t,"p",(function(){return ve})),n.d(t,"q",(function(){return Te}));n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/reselect/es/index.js"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/isFakeSubreddit/index.ts"),i=n("./src/lib/objectSelector/index.ts"),c=n("./src/reddit/constants/posts.ts"),a=n("./src/reddit/helpers/isPost.ts"),d=n("./src/reddit/i18n/utils.ts"),u=(n("./src/reddit/models/Profile/mock.ts"),n("./src/reddit/models/Subreddit/index.ts")),l=(n("./src/reddit/models/Subreddit/mock.ts"),n("./src/reddit/models/SubredditRestrictions/index.ts")),b=n("./src/reddit/models/Widgets/index.ts"),p=n("./src/reddit/selectors/comments.ts"),m=n("./src/reddit/selectors/moderatorPermissions.ts"),f=n("./src/reddit/selectors/platform.ts"),O=n("./src/reddit/selectors/posts.ts"),g=n("./src/reddit/selectors/profile.ts"),j=n("./src/reddit/selectors/user.ts");const h=[],y=Object(i.a)((e,t)=>{let{subredditIds:n}=t;if(0===n.length)return h;const r=[];return n.forEach(t=>{const n=e.subreddits.models[t];n&&r.push(n)}),r}),_=(e,t)=>{let{profileName:n}=t;if(!n)return null;const r=Object(g.j)(e,n);return r?r.url:"/user/".concat(n,"/")},E=(e,t)=>{const n=t.toLowerCase();return e?e.url:Object(o.a)(n)?"/r/"+n+"/":null},I=(e,t)=>{let{subredditName:n}=t;if(!n)return null;const r=q(e,n),s=D(e,{subredditId:r});return E(s,n)},v=(e,t)=>{const n=D(e,{subredditId:t});if(n)return E(n,n.name)||"";const r=Object(g.p)(e,{profileId:t});return r?r.url:""},S=(e,t)=>{let{identifier:n}=t;return n.type===c.a.PROFILE?e.profiles.about[n.id]||{}:e.subreddits.about[n.id]},T=(e,t)=>{let{identifier:n}=t;return n.type===c.a.PROFILE?e.profiles.models[n.id]||!1:e.subreddits.models[n.id]||!1},C=(e,t)=>{let{identifier:n}=t;return n.type===c.a.PROFILE?Object(g.m)(e,n.name)||null:q(e,n.name)||null},w=e=>e.subreddits.models,D=(e,t)=>{let{subredditId:n}=t;return e.subreddits.models[n]||!1},x=(e,t)=>{const n=D(e,t);if(n)return n.type},P=e=>e.subreddits.trending,A=(e,t)=>{let{identifier:n}=t;const r=C(e,{identifier:n});if(!r)return!1;const s=S(e,{identifier:{id:r,type:n.type}});return s&&Object(j.J)(e)?!!s.userIsSubscriber:n.type===c.a.SUBREDDIT?e.subscriptions.subredditOrder.indexOf(r)>-1:e.subscriptions.profileOrder.indexOf(r)>-1},R=(e,t)=>{let{subredditName:n,action:r}=t;const s=W(e,{subredditName:n});return!!(s&&r&&(Object(m.g)(e,{subredditId:q(e,n)})||s.userIsContributor||r===l.e.Post&&!1===s.restrictPosting||r===l.e.Comment&&!1===s.restrictCommenting))},k=e=>{const t=Object(f.f)(e);if(t&&"restricted"===t.type){const n=pe(e)[t.id];if(n)return n.restrictCommenting&&n.restrictPosting?l.e.PostAndComment:n.restrictCommenting?l.e.Comment:l.e.Post}return l.e.View},N=(e,t)=>{const n=Object(f.f)(e),r=Object(j.J)(e),o=3*s.w,i=Date.now()-o;if(n&&r&&"restricted"===n.type){if(R(e,{subredditName:n.name,action:t}))return!1;const r=Object(j.lb)(e).subreddit[n.id];if((r?r.isContributorRequestTimestamp:0)>i)return!0}return!1},L=(e,t)=>{const n=Object(f.f)(e);if(Object(j.J)(e)&&n&&"restricted"===n.type){const r=!R(e,{subredditName:n.name,action:t}),s=!N(e);if(r&&s)return!0}return!1},M=Object(r.a)(e=>e.subreddits.models,e=>{const t={};for(const n in e){const r=e[n];r.type!==u.b.User&&(t[r.name.toLowerCase()]=r.id)}return t}),U=Object(r.a)(e=>e.subreddits.unavailableModels,e=>{const t={};for(const n in e){const r=e[n];t[r.name.toLowerCase()]=r.id}return t}),F=(e,t)=>{let{subredditName:n}=t;return e.subreddits.unavailableModels[((e,t)=>U(e)[t?t.toLowerCase():""])(e,n)]},B=(e,t)=>{let{subredditName:n}=t;return e.subreddits.models[q(e,n)]},G=(e,t)=>{let{subredditName:n}=t;return B(e,{subredditName:n})||F(e,{subredditName:n})},q=(e,t)=>M(e)[t?t.toLowerCase():""],V=Object(r.a)(e=>e.subreddits.communityInfo,e=>{const t={};for(const n in e){const r=e[n];r.id&&(t[r.name.toLowerCase()]=r.id)}return t}),H=(e,t)=>V(e)[t?t.toLowerCase():""],K=e=>{const t=Object(f.e)(e);return t?W(e,{subredditName:t}):null},W=(e,t)=>{let{subredditName:n}=t;return e.subreddits.about[q(e,n)]},J=(e,t)=>{const n=Object(g.j)(e,{profileName:t});return n?e.subreddits.about[n.id]:void 0},Y=(e,t)=>{let{commentId:n}=t;const r=Object(p.n)(e,{commentId:n});if(!r)return;const s=r.subredditId;return e.profiles.models[s]||e.subreddits.models[s]},z=(e,t)=>{let{thingId:n}=t;if(Object(a.a)(n)){const t=Object(O.J)(e,{postId:n});if(!t)return;return T(e,{identifier:t.belongsTo})}return Y(e,{commentId:n})},Q=(e,t)=>{let{subredditName:n}=t;const r=B(e,{subredditName:n});return r&&r.title||Object(d.c)("reddit: the front page of the internet")},X=(e,t)=>{let{subredditId:n}=t;return e.subreddits.rules[n]?e.subreddits.rules[n].rules:h},$=Object(i.a)((e,t)=>{let{subredditId:n}=t;return e.subreddits.rules[n]?e.subreddits.rules[n].rules.map(e=>e.shortName):h}),Z=(e,t)=>{let{subredditId:n}=t;return!!e.subreddits.rules[n]},ee=e=>e.subreddits.api.rules,te=(e,t)=>{let{subredditId:n}=t;return!!e.subreddits.models[n]&&!!e.subreddits.models[n].freeFormReports},ne=(e,t)=>{let{subredditName:n}=t;const r=W(e,{subredditName:n});return r&&r.allowedPostTypes},re=(e,t)=>{let{subredditName:n}=t;const r=W(e,{subredditName:n});return r&&r.coins},se=(e,t)=>{let{subredditId:n}=t;const r=e.subreddits.about[n];return r&&r.coins},oe=(e,t)=>{let{subredditName:n}=t;const r=q(e,n),s=e.widgets.sidebar[r],o=[],i=e.widgets.moderatorIds[r],c=e.widgets.models[i];let a=!1;return s&&s.forEach((function(t){e.widgets.models[t]&&(o.push(e.widgets.models[t]),t===i&&(a=!0))})),c&&!a&&o.push(c),o},ie=(e,t)=>{return D(e,t).name===s.Eb},ce=(Object(i.a)(e=>{const{order:t}=e.subreddits.moderated,n=e.subreddits.models;return t&&t.length?t.map(e=>n[e]):[]}),(e,t)=>{let{subredditId:n}=t;return!!e.subredditChannels.api.whitelist[n]}),ae=Object(i.a)((e,t)=>y(e,t).map(e=>Object(b.j)(e))),de=e=>e.subreddits.api.create.pending,ue=e=>e.subreddits.api.create.error.apiError,le=(e,t)=>{let{subredditId:n}=t;return!(!e.subreddits.about[n]||!e.subreddits.about[n].usingNewModmail)},be=(e,t)=>{let{postId:n}=t;const r=e.posts.models[n].belongsTo.id;return!!e.subreddits.rules[r]},pe=e=>e.subreddits.about,me=Object(i.a)(Object(r.a)(y,pe,(e,t)=>{const n=[];return e.forEach(e=>{e.type===u.b.Public&&n.push(Object(b.j)(e,t[e.id]))}),n})),fe=(e,t)=>e.subreddits.settings[t],Oe=e=>e.subreddits.api.settings.pending,ge=(e,t)=>{let{subredditId:n}=t,r=e.user.prefs.sort;if(e.user.prefs.rememberCommunitySort){const t=e.user.prefs.subreddit[n];t&&t.sort&&(r=t.sort)}return r},je=(e,t)=>{let{subredditName:n}=t;return e.subreddits.topContent[n.toLowerCase()]},he=(e,t)=>e.subreddits.api.similar.pending[t.key]||!1,ye=(e,t)=>e.subreddits.similar[t.key]||h,_e=(e,t)=>{const n=ye(e,t);return y(e,{subredditIds:n})},Ee=(e,t)=>e.subreddits.rankings[t],Ie=(e,t)=>e.subreddits.api.onboarding.pending[t.key]||!1,ve=(e,t)=>e.subreddits.onboarding[t.key]||h,Se=Object(r.a)(ve,e=>e.subreddits.models,(e,t)=>e.map(e=>t[e]).filter(Boolean)),Te=Object(r.a)(Se,e=>e.map(e=>e.name))},"./src/reddit/selectors/subredditAutocomplete.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./node_modules/lodash/isNil.js"),s=n.n(r),o=n("./node_modules/reselect/es/index.js"),i=n("./src/reddit/helpers/name/index.ts"),c=n("./src/reddit/models/Subreddit/index.ts"),a=n("./src/reddit/models/SubredditAutocomplete/index.ts"),d=n("./src/reddit/models/User/index.ts"),u=n("./src/reddit/selectors/subscriptions.ts"),l=n("./src/reddit/selectors/user.ts");n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return v})),n.d(t,"e",(function(){return S}));var b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const p=(e,t)=>t.substring.toLowerCase(),m=(e,t)=>{let{substring:n}=t;return Object(i.e)(n)?"":Object(i.f)(n)},f=(e,t)=>{for(let n=e.length;n>0;n--)if(!1===t(e.slice(0,n)))return},O=Object(o.a)(m,e=>e.subredditAutocomplete.models,(e,t)=>{let n=null;return f(e,e=>{if(t.hasOwnProperty(e))return n=t[e],!1}),n}),g=Object(o.a)(m,O,(e,t)=>!e||!s()(t)&&0===t.subreddits.length),j=Object(o.a)(u.f,l.z,(e,t)=>e.map(e=>Object(a.c)(e,t))),h=Object(o.a)(m,O,g,e=>e.subredditAutocomplete.api.pending,(e,t,n,r)=>{if(n)return!1;let s=!1;return f(e,e=>r.hasOwnProperty(e)?(s=r[e],!1):(!t||t.key!==e)&&void 0),s}),y=Object(o.a)(m,u.f,(e,t)=>t.filter(t=>-1!==t.name.toLowerCase().indexOf(e))),_=Object(o.a)(p,(e,t)=>t.includeUserProfile,l.i,(e,t,n)=>{if(!t||s()(n)||Object(i.d)(e))return null;const r=Object(i.f)(Object(d.f)(n)),o=Object(i.f)(e);return r.includes(o)?Object(a.d)(n):null}),E=Object(o.a)(p,(e,t)=>t.allowCrosspostableOnly,_,O,y,e=>e.subreddits.crosspostable.ids,l.z,(e,t,n,r,s,o,c)=>{const d=[];if(n&&d.push(n),Object(i.e)(e))return d;const u={};return s.forEach(e=>{const n=Object(a.c)(e,c);t&&!o[e.id]&&(n.disabled=!0),u[n.name]=n,d.push(n)}),r&&r.subreddits.forEach(e=>{const{communityIcon:n,icon:r,isCrosspostDestination:s,name:o}=e,i=b(e,["communityIcon","icon","isCrosspostDestination","name"]),c=n||r,l=t&&!1===s;u[o]||d.push(Object.assign({},i,{disabled:l,iconUrl:c,name:o,type:a.a.OTHER_SUBREDDIT}))}),d}),I=Object(o.a)(p,l.h,(e,t)=>{const n=Object(i.f)(e);return t.filter(e=>{let{name:t}=e;return t.toLowerCase().includes(n)})}),v=(Object(o.a)(p,_,I,(e,t)=>t.partnerConnectionSafeOnly,l.z,(e,t,n,r,s)=>{const o=[];if(t&&o.push(t),Object(i.e)(e))return o;let d=n;return r&&(d=n.filter(e=>(e.type===c.b.Public||e.type===c.b.Restricted)&&!e.isQuarantined&&!e.isNSFW&&e.subscribers<2e5)),o.push(...d.map(e=>Object(a.b)(e,a.a.MODERATED_SUBREDDIT,s))),o}),Object(o.c)({suggestedItems:E,fallbackItems:j,isAllDataRetrieved:g,isPending:h})),S=Object(o.a)(O,y,(e,t)=>t.multireddit.subredditIds||[],l.z,(e,t,n,r)=>{const s=[],o={};return t.forEach(e=>{const t=Object(a.c)(e,r);o[t.name]=t,t.id&&n.indexOf(t.id)<0&&s.push(t)}),e&&e.subreddits.forEach(e=>{const{communityIcon:t,icon:r,name:i}=e,c=b(e,["communityIcon","icon","name"]),d=t||r;!o[i]&&n.indexOf(e.id)<0&&s.push(Object.assign({},c,{iconUrl:d,name:i,type:a.a.OTHER_SUBREDDIT}))}),s})},"./src/reddit/selectors/subredditChannel.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/values.js"),s=n.n(r),o=n("./src/reddit/selectors/user.ts");const i=(e,t)=>{let{subredditId:n}=t;const r=e.subredditChannels.models;return Object.keys(r).map(e=>r[e]).filter(e=>e.subredditId===n)},c=(e,t)=>{let{subredditId:n}=t;return!(!1!==e.subredditChannels.api.pending[n]||!1!==e.subredditChannels.api.error[n])},a=(e,t)=>{let{subredditId:n}=t;return void 0===e.subredditChannels.api.pending[n]&&!c(e,{subredditId:n})&&Object(o.J)(e)},d=e=>{const{models:t}=e.subredditChannels;return Object.keys(t).map(e=>t[e]&&t[e].name)},u=(e,t)=>{const n=s()(e.subredditChannels.models);return n.length&&n.find(e=>{let{channelId:n}=e;return n===t})||void 0},l=e=>{const t=e.subredditChannels.selected;if(t){return s()(e.subredditChannels.models).find(e=>e.channelId===t)}}},"./src/reddit/selectors/subredditDifficulty.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t)=>{let{subredditId:n}=t;return e.subredditDifficulty[n]}},"./src/reddit/selectors/subredditLeaderboard.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return d}));var r=n("./src/reddit/constants/subredditLeaderboard.ts"),s=n("./src/reddit/selectors/category.ts"),o=n("./src/reddit/selectors/experiments/upAndComingLeaderboard.ts");const i=(e,t)=>e.subreddits.rankingsPageInfo&&e.subreddits.rankingsPageInfo[t]&&e.subreddits.rankingsPageInfo[t].hasPreviousPage,c=(e,t)=>e.subreddits.rankingsPageInfo&&e.subreddits.rankingsPageInfo[t]&&e.subreddits.rankingsPageInfo[t].hasNextPage,a=(e,t,n)=>t?r.g:n?r.l:e||r.a,d=(e,t)=>{const n=e.subreddits.rankings,i=t&&Object(s.i)(e,{categoryName:t}),c=n[a(i&&i.id||null,t===r.h,Object(o.b)(e)&&t===r.m)];return!(!c||!c.length)}},"./src/reddit/selectors/subredditModeration.ts":function(e,t,n){"use strict";n.d(t,"m",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"w",(function(){return f})),n.d(t,"o",(function(){return O})),n.d(t,"r",(function(){return g})),n.d(t,"B",(function(){return j})),n.d(t,"z",(function(){return h})),n.d(t,"A",(function(){return y})),n.d(t,"u",(function(){return _})),n.d(t,"x",(function(){return E})),n.d(t,"y",(function(){return I})),n.d(t,"p",(function(){return v})),n.d(t,"q",(function(){return S})),n.d(t,"v",(function(){return T})),n.d(t,"n",(function(){return C})),n.d(t,"s",(function(){return w})),n.d(t,"H",(function(){return D})),n.d(t,"D",(function(){return x})),n.d(t,"F",(function(){return P})),n.d(t,"G",(function(){return A})),n.d(t,"C",(function(){return R})),n.d(t,"E",(function(){return k})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return L})),n.d(t,"e",(function(){return M})),n.d(t,"b",(function(){return U})),n.d(t,"a",(function(){return F})),n.d(t,"t",(function(){return B}));n("./node_modules/core-js/modules/es6.regexp.search.js");var r=n("./src/lib/objectSelector/index.ts"),s=n("./src/reddit/models/SubredditModeration/index.ts"),o=n("./src/reddit/selectors/user.ts");const i=[],c=(e,t)=>{let{subredditId:n}=t;return e.banned.models[n]},a=(e,t)=>{let{subredditId:n,username:r}=t;const s=Object(o.hb)(e,{userName:r});if(!s)return;const i=c(e,{subredditId:n});return i?i[s.id]:void 0},d=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=e.banned.userOrder[n];return r?r.map(t=>e.banned.models[n][t]):i}),u=(e,t)=>{let{subredditId:n}=t;const r=Object(s.d)(n);return e.banned.api.pending[r]},l=(e,t)=>{let{subredditId:n}=t;return e.banned.loadMore[n]},b=e=>e.banned.search.api.pending,p=e=>e.banned.search.result,m=e=>e.banned.inContext,f=Object(r.a)((e,t)=>{let{subredditId:n,before:r,after:o}=t;const i=Object(s.d)(n,o,r),c=e.moderators.userOrder.data[n]&&e.moderators.userOrder.data[n][i];return c?c.map(t=>e.moderators.models[n][t]):[]}),O=(e,t)=>{let{subredditId:n,beforeEditable:r,afterEditable:o}=t;const i=Object(s.d)(n,o,r),c=e.moderators.editableUserOrder.data[n]&&e.moderators.editableUserOrder.data[n][i];return c?c.map(t=>e.moderators.editableModerators[n][t]):[]},g=(e,t)=>{let{subredditId:n}=t;return e.moderators.editableModerators[n]||null},j=(e,t)=>{let{subredditId:n}=t;return e.moderators.models[n]||null},h=e=>e.moderators.search.api.pending,y=e=>e.moderators.search.result,_=(e,t)=>{let{subredditId:n}=t;return e.moderators.invitePending[n]},E=(e,t)=>{let{subredditId:n}=t;return e.moderators.loadMoreModerators[n]&&e.moderators.loadMoreModerators[n].after},I=(e,t)=>{let{subredditId:n}=t;return e.moderators.loadMoreModerators[n]&&e.moderators.loadMoreModerators[n].before},v=(e,t)=>{let{subredditId:n}=t;return e.moderators.loadMoreEditableModerators[n]&&e.moderators.loadMoreEditableModerators[n].after},S=(e,t)=>{let{subredditId:n}=t;return e.moderators.loadMoreEditableModerators[n]&&e.moderators.loadMoreEditableModerators[n].before},T=(e,t)=>{const n=Object(s.d)(t.subredditId,t.after,t.before);return e.moderators.userOrder.api.pending[n]},C=(e,t)=>{const n=Object(s.d)(t.subredditId,t.afterEditable,t.beforeEditable);return e.moderators.editableUserOrder.api.pending[n]},w=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=e.moderators.invitedModerators.userOrder[n];return r?r.map(t=>e.moderators.invitedModerators.models[n][t]):i}),D=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=e.muted.userOrder[n];return r?r.map(t=>e.muted.models[n][t]):i}),x=(e,t)=>{let{subredditId:n}=t;const r=Object(s.d)(n);return e.muted.api.pending[r]},P=e=>e.muted.search.api.pending,A=e=>e.muted.search.result,R=e=>e.muted.inContext,k=(e,t)=>{let{subredditId:n}=t;return e.muted.loadMore[n]},N=e=>e.approvedSubmitters.search.api.pending,L=e=>e.approvedSubmitters.search.result,M=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=e.approvedSubmitters.userOrder[n];return r?r.map(t=>e.approvedSubmitters.models[n][t]):i}),U=(e,t)=>{let{subredditId:n}=t;return e.approvedSubmitters.loadMore[n]},F=(e,t)=>{let{subredditId:n}=t;const r=Object(s.d)(n);return e.approvedSubmitters.api.pending[r]},B=e=>!!Object(o.J)(e)&&e.modModeEnabled},"./src/reddit/selectors/subredditSettings.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/selectors/user.ts");const o=Object(r.a)(s.i,e=>e.subreddits.settings,(e,t)=>{if(e&&e.profileId)return t[e.profileId]})},"./src/reddit/selectors/subscriptions.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"h",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return p}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/posts.ts"),o=n("./src/lib/objectSelector/index.ts");const i=e=>e.subscriptions.api.fetched,c=e=>e.subscriptions.subredditOrder,a=Object(o.a)(e=>{const{profileOrder:t,subredditOrder:n}=e.subscriptions;return[...n,...t]}),d=(Object(o.a)(e=>{const{profileOrder:t,subredditOrder:n}=e.subscriptions,r=t?t.map(e=>({id:e,type:s.a.PROFILE})):[];return(n?n.map(e=>({id:e,type:s.a.SUBREDDIT})):[]).concat(r)}),Object(o.a)(Object(r.a)(e=>e.subreddits.models,e=>e.subscriptions.subredditOrder,(e,t)=>{if(!t||!t.length)return[];const n=[];for(const r of t)e[r]&&n.push(e[r]);return n}))),u=Object(o.a)(Object(r.a)(e=>e.profiles.models,e=>e.subscriptions.profileOrder,(e,t)=>{if(!t||!t.length)return[];return t.map(t=>e[t])})),l=e=>e.subscriptions.favoriteSubredditOrder,b=(Object(o.a)(e=>{const{favoriteSubredditOrder:t,favoriteProfileOrder:n}=e.subscriptions,r=e.subreddits.models,s=e.profiles.models,o=t?t.map(e=>r[e]):[],i=n?n.map(e=>s[e]):[];return o.concat(i)}),Object(r.a)(e=>e.subscriptions.profileOrder,e=>e.subscriptions.subredditOrder,(e,t)=>e.length+t.length)),p=Object(r.a)(d,e=>e.reduce((e,t)=>(e[t.id]=t.name,e),{}))},"./src/reddit/selectors/tags.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"h",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"o",(function(){return f})),n.d(t,"w",(function(){return O})),n.d(t,"x",(function(){return g})),n.d(t,"k",(function(){return j})),n.d(t,"l",(function(){return h})),n.d(t,"n",(function(){return _})),n.d(t,"r",(function(){return E})),n.d(t,"s",(function(){return I})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return x})),n.d(t,"c",(function(){return P})),n.d(t,"p",(function(){return A})),n.d(t,"m",(function(){return R})),n.d(t,"v",(function(){return k})),n.d(t,"u",(function(){return N})),n.d(t,"t",(function(){return L})),n.d(t,"a",(function(){return M})),n.d(t,"q",(function(){return U})),n.d(t,"y",(function(){return F})),n.d(t,"z",(function(){return B}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/some.js"),s=n.n(r),o=n("./node_modules/lodash/values.js"),i=n.n(o),c=n("./src/reddit/helpers/tags/index.ts"),a=n("./src/reddit/models/Tags/index.ts");const d=e=>i()((e=>{const t=u(e)?D(e):C(e),n=l(e),r=t.reduce((e,t)=>(e[t.id]=Object(a.e)(t),e),{});return n.reduce((e,t)=>(t.id&&e[t.id]&&(e[t.id].selected=!0),e),r)})(e)).filter(e=>!e.selected),u=e=>e.tags.creation.tagInput||"",l=e=>e.tags.creation.selectedOptions||[],b=e=>{const t=[];for(let n=0;n<l(e).length;n++)l(e)[n].id&&t.push(l(e)[n].id);return t||[]},p=e=>(l(e)||[]).filter(e=>!!e.displayText).map(e=>e.displayText),m=e=>{const t=[];for(let n=0;n<l(e).length;n++)l(e)[n].id||t.push(l(e)[n].displayText);return t||[]},f=e=>Object.keys(e.tags.models.globalSubredditTags).length>0,O=e=>e.tags.api.create.error||e.tags.api.deleteTag.error||e.tags.api.fetch.error||e.tags.api.update.error,g=e=>e.tags.api.create.pending||e.tags.api.deleteTag.pending||e.tags.api.fetch.pending||e.tags.api.update.pending,j=(e,t)=>{let{subredditId:n}=t;return e.tags.selected.inputByItemId[n]||""},h=(e,t)=>{let{subredditId:n}=t;return e.tags.selected.suggestedInputByItemId[n]||""},y=[],_=(e,t)=>{let{subredditId:n}=t;return s()(E(e,{subredditId:n}),e=>!!e.action)||s()(v(e,{subredditId:n}),e=>!!e.action)},E=(e,t)=>{let{subredditId:n}=t;return e.tags.selected.selectedOptions[n]||y},I=(e,t)=>{let{subredditId:n}=t;return e.tags.selected.selectedSuggestedOptions[n]||y},v=(e,t)=>{let{subredditId:n}=t;return e.tags.selected.deselectedOptions[n]||y},S={},T={},C=e=>e.tags.availableGlobalTagOrder.recommendedGlobal.map(t=>e.tags.models.globalSubredditTags[t]),w=e=>e.tags.models.globalSubredditTags,D=e=>e.tags.availableGlobalTagOrder.global.map(t=>e.tags.models.globalSubredditTags[t]),x=(e,t)=>{let{subredditId:n}=t;return e.tags.models.subredditScopedTags[n]||T},P=(e,t)=>{const n=i()(t);for(let r=0;r<n.length;r++)if(n[r].text.toLowerCase().trim()===e.toLowerCase().trim())return n[r];return null},A=(e,t)=>{let{itemId:n}=t;return e.tags.models.itemTags[n]||S},R=(e,t)=>{let{itemId:n}=t;return!!e.tags.models.itemTags[n]},k=(e,t)=>{let{itemId:n}=t;return e.tags.models.suggestedItemTags[n]||S},N=(e,t)=>{let{itemId:n}=t;return i()(k(e,{itemId:n})).filter(e=>e.isRelevant).map(e=>Object(a.d)(e,!0))},L=(e,t)=>{let{itemId:n}=t;return e.tags.models.sortedItemTags[n]||[]},M=(e,t)=>{let{thingId:n,suggested:r=!1}=t;return i()(((e,t)=>{let{thingId:n,suggested:r=!1}=t;const s=(r?h(e,{subredditId:n}):j(e,{subredditId:n}))?D(e):C(e),o=r?I(e,{subredditId:n}):E(e,{subredditId:n}),i=s.reduce((e,t)=>(e[t.id]=Object(a.e)(t),e),{});return o.reduce((e,t)=>(t.id&&e[t.id]&&(e[t.id].selected=!0),e),i)})(e,{thingId:n,suggested:r})).filter(e=>!e.selected)},U=(e,t)=>{let{subredditId:n}=t;return E(e,{subredditId:n}).concat(v(e,{subredditId:n}))},F=(e,t)=>{let{subredditId:n}=t;return E(e,{subredditId:n}).filter(c.b).map(e=>({text:e.displayText,type:a.c.CLASSIFICATION}))},B=(e,t)=>{let{subredditId:n}=t;const r=x(e,{subredditId:n}),s=k(e,{itemId:n});return v(e,{subredditId:n}).filter(e=>!!e.id&&!!r[e.id]&&!s[e.id]).map(e=>({tagId:e.id}))}},"./src/reddit/selectors/telemetry.ts":function(e,t,n){"use strict";n.r(t);n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./node_modules/js-cookie/src/js.cookie.js"),s=n.n(r),o=n("./node_modules/lodash/trimStart.js"),i=n.n(o),c=n("./node_modules/lodash/values.js"),a=n.n(c),d=n("./node_modules/reselect/es/index.js"),u=n("./node_modules/url/url.js"),l=n.n(u),b=n("./src/config.ts"),p=n("./src/lib/constants/index.ts"),m=n("./src/lib/constants/cookie.ts"),f=n("./src/lib/eventTools/index.ts"),O=n("./src/lib/isAdHocMultireddit/index.ts"),g=n("./src/lib/isFakeSubreddit/index.ts"),j=n("./src/reddit/constants/adEvents.ts"),h=n("./src/reddit/constants/blade.ts"),y=n("./src/reddit/constants/chat.ts"),_=n("./src/reddit/constants/wiki.ts"),E=n("./src/reddit/contexts/PageLayer/index.tsx"),I=n("./src/reddit/helpers/dom/index.ts");const v=()=>!document.getElementById(b.a.adblockId);let S;(S=document.createElement("div")).className="promotedlink",S.style.height=S.style.width="1px",S.style.position="absolute",S.style.left="-1000000px",S.style.display="block",document.body.appendChild(S);const T=()=>v()?!I.h(S):null;var C=n("./src/reddit/helpers/correlationIdTracker.ts"),w=n("./src/reddit/constants/posts.ts"),D=n("./src/reddit/helpers/getCommentsPageSort/index.ts"),x=n("./src/reddit/helpers/getPostFromRouteMatch/index.ts"),P=n("./src/reddit/helpers/getRichTextContent.ts"),A=n("./src/reddit/helpers/isPost.ts"),R=n("./src/reddit/helpers/postCollection.ts"),k=n("./src/reddit/helpers/postEvent.ts"),N=n("./src/reddit/helpers/stewards.ts"),L=n("./src/reddit/models/Media/index.ts"),M=n("./src/reddit/models/Post/index.ts"),U=n("./src/reddit/models/Profile/index.ts"),F=n("./src/reddit/selectors/experiments/chatPost.ts"),B=n("./src/reddit/selectors/listings.ts"),G=n("./src/reddit/selectors/platform.ts"),q=n("./src/reddit/selectors/postCollection.ts"),V=n("./src/reddit/selectors/posts.ts"),H=n("./src/reddit/selectors/profile.ts"),K=n("./src/reddit/selectors/profileComments.ts"),W=n("./src/reddit/models/Multireddit/index.ts"),J=n("./src/reddit/models/User/index.ts"),Y=n("./src/reddit/selectors/multireddit.ts"),z=n("./src/reddit/selectors/structuredStyles.ts"),Q=n("./src/reddit/selectors/subreddit.ts"),X=n("./src/reddit/selectors/subredditChannel.ts"),$=n("./src/reddit/selectors/subredditSettings.ts"),Z=n("./src/reddit/selectors/user.ts"),ee=n("./src/server/helpers/seoMetadata.tsx"),te=n("./src/telemetry/models/Timer.ts");n.d(t,"getPageTypeFromRouteMatch",(function(){return ne})),n.d(t,"getRelativePostOrder",(function(){return oe})),n.d(t,"getAbsoluteOrder",(function(){return ie})),n.d(t,"actionInfo",(function(){return ce})),n.d(t,"chatPostActionInfo",(function(){return ae})),n.d(t,"previousPageActionInfo",(function(){return de})),n.d(t,"app",(function(){return ue})),n.d(t,"comment",(function(){return be})),n.d(t,"userSubreddit",(function(){return me})),n.d(t,"defaults",(function(){return fe})),n.d(t,"mediaActionInfo",(function(){return Oe})),n.d(t,"videoCorrelationId",(function(){return ge})),n.d(t,"post",(function(){return ye})),n.d(t,"currentPost",(function(){return _e})),n.d(t,"listing",(function(){return Ee})),n.d(t,"profileComments",(function(){return Ie})),n.d(t,"media",(function(){return ve})),n.d(t,"videoPlayerMaxTimeServed",(function(){return Se})),n.d(t,"videoPlayerFirstFrameTimer",(function(){return Te})),n.d(t,"profileById",(function(){return Ce})),n.d(t,"profileByPostOrCommentId",(function(){return we})),n.d(t,"referrer",(function(){return De})),n.d(t,"screen",(function(){return xe})),n.d(t,"session",(function(){return Pe})),n.d(t,"customFeed",(function(){return Ae})),n.d(t,"customFeedByPath",(function(){return Re})),n.d(t,"profile",(function(){return ke})),n.d(t,"subreddit",(function(){return Ne})),n.d(t,"subredditById",(function(){return Le})),n.d(t,"subredditByName",(function(){return Me})),n.d(t,"subredditByPostOrCommentId",(function(){return Ue})),n.d(t,"timer",(function(){return Fe})),n.d(t,"user",(function(){return Be})),n.d(t,"widget",(function(){return Ge})),n.d(t,"request",(function(){return qe})),n.d(t,"requestWithParams",(function(){return Ve})),n.d(t,"adblock",(function(){return He})),n.d(t,"domTimer",(function(){return Ke})),n.d(t,"oauth",(function(){return We})),n.d(t,"numberChannels",(function(){return Je})),n.d(t,"channel",(function(){return Ye})),n.d(t,"SearchDropdownNouns",(function(){return ze})),n.d(t,"StructureType",(function(){return Qe})),n.d(t,"OriginElement",(function(){return Xe})),n.d(t,"search",(function(){return $e})),n.d(t,"discoveryUnit",(function(){return Ze})),n.d(t,"smartSearch",(function(){return et})),n.d(t,"metaSearch",(function(){return tt})),n.d(t,"postFlairClickToSearch",(function(){return nt})),n.d(t,"currentProfileModelSelector",(function(){return rt})),n.d(t,"notification",(function(){return st})),n.d(t,"postEventI13nSelector",(function(){return ot})),n.d(t,"postCollectionI13nByCollectionIdSelector",(function(){return ct})),n.d(t,"postCollectionI13nSelector",(function(){return at})),n.d(t,"modActionSelector",(function(){return dt}));const ne=e=>{switch(e.route&&e.route.meta&&e.route.meta.name){case p.xb.INDEX:return"home";case p.xb.PROFILE_OVERVIEW:return"profile_overview";case p.xb.PROFILE_COMMENTS:return"profile_comments";case p.xb.PROFILE_POSTS:return"profile_posts";case p.xb.PROFILE:case p.xb.PROFILE_BETA_CONFIRMATION:case p.xb.PROFILE_MODERATION:case p.xb.PROFILE_POST_COMMENTS:case p.xb.PROFILE_PRIVACY:case p.xb.PROFILE_SETTINGS:return"profile";case p.xb.PROFILE_PRIVATE:{const{listingType:t}=e.match.params;switch(t){case U.a.Downvoted:return"profile_downvoted";case U.a.Hidden:return"profile_hidden";case U.a.Upvoted:return"profile_upvoted";case U.a.Saved:return"profile_saved"}break}case p.xb.COMMENTS:case p.xb.DUPLICATES:return e.match.params.partialCommentId?"single_comment_thread":"post_detail";case p.xb.LISTING:case p.xb.SUBREDDIT:{const{subredditName:t}=e.match.params;if(!t)return"home";if(Object(g.a)(t)&&Object(O.a)(t))return"custom_feed";switch(t.toLowerCase()){case"popular":return"popular";case"all":return"all";default:return"community"}}case p.xb.SUBREDDIT_SETTINGS:return"subreddit_settings";case p.xb.POST_CREATION:return e.match.queryParams&&e.match.queryParams.source_id?"crosspost_submit":"post_submit";case p.xb.SEARCH_RESULTS:return"search_results";case p.xb.MODERATION_PAGES:{const t=e.match.params.pageName;return"content"===t?"scheduled_posts":"moderation_pages_".concat(t)}case p.xb.MODQUEUE_PAGES:{const t=e.match.params.pageName;return"modqueue"===t?"modqueue_queue":"modqueue_".concat(t)}case p.xb.MULTIREDDIT:return"custom_feed";case p.xb.POST_DRAFT:return"draft_detail";case p.xb.PUBLIC_ACCESS_NETWORK:return"stream_player";case p.xb.EXPLORE:return"explore";case p.xb.MOD_LISTING:return"r_mod";case p.xb.SUBREDDIT_CREATION:return"subreddit_creation";case p.xb.SUBREDDIT_WIKI:return"subreddit_wiki";case p.xb.SETTINGS:{const t=e.match.params.page;return t?"settings_".concat(t):"settings_account"}case p.xb.META_MEMBERSHIP_PAYWALL_PAGE:return"special_membership_paywall";case p.xb.SUBREDDIT_LEADERBOARD:return"leaderboard";case p.xb.TOPIC:return"topic";default:return""}},re=e=>{const t=e.routeMatch;return ne(t)},se=e=>{if(e.isMeta)return"poll";if(!e.media)return"link";if(Object(M.i)(e))return"stream";switch(e.media.type){case"gifvideo":return"gif";case"embed":return"link";default:return e.media.type}},oe=(e,t,n)=>{const r=e.listings.postOrder.ids[n];return r.indexOf(t)>=0?r.indexOf(t):null},ie=(e,t,n)=>{const r=e.listings.postOrder.ids[n];return r.indexOf(t)>=0?r.indexOf(t)+p.gb:null},ce=(e,t)=>Object.assign({pageType:e.platform.currentPage?re(e.platform.currentPage):void 0},t),ae=e=>{const t=Object(G.f)(e),n=!!t&&Object(F.a)(e,{subredditId:t.id});return ce(e,{type:n?"chat_enabled":void 0})},de=(e,t)=>Object.assign({pageType:e.platform.lastPage?re(e.platform.lastPage):void 0},t),ue=()=>({name:b.a.telemetry.appName.redesign}),le=(e,t)=>{if(e.platform.currentPage){const{sortToUse:n}=Object(D.a)(e,t);if(n===p.q.CHAT)return p.u.Chat}return p.u.Comment},be=(e,t)=>{const n=e.comments.models[t];if(n){const{awardCountsById:t}=n,r=t?Object.keys(t).reduce((e,n)=>e+t[n],0):null;return{id:n.id,postId:n.postId,parentId:n.parentId,bodyText:Object(P.a)(n),authorId:n.authorId,numberGildings:r,score:n.score,created:n.created,type:le(e,n.postId)}}return null},pe=e=>{let t=!1;return Object.keys(e).forEach(n=>{e[n]&&(t=!0)}),t},me=e=>{const t=Object(G.f)(e),n=t&&e.moderatingSubreddits[t.id];let r;if(Object(Z.J)(e)&&t){const n=e.subscriptions.subredditOrder.includes(t.id),s=e.subreddits.about[t.id]&&e.subreddits.about[t.id].userIsSubscriber;r=n||s}else r=null;return{isMod:!!n,modAccess:n?n.access:null,modConfig:n?n.config:null,modFlair:n?n.flair:null,modFull:n?n.all:null,modMail:n?n.mail:null,modNone:n?!pe(n):null,modPost:n?n.posts:null,modWiki:n?n.wiki:null,isSubscriber:r}},fe=e=>({actionInfo:ce(e),app:ue(),referrer:De(e),request:qe(e),session:Pe(e),screen:xe(e),user:Be(e)}),Oe=(e,t)=>{const n=e.posts.video.fullscreen,r=e.platform.currentPage?re(e.platform.currentPage):void 0;return{pageType:n===t?"fullscreen":r}},ge=()=>Object(C.c)(C.a.VideoView),je=new Map,he=e=>{let{state:t,post:n}=e;const r=Object(B.a)(t);if(!r)return;let s;je.has(r)?s=je.get(r):(je.set(r,new Map),(s=je.get(r)).set("postIdToDistanceFromAdMapping",new Map));const o=s.get("postIdToDistanceFromAdMapping");if(o.has(n.id))return o.get(n.id);const i=t.listings.postOrder.ids[r];if(!i)return;const c=s.get("lastPostIndex");let a=s.get("lastAdIndex"),d=c?c+1:0;for(;d<i.length;d+=1){const e=t.posts.models[i[d]];if(e&&!e.hidden&&!e.isBlank){const t=a?d-a-1:void 0;o.set(e.id,t),e.isSponsored&&(a=d)}}return s.set("lastPostIndex",d),s.set("lastAdIndex",a),o.get(n.id)},ye=(e,t,n)=>{const r=e.posts.models[t]||e.comments.models[t]&&e.posts.models[e.comments.models[t].postId];if(r){const{source:t}=r,s=le(e,r.id),o=r.events.find(e=>e.type===j.a.Impression),i=o&&o.url.match(/\?q=([^&]+)/);return{commentType:s,contentDuration:n||void 0,createdTimestamp:r.created,domain:r.domain,id:r.postId,nsfw:r.isNSFW,score:r.score,spoiler:r.isSpoiler,title:r.title,type:se(r),upvoteRatio:r.upvoteRatio?r.upvoteRatio:void 0,url:t?t.url:void 0,promoted:r.isSponsored,impressionId:i?i[1]:void 0,numberPostsFromAd:he({state:e,post:r})}}if(Object(A.a)(t)){return{id:t,commentType:le(e,t)}}return null},_e=e=>{const t=Object(x.a)(e);return t?ye(e,t.id):null},Ee=(e,t,n)=>{const r=t&&e.listings.postOrder.ids[t];return{depth:n&&n.depth,length:r?r.length:void 0,links:r?r.map(t=>e.posts.models[t].id):void 0,oldSort:n&&n.oldSort,sort:n&&n.sort,sortTime:n&&n.sortTime||void 0,source:n&&n.source}},Ie=(e,t)=>{const n=Object(K.f)(e,{listingKey:t});return n?{length:n.length,links:n.map(t=>e.comments.models[t].id)}:null},ve=(e,t,n,r)=>{const s=e.posts.models[t];if(void 0===s)return null;const o={};if(o.id=s.postId,s.media&&"v.redd.it"===s.domain){const e=Object(L.z)(s.media);e&&(o.id=e)}if(n)o.loadTime=n;else{const n=e.posts.video.loadTimes[t];n&&n.start&&n.playable&&(o.loadTime=Math.round(n.playable-n.start))}const i=e.posts.video.metadata[t];i&&i.id===t&&(o.height=i.originalHeight,o.width=i.originalWidth,o.orientation=o.height>o.width?"portrait":"landscape",o.duration=i.length);const c=e.posts.video.time[t];return c&&(o.time=Math.round(c.currentTime)),o.streamPublicId=r&&r.stream.stream_id,o},Se=(e,t)=>{if(void 0===e.posts.models[t])return null;const n={},r=e.posts.video.time[t];return r&&(n.maxTimeServed=Math.round(r.maxTimeServed)),n},Te=(e,t)=>{if(void 0===e.posts.models[t])return;const n={type:te.TimerType.VideoFirstFrame},r=e.posts.video.loadTimes[t];return r&&r.start&&(r.playable?n.millis=Math.round(r.playable-r.start):n.millis=Math.round(performance.now()-r.start)),n},Ce=(e,t)=>{const n=e.profiles.models[t];return n&&{id:n.id,name:n.name}},we=(e,t)=>{const n=e.posts.models[t],r=e.comments.models[t];return n?Ce(e,n.belongsTo.id):r?Ce(e,r.subredditId):null},De=e=>{let t=e.platform.currentPage?e.platform.referrers[e.platform.currentPage.key]:null;if(t){let{hostname:n}=l.a.parse(t);if(!n||t.startsWith("/")){let r=e.meta.protocol;n=e.meta.domain,r&&n||(r=window.location.protocol,n=window.location.hostname),r=r.endsWith(":")?r:"".concat(r,":"),t="".concat(r,"//").concat(n).concat(t)}return{domain:n,url:t}}return null},xe=(e,t)=>{const n=Object(E.M)(e,{});let r;Object(G.g)(e)&&(r=Object(G.i)(e)?"lightbox":"post_detail");let s="default";return e.user&&e.user.prefs&&e.user.prefs.nightmode&&(s="nightmode"),{layout:n,viewType:r,scrollPosition:t,theme:s}},Pe=e=>{const t=s.a.get(m.f),n=e.user.sessionTracker,r=(t||n).split("."),o=r[0],i=parseInt(r[2],10);let c={};const{sessionReferrer:a}=e.platform;if(a){const{hostname:e}=l.a.parse(a);c={referrerDomain:e,referrerUrl:a}}return Object.assign({id:o,createdTimestamp:i},c)},Ae=e=>{const{pageType:t}=ce(e);if(!e.platform.currentPage)return null;if("custom_feed"===t){const{multiredditName:t,username:n}=e.platform.currentPage.urlParams;return Re(e,Object(W.h)(n,t))}return null},Re=(e,t)=>{const n=Object(Y.e)(e,t);return n?{id:"/user/".concat(n.ownerId,"/m/").concat(n.name,"/"),isNsfw:n.isNSFW,numberFollowers:n.followerCount,numberSubreddits:n.subredditCount,ownerId:n.ownerId,visibility:n.visibility}:null},ke=e=>{const{pageType:t}=ce(e);if(!e.platform.currentPage)return null;if(t&&t.includes("profile")){const{profileName:t}=e.platform.currentPage.urlParams;if(t){const n=t.toLowerCase(),r=Object(H.m)(e,n);return r?{id:r,name:n,type:"default"}:null}}else if("post_detail"===t){const{subredditName:t}=e.platform.currentPage.urlParams;if(t){const n=t.toLowerCase(),r=Object(H.m)(e,n),s=Ce(e,r);return s&&s.name&&s.name.toLowerCase()===n?{id:r,name:n,type:"default"}:null}}return null},Ne=e=>{const{pageType:t}=ce(e);if(!e.platform.currentPage)return null;if("post_submit"===t){const t=e.platform.currentPage.urlParams.subredditName;if(t){const n=t.toLowerCase(),r=Object(Q.G)(e,n),s=Object(Q.S)(e,{subredditId:r}),o=e.subreddits.about[r];return r&&s?{id:r,name:n,numberCoins:o?o.coins:0}:null}return null}if("community"===t||"subreddit_settings"===t||"subreddit_wiki"===t||"special_membership_paywall"===t||t&&t.includes("moderation_pages")){let n=e.platform.currentPage.urlParams.subredditName;n||"subreddit_wiki"!==t||(n=_.e),n=n.toLowerCase();const r=Object(Q.G)(e,n),s=Object(Q.S)(e,{subredditId:r}),o=e.subreddits.about[r];return r&&s?{id:r,name:n,numberCoins:o?o.coins:0}:null}if("post_detail"===t||"single_comment_thread"===t){if(e.platform.currentPage.urlParams.subredditName){const t=e.platform.currentPage.urlParams.subredditName.toLowerCase(),n=Object(Q.G)(e,t),r=Object(Q.S)(e,{subredditId:n}),s=e.subreddits.about[n];return n&&r?{id:n,name:t,numberCoins:s?s.coins:0}:null}{const{partialPostId:t}=e.platform.currentPage.urlParams,n=Object(M.m)(t),r=e.posts.models[n];if(!r)return null;const s=((e,t)=>{const{type:n,id:r}=t;return n===w.a.PROFILE?e.profiles.models[r]:e.subreddits.models[r]})(e,r.belongsTo);if(!s)return null;const o=e.subreddits.about[s.id];return{id:s.id,name:s.name.toLowerCase(),numberCoins:o?o.coins:0}}}if("search_results"===t){if("string"!=typeof e.platform.currentPage.urlParams.subredditName)return null;const t=e.platform.currentPage.urlParams.subredditName.toLowerCase(),n=Object(Q.G)(e,t),r=Object(Q.S)(e,{subredditId:n}),s=e.subreddits.about[n];return n&&r?{id:n,name:t,numberCoins:s?s.coins:0}:null}return null},Le=(e,t)=>{const n=e.subreddits.models[t],r=e.subreddits.about[t];return n&&{id:n.id,name:n.name.toLowerCase(),numberCoins:r?r.coins:0}},Me=(e,t)=>{const n=Object(Q.G)(e,t),r=Object(Q.S)(e,{subredditId:n}),s=e.subreddits.about[r.id];return r&&{id:r.id,name:r.name.toLowerCase(),numberCoins:s?s.coins:0}},Ue=(e,t)=>{const n=e.posts.models[t],r=e.comments.models[t];return n?Le(e,n.belongsTo.id):r?Le(e,r.subredditId):null},Fe=(e,t)=>e&&t?{type:e,millis:t}:null,Be=Object(d.a)(Z.i,e=>e.user.loid,Z.r,(e,t,n)=>Object.assign({id:e?e.id:t.loid?"".concat(p.vb.Account,"_").concat(i()(t.loid,"0")):null,isAdmin:!!e&&e.isEmployee,isLoggedIn:!!e,cookieCreatedTimestamp:parseInt(t.loidCreated)||null,createdTimestamp:e?1e3*e.created:null},e?{hasPremium:e.isGold,isPremiumSubscriber:n,numberCoins:e.coins||0,numberPremiumDaysRemaining:e.goldExpiration?Math.max(Math.ceil((1e3*e.goldExpiration-Date.now())/p.w),0):0}:null)),Ge=(e,t)=>{let{subredditId:n,widgetKind:r}=t;const s={targetSubredditId:n},o=e.subreddits.models[n];o&&o.name&&(s.targetSubredditName=o.name);const i=r&&h.i[r];return i&&(s.type=i),s},qe=e=>{const t=e.meta.domain;return{base_url:e.platform.currentPage?"".concat(e.meta.protocol,"://").concat(t).concat(e.platform.currentPage.url):void 0,canonical_url:Object(ee.a)(e)||void 0,domain:t,reddaid:e.user.reddaid,user_agent:e.meta.userAgent}},Ve=e=>{const t=e.platform.currentPage?e.platform.currentPage.url.split("?"):[],[n,r]=t,{domain:s,protocol:o}=e.meta;return{base_url:o&&s&&n?"".concat(o,"://").concat(s).concat(n):void 0,canonical_url:Object(ee.a)(e)||void 0,domain:s,reddaid:e.user.reddaid,user_agent:e.meta.userAgent,parameters:r}},He=e=>({enabled:v(),acceptableAds:T()}),Ke=e=>({}),We=e=>({}),Je=e=>{const t=a()(e.subredditChannels.models);return{number_channels:t&&t.length}},Ye=(e,t)=>{const n=Object(X.c)(e,t);if(!n)return null;const{type:r,membersCount:s,channelSendbirdUrl:o}=n;return{id:o,type:y.f[r],number_members:s}};var ze,Qe,Xe;!function(e){e.Recent="recent_search",e.Trending="trending_search",e.TypeaheadSubreddit="search_results_subreddit",e.TypeaheadProfile="search_results_profile"}(ze||(ze={})),function(e){e.Recent="history",e.Search="search",e.Trending="trending",e.PromotedTrend="promoted_trend"}(Qe||(Qe={})),function(e){e.SearchBar="search_bar"}(Xe||(Xe={}));const $e=(e,t)=>{let n,r;if(t.eventType&&t.id){let s;switch(t.eventType){case"subreddit":s=Le(e,t.id);break;case"post":s=Ue(e,t.id);break;case"profile":s=Ce(e,t.id)}s&&(n=s.name,r=s.id)}return{originPageType:e.platform.currentPage?re(e.platform.currentPage):void 0,query:t.q?decodeURIComponent(t.q):t.q,range:t.t,sort:t.sort,structureType:t.structureType,subredditId:r,subredditName:n}},Ze=e=>({id:e.name,name:e.name,type:e.type}),et=(e,t)=>{const n=e.platform.currentPage?re(e.platform.currentPage):void 0;return{originElement:Xe.SearchBar,originPageType:n,query:t.searchQuery,typeaheadActive:!0}},tt=e=>({displayQuery:e.displayQuery,rawQuery:e.rawQuery,structureType:e.structureType,sort:e.sort,range:e.t,subredditId:e.subredditId,subredditName:e.subredditName,postFlairName:e.postFlairName,metaFlairId:e.metaFlairId,metaFlairName:e.metaFlairName}),nt=(e,t)=>{let n,r;if(t.eventType&&t.id){let s;switch(t.eventType){case"subreddit":s=Le(e,t.id);break;case"post":s=Ue(e,t.id);break;case"profile":s=Ce(e,t.id)}s&&(n=s.name,r=s.id)}const s=e.platform.currentPage?re(e.platform.currentPage):void 0,o={originElement:t.originElement,originPageType:s,subredditName:n,subredditId:r};return t.postFlairName?o.postFlairName=t.postFlairName:t.metaFlairName&&(o.metaFlairName=t.metaFlairName),o},rt=Object(d.a)(Z.i,e=>e,(e,t)=>{if(!e||!e.profileId)return;const n=Object(H.i)(t,e.profileId),r=Object(H.g)(t,e.profileId),s=Object(z.n)(t,e.profileId),o=Object($.a)(t),i=Object(Z.lb)(t),c=s&&s.bannerBackgroundImage;return{id:e.id,name:Object(J.f)(e),type:"default",display_name:n?n.title:void 0,about:r?r.publicDescription:void 0,avatar_url:e.accountIcon,cover_url:"string"==typeof c?c:void 0,nsfw:n?n.isNSFW:void 0,content_visible:o?o.contentVisible:void 0,communities_visible:i?i.showActiveCommunities:void 0}}),st=(e,t,n)=>{const r={};return r.id=t,r.type=n?n.toLowerCase():void 0,r},ot=(e,t)=>{let n,{postId:r}=t;const s=Object(V.J)(e,{postId:r});if(s&&Object(k.a)(s)&&s.eventInfo){const{eventStart:e,eventEnd:t}=s.eventInfo;n={eventState:Object(f.e)(e,t),eventStartTimestamp:e,eventEndTimestamp:t}}else n=void 0;return n},it=e=>{if(!e)return;const{id:t,title:n,author:r,postIds:s}=e;return{id:t,title:n,authorId:r||"",postIds:s,displayLayout:Object(q.f)(e).toLowerCase()}},ct=(e,t)=>{let{collectionId:n}=t;return it(Object(q.q)(e,{collectionId:n}))},at=(e,t)=>{let{postId:n}=t;const r=Object(V.J)(e,{postId:n});if(r&&Object(R.a)(r)){const t=Object(q.n)(e,{postId:n});return t?it(t):void 0}},dt=(e,t)=>{const n=Object(A.a)(t)?e.posts.models[t]:e.comments.models[t],r=Object(G.f)(e),s=r&&e.moderatingSubreddits[r.id];if(n&&s)return{isTargetRemovedBySteward:Object(N.a)(n)||!!n.wasPreviouslyRemovedBySteward}}},"./src/reddit/selectors/tooltip.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r=e=>e.tooltipId,s=e=>t=>t.tooltipId===e},"./src/reddit/selectors/user.ts":function(e,t,n){"use strict";n.d(t,"o",(function(){return h})),n.d(t,"q",(function(){return y})),n.d(t,"p",(function(){return _})),n.d(t,"r",(function(){return E})),n.d(t,"s",(function(){return I})),n.d(t,"w",(function(){return v})),n.d(t,"u",(function(){return S})),n.d(t,"S",(function(){return T})),n.d(t,"J",(function(){return C})),n.d(t,"Q",(function(){return w})),n.d(t,"x",(function(){return D})),n.d(t,"l",(function(){return x})),n.d(t,"i",(function(){return P})),n.d(t,"d",(function(){return A})),n.d(t,"v",(function(){return k})),n.d(t,"lb",(function(){return N})),n.d(t,"a",(function(){return L})),n.d(t,"U",(function(){return M})),n.d(t,"V",(function(){return U})),n.d(t,"m",(function(){return F})),n.d(t,"b",(function(){return B})),n.d(t,"z",(function(){return G})),n.d(t,"A",(function(){return q})),n.d(t,"X",(function(){return V})),n.d(t,"W",(function(){return H})),n.d(t,"k",(function(){return K})),n.d(t,"R",(function(){return W})),n.d(t,"e",(function(){return J})),n.d(t,"N",(function(){return Y})),n.d(t,"P",(function(){return z})),n.d(t,"ab",(function(){return Q})),n.d(t,"fb",(function(){return X})),n.d(t,"eb",(function(){return $})),n.d(t,"G",(function(){return Z})),n.d(t,"I",(function(){return ee})),n.d(t,"K",(function(){return te})),n.d(t,"y",(function(){return ne})),n.d(t,"D",(function(){return re})),n.d(t,"B",(function(){return se})),n.d(t,"n",(function(){return oe})),n.d(t,"E",(function(){return ie})),n.d(t,"C",(function(){return ce})),n.d(t,"cb",(function(){return ae})),n.d(t,"bb",(function(){return de})),n.d(t,"hb",(function(){return ue})),n.d(t,"Y",(function(){return le})),n.d(t,"Z",(function(){return be})),n.d(t,"f",(function(){return pe})),n.d(t,"jb",(function(){return me})),n.d(t,"db",(function(){return fe})),n.d(t,"t",(function(){return Oe})),n.d(t,"gb",(function(){return ge})),n.d(t,"M",(function(){return je})),n.d(t,"j",(function(){return he})),n.d(t,"T",(function(){return ye})),n.d(t,"ib",(function(){return _e})),n.d(t,"g",(function(){return Ee})),n.d(t,"kb",(function(){return Ie})),n.d(t,"L",(function(){return ve})),n.d(t,"h",(function(){return Se})),n.d(t,"O",(function(){return Te})),n.d(t,"H",(function(){return Ce})),n.d(t,"F",(function(){return we})),n.d(t,"c",(function(){return De}));var r=n("./node_modules/lodash/find.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./node_modules/lodash/values.js"),a=n.n(c),d=n("./node_modules/reselect/es/index.js"),u=n("./src/lib/constants/index.ts"),l=n("./src/lib/objectSelector/index.ts"),b=n("./src/reddit/constants/chat.ts"),p=n("./src/reddit/models/User/index.ts"),m=n("./src/reddit/selectors/chat.ts"),f=n("./src/reddit/selectors/platform.ts"),O=n("./src/reddit/selectors/profile.ts"),g=n("./src/reddit/selectors/runTimeEnvVars.ts");const j=[],h=e=>e.user.account?e.user.account.goldExpiration:null,y=e=>!!e.user.account&&e.user.account.isGold,_=e=>!!e.user.account&&e.user.account.hasAndroidSubscription,E=e=>!!e.user.account&&e.user.account.hasGoldSubscription,I=e=>!!e.user.account&&e.user.account.hasIOSSubscription,v=e=>!!e.user.account&&e.user.account.hasStripeSubscription,S=e=>!!e.user.account&&e.user.account.hasPaypalSubscription,T=e=>e.user.language,C=e=>!!e.user.account,w=e=>!!e.user.session&&!e.user.session.unsafeLoggedOut,D=e=>!!e.user.account&&e.user.account.hasVerifiedEmail,x=e=>e.user.account?e.user.account.email:null,P=e=>e.user.account,A=e=>{const t=P(e);return t&&t.coins||0},R=e=>e.user.features,k=e=>{const t=P(e);return!!t&&t.seenRedesignModal},N=e=>e.user.prefs,L=e=>e.user.prefs.allowClickTracking||!C(e),M=e=>e.user.prefs.nightmode,U=e=>!!e.user.prefs.nightmodeTempUpdated,F=e=>e.user.prefs.geopopular,B=e=>e.user.prefs&&e.user.prefs.autoplayVideo,G=e=>e.user.prefs.hideNSFW,q=e=>N(e).ignoreSuggestedSort,V=e=>N(e).over18,H=e=>N(e).openPostInNewTab,K=e=>N(e).emailDigests,W=e=>e.user.prefs.labelNSFW,J=e=>e.user.prefs.featuresViewedHistory.commentForm.markdownModeNotification,Y=e=>{if(e.user.prefs&&e.user.prefs.rpanDuDismissalTime){const t=Date.now()-u.w;return e.user.prefs.rpanDuDismissalTime>t}return!1},z=e=>{const t=e.user.prefs?e.user.prefs.topContentTimesDismissed:0;if(t<1)return!1;if(t<2){const t=Date.now()-u.Vb;if((e.user.prefs?e.user.prefs.topContentDismissalTime:0)<t)return!1}else if(t<3){const t=Date.now()-2*u.Vb;if((e.user.prefs?e.user.prefs.topContentDismissalTime:0)<t)return!1}return!0},Q=e=>e.user.prefs.rememberCommunityLayout,X=e=>!N(e).stylesEnabled,$=(e,t)=>{let{subredditId:n}=t;const r=N(e).subreddit[n];return!!r&&!r.stylesEnabled},Z=e=>!!e.user.temporaryGQL.isEmployee,ee=e=>!!e.user.temporaryGQL.isLoggedIn,te=e=>{const t=P(e);return!!t&&t.isMod},ne=e=>{const t=P(e);return!!t&&!t.isEmployee&&t.isGold},re=e=>{const t=P(e);return!!t&&t.inRedesignBeta},se=e=>{const t=P(e);return!!t&&t.inChat},oe=e=>{const t=R(e);return!(!t||!t[b.a.SubredditChatNotifcationFtux])},ie=e=>{const t=R(e);return!!(t&&t.chat_subreddit||Object(m.f)(e))},ce=e=>{const t=R(e);return!(!t||!t.chat_user_settings)},ae=e=>{const t=P(e);return!!t&&t.seenSubredditChatFtux},de=e=>{const t=P(e);return!!t&&t.seenGiveAwardTooltip},ue=(e,t)=>{let{userName:n}=t;return e.users.models[n.toLowerCase()]},le=(e,t)=>{let{userId:n}=t;const r=((e,t)=>{let{userId:n}=t;return s()(a()(e.users.models),e=>e.id===n)})(e,{userId:n});return r?r.profileId:void 0},be=(e,t)=>{let{userName:n}=t;const r=ue(e,{userName:n});return r?r.profileId:void 0},pe=(e,t)=>{const n=t?t.toLowerCase():"";return t&&e.contentGate[n]?e.contentGate[n]:null},me=(e,t)=>{const n=P(e),r=t.post||t.postId&&e.posts.models[t.postId];return!(!n||!r)&&Object(p.f)(n)===r.author},fe=e=>{const t=P(e);if(t){return(Object(p.e)(t)||(new Date).getTime())<(new Date).getTime()-u.db&&(t.postKarma>=5||t.commentKarma>=10)}return!1},Oe=e=>e.user.sessionRefreshFailed,ge=Object(l.a)(e=>{if(!e.user||!e.user.account)return;const t=i()(e.user.account,["hasUnreadOldModmail","hasUnreadMail","hasUnreadModmail","hasUnreadMessages","hasUnreadNotifs","inboxCount"]);return e.platform.currentPage&&e.platform.currentPage.routeMatch&&Object(f.r)(e)===u.xb.INBOX_PAGES&&e.user.prefs.markMessagesRead&&(t.inboxCount=0),t}),je=(e,t)=>{const n=P(e);if(n){return Object(p.f)(n).toLowerCase()===t.toLowerCase()}return!1},he=e=>e.user.drafts&&e.user.drafts.count||0,ye=e=>e.user.drafts&&e.user.drafts.limit||20,_e=(e,t)=>{let{userName:n}=t;const r=ue(e,{userName:n});return!!r&&!!r.hasUserProfile},Ee=e=>{const t=P(e);return!!t&&t.hasUserProfile},Ie=Object(d.a)(e=>e.user.account,e=>e.users.models,(e,t)=>t,(e,t,n)=>{const r=n.toLowerCase();return e&&Object(p.f)(e)===r?e:t[r]}),ve=e=>{return Object(g.a)(e)-parseInt(e.user.loid.loidCreated)<u.w},Se=e=>{const t=P(e);if(!t)return j;const n=Object(p.f)(t);return Object(O.n)(e,{profileName:n})},Te=e=>{const t=P(e);return!!t&&(t.isSuspended&&!t.isFPR)},Ce=e=>{const t=P(e);return!!t&&t.isFPR},we=(e,t)=>e.user.accountSettings["".concat(t)].api.pending,De=e=>e.user.accountSettings.changeEmail.api.error},"./src/reddit/selectors/userDataRequest.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r=e=>e.userDataRequestPage.userDataRequestPageApi.userDataExportEligibility,s=e=>e.userDataRequestPage.userDataRequestPageApi},"./src/reddit/selectors/userFlair.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return u}));var r=n("./src/lib/objectSelector/index.ts"),s=n("./src/reddit/models/Flair/index.ts"),o=n("./src/reddit/selectors/moderatorPermissions.ts");const i=(e,t)=>{let{subredditId:n}=t;return e.userFlair[n]},c=(e,t)=>{let{subredditId:n}=t;return!e.userFlair[n]||e.userFlair[n].displaySettings.isEnabled},a=(e,t)=>{let{subredditId:n}=t;return e.userFlair[n]?e.userFlair[n].displaySettings.position:s.b.Right},d=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=i(e,{subredditId:n});if(r)return{type:s.d.UserFlair,displaySettings:r.displaySettings,permissions:r.permissions}}),u=(e,t)=>{let{subredditId:n}=t;const r=c(e,{subredditId:n}),s=d(e,{subredditId:n}),a=i(e,{subredditId:n});if(!r||!s||!a)return!1;if(a.applied)return!0;const u=Object(o.d)(e,{subredditId:n}),{canUserChange:l}=s.permissions;return!!a.templateIds.find(e=>{return!a.templates[e].modOnly||u})&&l}},"./src/reddit/selectors/video.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l}));const r=(e,t)=>{let{postId:n}=t;return!!e.posts.video.buffering[n]},s=(e,t)=>{let{postId:n}=t;return!!e.posts.video.consumed[n]},o=(e,t)=>{let{postId:n}=t;return!!e.posts.video.playing[n]},i=(e,t)=>{let{postId:n}=t;return e.posts.video.loadTimes[n]},c=(e,t)=>{let{postId:n}=t;return e.posts.video.metadata[n]},a=(e,t)=>{let{postId:n}=t;return!!e.posts.video.loadable[n]},d=(e,t)=>{let{postId:n}=t;return!!e.posts.video.started[n]},u=(e,t)=>{let{postId:n}=t;if(!n)return null;const r=e.posts.video.time[n];return r?r.currentTime/1e3:null},l=(e,t)=>{let{postId:n}=t;return e.posts.video.continuousViewStartedAt[n]||0}},"./src/reddit/selectors/widgets.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"j",(function(){return O})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return j})),n.d(t,"b",(function(){return h}));var r=n("./src/lib/objectSelector/index.ts"),s=n("./src/reddit/constants/posts.ts"),o=n("./src/reddit/helpers/name/index.ts"),i=n("./src/reddit/models/Widgets/index.ts"),c=n("./src/reddit/selectors/profile.ts"),a=n("./src/reddit/selectors/subreddit.ts");const d=e=>e.widgets.models,u=Object(r.a)((e,t)=>Object(i.t)(t)?e.widgets.models[t.widgetId]:Object(i.n)(t.widgetKind)),l=(e,t)=>e.widgets.idCardIds[t.subredditId],b=(e,t)=>{let n=t.subredditId;if(!n&&t.subredditName&&(n=Object(a.G)(e,t.subredditName)),n){const t=l(e,{subredditId:n});if(t)return e.widgets.models[t]}return null},p=(e,t)=>e.widgets.sidebar[t.subredditId]||[],m=(e,t)=>e.widgets.menuIds[t.subredditId],f=(e,t)=>{const n=m(e,t);return n?e.widgets.models[n]:null},O=(e,t)=>{return e.widgets.sidebar[t.subredditId].reduce((t,n)=>{const r=e.widgets.models[n];return r&&t.push(r.kind),t},[])},g=(e,t)=>{const n=p(e,t);for(const r of n){const t=e.widgets.models[r];if("subreddit-rules"===t.kind)return t}return null},j=(e,t)=>{const n=p(e,t).map(t=>e.widgets.models[t]).filter(e=>"post-flair"===e.kind);return n.length?n:null},h=Object(r.a)((e,t)=>{if(t.type===s.a.PROFILE){const n=Object(c.j)(e,{profileName:t.name});return n?{profile:{id:n.id,name:Object(o.f)(n.name)}}:{}}const n=Object(a.B)(e,{subredditName:t.name}),r=Object(a.y)(e,{subredditName:t.name});return{subreddit:{categoryName:r?r.contentCategory:null,id:n.id,name:Object(o.f)(n.name)}}})},"./src/server/helpers/seoMetadata.tsx":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/react/index.js");var r=n("./node_modules/url/url.js"),s=n.n(r),o=n("./src/config.ts"),i=n("./src/lib/constants/index.ts"),c=(n("./src/lib/addQueryParams/index.ts"),n("./src/lib/isAdHocMultireddit/index.ts")),a=n("./src/lib/isFakeSubreddit/index.ts");n("./src/lib/makeCommentsPageKey/index.ts"),n("./src/lib/truncateText/index.ts"),n("./src/reddit/constants/experiments.ts"),n("./src/reddit/constants/page.ts");var d=n("./src/reddit/contexts/PageLayer/index.tsx"),u=n("./src/reddit/helpers/canonicalUrls.ts"),l=(n("./src/reddit/helpers/getRichTextContent.ts"),n("./src/reddit/helpers/getSubredditErrorProps/index.ts")),b=(n("./src/reddit/helpers/trackers/experiments.ts"),n("./src/reddit/i18n/utils.ts"),n("./src/reddit/models/Comment/index.ts"),n("./src/reddit/models/Post/index.ts")),p=(n("./src/reddit/selectors/comments.ts"),n("./src/reddit/selectors/experiments/postSeo.ts"),n("./src/reddit/selectors/multireddit.ts"),n("./src/reddit/selectors/platform.ts")),m=n("./src/reddit/selectors/postCollection.ts"),f=n("./src/reddit/selectors/posts.ts"),O=n("./src/reddit/selectors/profile.ts"),g=(n("./src/reddit/selectors/structuredStyles.ts"),n("./src/reddit/selectors/subreddit.ts")),j=n("./src/reddit/selectors/user.ts");n("./src/reddit/models/Media/index.ts"),n("./src/app/strings/index.ts");n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return E}));const h=new Set([302,400,401,403,404,421,429,500,502,503,504,0,void 0,null]),y=e=>e.endsWith("/")?e:"".concat(e,"/"),_=e=>{const t=Object(p.b)(e);if(!t)return null;const n=Object(p.r)(e);switch(n){case i.xb.INDEX:case i.xb.LISTING:return t.routeMatch&&t.routeMatch.route.chunk===i.o.FRONTPAGE?y(o.a.redditUrl):null;case i.xb.SUBREDDIT:const{subredditName:r}=t.urlParams,d=r&&Object(g.d)(e,{subredditName:r});if(Object(a.a)(r)&&Object(c.a)(r)){const t=Object(u.a)(e,r);return t?o.a.redditUrl+t:null}return d?"".concat(o.a.redditUrl).concat(d):null;case i.xb.COMMENTS:case i.xb.DUPLICATES:const{partialPostId:l}=t.urlParams,p=l&&Object(b.m)(l),j=p&&Object(f.I)(e,{postId:p});return j?"".concat(o.a.redditUrl).concat(s.a.parse(j).path):null;case i.xb.PROFILE_OVERVIEW:case i.xb.PROFILE_POSTS:case i.xb.PROFILE_COMMENTS:const{profileName:h}=t.urlParams,_=Object(O.j)(e,{profileName:h});let E="";return n===i.xb.PROFILE_POSTS?E="posts/":n===i.xb.PROFILE_COMMENTS&&(E="comments/"),_&&_.url?"".concat(o.a.redditUrl).concat(s.a.parse(_.url).path).concat(E):null;case i.xb.COLLECTION_COMMENTS:const{collectionId:I}=t.urlParams,v=I&&Object(m.q)(e,{collectionId:I}),S=v&&v.permalink;return S?"".concat(o.a.redditUrl).concat(s.a.parse(y(S)).path):null;case i.xb.SUBREDDIT_LEADERBOARD:return t.routeMatch&&t.routeMatch.route.chunk===i.o.SUBREDDIT_LEADERBOARD?"".concat(o.a.redditUrl,"/subreddits/leaderboard/"):null;default:return null}},E=(e,t)=>{if(t.head){let n=t.querySelector("meta[name='robots']");const r=I(e),{head:s}=t;r?(n||((n=t.createElement("meta")).name="robots",s.appendChild(n)),n.content=r):n&&(n.remove?n.remove():n.parentNode?n.parentNode.removeChild(n):s.removeChild&&s.removeChild(n))}},I=e=>{const{currentPage:t}=e.platform,n=Object(p.r)(e),r=Object(p.c)(e),s=h.has(r),o=Object(d.k)(e,{pageLayer:t}),c=!(!o||!o.hideFromRobots),a=v(e),u=t&&t.isRobotIndexable,l=n===i.xb.COMMENTS||n===i.xb.COLLECTION_COMMENTS,b=!(!t||!t.urlParams.partialCommentId),m=n===i.xb.SEARCH_RESULTS||n===i.xb.SUBREDDIT_LEADERBOARD||n===i.xb.TOPIC||l&&b;return c||s||a||(!1===u||m)?m?"noindex":"noindex,nofollow":null},v=e=>{let t=!1;const n=Object(p.e)(e);if(n){const r=Object(j.f)(e,n);t=!!Object(l.a)(r,!1,n)}return t}}}]);
//# sourceMappingURL=Governance~Reddit.fec94a5ba4c673975f6a.js.map