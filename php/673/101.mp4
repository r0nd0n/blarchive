!function(){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o,n=arguments[e];for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function e(e,t){var o,n=Object.keys(e);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(e),t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)),n}function r(n){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?e(Object(a),!0).forEach(function(t){var e,o;e=n,t=a[o=t],o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))})}return n}var o,i=[],a=["www.washingtonpost.com","pb-impact.washingtonpost.com","fusion-sandbox.washingtonpost.com","www.wapodev.com","www.wapostage.com","pb-dev.digitalink.com","pb-staging.digitalink.com","localhost","localhost.digitalink.com","subscribe.digitalink.com","subs-stage.digitalink.com"],t={prod:{anon:{default:864e5,optedOut:63072e6},signed:{default:864e5,optedOut:864e5}},fStage:{anon:{default:3e5,optedOut:63072e6},signed:{default:3e5,optedOut:3e5}},fqa:{anon:{default:3e5,optedOut:18e5},signed:{default:3e5,optedOut:3e5}},stage:{anon:{default:864e5,optedOut:63072e6},signed:{default:864e5,optedOut:864e5}},qa:{anon:{default:3e5,optedOut:18e5},signed:{default:3e5,optedOut:3e5}}};function l(){if(void 0!==o)return o;try{var t=(new Date).toString();window.localStorage.setItem(t,t);var e=window.localStorage.getItem(t)===t;return window.localStorage.removeItem(t),o=e}catch(t){return void(o=!1)}}function u(t){if(!t)return null;if(!document.cookie)return null;for(var e,o,n={},a=null,i=document.cookie.split(";"),s=0;s<i.length;s++)0<i[s].indexOf("=")&&(o=(e=i[s].split("="))[0],e=e[1],(o=o&&o.trim())===t&&(a=(e=e||"").trim()),n[o]=e.trim());return a}function d(t,e,o,n,a,i){var s="",c="",r=".washingtonpost.com",a=!1===a?"":";secure";o<0?s=";expires=".concat(new Date(1e3).toUTCString):0<o&&(s=";expires=".concat(new Date(o).toUTCString())),"qa"===i&&(r=".digitalink.com"),null!=r&&(c=";domain=".concat(r)),e=e||"",e=n?e:encodeURIComponent(e);a="".concat(t,"=").concat(e,";path=/").concat(s).concat(c).concat(a);document.cookie=a}function c(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return;return 1}function m(t,e,o){var n;l()&&!c(e)&&(n=window.location.hostname,-1!==a.indexOf(n)&&(e.e=Date.now()+(o||0),localStorage.setItem(t,JSON.stringify(e))))}function p(e,a,i,s){return a=a||"GET",i=i&&JSON.stringify(i)||null,new Promise(function(o,n){var t=new XMLHttpRequest;t.open(a,e,!0),t.timeout=3e3,t.withCredentials=!0,s&&s.contentType&&t.setRequestHeader("Content-Type",s.contentType),t.onload=function(t){if(4===(t=t.target||{}).readyState&&200===t.status){var e={};try{(e=JSON.parse(t.response)).statusCode=200,o(e)}catch(t){n("")}}else 400<=t.status&&n({message:t.status})},t.onerror=function(t){n("")},t.ontimeout=function(){n("")},t.send(i)})}function w(t,e){e=e||window.location.href,t=t.replace(/[\[\]]/g,"\\$&");e=new RegExp("[?&]".concat(t,"(=([^&#]*)|&|#|$)")).exec(e);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null}var g="wapo_identity",f="wapo_secure_login_id",h="wp_usp",y="privacySetting",v={iabSpec:1,explicitNotice:"Y",optOut:"N",lspa:"Y"},_={prod:{env:"prod",feLoggingApi:"https://www.washingtonpost.com/subscribe/logging/",pwapiProxyApi:"https://www.washingtonpost.com/pwapi-proxy/pwproxy",pwapiProxyV2Api:"https://www.washingtonpost.com/pwapiv2/article",cookieDomain:".washingtonpost.com",LSDomain:"www.washingtonpost.com",authStatusUrl:"https://www.washingtonpost.com/subscribe/user/auth-status",sipUrl:"https://www.washingtonpost.com/subscribe/user/save-identity-preferences",checkEntitlementUrl:"https://subscribe.washingtonpost.com/swg/check-entitlement"},fStage:{env:"stage",feLoggingApi:"https://subs-stage.washingtonpost.com/logging/",pwapiProxyApi:"https://pwapiproxy-stage.washingtonpost.com/pwproxy",pwapiProxyV2Api:"https://subs-stage.washingtonpost.com/pwapiv2/article",cookieDomain:".washingtonpost.com",LSDomain:"www.wapostage.com",authStatusUrl:"https://subs-stage.washingtonpost.com/user/auth-status",sipUrl:"https://subs-stage.washingtonpost.com/user/save-identity-preferences",checkEntitlementUrl:"https://subs-stage.washingtonpost.com/swg/check-entitlement"},stage:{env:"stage",feLoggingApi:"https://subs-stage.washingtonpost.com/logging/",pwapiProxyApi:"https://pwapiproxy-stage.washingtonpost.com/pwproxy",pwapiProxyV2Api:"https://subs-stage.washingtonpost.com/pwapiv2/article",cookieDomain:".washingtonpost.com",LSDomain:"www.washingtonpost.com",authStatusUrl:"https://subs-stage.washingtonpost.com/user/auth-status",sipUrl:"https://subs-stage.washingtonpost.com/user/save-identity-preferences",checkEntitlementUrl:"https://subs-stage.washingtonpost.com/swg/check-entitlement"},fQa:{env:"qa",feLoggingApi:"https://subscribe.digitalink.com/logging/",pwapiProxyApi:"https://testpwapi-proxy.digitalink.com/pwproxy",pwapiProxyV2Api:"https://pwapi2.digitalink.com/article",cookieDomain:".digitalink.com",LSDomain:"www.wapodev.com",authStatusUrl:"https://subscribe.digitalink.com/user/auth-status",sipUrl:"https://subscribe.digitalink.com/user/save-identity-preferences",checkEntitlementUrl:"https://subscribe.digitalink.com/swg/check-entitlement"},qa:{env:"qa",feLoggingApi:"https://subscribe.digitalink.com/logging/",pwapiProxyApi:"https://testpwapi-proxy.digitalink.com/pwproxy",pwapiProxyV2Api:"https://pwapi2.digitalink.com/article",cookieDomain:".digitalink.com",LSDomain:"pb-dev.digitalink.com",authStatusUrl:"https://subscribe.digitalink.com/user/auth-status",sipUrl:"https://subscribe.digitalink.com/user/save-identity-preferences",checkEntitlementUrl:"https://subscribe.digitalink.com/swg/check-entitlement"}};function S(){var t="prod";return-1!==window.location.hostname.indexOf("localhost.wash")&&-1!==window.location.href.indexOf("/pb/")||-1!==window.location.hostname.indexOf("pb-impact")||-1!==window.location.hostname.indexOf("impact.wash")||-1!==window.location.hostname.indexOf("vforum-stage.")?t="stage":-1!==window.location.hostname.indexOf("localhost.wash")&&-1!==window.location.href.indexOf("/pf/")||-1!==window.location.hostname.indexOf("localhost.wash")&&-1!==window.location.href.indexOf(":3000")||-1!==window.location.hostname.indexOf("sandbox.wash")||-1!==window.location.hostname.indexOf("preview.now.washingtonpost.com")?t="fStage":-1!==window.location.hostname.indexOf("localhost.digitalink")&&-1!==window.location.href.indexOf("/pf/")||-1!==window.location.hostname.indexOf("localhost.digitalink")&&-1!==window.location.href.indexOf(":3000")||-1!==window.location.hostname.indexOf("www.digitalink.com")||-1!==window.location.hostname.indexOf("dev.wash")&&-1!==window.location.href.indexOf("/pf/")?t="fQa":-1===window.location.hostname.indexOf("digitalink.com")&&-1===window.location.hostname.indexOf("dev.wash")||(t="qa"),t}function O(){return _[S()]}var b={},x=window.performance&&window.performance.timing||{},k=(new Date).getTime();function T(t,e){for(var o=e.split("."),n=0,a=o.length;null!=t&&n<a;)t=t[o[n++]];return n&&n===a?t:void 0}var C=(new Date).getTime();function P(t,e,o){var n,a=O();switch(o=o||{},e=e||"",t){case"info":n="logInfo";break;case"success":n="logSuccess";break;case"error":n="logHandledError";break;case"expectedError":n="logExpectedError";break;default:n="logInfo"}var i=a.feLoggingApi;try{var s=new XMLHttpRequest;s.open("POST",i+n,!0),s.setRequestHeader("Content-Type","application/json"),o.processId=C,o.path=window.location.pathname;var c={appName:"site-paywall",locationId:"pwapi-proxy",message:e,state:o};s.withCredentials=!0,s.send(JSON.stringify(c)),s.onload=function(){},s.onerror=function(){}}catch(t){console.error("LOGGING ERROR")}}function D(t){var n;(t=t||{}).referrer=document.referrer,s(t,(n={},window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,e,o){0<=i.indexOf(e)&&(n[e]=o)}),n));var e,o,a="";for(e in t)t.hasOwnProperty(e)&&("string"==typeof(o=t[e])&&""!==o&&(a+="".concat(e,"=").concat(encodeURIComponent(o.trim()),"&")));return a}function I(i){var s=O()||{};return new Promise(function(e,t){var o,n,a={entitlements:i};if(o=document.cookie.match(/wapo_login_id=([^\;]*)/),n=document.cookie.match(/wapo_secure_login_id=([^\;]*)/),null!=o&&null!=o[1]&&null!=n&&null!=n[1])return e({status:"NOT_CHECKED",systemMessages:"User logged in"});p(s.checkEntitlementUrl,"POST",a,{contentType:"application/json"}).then(function(t){e(t)}).catch(function(t){t={status:"ERROR",systemMessages:"Check Entitlement failed with ".concat(t.message)};e(t)})})}function E(t){var e,o,n;if(o=t,n=!1,t=u("wp_dbg_ent"),(0<=o.toString().indexOf("23")||null!=t)&&(n=!0),n)switch(b.name){case"fusion":window.wpMetaData=window.wpMetaData||{},(e=window.wpMetaData.sct_tags&&window.wpMetaData.sct_tags.split(",")||[]).push("subs_enterprise"),window.wpMetaData.sct_tags=e.join(",");break;case"classic":window.wp_meta_data=window.wp_meta_data||{},(e=window.wp_meta_data.tags_for_paywall_subs&&window.wp_meta_data.tags_for_paywall_subs.split(",")||[]).push("subs_enterprise"),window.wp_meta_data.tags_for_paywall_subs=e.join(",")}}var U=36e5,A=[{name:"wapo_login_id",expireOffsetMillis:U,cookiesToLocalStorage:!1,localStorageToCookies:!0,useDelimiter:!1},{name:"wapo_secure_login_id",expireOffsetMillis:U,cookiesToLocalStorage:!1,localStorageToCookies:!0,useDelimiter:!1},{name:"wp_ak_v_m",expireOffsetMillis:5184e6,cookiesToLocalStorage:!0,localStorageToCookies:!0,useDelimiter:!0,delimiterValue:"|",notEncoded:!0}];window.consumers=window.consumers||[],window.extConsumers=window.extConsumers||[];var N={status:"init"},M={};function j(t){N=s(N,t),window.pwapiPaywallResponse=N;for(var e=0;e<window.extConsumers.length;e++)window.extConsumers[e](N);for(var o=0;o<window.consumers.length;o++)window.consumers[o](N)}function R(t,e){var o,n,a;(o=document.createElement("script")).type="text/javascript",o.setAttribute("subscriptions-control","manual"),o.src="https://news.google.com/swg/js/v1/swg.js",o.onerror=function(){},document.head.appendChild(o),n=t,a=e,(window.SUBSCRIPTIONS=window.SUBSCRIPTIONS||[]).push(function(t){var e=!1,o={process:"swg-entitlement"};if(-1===window.location.href.indexOf("localhost.")&&-1===window.location.href.indexOf("local."))try{t.init("washingtonpost.com:basic"),t.getEntitlements().then(function(t){return t&&t.entitlements&&0<t.entitlements.length?(j({action:0,data:{action:0},status:"final"}),e=!0,o.numEntitlements=t.entitlements.length,o.pwresp_action=n,o.pwresp_action_final=0,o.pwresp_mtrct=a,o.raw_entitlements=JSON.stringify(t.entitlements),t.entitlements.forEach(function(t,e){0<=t.source.indexOf("washingtonpost.com")?(o.postSWGPurchase=!0,t.subscriptionToken?o["entitlement_".concat(e)]="entitlementType=post|subscriptionToken=".concat(t.subscriptionToken):o["entitlement_".concat(e)]="entitlementType=post|subscriptionToken=".concat(t.signedEntitlements)):t.subscriptionToken&&(o.gglSWGPurchase=!0,t=JSON.parse(t.subscriptionToken),o["entitlement_".concat(e)]="entitlementType=google|orderId=".concat(t.orderId,"|packageName=").concat(t.packageName,"|productId=").concat(t.productId,"|purchaseTime").concat(t.purchaseTime))})):j({status:"final"}),t}).then(function(t){e&&I(t.entitlements).then(function(t){var e=[];e.push("isEntitled=".concat(t.status)),t.createAccount&&e.push("isLinked=".concat(!t.createAccount)),t.systemMessages&&e.push("messages=".concat(t.systemMessages)),o.entitlement_status=e.join("|"),P("info","swg entitlements",o)})}).catch(function(){j({status:"final"})})}catch(t){j({status:"final"})}else j({status:"final"})}),setTimeout(function(){"final"!==N.status&&j({status:"final"})},5e3)}function L(t,e){var o=t.data&&t.data.actionCodes?"v2":"v1",n="v2"==o?"v2_":"",a=(t=t,"v1"===o?t:r(r({},t),{},{sub:t.data.isSubscriber?1:0,data:r({action:t.data.action,actions:t.data.actionCodes,ip:t.data.ipAddress||null,mtr:t.data.meterState,mtrct:t.data.meterCount,mtrw:t.data.articleWeight,mtrwman:t.data.articleWeightManual,mtrwmac:t.data.articleWeightMachine,sgn:t.data.isSignedIn?1:0},t.data)}));if(a.listeningTo=e,M.process="paywall-display",M["pwresp_".concat(n,"action")]=a.data.action,M["pwresp_".concat(n,"actions")]=a.data.actions.join(","),M["pwresp_".concat(n,"mtrct")]=a.data.meterCount,o===e){a.status="processing",window.pwapiPaywallStatus=200;var o=a.data.meterCount,i={3:"paywall",6:"softwall",9:"regwall"}[a.data.action],e=a.data.actions,s=a.data.wallMeterType,c="";switch(i){case"paywall":c="".concat(s||"meter","_").concat(i),2===a.data.mtrw&&(c="double_meter_".concat(i)),a.data.mtrct=c,a.data.meterCount=c;break;case"softwall":case"regwall":s&&(a.data.mtrct="".concat(s,"_").concat(i),a.data.meterCount="".concat(s,"_").concat(i))}E(e),!function(){if(l()){var t,e=localStorage.getItem("wp_sponsored");return-1<window.location.search.indexOf("das=pw_spsrd_hit")||-1<window.location.search.indexOf("pw_unlock_mgclink")?(localStorage.setItem("wp_sponsored",window.location.pathname),"function"==typeof window.history.replaceState&&(t=(t=window.location.href).replace(/das=[^\&]*/,""),window.history.replaceState({},null,t)),1):!(!e||window.location.pathname!==e)}}()?3===a.data.action||8===a.data.action||9===a.data.action?R(a.data.action,o):a.status="final":(a.status="final",a.action=0,a.data.action=0),j(a)}}function J(t,e,o){t=t||{},e=e||"info",j({status:"error"});o={process:"pwapiproxy-".concat(o,"response"),xhrstatus:t.statusCode};t.timeout&&(o.timeout=t.timeout),P(e,t.msg,o)}function q(t){var i,s,c,r,p,e=function(t,e){var o=1<arguments.length&&void 0!==e&&e,e=(document.cookie.match(/wp_pwapi=([^\;]*);/)||{})[1]||S();if(o){var n=_[e].pwapiProxyV2Api||_.prod.pwapiProxyV2Api;if([/^www-washingtonpost-com/].some(function(t){return t.test(window.location.hostname)})){o=document.createElement("a");return o.href=n,o.pathname}return n}return n=_[e].pwapiProxyApi||_.prod.pwapiProxyApi,e=window.location.pathname,t="".concat(D(t),"&as_json=1"),"".concat(n+e,"?").concat(t)}(t,!0),o=function(e){if("v2"===w("pwapiVersion"))return"v2";if("v1"===w("pwapiVersion"))return"v1";var t={commercial_node:[],href:[]},o=window.location.href,n="v2";return t.href.forEach(function(t){t=new RegExp(t);o&&o.match(t)&&(n="v2")}),t.commercial_node.forEach(function(t){t=new RegExp(t);e.commercial_node&&e.commercial_node.match(t)&&(n="v2")}),n}(t);Promise.all([(i=e,s=t,r=o,p={method:(c="v2")===c?"POST":"GET",withCredentials:!0,timeout:5e3},new Promise(function(o){var t,n,e=null;"v2"===c&&(a=D(s),t=window.location.href&&window.location.href.split("?")[0]||"",e=JSON.stringify({articles:[{article:"".concat(t,"?").concat(a)}]}));try{i&&((n=new XMLHttpRequest).open(p.method,i),n.timeout=p.timeout,n.withCredentials=p.withCredentials,n.onload=function(){if(window["pwapi".concat(c,"Response")]=(new Date).getTime()-k,window["pwapiAPI".concat(c,"End")]=(new Date).getTime()-(x.navigationStart||0),n.readyState===XMLHttpRequest.DONE&&200===n.status){window["pwapiAPI".concat(c,"Ready")]=(new Date).getTime()-(x.navigationStart||0);var t={};try{(t=JSON.parse(n.response)).statusCode=n.status,L(t,r),o(t)}catch(t){var e={status:"error",statusCode:t.statusCode=-1,msg:"pwapiproxy ".concat(c," response invalid").concat(t.statusText?" - ".concat(t.statusText):"")};J(e,"error",c),o(e)}}else n.readyState===XMLHttpRequest.DONE&&202===n.status?o({status:"error",msg:"black hole"}):(J(e={status:"error",statusCode:n.status,msg:"pwapiproxy ".concat(c," response invalid")},"error",c),o(e))},n.onerror=function(t){window["pwapiAPI".concat(c,"End")]=(new Date).getTime()-(x.navigationStart||0);t={status:"error",statusCode:t&&t.statusCode?t.statusCode:500};t.msg="pwapiproxy ".concat(c," error"),J(t,"error",c),o(t)},n.ontimeout=function(){var t={status:"error",statusCode:504,timeout:((new Date).getTime()-k)/1e3,msg:"PWAPIPROXY ".concat(c.toUpperCase()," TIMEOUT")};J(t,"expectedError",c),o(t)},n.setRequestHeader("Content-Type","application/json"),window["pwapiAPI".concat(c,"Start")]=(new Date).getTime()-(x.navigationStart||0),n.send(e))}catch(t){var a={status:"error",statusCode:500};a.msg="pwapiproxy ".concat(c," error").concat(t.message?" - ".concat(t.message):""),J(a,"error",c),o(a)}}))]).then(function(){(3<=M.pwresp_action||M.hasOwnProperty("pwresp_v2_action")&&M.hasOwnProperty("pwresp_action")&&M.pwresp_action!==M.pwresp_v2_action)&&P("info","pwresp action: ".concat((M.pwresp_action||"").toString()||(M.pwresp_v2_action||"").toString()),M)}).catch(function(){})}window.registerPwapiConsumer=function(t){window.consumers.push(t),t(N)},window.registerExtUpdates=function(t){window.extConsumers.push(t),t(N)},window.extListener=function(t){j(t)};U={};U.pwapi_contentsection=window.wp_section||T(window.TWP,"Data.Tracking.props.section"),U.pwapi_ct_tags=T(window.wp_meta_data,"tags_for_paywall"),U.pwapi_sct_tags=T(window.wp_meta_data,"tags_for_paywall_subs"),U.commercial_node=T(window.TWP,"Data.Tracking.props.commercial_node"),U.content_type=T(window.TWP,"Data.Tracking.props.content_type"),U.is_amp="0";var V,H=U,W=O()||{},G=(V=W.env,t[V]);function X(i){return new Promise(function(e,o){var t,n,a;"auth-status"===i?p("".concat(W.authStatusUrl,"?_v=").concat((new Date).getTime())).then(function(t){e(t)}).catch(function(t){o({status:"FAIL",errorState:"Auth Status failed"})}):"sip"===i?(t=$(),n=s(n={caller:"SubsStorageManager",requestId:(a=window.crypto||window.msCrypto,([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^a.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})),authStatus:!0},t),p(W.sipUrl,"POST",n,{contentType:"application/json"}).then(function(t){e(t)}).catch(function(t){o("Auth Status failed")})):o("Invalid action: ".concat(i))})}function Y(t){for(var e=0;e<window.authConsumers.length;e++)window.authConsumers[e](t)}function B(t){var e=!!u(f),t=!(!t||!t.ccpa||"Y"!==t.ccpa.optOut),t=G&&G[e?"signed":"anon"][t?"optedOut":"default"]||0;return Date.now()+t}function Q(t){var e;l()&&(e=window.location.hostname,-1!==a.indexOf(e)&&(t=B((e=s(e=(e=localStorage.getItem(g))&&JSON.parse(e)||{},t)).privacySetting||{}),e.e=t,localStorage.setItem(g,JSON.stringify(e))))}function $(){var t,e,o=null;return l()&&localStorage.getItem(g)&&((e=!1,l()&&localStorage.getItem(g)&&((t=JSON.parse(localStorage.getItem(g))).e&&Date.now()>t.e&&(e=!0)),e)?l()&&localStorage.removeItem(g):o=JSON.parse(localStorage.getItem(g))),o}function F(t){if(l()&&localStorage.getItem(g))return JSON.parse(localStorage.getItem(g))[t]}function K(o){var t,e,n;return o=o||(t=u(f),e=u(h),!1===F("signedIn")&&t?"sip":(window.wp_meta_data&&window.wp_meta_data.tags_for_paywall&&-1!==window.wp_meta_data.tags_for_paywall.indexOf("ccpa")||window.wpMetaData&&window.wpMetaData.ct_tags&&-1!==window.wpMetaData.ct_tags.indexOf("ccpa")||!!(c($())||t&&!e))&&"auth-status"),new Promise(function(t,e){!1!==o?X(o).then(function(t){t&&"SUCCESS"===t.status&&Q(n=t.userState)}).finally(function(){Y(n=$()),t(n)}):(Y(n=$()),t(n))})}function z(){K()}window.authConsumers=window.authConsumers||[],window.registerAuthConsumer=function(t){window.authConsumers.push(t),t($())},window.storePrivacySetting=function(t){t="object"===n(t)?t:{};var e,o=F(y)||{};o.ccpa=r(r(r({},v),o.ccpa),t.ccpa),c(o)||(e=u(f),t="".concat(o.ccpa.iabSpec,o.ccpa.explicitNotice,o.ccpa.optOut,o.ccpa.lspa),Q({privacySetting:o}),e?K("sip"):(e=S(),o=B(o),d(h,t,o,!0,!0,e)))};var Z={getUspString:function(t){return"".concat((t=t||{}).iabSpec,t.explicitNotice,t.optOut,t.lspa)},getUSPData:function(t,e){var o,n="".concat(t,"---");l()&&localStorage.getItem(g)&&((o=F(y))&&o.ccpa&&(n=Z.getUspString(o.ccpa))),n&&((o={}).version=t,o.uspString=n,e(o,!0))},v1:{getUSPData:function(t){Z.getUSPData(1,t)}}};function tt(){window.pwapiVersion="Version 1.6.5 on Thu, 19 Nov 2020 19:02:45 GMT",window.pwapiStart=k-(x.navigationStart||0),q(H),function(t){var e={},o={};if(l()){for(var n=0;n<A.length;n++){var a=A[n];try{var i=a.name,s=u(i),c=localStorage.getItem(i),r={};if(c)try{(r=JSON.parse(c)).e<(new Date).getTime()&&(r={},localStorage.removeItem(i))}catch(t){r={},localStorage.removeItem(i)}var p=null!=s,w=null!=r.v;w&&!p&&a.localStorageToCookies&&(d(i,r.v,r.e,a.notEncoded,!0,t),o[i]=r.v),!w&&p&&a.cookiesToLocalStorage&&m(i,{v:s},a.expireOffsetMillis),p&&w&&a.useDelimiter&&(p=a.delimiterValue||"|",w=s.split(p),p=r.v.split(p),a.cookiesToLocalStorage&&w&&p&&w[1]&&w[1]!==p[1]?m(i,{v:s},a.expireOffsetMillis):a.localStorageToCookies&&w&&p&&w[0]!==p[0]&&(!w[1]||w[1]===p[1])&&d(i,r.v,r.e||Date.now()+a.expireOffsetMillis,a.notEncoded,!0,t))}catch(t){console.error("Unable to synchCookiesAndLocalStorage for synchCookie item: ".concat(JSON.stringify(a)),t)}}try{(0<Object.keys(o).length||0<Object.keys(e).length)&&P("info","User storage Synced",{process:"storage-sync","cookie-sync":JSON.stringify(e),"ls-sync":JSON.stringify(o)})}catch(t){}}}(S())}window.addEventListener("message",function(o){var t,e;return o.data.hasOwnProperty("__uspapiCall")&&(o.stopImmediatePropagation&&o.stopImmediatePropagation(),t=o.data.__uspapiCall.command,e=o.data.__uspapiCall.version,t&&e&&window.__uspapi(t,e,function(t,e){e?o.source.postMessage({__uspapiReturn:{returnValue:t,success:e,callId:o.data.__uspapiCall.callId}},o.origin):o.source.postMessage({__uspapiReturn:{returnValue:{version:1,uspString:"1NYY"},success:!1,callId:o.data.__uspapiCall.callId}},o.origin)})),null},!1),b.name="classic";try{window.__uspapi=function(t,e,o){return Z["v".concat(e)]&&"function"==typeof Z["v".concat(e)][t]?o?void Z["v".concat(e)][t].apply(null,[o]):Z["v".concat(e)][t]:!!o&&void o(null,!1)}}catch(t){}if("function"==typeof Promise)try{tt(),setTimeout(z,0)}catch(t){}else document.addEventListener("pb-core-loaded",function(){try{tt(),setTimeout(z,0)}catch(t){}})}();
